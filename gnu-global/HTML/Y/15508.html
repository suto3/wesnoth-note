<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>opponent</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1223.html#L2132'>opponent</a>         2132 src/attack_prediction.cpp void combatant::fight(combatant&amp; opponent, bool levelup_considered)</span>
<span class='curline'><a href='../S/1223.html#L2135'>opponent</a>         2135 src/attack_prediction.cpp 	if(opponent.u_.firststrike &amp;&amp; !u_.firststrike) {</span>
<span class='curline'><a href='../S/1223.html#L2136'>opponent</a>         2136 src/attack_prediction.cpp 		opponent.fight(*this, levelup_considered);</span>
<span class='curline'><a href='../S/1223.html#L2144'>opponent</a>         2144 src/attack_prediction.cpp 	dump(opponent.u_);</span>
<span class='curline'><a href='../S/1223.html#L2148'>opponent</a>         2148 src/attack_prediction.cpp 	std::vector&lt;double&gt; prev = summary[0], opp_prev = opponent.summary[0];</span>
<span class='curline'><a href='../S/1223.html#L2149'>opponent</a>         2149 src/attack_prediction.cpp 	complex_fight(opponent, 1);</span>
<span class='curline'><a href='../S/1223.html#L2150'>opponent</a>         2150 src/attack_prediction.cpp 	std::vector&lt;double&gt; res = summary[0], opp_res = opponent.summary[0];</span>
<span class='curline'><a href='../S/1223.html#L2152'>opponent</a>         2152 src/attack_prediction.cpp 	opponent.summary[0] = opp_prev;</span>
<span class='curline'><a href='../S/1223.html#L2162'>opponent</a>         2162 src/attack_prediction.cpp 	const std::vector&lt;combat_slice&gt; opp_split = split_summary(opponent.u_, opponent.summary);</span>
<span class='curline'><a href='../S/1223.html#L2165'>opponent</a>         2165 src/attack_prediction.cpp 		fight_complexity(split.size(), opp_split.size(), u_, opponent.u_) &gt; MONTE_CARLO_SIMULATION_THRESHOLD</span>
<span class='curline'><a href='../S/1223.html#L2171'>opponent</a>         2171 src/attack_prediction.cpp 		complex_fight(attack_prediction_mode::monte_carlo_simulation, u_, opponent.u_, u_.num_blows,</span>
<span class='curline'><a href='../S/1223.html#L2172'>opponent</a>         2172 src/attack_prediction.cpp 				opponent.u_.num_blows, summary, opponent.summary, self_not_hit, opp_not_hit, levelup_considered, split,</span>
<span class='curline'><a href='../S/1223.html#L2173'>opponent</a>         2173 src/attack_prediction.cpp 				opp_split, slowed, opponent.slowed);</span>
<span class='curline'><a href='../S/1223.html#L2176'>opponent</a>         2176 src/attack_prediction.cpp 		do_fight(u_, opponent.u_, u_.num_blows, opponent.u_.num_blows, summary, opponent.summary, self_not_hit,</span>
<span class='curline'><a href='../S/1223.html#L2194'>opponent</a>         2194 src/attack_prediction.cpp 				init_slice_summary(sit_opp_summary[0], opponent.summary[0], opp_split[t].begin_hp, opp_split[t].end_hp,</span>
<span class='curline'><a href='../S/1223.html#L2196'>opponent</a>         2196 src/attack_prediction.cpp 				init_slice_summary(sit_opp_summary[1], opponent.summary[1], opp_split[t].begin_hp, opp_split[t].end_hp,</span>
<span class='curline'><a href='../S/1223.html#L2204'>opponent</a>         2204 src/attack_prediction.cpp 				do_fight(u_, opponent.u_, split[s].strikes, opp_split[t].strikes, sit_summary, sit_opp_summary,</span>
<span class='curline'><a href='../S/1223.html#L2220'>opponent</a>         2220 src/attack_prediction.cpp 		opponent.summary[0].swap(opp_summary_result[0]);</span>
<span class='curline'><a href='../S/1223.html#L2221'>opponent</a>         2221 src/attack_prediction.cpp 		opponent.summary[1].swap(opp_summary_result[1]);</span>
<span class='curline'><a href='../S/1223.html#L2226'>opponent</a>         2226 src/attack_prediction.cpp 	assert(opponent.summary[0].size() == opp_res.size());</span>
<span class='curline'><a href='../S/1223.html#L2233'>opponent</a>         2233 src/attack_prediction.cpp 	for (unsigned int i = 0; i &lt; opponent.summary[0].size(); ++i) {</span>
<span class='curline'><a href='../S/1223.html#L2234'>opponent</a>         2234 src/attack_prediction.cpp 		if (std::fabs(opponent.summary[0][i] - opp_res[i])&gt; 0.000001) {</span>
<span class='curline'><a href='../S/1223.html#L2235'>opponent</a>         2235 src/attack_prediction.cpp 			std::cerr &lt;&lt; "Mismatch for " &lt;&lt; i &lt;&lt; " hp: " &lt;&lt; opponent.summary[0][i] &lt;&lt; " should have been " &lt;&lt; opp_res[i] &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/1223.html#L2251'>opponent</a>         2251 src/attack_prediction.cpp 	if(opponent.summary[1].empty()) {</span>
<span class='curline'><a href='../S/1223.html#L2252'>opponent</a>         2252 src/attack_prediction.cpp 		opponent.hp_dist = opponent.summary[0];</span>
<span class='curline'><a href='../S/1223.html#L2254'>opponent</a>         2254 src/attack_prediction.cpp 		const unsigned size = opponent.summary[0].size();</span>
<span class='curline'><a href='../S/1223.html#L2255'>opponent</a>         2255 src/attack_prediction.cpp 		opponent.hp_dist.resize(size);</span>
<span class='curline'><a href='../S/1223.html#L2257'>opponent</a>         2257 src/attack_prediction.cpp 			opponent.hp_dist[i] = opponent.summary[0][i] + opponent.summary[1][i];</span>
<span class='curline'><a href='../S/1223.html#L2263'>opponent</a>         2263 src/attack_prediction.cpp 	if(opponent.u_.poisons) {</span>
<span class='curline'><a href='../S/1223.html#L2268'>opponent</a>         2268 src/attack_prediction.cpp 		opponent.poisoned += (1 - opponent.poisoned) * opp_touched;</span>
<span class='curline'><a href='../S/1223.html#L2272'>opponent</a>         2272 src/attack_prediction.cpp 		if(opponent.u_.slows) {</span>
<span class='curline'><a href='../S/1223.html#L2277'>opponent</a>         2277 src/attack_prediction.cpp 			opponent.slowed += (1 - opponent.slowed) * opp_touched;</span>
<span class='curline'><a href='../S/1223.html#L2285'>opponent</a>         2285 src/attack_prediction.cpp 		opponent.slowed = std::accumulate(opponent.summary[1].begin(), opponent.summary[1].end(), 0.0);</span>
<span class='curline'><a href='../S/1223.html#L2289'>opponent</a>         2289 src/attack_prediction.cpp 	opponent.untouched *= opp_not_hit;</span>
<span class='curline'><a href='../S/982.html#L39'>opponent</a>           39 src/attack_prediction.hpp 	void fight(combatant &amp;opponent, bool levelup_considered=true);</span>
</pre>
</body>
</html>
