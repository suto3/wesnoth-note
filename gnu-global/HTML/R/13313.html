<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>socket</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4078.html#L2'>socket</a>              2 data/tools/wesnoth/campaignserver_client.py import socket, struct, glob, sys, shutil, threading, os, fnmatch</span>
<span class='curline'><a href='../S/4078.html#L67'>socket</a>             67 data/tools/wesnoth/campaignserver_client.py             addr = socket.getaddrinfo(self.host, self.port, socket.AF_INET,</span>
<span class='curline'><a href='../S/4078.html#L68'>socket</a>             68 data/tools/wesnoth/campaignserver_client.py                 socket.SOCK_STREAM, socket.IPPROTO_TCP)[0]</span>
<span class='curline'><a href='../S/4078.html#L77'>socket</a>             77 data/tools/wesnoth/campaignserver_client.py             self.sock = socket.socket(addr[0], addr[1], addr[2])</span>
<span class='curline'><a href='../S/4078.html#L82'>socket</a>             82 data/tools/wesnoth/campaignserver_client.py             except socket.error:</span>
<span class='curline'><a href='../S/4078.html#L105'>socket</a>            105 data/tools/wesnoth/campaignserver_client.py         except socket.error:</span>
<span class='curline'><a href='../S/4080.html#L22'>socket</a>             22 data/tools/wesnoth/wescamp.py import sys, os.path, argparse, tempfile, shutil, logging, socket</span>
<span class='curline'><a href='../S/4080.html#L509'>socket</a>            509 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/4080.html#L538'>socket</a>            538 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/4080.html#L556'>socket</a>            556 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/4080.html#L571'>socket</a>            571 data/tools/wesnoth/wescamp.py             except socket.error as e:</span>
<span class='curline'><a href='../S/4080.html#L596'>socket</a>            596 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/914.html#L217'>socket</a>            217 src/campaign_server/campaign_server.cpp void server::handle_new_client(socket_ptr socket)</span>
<span class='curline'><a href='../S/914.html#L219'>socket</a>            219 src/campaign_server/campaign_server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/914.html#L224'>socket</a>            224 src/campaign_server/campaign_server.cpp void server::handle_request(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/914.html#L240'>socket</a>            240 src/campaign_server/campaign_server.cpp 			j-&gt;second(this, request(c.key, c.cfg, socket));</span>
<span class='curline'><a href='../S/914.html#L242'>socket</a>            242 src/campaign_server/campaign_server.cpp 			send_error("Unrecognized [" + c.key + "] request.",socket);</span>
<span class='curline'><a href='../S/915.html#L97'>socket</a>             97 src/campaign_server/campaign_server.hpp 	void handle_new_client(socket_ptr socket);</span>
<span class='curline'><a href='../S/915.html#L98'>socket</a>             98 src/campaign_server/campaign_server.hpp 	void handle_request(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/1131.html#L49'>socket</a>             49 src/network_asio.hpp 	typedef boost::asio::ip::tcp::socket socket;</span>
<span class='curline'><a href='../S/1131.html#L50'>socket</a>             50 src/network_asio.hpp 	socket socket_;</span>
<span class='curline'><a href='../S/146.html#L234'>socket</a>            234 src/server/game.cpp 				missing_user(user-&gt;socket(), __func__);</span>
<span class='curline'><a href='../S/146.html#L236'>socket</a>            236 src/server/game.cpp 				user_name = username(user-&gt;socket());</span>
<span class='curline'><a href='../S/146.html#L1472'>socket</a>           1472 src/server/game.cpp void game::send_history(const socket_ptr socket) const</span>
<span class='curline'><a href='../S/146.html#L1489'>socket</a>           1489 src/server/game.cpp 		send_to_player(socket, *doc);</span>
<span class='curline'><a href='../S/146.html#L1646'>socket</a>           1646 src/server/game.cpp 		return iter-&gt;socket();</span>
<span class='curline'><a href='../S/149.html#L338'>socket</a>            338 src/server/game.hpp 	void missing_user(socket_ptr socket, const std::string&amp; func) const;</span>
<span class='curline'><a href='../S/148.html#L53'>socket</a>             53 src/server/player_connection.hpp 	player_record(const socket_ptr socket, const player&amp; player) : socket_(socket), player_(player) {}</span>
<span class='curline'><a href='../S/148.html#L66'>socket</a>             66 src/server/player_connection.hpp             tag&lt;socket_t&gt;, BOOST_MULTI_INDEX_CONST_MEM_FUN(player_record,const socket_ptr,socket)&gt;,</span>
<span class='curline'><a href='../S/148.html#L74'>socket</a>             74 src/server/player_connection.hpp void send_to_player(socket_ptr socket, simple_wml::document&amp; doc);</span>
<span class='curline'><a href='../S/148.html#L85'>socket</a>             85 src/server/player_connection.hpp void send_server_message(socket_ptr socket, const std::string&amp; message);</span>
<span class='curline'><a href='../S/158.html#L193'>socket</a>            193 src/server/server.cpp 	out &lt;&lt; "'" &lt;&lt; player.name() &lt;&lt; "' @ " &lt;&lt; client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L510'>socket</a>            510 src/server/server.cpp void server::handle_new_client(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L512'>socket</a>            512 src/server/server.cpp 	async_send_doc(socket, version_query_response_,</span>
<span class='curline'><a href='../S/158.html#L517'>socket</a>            517 src/server/server.cpp void server::handle_version(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L519'>socket</a>            519 src/server/server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/158.html#L524'>socket</a>            524 src/server/server.cpp void server::read_version(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/158.html#L535'>socket</a>            535 src/server/server.cpp 			LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L538'>socket</a>            538 src/server/server.cpp 			async_send_doc(socket, login_response_, std::bind(&amp;server::login, this, _1));</span>
<span class='curline'><a href='../S/158.html#L547'>socket</a>            547 src/server/server.cpp 				LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L555'>socket</a>            555 src/server/server.cpp 				send_to_player(socket, response);</span>
<span class='curline'><a href='../S/158.html#L560'>socket</a>            560 src/server/server.cpp 		LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L569'>socket</a>            569 src/server/server.cpp 		send_to_player(socket, response);</span>
<span class='curline'><a href='../S/158.html#L571'>socket</a>            571 src/server/server.cpp 		LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L576'>socket</a>            576 src/server/server.cpp void server::login(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L578'>socket</a>            578 src/server/server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/158.html#L583'>socket</a>            583 src/server/server.cpp void server::handle_login(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/158.html#L589'>socket</a>            589 src/server/server.cpp 			async_send_error(socket, "The nickname '" + username + "' contains invalid "</span>
<span class='curline'><a href='../S/158.html#L592'>socket</a>            592 src/server/server.cpp 			server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L596'>socket</a>            596 src/server/server.cpp 			async_send_error(socket, "The nickname '" + username + "' is too long. Nicks must be 20 characters or less.",</span>
<span class='curline'><a href='../S/158.html#L598'>socket</a>            598 src/server/server.cpp 			server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L608'>socket</a>            608 src/server/server.cpp 				async_send_error(socket, "The nickname '" + username + "' is reserved and cannot be used by players",</span>
<span class='curline'><a href='../S/158.html#L610'>socket</a>            610 src/server/server.cpp 				server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L621'>socket</a>            621 src/server/server.cpp 					async_send_error(socket, "Your password reminder email has been sent.");</span>
<span class='curline'><a href='../S/158.html#L623'>socket</a>            623 src/server/server.cpp 					async_send_error(socket, "There was an error sending your password reminder email. The error message was: " +</span>
<span class='curline'><a href='../S/158.html#L652'>socket</a>            652 src/server/server.cpp 				async_send_warning(socket, "The nickname '" + username + "' is inactive. You cannot claim ownership of this "</span>
<span class='curline'><a href='../S/158.html#L660'>socket</a>            660 src/server/server.cpp 						send_password_request(socket, "The nickname '" + username +"' is registered on this server.",</span>
<span class='curline'><a href='../S/158.html#L663'>socket</a>            663 src/server/server.cpp 						send_password_request(socket, "The nickname '" + username + "' is registered on this server."</span>
<span class='curline'><a href='../S/158.html#L673'>socket</a>            673 src/server/server.cpp 				if(seeds_[reinterpret_cast&lt;long int&gt;(socket.get())].empty()) {</span>
<span class='curline'><a href='../S/158.html#L674'>socket</a>            674 src/server/server.cpp 					send_password_request(socket, "Please try again.", username, MP_NO_SEED_ERROR);</span>
<span class='curline'><a href='../S/158.html#L678'>socket</a>            678 src/server/server.cpp 				else if(!(user_handler_-&gt;login(username, password, seeds_[reinterpret_cast&lt;unsigned long&gt;(socket.get())]))) {</span>
<span class='curline'><a href='../S/158.html#L682'>socket</a>            682 src/server/server.cpp 					seeds_.erase(reinterpret_cast&lt;unsigned long&gt;(socket.get()));</span>
<span class='curline'><a href='../S/158.html#L684'>socket</a>            684 src/server/server.cpp 					login_log login_ip = login_log(client_address(socket), 0, now);</span>
<span class='curline'><a href='../S/158.html#L707'>socket</a>            707 src/server/server.cpp 						async_send_error(socket, "You have made too many failed login attempts.", MP_TOO_MANY_ATTEMPTS_ERROR);</span>
<span class='curline'><a href='../S/158.html#L709'>socket</a>            709 src/server/server.cpp 						send_password_request(socket, "The password you provided for the nickname '" + username +</span>
<span class='curline'><a href='../S/158.html#L714'>socket</a>            714 src/server/server.cpp 					LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t"</span>
<span class='curline'><a href='../S/158.html#L721'>socket</a>            721 src/server/server.cpp 				seeds_.erase(reinterpret_cast&lt;long int&gt;(socket.get()));</span>
<span class='curline'><a href='../S/158.html#L728'>socket</a>            728 src/server/server.cpp 			async_send_error(socket, "The nickname '" + username + "' is not registered. "</span>
<span class='curline'><a href='../S/158.html#L738'>socket</a>            738 src/server/server.cpp 				async_send_error(socket, "The nickname '" + username + "' is already taken.", MP_NAME_TAKEN_ERROR);</span>
<span class='curline'><a href='../S/158.html#L739'>socket</a>            739 src/server/server.cpp 				server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L745'>socket</a>            745 src/server/server.cpp 		async_send_doc(socket, join_lobby_response_,</span>
<span class='curline'><a href='../S/158.html#L752'>socket</a>            752 src/server/server.cpp 		LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; username</span>
<span class='curline'><a href='../S/158.html#L757'>socket</a>            757 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L760'>socket</a>            760 src/server/server.cpp 			send_server_message(socket, "You are now recognized as an administrator. "</span>
<span class='curline'><a href='../S/158.html#L765'>socket</a>            765 src/server/server.cpp 		connection_log ip_name = connection_log(username, client_address(socket), 0);</span>
<span class='curline'><a href='../S/158.html#L772'>socket</a>            772 src/server/server.cpp 		async_send_error(socket, "You must login first.", MP_MUST_LOGIN);</span>
<span class='curline'><a href='../S/158.html#L776'>socket</a>            776 src/server/server.cpp void server::send_password_request(socket_ptr socket, const std::string&amp; msg,</span>
<span class='curline'><a href='../S/158.html#L783'>socket</a>            783 src/server/server.cpp 		async_send_error(socket, "Even though your nickname is registered on this server you "</span>
<span class='curline'><a href='../S/158.html#L790'>socket</a>            790 src/server/server.cpp 	seeds_[reinterpret_cast&lt;long int&gt;(socket.get())] = salt;</span>
<span class='curline'><a href='../S/158.html#L803'>socket</a>            803 src/server/server.cpp 	async_send_doc(socket, doc,</span>
<span class='curline'><a href='../S/158.html#L808'>socket</a>            808 src/server/server.cpp void server::add_player(socket_ptr socket, const wesnothd::player&amp; player)</span>
<span class='curline'><a href='../S/158.html#L811'>socket</a>            811 src/server/server.cpp 	std::tie(std::ignore, inserted) = player_connections_.insert(player_connections::value_type(socket, player));</span>
<span class='curline'><a href='../S/158.html#L814'>socket</a>            814 src/server/server.cpp 	send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L817'>socket</a>            817 src/server/server.cpp 		send_server_message(socket, motd_);</span>
<span class='curline'><a href='../S/158.html#L820'>socket</a>            820 src/server/server.cpp 	read_from_player(socket);</span>
<span class='curline'><a href='../S/158.html#L825'>socket</a>            825 src/server/server.cpp 	send_to_lobby(diff, socket);</span>
<span class='curline'><a href='../S/158.html#L828'>socket</a>            828 src/server/server.cpp void server::read_from_player(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L830'>socket</a>            830 src/server/server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/158.html#L836'>socket</a>            836 src/server/server.cpp void server::handle_read_from_player(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/158.html#L838'>socket</a>            838 src/server/server.cpp 	read_from_player(socket);</span>
<span class='curline'><a href='../S/158.html#L841'>socket</a>            841 src/server/server.cpp 		send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L845'>socket</a>            845 src/server/server.cpp 		handle_whisper(socket, *whisper);</span>
<span class='curline'><a href='../S/158.html#L848'>socket</a>            848 src/server/server.cpp 		handle_query(socket, *query);</span>
<span class='curline'><a href='../S/158.html#L851'>socket</a>            851 src/server/server.cpp 		handle_nickserv(socket, *nickserv);</span>
<span class='curline'><a href='../S/158.html#L854'>socket</a>            854 src/server/server.cpp 	if(!player_is_in_game(socket))</span>
<span class='curline'><a href='../S/158.html#L855'>socket</a>            855 src/server/server.cpp 		handle_player_in_lobby(socket, doc);</span>
<span class='curline'><a href='../S/158.html#L857'>socket</a>            857 src/server/server.cpp 		handle_player_in_game(socket, doc);</span>
<span class='curline'><a href='../S/158.html#L861'>socket</a>            861 src/server/server.cpp void server::handle_player_in_lobby(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc) {</span>
<span class='curline'><a href='../S/158.html#L863'>socket</a>            863 src/server/server.cpp 		handle_message(socket, *message);</span>
<span class='curline'><a href='../S/158.html#L867'>socket</a>            867 src/server/server.cpp 		handle_create_game(socket, *create_game);</span>
<span class='curline'><a href='../S/158.html#L871'>socket</a>            871 src/server/server.cpp 		handle_join_game(socket, *join);</span>
<span class='curline'><a href='../S/158.html#L875'>socket</a>            875 src/server/server.cpp void server::handle_whisper(socket_ptr socket, simple_wml::node&amp; whisper)</span>
<span class='curline'><a href='../S/158.html#L883'>socket</a>            883 src/server/server.cpp 		send_to_player(socket, data);</span>
<span class='curline'><a href='../S/158.html#L889'>socket</a>            889 src/server/server.cpp 		send_server_message(socket, "Can't find '" + whisper["receiver"].to_string() + "'.");</span>
<span class='curline'><a href='../S/158.html#L893'>socket</a>            893 src/server/server.cpp 		send_to_player(receiver_iter-&gt;socket(), cwhisper);</span>
<span class='curline'><a href='../S/158.html#L898'>socket</a>            898 src/server/server.cpp void server::handle_query(socket_ptr socket, simple_wml::node&amp; query)</span>
<span class='curline'><a href='../S/158.html#L900'>socket</a>            900 src/server/server.cpp 	auto iter = player_connections_.find(socket);</span>
<span class='curline'><a href='../S/158.html#L929'>socket</a>            929 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L939'>socket</a>            939 src/server/server.cpp 					   &lt;&lt; "\tIP: "&lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L948'>socket</a>            948 src/server/server.cpp 			send_server_message(socket, "No password set.");</span>
<span class='curline'><a href='../S/158.html#L955'>socket</a>            955 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L965'>socket</a>            965 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L972'>socket</a>            972 src/server/server.cpp 	send_server_message(socket, response.str());</span>
<span class='curline'><a href='../S/158.html#L975'>socket</a>            975 src/server/server.cpp void server::handle_nickserv(socket_ptr socket, simple_wml::node&amp; nickserv)</span>
<span class='curline'><a href='../S/158.html#L979'>socket</a>            979 src/server/server.cpp 		send_server_message(socket, "This server does not allow username registration.");</span>
<span class='curline'><a href='../S/158.html#L985'>socket</a>            985 src/server/server.cpp 			(user_handler_-&gt;add_user(player_connections_.find(socket)-&gt;name(), (*nickserv.child("register"))["mail"].to_string(),</span>
<span class='curline'><a href='../S/158.html#L993'>socket</a>            993 src/server/server.cpp 			send_server_message(socket, msg.str());</span>
<span class='curline'><a href='../S/158.html#L997'>socket</a>            997 src/server/server.cpp 			player_connections_.find(socket)-&gt;info().mark_registered();</span>
<span class='curline'><a href='../S/158.html#L1001'>socket</a>           1001 src/server/server.cpp 							 "user", player_connections_.find(socket)-&gt;info().config_address(), diff);</span>
<span class='curline'><a href='../S/158.html#L1005'>socket</a>           1005 src/server/server.cpp 			send_server_message(socket, "There was an error registering your username. The error message was: "</span>
<span class='curline'><a href='../S/158.html#L1013'>socket</a>           1013 src/server/server.cpp 		if(!(user_handler_-&gt;user_exists(player_connections_.find(socket)-&gt;name()))) {</span>
<span class='curline'><a href='../S/158.html#L1014'>socket</a>           1014 src/server/server.cpp 			send_server_message(socket, "You are not registered. Please register first.");</span>
<span class='curline'><a href='../S/158.html#L1021'>socket</a>           1021 src/server/server.cpp 			user_handler_-&gt;set_user_detail(player_connections_.find(socket)-&gt;name(), set["detail"].to_string(), set["value"].to_string());</span>
<span class='curline'><a href='../S/158.html#L1023'>socket</a>           1023 src/server/server.cpp 			send_server_message(socket, "Your details have been updated.");</span>
<span class='curline'><a href='../S/158.html#L1026'>socket</a>           1026 src/server/server.cpp 			send_server_message(socket, "There was an error updating your details. The error message was: "</span>
<span class='curline'><a href='../S/158.html#L1035'>socket</a>           1035 src/server/server.cpp 		send_server_message(socket, "Valid details for this server are: " +</span>
<span class='curline'><a href='../S/158.html#L1044'>socket</a>           1044 src/server/server.cpp 			send_server_message(socket, res);</span>
<span class='curline'><a href='../S/158.html#L1046'>socket</a>           1046 src/server/server.cpp 			send_server_message(socket, "There was an error looking up the details of the user '" +</span>
<span class='curline'><a href='../S/158.html#L1055'>socket</a>           1055 src/server/server.cpp 		if(!(user_handler_-&gt;user_exists(player_connections_.find(socket)-&gt;name()))) {</span>
<span class='curline'><a href='../S/158.html#L1056'>socket</a>           1056 src/server/server.cpp 			send_server_message(socket, "You are not registered.");</span>
<span class='curline'><a href='../S/158.html#L1063'>socket</a>           1063 src/server/server.cpp 		if(!(player_connections_.find(socket)-&gt;info().registered())) {</span>
<span class='curline'><a href='../S/158.html#L1064'>socket</a>           1064 src/server/server.cpp 			send_server_message(socket, "You are not logged in.");</span>
<span class='curline'><a href='../S/158.html#L1069'>socket</a>           1069 src/server/server.cpp 			user_handler_-&gt;remove_user(player_connections_.find(socket)-&gt;name());</span>
<span class='curline'><a href='../S/158.html#L1070'>socket</a>           1070 src/server/server.cpp 			send_server_message(socket, "Your username has been dropped.");</span>
<span class='curline'><a href='../S/158.html#L1074'>socket</a>           1074 src/server/server.cpp 			player_connections_.find(socket)-&gt;info().mark_registered(false);</span>
<span class='curline'><a href='../S/158.html#L1078'>socket</a>           1078 src/server/server.cpp 							 "user", player_connections_.find(socket)-&gt;info().config_address(), diff);</span>
<span class='curline'><a href='../S/158.html#L1081'>socket</a>           1081 src/server/server.cpp 			send_server_message(socket, "There was an error dropping your username. The error message was: "</span>
<span class='curline'><a href='../S/158.html#L1088'>socket</a>           1088 src/server/server.cpp void server::handle_message(socket_ptr socket, simple_wml::node&amp; message)</span>
<span class='curline'><a href='../S/158.html#L1092'>socket</a>           1092 src/server/server.cpp 	send_to_lobby(relay_message, socket);</span>
<span class='curline'><a href='../S/158.html#L1095'>socket</a>           1095 src/server/server.cpp void server::handle_create_game(socket_ptr socket, simple_wml::node&amp; create_game)</span>
<span class='curline'><a href='../S/158.html#L1099'>socket</a>           1099 src/server/server.cpp 		send_to_player(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1100'>socket</a>           1100 src/server/server.cpp 		send_server_message(socket, "This server is shutting down. You aren't allowed to make new games. Please reconnect to the new server.");</span>
<span class='curline'><a href='../S/158.html#L1101'>socket</a>           1101 src/server/server.cpp 		send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1106'>socket</a>           1106 src/server/server.cpp 		player_connections_.find(socket),</span>
<span class='curline'><a href='../S/158.html#L1112'>socket</a>           1112 src/server/server.cpp 						"user", player_connections_.find(socket)-&gt;info().config_address(), diff)) {</span>
<span class='curline'><a href='../S/158.html#L1123'>socket</a>           1123 src/server/server.cpp 	DBG_SERVER &lt;&lt; client_address(host_record.socket()) &lt;&lt; "\t" &lt;&lt; host_record.info().name()</span>
<span class='curline'><a href='../S/158.html#L1129'>socket</a>           1129 src/server/server.cpp 		new wesnothd::game(player_connections_, host_record.socket(), game_name, save_replays_, replay_save_path_),</span>
<span class='curline'><a href='../S/158.html#L1168'>socket</a>           1168 src/server/server.cpp void server::handle_join_game(socket_ptr socket, simple_wml::node&amp; join)</span>
<span class='curline'><a href='../S/158.html#L1181'>socket</a>           1181 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1183'>socket</a>           1183 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1184'>socket</a>           1184 src/server/server.cpp 		send_server_message(socket, "Attempt to join unknown game.");</span>
<span class='curline'><a href='../S/158.html#L1185'>socket</a>           1185 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1188'>socket</a>           1188 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1191'>socket</a>           1191 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1192'>socket</a>           1192 src/server/server.cpp 		send_server_message(socket, "Attempt to join an uninitialized game.");</span>
<span class='curline'><a href='../S/158.html#L1193'>socket</a>           1193 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1195'>socket</a>           1195 src/server/server.cpp 	} else if (player_connections_.find(socket)-&gt;info().is_moderator()) {</span>
<span class='curline'><a href='../S/158.html#L1197'>socket</a>           1197 src/server/server.cpp 	} else if (g-&gt;registered_users_only() &amp;&amp; !player_connections_.find(socket)-&gt;info().registered()) {</span>
<span class='curline'><a href='../S/158.html#L1198'>socket</a>           1198 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1199'>socket</a>           1199 src/server/server.cpp 		send_server_message(socket, "Only registered users are allowed to join this game.");</span>
<span class='curline'><a href='../S/158.html#L1200'>socket</a>           1200 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1202'>socket</a>           1202 src/server/server.cpp 	} else if (g-&gt;player_is_banned(socket)) {</span>
<span class='curline'><a href='../S/158.html#L1203'>socket</a>           1203 src/server/server.cpp 		DBG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tReject banned player: "</span>
<span class='curline'><a href='../S/158.html#L1204'>socket</a>           1204 src/server/server.cpp 				   &lt;&lt; player_connections_.find(socket)-&gt;info().name() &lt;&lt; "\tfrom game:\t\"" &lt;&lt; g-&gt;name()</span>
<span class='curline'><a href='../S/158.html#L1206'>socket</a>           1206 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1207'>socket</a>           1207 src/server/server.cpp 		send_server_message(socket, "You are banned from this game.");</span>
<span class='curline'><a href='../S/158.html#L1208'>socket</a>           1208 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1211'>socket</a>           1211 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1214'>socket</a>           1214 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1215'>socket</a>           1215 src/server/server.cpp 		send_server_message(socket, "Incorrect password.");</span>
<span class='curline'><a href='../S/158.html#L1216'>socket</a>           1216 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1219'>socket</a>           1219 src/server/server.cpp 	bool joined = g-&gt;add_player(socket, observer);</span>
<span class='curline'><a href='../S/158.html#L1221'>socket</a>           1221 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1224'>socket</a>           1224 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1225'>socket</a>           1225 src/server/server.cpp 		send_server_message(socket, "Attempt to observe a game that doesn't allow observers. (You probably joined the game shortly after it filled up.)");</span>
<span class='curline'><a href='../S/158.html#L1226'>socket</a>           1226 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1230'>socket</a>           1230 src/server/server.cpp 		player_connections_.find(socket),</span>
<span class='curline'><a href='../S/158.html#L1239'>socket</a>           1239 src/server/server.cpp 								  "user", player_connections_.find(socket)-&gt;info().config_address(), diff);</span>
<span class='curline'><a href='../S/158.html#L1245'>socket</a>           1245 src/server/server.cpp void server::handle_player_in_game(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc) {</span>
<span class='curline'><a href='../S/158.html#L1248'>socket</a>           1248 src/server/server.cpp 	auto p = player_connections_.find(socket);</span>
<span class='curline'><a href='../S/158.html#L1256'>socket</a>           1256 src/server/server.cpp 		if (!g.is_owner(socket)) {</span>
<span class='curline'><a href='../S/158.html#L1266'>socket</a>           1266 src/server/server.cpp 			LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1278'>socket</a>           1278 src/server/server.cpp 				WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1284'>socket</a>           1284 src/server/server.cpp 				send_server_message(socket, "The scenario data is missing the [multiplayer] tag which contains the game settings. Game aborted.");</span>
<span class='curline'><a href='../S/158.html#L1291'>socket</a>           1291 src/server/server.cpp 			WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1343'>socket</a>           1343 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tReceived unknown data from: "</span>
<span class='curline'><a href='../S/158.html#L1344'>socket</a>           1344 src/server/server.cpp 				   &lt;&lt; player.name() &lt;&lt; " (socket:" &lt;&lt; socket</span>
<span class='curline'><a href='../S/158.html#L1349'>socket</a>           1349 src/server/server.cpp 		if (!g.is_owner(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1351'>socket</a>           1351 src/server/server.cpp 			WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tWarning: "</span>
<span class='curline'><a href='../S/158.html#L1364'>socket</a>           1364 src/server/server.cpp 			ERR_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tERROR: \""</span>
<span class='curline'><a href='../S/158.html#L1374'>socket</a>           1374 src/server/server.cpp 			WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1378'>socket</a>           1378 src/server/server.cpp 			send_server_message(socket, "The scenario data is missing the [multiplayer] tag which contains the game settings. Game aborted.");</span>
<span class='curline'><a href='../S/158.html#L1401'>socket</a>           1401 src/server/server.cpp 		g.send_data(notify_next_scenario, socket);</span>
<span class='curline'><a href='../S/158.html#L1409'>socket</a>           1409 src/server/server.cpp 		g.load_next_scenario(socket);</span>
<span class='curline'><a href='../S/158.html#L1412'>socket</a>           1412 src/server/server.cpp 		if (!g.is_owner(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1418'>socket</a>           1418 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1419'>socket</a>           1419 src/server/server.cpp 		g.start_game(socket);</span>
<span class='curline'><a href='../S/158.html#L1430'>socket</a>           1430 src/server/server.cpp 		if ((g.is_player(socket) &amp;&amp; g.nplayers() == 1)</span>
<span class='curline'><a href='../S/158.html#L1431'>socket</a>           1431 src/server/server.cpp 				|| (g.is_owner(socket) &amp;&amp; (!g.started() || g.nplayers() == 0))) {</span>
<span class='curline'><a href='../S/158.html#L1436'>socket</a>           1436 src/server/server.cpp 			g.remove_player(socket);</span>
<span class='curline'><a href='../S/158.html#L1437'>socket</a>           1437 src/server/server.cpp 			player_connections_.modify(player_connections_.find(socket), player_record::enter_lobby);</span>
<span class='curline'><a href='../S/158.html#L1447'>socket</a>           1447 src/server/server.cpp 				send_to_lobby(diff, socket);</span>
<span class='curline'><a href='../S/158.html#L1451'>socket</a>           1451 src/server/server.cpp 			send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1456'>socket</a>           1456 src/server/server.cpp 		if (!g.is_owner(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1469'>socket</a>           1469 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1473'>socket</a>           1473 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1477'>socket</a>           1477 src/server/server.cpp 		g.transfer_side_control(socket, *change);</span>
<span class='curline'><a href='../S/158.html#L1484'>socket</a>           1484 src/server/server.cpp 		if (!g.is_owner(socket)) {</span>
<span class='curline'><a href='../S/158.html#L1485'>socket</a>           1485 src/server/server.cpp 			g.send_server_message("You cannot mute: not the game host.", socket);</span>
<span class='curline'><a href='../S/158.html#L1492'>socket</a>           1492 src/server/server.cpp 		g.mute_observer(*mute, socket);</span>
<span class='curline'><a href='../S/158.html#L1496'>socket</a>           1496 src/server/server.cpp 		g.unmute_observer(*unmute, socket);</span>
<span class='curline'><a href='../S/158.html#L1502'>socket</a>           1502 src/server/server.cpp 				(ban ? g.ban_user(*data.child("ban"), socket)</span>
<span class='curline'><a href='../S/158.html#L1503'>socket</a>           1503 src/server/server.cpp 					 : g.kick_member(*data.child("kick"), socket));</span>
<span class='curline'><a href='../S/158.html#L1505'>socket</a>           1505 src/server/server.cpp 			player_connections_.modify(player_connections_.find(socket), player_record::enter_lobby);</span>
<span class='curline'><a href='../S/158.html#L1515'>socket</a>           1515 src/server/server.cpp 			send_to_lobby(gamelist_diff, socket);</span>
<span class='curline'><a href='../S/158.html#L1521'>socket</a>           1521 src/server/server.cpp 		g.unban_user(*unban, socket);</span>
<span class='curline'><a href='../S/158.html#L1525'>socket</a>           1525 src/server/server.cpp 		if (!g.is_player(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1537'>socket</a>           1537 src/server/server.cpp 		if (g.process_turn(data, socket)) {</span>
<span class='curline'><a href='../S/158.html#L1542'>socket</a>           1542 src/server/server.cpp 		g.process_whiteboard(data,socket);</span>
<span class='curline'><a href='../S/158.html#L1545'>socket</a>           1545 src/server/server.cpp 		g.process_change_turns_wml(data,socket);</span>
<span class='curline'><a href='../S/158.html#L1549'>socket</a>           1549 src/server/server.cpp 		g.handle_choice(*sch, socket);</span>
<span class='curline'><a href='../S/158.html#L1552'>socket</a>           1552 src/server/server.cpp 		g.process_message(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1555'>socket</a>           1555 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1566'>socket</a>           1566 src/server/server.cpp 	WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tReceived unknown data from: "</span>
<span class='curline'><a href='../S/158.html#L1567'>socket</a>           1567 src/server/server.cpp 			   &lt;&lt; player.name() &lt;&lt; " (socket:" &lt;&lt; socket &lt;&lt; ") in game: \""</span>
<span class='curline'><a href='../S/158.html#L1573'>socket</a>           1573 src/server/server.cpp void handle_send_to_player(socket_ptr socket);</span>
<span class='curline'><a href='../S/158.html#L1575'>socket</a>           1575 src/server/server.cpp void send_to_player(socket_ptr socket, simple_wml::document&amp; doc)</span>
<span class='curline'><a href='../S/158.html#L1577'>socket</a>           1577 src/server/server.cpp 	SendQueue::iterator iter = send_queue.find(socket);</span>
<span class='curline'><a href='../S/158.html#L1579'>socket</a>           1579 src/server/server.cpp 		send_queue[socket];</span>
<span class='curline'><a href='../S/158.html#L1580'>socket</a>           1580 src/server/server.cpp 		async_send_doc(socket, doc,</span>
<span class='curline'><a href='../S/158.html#L1585'>socket</a>           1585 src/server/server.cpp 		send_queue[socket].push_back(std::shared_ptr&lt;simple_wml::document&gt;(doc.clone()));</span>
<span class='curline'><a href='../S/158.html#L1589'>socket</a>           1589 src/server/server.cpp void handle_send_to_player(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L1591'>socket</a>           1591 src/server/server.cpp 	if(send_queue[socket].empty()) {</span>
<span class='curline'><a href='../S/158.html#L1592'>socket</a>           1592 src/server/server.cpp 		send_queue.erase(socket);</span>
<span class='curline'><a href='../S/158.html#L1594'>socket</a>           1594 src/server/server.cpp 		async_send_doc(socket, *(send_queue[socket].front()),</span>
<span class='curline'><a href='../S/158.html#L1598'>socket</a>           1598 src/server/server.cpp 		send_queue[socket].pop_front();</span>
<span class='curline'><a href='../S/158.html#L1602'>socket</a>           1602 src/server/server.cpp void send_server_message(socket_ptr socket, const std::string&amp; message)</span>
<span class='curline'><a href='../S/158.html#L1608'>socket</a>           1608 src/server/server.cpp 	send_to_player(socket, server_message);</span>
<span class='curline'><a href='../S/158.html#L1611'>socket</a>           1611 src/server/server.cpp void server::remove_player(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L1613'>socket</a>           1613 src/server/server.cpp 	std::string ip = client_address(socket);</span>
<span class='curline'><a href='../S/158.html#L1615'>socket</a>           1615 src/server/server.cpp 	auto iter = player_connections_.find(socket);</span>
<span class='curline'><a href='../S/158.html#L1621'>socket</a>           1621 src/server/server.cpp 		g-&gt;remove_player(socket, true, false);</span>
<span class='curline'><a href='../S/158.html#L1630'>socket</a>           1630 src/server/server.cpp 		send_to_lobby(diff, socket);</span>
<span class='curline'><a href='../S/158.html#L1646'>socket</a>           1646 src/server/server.cpp 	if(socket-&gt;is_open())</span>
<span class='curline'><a href='../S/158.html#L1647'>socket</a>           1647 src/server/server.cpp 		socket-&gt;close();</span>
<span class='curline'><a href='../S/158.html#L1653'>socket</a>           1653 src/server/server.cpp 		if(player.socket() != exclude)</span>
<span class='curline'><a href='../S/158.html#L1654'>socket</a>           1654 src/server/server.cpp 			send_to_player(player.socket(), data);</span>
<span class='curline'><a href='../S/158.html#L1660'>socket</a>           1660 src/server/server.cpp 		if(player.socket() != exclude)</span>
<span class='curline'><a href='../S/158.html#L1661'>socket</a>           1661 src/server/server.cpp 			send_server_message(player.socket(), message);</span>
<span class='curline'><a href='../S/158.html#L1668'>socket</a>           1668 src/server/server.cpp 		if(player.socket() != exclude)</span>
<span class='curline'><a href='../S/158.html#L1669'>socket</a>           1669 src/server/server.cpp 			send_server_message(player.socket(), message);</span>
<span class='curline'><a href='../S/158.html#L2158'>socket</a>           2158 src/server/server.cpp 			send_to_player(player.socket(), data);</span>
<span class='curline'><a href='../S/158.html#L2197'>socket</a>           2197 src/server/server.cpp 		send_to_player(player.socket(), data);</span>
<span class='curline'><a href='../S/158.html#L2247'>socket</a>           2247 src/server/server.cpp 				parameters = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2262'>socket</a>           2262 src/server/server.cpp 				|| (match_ip &amp;&amp; utils::wildcard_string_match(client_address(player.socket()), parameters))</span>
<span class='curline'><a href='../S/158.html#L2277'>socket</a>           2277 src/server/server.cpp 		if (clones.find(client_address(it-&gt;socket())) != clones.end()) continue;</span>
<span class='curline'><a href='../S/158.html#L2280'>socket</a>           2280 src/server/server.cpp 			if (client_address(it-&gt;socket()) == client_address(clone-&gt;socket())) {</span>
<span class='curline'><a href='../S/158.html#L2283'>socket</a>           2283 src/server/server.cpp 					clones.insert(client_address(it-&gt;socket()));</span>
<span class='curline'><a href='../S/158.html#L2364'>socket</a>           2364 src/server/server.cpp 				const std::string ip = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2430'>socket</a>           2430 src/server/server.cpp 			if (utils::wildcard_string_match(client_address(player.socket()), target)) {</span>
<span class='curline'><a href='../S/158.html#L2431'>socket</a>           2431 src/server/server.cpp 				users_to_kick.push_back(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2440'>socket</a>           2440 src/server/server.cpp 				const std::string ip = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2441'>socket</a>           2441 src/server/server.cpp 				users_to_kick.push_back(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2518'>socket</a>           2518 src/server/server.cpp 				const std::string ip = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2581'>socket</a>           2581 src/server/server.cpp 		if ((match_ip &amp;&amp; utils::wildcard_string_match(client_address(player.socket()), kick_mask))</span>
<span class='curline'><a href='../S/158.html#L2583'>socket</a>           2583 src/server/server.cpp 			users_to_kick.push_back(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2586'>socket</a>           2586 src/server/server.cpp 	for(const auto&amp; socket : users_to_kick) {</span>
<span class='curline'><a href='../S/158.html#L2589'>socket</a>           2589 src/server/server.cpp 		*out &lt;&lt; "Kicked " &lt;&lt; player_connections_.find(socket)-&gt;name() &lt;&lt; " ("</span>
<span class='curline'><a href='../S/158.html#L2590'>socket</a>           2590 src/server/server.cpp 			 &lt;&lt; client_address(socket) &lt;&lt; "). '"</span>
<span class='curline'><a href='../S/158.html#L2592'>socket</a>           2592 src/server/server.cpp 		async_send_error(socket, kick_message);</span>
<span class='curline'><a href='../S/158.html#L2593'>socket</a>           2593 src/server/server.cpp 		remove_player(socket);</span>
<span class='curline'><a href='../S/158.html#L2637'>socket</a>           2637 src/server/server.cpp 			if (player != player_connections_.get&lt;name_t&gt;().end() &amp;&amp; client_address(player-&gt;socket()) == ip) {</span>
<span class='curline'><a href='../S/158.html#L2682'>socket</a>           2682 src/server/server.cpp 					   &lt;&lt; it-&gt;socket() &lt;&lt; ")\n";</span>
<span class='curline'><a href='../S/153.html#L39'>socket</a>             39 src/server/server.hpp 	void handle_new_client(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L41'>socket</a>             41 src/server/server.hpp 	void handle_version(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L42'>socket</a>             42 src/server/server.hpp 	void read_version(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L44'>socket</a>             44 src/server/server.hpp 	void login(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L45'>socket</a>             45 src/server/server.hpp 	void handle_login(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L46'>socket</a>             46 src/server/server.hpp 	void send_password_request(socket_ptr socket, const std::string&amp; msg,</span>
<span class='curline'><a href='../S/153.html#L50'>socket</a>             50 src/server/server.hpp 	void add_player(socket_ptr socket, const wesnothd::player&amp;);</span>
<span class='curline'><a href='../S/153.html#L51'>socket</a>             51 src/server/server.hpp 	void read_from_player(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L52'>socket</a>             52 src/server/server.hpp 	void handle_read_from_player(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L53'>socket</a>             53 src/server/server.hpp 	void handle_player_in_lobby(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L54'>socket</a>             54 src/server/server.hpp 	void handle_player_in_game(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L55'>socket</a>             55 src/server/server.hpp 	void handle_whisper(socket_ptr socket, simple_wml::node&amp; whisper);</span>
<span class='curline'><a href='../S/153.html#L56'>socket</a>             56 src/server/server.hpp 	void handle_query(socket_ptr socket, simple_wml::node&amp; query);</span>
<span class='curline'><a href='../S/153.html#L57'>socket</a>             57 src/server/server.hpp 	void handle_nickserv(socket_ptr socket, simple_wml::node&amp; nickserv);</span>
<span class='curline'><a href='../S/153.html#L58'>socket</a>             58 src/server/server.hpp 	void handle_message(socket_ptr socket, simple_wml::node&amp; message);</span>
<span class='curline'><a href='../S/153.html#L59'>socket</a>             59 src/server/server.hpp 	void handle_create_game(socket_ptr socket, simple_wml::node&amp; create_game);</span>
<span class='curline'><a href='../S/153.html#L62'>socket</a>             62 src/server/server.hpp 	void handle_join_game(socket_ptr socket, simple_wml::node&amp; join);</span>
<span class='curline'><a href='../S/153.html#L63'>socket</a>             63 src/server/server.hpp 	void remove_player(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L68'>socket</a>             68 src/server/server.hpp 	bool player_is_in_game(socket_ptr socket) const {</span>
<span class='curline'><a href='../S/153.html#L69'>socket</a>             69 src/server/server.hpp 		return bool(player_connections_.find(socket)-&gt;get_game());</span>
<span class='curline'><a href='../S/166.html#L68'>socket</a>             68 src/server/server_base.cpp 	socket_ptr socket = std::make_shared&lt;boost::asio::ip::tcp::socket&gt;(std::ref(io_service_));</span>
<span class='curline'><a href='../S/166.html#L69'>socket</a>             69 src/server/server_base.cpp 	acceptor_.async_accept(*socket, std::bind(&amp;server_base::accept_connection, this, _1, socket));</span>
<span class='curline'><a href='../S/166.html#L72'>socket</a>             72 src/server/server_base.cpp void server_base::accept_connection(const boost::system::error_code&amp; error, socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L81'>socket</a>             81 src/server/server_base.cpp 	const std::string ip = client_address(socket);</span>
<span class='curline'><a href='../S/166.html#L86'>socket</a>             86 src/server/server_base.cpp 		async_send_error(socket, "You are banned. Reason: " + reason);</span>
<span class='curline'><a href='../S/166.html#L95'>socket</a>             95 src/server/server_base.cpp 		serverside_handshake(socket);</span>
<span class='curline'><a href='../S/166.html#L100'>socket</a>            100 src/server/server_base.cpp void server_base::serverside_handshake(socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L104'>socket</a>            104 src/server/server_base.cpp 				*socket, boost::asio::buffer(handshake.get(), 4),</span>
<span class='curline'><a href='../S/166.html#L105'>socket</a>            105 src/server/server_base.cpp 				std::bind(&amp;server_base::handle_handshake, this, _1, socket, handshake)</span>
<span class='curline'><a href='../S/166.html#L109'>socket</a>            109 src/server/server_base.cpp void server_base::handle_handshake(const boost::system::error_code&amp; error, socket_ptr socket, boost::shared_array&lt;char&gt; handshake)</span>
<span class='curline'><a href='../S/166.html#L111'>socket</a>            111 src/server/server_base.cpp 	if(check_error(error, socket))</span>
<span class='curline'><a href='../S/166.html#L115'>socket</a>            115 src/server/server_base.cpp 		ERR_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tincorrect handshake\n";</span>
<span class='curline'><a href='../S/166.html#L119'>socket</a>            119 src/server/server_base.cpp 				*socket, boost::asio::buffer(handshake_response_.buf, 4),</span>
<span class='curline'><a href='../S/166.html#L121'>socket</a>            121 src/server/server_base.cpp 					{ if(!check_error(error, socket)) this-&gt;handle_new_client(socket); }</span>
<span class='curline'><a href='../S/166.html#L156'>socket</a>            156 src/server/server_base.cpp std::string client_address(socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L159'>socket</a>            159 src/server/server_base.cpp 	std::string result = socket-&gt;remote_endpoint(error).address().to_string();</span>
<span class='curline'><a href='../S/166.html#L166'>socket</a>            166 src/server/server_base.cpp bool check_error(const boost::system::error_code&amp; error, socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L170'>socket</a>            170 src/server/server_base.cpp 			LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tconnection closed\n";</span>
<span class='curline'><a href='../S/166.html#L172'>socket</a>            172 src/server/server_base.cpp 			ERR_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; error.message() &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/166.html#L178'>socket</a>            178 src/server/server_base.cpp void async_send_error(socket_ptr socket, const std::string&amp; msg, const char* error_code)</span>
<span class='curline'><a href='../S/166.html#L186'>socket</a>            186 src/server/server_base.cpp 	async_send_doc(socket, doc);</span>
<span class='curline'><a href='../S/166.html#L189'>socket</a>            189 src/server/server_base.cpp void async_send_warning(socket_ptr socket, const std::string&amp; msg, const char* warning_code)</span>
<span class='curline'><a href='../S/166.html#L197'>socket</a>            197 src/server/server_base.cpp 	async_send_doc(socket, doc);</span>
<span class='curline'><a href='../S/166.html#L200'>socket</a>            200 src/server/server_base.cpp void async_send_message(socket_ptr socket, const std::string&amp; msg)</span>
<span class='curline'><a href='../S/166.html#L205'>socket</a>            205 src/server/server_base.cpp 	async_send_doc(socket, doc);</span>
<span class='curline'><a href='../S/151.html#L33'>socket</a>             33 src/server/server_base.hpp typedef std::shared_ptr&lt;boost::asio::ip::tcp::socket&gt; socket_ptr;</span>
<span class='curline'><a href='../S/151.html#L54'>socket</a>             54 src/server/server_base.hpp 	void accept_connection(const boost::system::error_code&amp; error, socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L60'>socket</a>             60 src/server/server_base.hpp 	void serverside_handshake(socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L61'>socket</a>             61 src/server/server_base.hpp 	void handle_handshake(const boost::system::error_code&amp; error, socket_ptr socket, boost::shared_array&lt;char&gt; buf);</span>
<span class='curline'><a href='../S/151.html#L63'>socket</a>             63 src/server/server_base.hpp 	virtual void handle_new_client(socket_ptr socket) = 0;</span>
<span class='curline'><a href='../S/151.html#L82'>socket</a>             82 src/server/server_base.hpp std::string client_address(socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L83'>socket</a>             83 src/server/server_base.hpp bool check_error(const boost::system::error_code&amp; error, socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L85'>socket</a>             85 src/server/server_base.hpp void async_send_error(socket_ptr socket, const std::string&amp; msg, const char* error_code = "");</span>
<span class='curline'><a href='../S/151.html#L86'>socket</a>             86 src/server/server_base.hpp void async_send_warning(socket_ptr socket, const std::string&amp; msg, const char* warning_code = "");</span>
<span class='curline'><a href='../S/151.html#L87'>socket</a>             87 src/server/server_base.hpp void async_send_message(socket_ptr socket, const std::string&amp; msg);</span>
<span class='curline'><a href='../S/321.html#L101'>socket</a>            101 src/wesnothd_connection.hpp 	typedef boost::asio::ip::tcp::socket socket;</span>
<span class='curline'><a href='../S/321.html#L102'>socket</a>            102 src/wesnothd_connection.hpp 	socket socket_;</span>
<span class='curline'><a href='../S/1330.html#L61'>socket</a>             61 utils/appveyor/irc-notify.py import os, random, socket, ssl, sys, time</span>
<span class='curline'><a href='../S/1330.html#L141'>socket</a>            141 utils/appveyor/irc-notify.py         irc_sock = ssl.wrap_socket(socket.socket(socket.AF_INET, socket.SOCK_STREAM))</span>
<span class='curline'><a href='../S/1330.html#L142'>socket</a>            142 utils/appveyor/irc-notify.py         irc_sock.connect((socket.gethostbyname('chat.freenode.net'), 6697))</span>
<span class='curline'><a href='../S/1360.html#L53'>socket</a>             53 utils/wesnothd.pl 	foreach my $socket (@_) {</span>
<span class='curline'><a href='../S/1360.html#L54'>socket</a>             54 utils/wesnothd.pl 		my $sock = $socks_map{$socket};</span>
<span class='curline'><a href='../S/1360.html#L72'>socket</a>             72 utils/wesnothd.pl 	foreach my $socket (@users) {</span>
<span class='curline'><a href='../S/1360.html#L73'>socket</a>             73 utils/wesnothd.pl 		&amp;send_data($doc, $socks_map{$socket}) unless $socks_map{$socket} eq $exclude;</span>
</pre>
</body>
</html>
