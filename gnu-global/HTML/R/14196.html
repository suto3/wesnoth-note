<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>unit_animation</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/901.html#L39'>unit_animation</a>     39 src/actions/vision.cpp class unit_animation;</span>
<span class='curline'><a href='../S/1052.html#L117'>unit_animation</a>    117 src/animated.hpp 	friend class unit_animation;</span>
<span class='curline'><a href='../S/185.html#L351'>unit_animation</a>    351 src/scripting/game_lua_kernel.cpp 	using hit_type = unit_animation::hit_type;</span>
<span class='curline'><a href='../S/993.html#L252'>unit_animation</a>    252 src/units/animation.cpp unit_animation::unit_animation(int start_time,</span>
<span class='curline'><a href='../S/993.html#L277'>unit_animation</a>    277 src/units/animation.cpp unit_animation::unit_animation(const config&amp; cfg,const std::string&amp; frame_string )</span>
<span class='curline'><a href='../S/993.html#L376'>unit_animation</a>    376 src/units/animation.cpp int unit_animation::matches(const display&amp; disp, const map_location&amp; loc, const map_location&amp; second_loc,</span>
<span class='curline'><a href='../S/993.html#L482'>unit_animation</a>    482 src/units/animation.cpp void unit_animation::fill_initial_animations(std::vector&lt;unit_animation&gt;&amp; animations, const config&amp; cfg)</span>
<span class='curline'><a href='../S/993.html#L486'>unit_animation</a>    486 src/units/animation.cpp 	std::vector&lt;unit_animation&gt; animation_base;</span>
<span class='curline'><a href='../S/993.html#L490'>unit_animation</a>    490 src/units/animation.cpp 			animation_base.back().base_score_ += unit_animation::DEFAULT_ANIM;</span>
<span class='curline'><a href='../S/993.html#L498'>unit_animation</a>    498 src/units/animation.cpp 		animation_base.push_back(unit_animation(0, frame_builder().image(default_image).duration(1), "", unit_animation::DEFAULT_ANIM));</span>
<span class='curline'><a href='../S/993.html#L501'>unit_animation</a>    501 src/units/animation.cpp 	animations.push_back(unit_animation(0, frame_builder().image(default_image).duration(1), "_disabled_", 0));</span>
<span class='curline'><a href='../S/993.html#L502'>unit_animation</a>    502 src/units/animation.cpp 	animations.push_back(unit_animation(0,</span>
<span class='curline'><a href='../S/993.html#L607'>unit_animation</a>    607 src/units/animation.cpp static void add_simple_anim(std::vector&lt;unit_animation&gt;&amp; animations,</span>
<span class='curline'><a href='../S/993.html#L624'>unit_animation</a>    624 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L628'>unit_animation</a>    628 src/units/animation.cpp void unit_animation::add_anims( std::vector&lt;unit_animation&gt; &amp; animations, const config &amp; cfg)</span>
<span class='curline'><a href='../S/993.html#L631'>unit_animation</a>    631 src/units/animation.cpp 		animations.push_back(unit_animation(ab.merge()));</span>
<span class='curline'><a href='../S/993.html#L668'>unit_animation</a>    668 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L693'>unit_animation</a>    693 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L705'>unit_animation</a>    705 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L717'>unit_animation</a>    717 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L733'>unit_animation</a>    733 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L752'>unit_animation</a>    752 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L771'>unit_animation</a>    771 src/units/animation.cpp 			animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L775'>unit_animation</a>    775 src/units/animation.cpp 			animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L788'>unit_animation</a>    788 src/units/animation.cpp 				animations.push_back(unit_animation(tmp));</span>
<span class='curline'><a href='../S/993.html#L833'>unit_animation</a>    833 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L844'>unit_animation</a>    844 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L868'>unit_animation</a>    868 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L878'>unit_animation</a>    878 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L882'>unit_animation</a>    882 src/units/animation.cpp 		animations.push_back(unit_animation(anim));</span>
<span class='curline'><a href='../S/993.html#L887'>unit_animation</a>    887 src/units/animation.cpp void unit_animation::particle::override(int start_time</span>
<span class='curline'><a href='../S/993.html#L913'>unit_animation</a>    913 src/units/animation.cpp bool unit_animation::particle::need_update() const</span>
<span class='curline'><a href='../S/993.html#L921'>unit_animation</a>    921 src/units/animation.cpp bool unit_animation::particle::need_minimal_update() const</span>
<span class='curline'><a href='../S/993.html#L926'>unit_animation</a>    926 src/units/animation.cpp unit_animation::particle::particle(const config&amp; cfg, const std::string&amp; frame_string)</span>
<span class='curline'><a href='../S/993.html#L958'>unit_animation</a>    958 src/units/animation.cpp bool unit_animation::need_update() const</span>
<span class='curline'><a href='../S/993.html#L968'>unit_animation</a>    968 src/units/animation.cpp bool unit_animation::need_minimal_update() const</span>
<span class='curline'><a href='../S/993.html#L983'>unit_animation</a>    983 src/units/animation.cpp bool unit_animation::animation_finished() const</span>
<span class='curline'><a href='../S/993.html#L993'>unit_animation</a>    993 src/units/animation.cpp bool unit_animation::animation_finished_potential() const</span>
<span class='curline'><a href='../S/993.html#L1003'>unit_animation</a>   1003 src/units/animation.cpp void unit_animation::update_last_draw_time()</span>
<span class='curline'><a href='../S/993.html#L1012'>unit_animation</a>   1012 src/units/animation.cpp int unit_animation::get_end_time() const</span>
<span class='curline'><a href='../S/993.html#L1022'>unit_animation</a>   1022 src/units/animation.cpp int unit_animation::get_begin_time() const</span>
<span class='curline'><a href='../S/993.html#L1032'>unit_animation</a>   1032 src/units/animation.cpp void unit_animation::start_animation(int start_time</span>
<span class='curline'><a href='../S/993.html#L1058'>unit_animation</a>   1058 src/units/animation.cpp void unit_animation::update_parameters(const map_location&amp; src, const map_location&amp; dst)</span>
<span class='curline'><a href='../S/993.html#L1064'>unit_animation</a>   1064 src/units/animation.cpp void unit_animation::pause_animation()</span>
<span class='curline'><a href='../S/993.html#L1073'>unit_animation</a>   1073 src/units/animation.cpp void unit_animation::restart_animation()</span>
<span class='curline'><a href='../S/993.html#L1082'>unit_animation</a>   1082 src/units/animation.cpp void unit_animation::redraw(frame_parameters&amp; value, halo::manager&amp; halo_man)</span>
<span class='curline'><a href='../S/993.html#L1096'>unit_animation</a>   1096 src/units/animation.cpp void unit_animation::clear_haloes()</span>
<span class='curline'><a href='../S/993.html#L1105'>unit_animation</a>   1105 src/units/animation.cpp bool unit_animation::invalidate(frame_parameters&amp; value)</span>
<span class='curline'><a href='../S/993.html#L1149'>unit_animation</a>   1149 src/units/animation.cpp std::string unit_animation::debug() const</span>
<span class='curline'><a href='../S/993.html#L1156'>unit_animation</a>   1156 src/units/animation.cpp std::ostream&amp; operator&lt;&lt;(std::ostream&amp; outstream, const unit_animation&amp; u_animation)</span>
<span class='curline'><a href='../S/993.html#L1165'>unit_animation</a>   1165 src/units/animation.cpp 		std::transform(u_animation.hits_.begin(), u_animation.hits_.end(), std::back_inserter(hits), unit_animation::hit_type::enum_to_string);</span>
<span class='curline'><a href='../S/993.html#L1225'>unit_animation</a>   1225 src/units/animation.cpp 	for(std::pair&lt;std::string, unit_animation::particle&gt; p : u_animation.sub_anims_) {</span>
<span class='curline'><a href='../S/993.html#L1246'>unit_animation</a>   1246 src/units/animation.cpp void unit_animation::particle::redraw(const frame_parameters&amp; value,const map_location&amp; src, const map_location&amp; dst, halo::manager&amp; halo_man)</span>
<span class='curline'><a href='../S/993.html#L1270'>unit_animation</a>   1270 src/units/animation.cpp void unit_animation::particle::clear_halo()</span>
<span class='curline'><a href='../S/993.html#L1275'>unit_animation</a>   1275 src/units/animation.cpp std::set&lt;map_location&gt; unit_animation::particle::get_overlaped_hex(const frame_parameters&amp; value, const map_location&amp; src, const map_location&amp; dst)</span>
<span class='curline'><a href='../S/993.html#L1282'>unit_animation</a>   1282 src/units/animation.cpp unit_animation::particle::~particle()</span>
<span class='curline'><a href='../S/993.html#L1287'>unit_animation</a>   1287 src/units/animation.cpp void unit_animation::particle::start_animation(int start_time)</span>
<span class='curline'><a href='../S/993.html#L1303'>unit_animation</a>   1303 src/units/animation.cpp 		, const unit_animation::hit_type hit_type</span>
<span class='curline'><a href='../S/993.html#L1327'>unit_animation</a>   1327 src/units/animation.cpp 	, const unit_animation* anim</span>
<span class='curline'><a href='../S/993.html#L1357'>unit_animation</a>   1357 src/units/animation.cpp 	, const unit_animation::hit_type hit_type</span>
<span class='curline'><a href='../S/993.html#L1368'>unit_animation</a>   1368 src/units/animation.cpp 			*disp, src, dst, animated_unit, event, value, hit_type, attack, second_attack, value2) &gt; unit_animation::MATCH_FAIL)</span>
<span class='curline'><a href='../S/1012.html#L30'>unit_animation</a>     30 src/units/animation.hpp 	unit_animation() = delete;</span>
<span class='curline'><a href='../S/1012.html#L31'>unit_animation</a>     31 src/units/animation.hpp 	explicit unit_animation(const config&amp; cfg, const std::string&amp; frame_string = "");</span>
<span class='curline'><a href='../S/1012.html#L42'>unit_animation</a>     42 src/units/animation.hpp 	static void fill_initial_animations(std::vector&lt;unit_animation&gt;&amp; animations, const config&amp; cfg);</span>
<span class='curline'><a href='../S/1012.html#L43'>unit_animation</a>     43 src/units/animation.hpp 	static void add_anims(std::vector&lt;unit_animation&gt;&amp; animations, const config&amp; cfg);</span>
<span class='curline'><a href='../S/1012.html#L104'>unit_animation</a>    104 src/units/animation.hpp 	friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; outstream, const unit_animation&amp; u_animation);</span>
<span class='curline'><a href='../S/1012.html#L117'>unit_animation</a>    117 src/units/animation.hpp 	explicit unit_animation(int start_time</span>
<span class='curline'><a href='../S/1012.html#L199'>unit_animation</a>    199 src/units/animation.hpp 		, const unit_animation* animation</span>
<span class='curline'><a href='../S/1012.html#L213'>unit_animation</a>    213 src/units/animation.hpp 		, const unit_animation::hit_type hit_type =</span>
<span class='curline'><a href='../S/1012.html#L214'>unit_animation</a>    214 src/units/animation.hpp 			unit_animation::hit_type::INVALID</span>
<span class='curline'><a href='../S/1012.html#L227'>unit_animation</a>    227 src/units/animation.hpp 		, const unit_animation::hit_type hit_type = unit_animation::hit_type::INVALID</span>
<span class='curline'><a href='../S/1012.html#L263'>unit_animation</a>    263 src/units/animation.hpp 		const unit_animation * animation;</span>
<span class='curline'><a href='../S/1006.html#L26'>unit_animation</a>     26 src/units/animation_component.cpp const unit_animation* unit_animation_component::choose_animation(const display&amp; disp, const map_location&amp; loc,const std::string&amp; event,</span>
<span class='curline'><a href='../S/1006.html#L27'>unit_animation</a>     27 src/units/animation_component.cpp 		const map_location&amp; second_loc,const int value,const unit_animation::hit_type hit,</span>
<span class='curline'><a href='../S/1006.html#L31'>unit_animation</a>     31 src/units/animation_component.cpp 	std::vector&lt;const unit_animation*&gt; options;</span>
<span class='curline'><a href='../S/1006.html#L32'>unit_animation</a>     32 src/units/animation_component.cpp 	int max_val = unit_animation::MATCH_FAIL;</span>
<span class='curline'><a href='../S/1006.html#L33'>unit_animation</a>     33 src/units/animation_component.cpp 	for(std::vector&lt;unit_animation&gt;::const_iterator i = animations_.begin(); i != animations_.end(); ++i) {</span>
<span class='curline'><a href='../S/1006.html#L35'>unit_animation</a>     35 src/units/animation_component.cpp 		if(matching &gt; unit_animation::MATCH_FAIL &amp;&amp; matching == max_val) {</span>
<span class='curline'><a href='../S/1006.html#L44'>unit_animation</a>     44 src/units/animation_component.cpp 	if(max_val == unit_animation::MATCH_FAIL) {</span>
<span class='curline'><a href='../S/1006.html#L97'>unit_animation</a>     97 src/units/animation_component.cpp void unit_animation_component::start_animation (int start_time, const unit_animation *animation,</span>
<span class='curline'><a href='../S/1006.html#L112'>unit_animation</a>    112 src/units/animation_component.cpp 	anim_.reset(new unit_animation(*animation));</span>
<span class='curline'><a href='../S/1006.html#L198'>unit_animation</a>    198 src/units/animation_component.cpp 		unit_animation::add_anims(animations_, effect);</span>
<span class='curline'><a href='../S/1006.html#L200'>unit_animation</a>    200 src/units/animation_component.cpp 		static std::map&lt; std::string, std::vector&lt;unit_animation&gt; &gt; animation_cache;</span>
<span class='curline'><a href='../S/1006.html#L201'>unit_animation</a>    201 src/units/animation_component.cpp 		std::vector&lt;unit_animation&gt; &amp;built = animation_cache[effect["id"]];</span>
<span class='curline'><a href='../S/1006.html#L203'>unit_animation</a>    203 src/units/animation_component.cpp 			unit_animation::add_anims(built, effect);</span>
<span class='curline'><a href='../S/984.html#L61'>unit_animation</a>     61 src/units/animation_component.hpp 	const unit_animation* choose_animation(const display&amp; disp,</span>
<span class='curline'><a href='../S/984.html#L65'>unit_animation</a>     65 src/units/animation_component.hpp 			const unit_animation::hit_type hit_type = unit_animation::hit_type::INVALID,</span>
<span class='curline'><a href='../S/984.html#L85'>unit_animation</a>     85 src/units/animation_component.hpp 	void start_animation (int start_time, const unit_animation *animation,</span>
<span class='curline'><a href='../S/984.html#L105'>unit_animation</a>    105 src/units/animation_component.hpp 	unit_animation* get_animation() const { return anim_.get(); }</span>
<span class='curline'><a href='../S/984.html#L115'>unit_animation</a>    115 src/units/animation_component.hpp 	std::unique_ptr&lt;unit_animation&gt; anim_; /**&lt; The current animation. */</span>
<span class='curline'><a href='../S/984.html#L116'>unit_animation</a>    116 src/units/animation_component.hpp 	std::vector&lt;unit_animation&gt; animations_; /**&lt; List of registered animations for this unit. */</span>
<span class='curline'><a href='../S/996.html#L468'>unit_animation</a>    468 src/units/types.cpp const std::vector&lt;unit_animation&gt;&amp; unit_type::animations() const {</span>
<span class='curline'><a href='../S/996.html#L470'>unit_animation</a>    470 src/units/types.cpp 		unit_animation::fill_initial_animations(animations_,cfg_);</span>
<span class='curline'><a href='../S/1014.html#L33'>unit_animation</a>     33 src/units/types.hpp class unit_animation;</span>
<span class='curline'><a href='../S/1014.html#L147'>unit_animation</a>    147 src/units/types.hpp 	const std::vector&lt;unit_animation&gt;&amp; animations() const;</span>
<span class='curline'><a href='../S/1014.html#L304'>unit_animation</a>    304 src/units/types.hpp 	mutable std::vector&lt;unit_animation&gt; animations_;</span>
<span class='curline'><a href='../S/989.html#L131'>unit_animation</a>    131 src/units/udisplay.cpp 			false,"",{0,0,0},unit_animation::hit_type::INVALID,nullptr,nullptr,step_left);</span>
<span class='curline'><a href='../S/989.html#L510'>unit_animation</a>    510 src/units/udisplay.cpp 	animator.add_animation(&amp;attacker,"draw_weapon",loc,defender_loc,0,false,"",{0,0,0},unit_animation::hit_type::HIT,attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/989.html#L511'>unit_animation</a>    511 src/units/udisplay.cpp 	animator.add_animation(defender,"draw_weapon",defender_loc,loc,0,false,"",{0,0,0},unit_animation::hit_type::MISS,secondary_attack,attack,0);</span>
<span class='curline'><a href='../S/989.html#L527'>unit_animation</a>    527 src/units/udisplay.cpp 		animator.add_animation(primary_unit,"sheath_weapon",primary_loc,secondary_loc,0,false,"",{0,0,0},unit_animation::hit_type::INVALID,primary_attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/989.html#L530'>unit_animation</a>    530 src/units/udisplay.cpp 		animator.add_animation(secondary_unit,"sheath_weapon",secondary_loc,primary_loc,0,false,"",{0,0,0},unit_animation::hit_type::INVALID,secondary_attack,primary_attack,0);</span>
<span class='curline'><a href='../S/989.html#L557'>unit_animation</a>    557 src/units/udisplay.cpp 	animator.add_animation(&amp;loser,"death",loc,winner_loc,0,false,"",{0,0,0},unit_animation::hit_type::KILL,attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/989.html#L560'>unit_animation</a>    560 src/units/udisplay.cpp 			unit_animation::hit_type::KILL,secondary_attack,attack,0);</span>
<span class='curline'><a href='../S/989.html#L610'>unit_animation</a>    610 src/units/udisplay.cpp 	unit_animation::hit_type hit_type;</span>
<span class='curline'><a href='../S/989.html#L612'>unit_animation</a>    612 src/units/udisplay.cpp 		hit_type = unit_animation::hit_type::KILL;</span>
<span class='curline'><a href='../S/989.html#L614'>unit_animation</a>    614 src/units/udisplay.cpp 		hit_type = unit_animation::hit_type::HIT;</span>
<span class='curline'><a href='../S/989.html#L616'>unit_animation</a>    616 src/units/udisplay.cpp 		hit_type = unit_animation::hit_type::MISS;</span>
<span class='curline'><a href='../S/989.html#L624'>unit_animation</a>    624 src/units/udisplay.cpp 	const unit_animation *defender_anim = def-&gt;anim_comp().choose_animation(*disp,</span>
</pre>
</body>
</html>
