<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>data/campaigns/Secrets_of_the_Ancients/scenarios/06_Following_the_Shadow.cfg</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5638.html'>data</a>/<a href='../files/5652.html'>campaigns</a>/<a href='../files/5703.html'>Secrets_of_the_Ancients</a>/<a href='../files/5704.html'>scenarios</a>/06_Following_the_Shadow.cfg</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 #textdomain wesnoth-sota
<a id='L2' name='L2'></a>   2 
<a id='L3' name='L3'></a>   3 # A large number of bats spawn in the cave under these two conditions:
<a id='L4' name='L4'></a>   4 <em class='sharp'>#</em> (1) Six non-bat units are in the cave (Bats don't stomp on the floor.)
<a id='L5' name='L5'></a>   5 <em class='sharp'>#</em> (2) Ardonna has been in the cave <strong class='reserved'>for</strong> two turns in a row. (That gets her solidly into
<a id='L6' name='L6'></a>   6 #     the cave, but not close to the exit. If she is alone, it's the player's fault when
<a id='L7' name='L7'></a>   7 #     the bats kill her.)
<a id='L8' name='L8'></a>   8 
<a id='L9' name='L9'></a>   9 [scenario]
<a id='L10' name='L10'></a>  10     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>= _ "Following the Shadow"
<a id='L11' name='L11'></a>  11     <a href='../D/10724.html' title='Multiple defined in 2 places.'>map_data</a>="{campaigns/Secrets_of_the_Ancients/maps/06_Following_the_Shadow.map}"
<a id='L12' name='L12'></a>  12 
<a id='L13' name='L13'></a>  13     <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=06_Following_the_Shadow
<a id='L14' name='L14'></a>  14     <a href='../D/11338.html' title='Multiple defined in 2 places.'>next_scenario</a>=07_Meeting_of_the_Minds
<a id='L15' name='L15'></a>  15 
<a id='L16' name='L16'></a>  16     <a href='../Y/21434.html' title='Multiple used in 175 places.'>victory_when_enemies_defeated</a>=no
<a id='L17' name='L17'></a>  17 
<a id='L18' name='L18'></a>  18     [story]
<a id='L19' name='L19'></a>  19         [part]
<a id='L20' name='L20'></a>  20             [background_layer]
<a id='L21' name='L21'></a>  21                 <a href='../D/8652.html' title='Multiple defined in 19 places.'>image</a>=story/book.png
<a id='L22' name='L22'></a>  22                 <a href='../D/13227.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L23' name='L23'></a>  23             [/background_layer]
<a id='L24' name='L24'></a>  24             [<strong class='reserved'>if</strong>]
<a id='L25' name='L25'></a>  25                 [have_unit]
<a id='L26' name='L26'></a>  26                     <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Bone Captain
<a id='L27' name='L27'></a>  27                     <a href='../Y/17998.html' title='Multiple used in 62 places.'>search_recall_list</a>=yes
<a id='L28' name='L28'></a>  28                 [/have_unit]
<a id='L29' name='L29'></a>  29                 [then]
<a id='L30' name='L30'></a>  30                     <a href='../Y/19139.html' title='Multiple used in 724 places.'>story</a>=_ "3 IV, 23 YW
<a id='L31' name='L31'></a>  31                                 
<a id='L32' name='L32'></a>  32 I was so sure I had the answer! I was wrong. I wanted to believe that I was imagining it, but it’s now clear that the captain’s memories are fading. He still retains speech, and the others fight better when he is watching (many used to be his crew after all — it would be habit <strong class='reserved'>for</strong> them), but he remembers precious little <strong class='reserved'>else</strong> now. The same is true of my other recently-raised friends. I am disappointed, but the existence of my strange new companion keeps me from being depressed."
<a id='L33' name='L33'></a>  33                 [/then]
<a id='L34' name='L34'></a>  34                 [<strong class='reserved'>else</strong>]
<a id='L35' name='L35'></a>  35                     <a href='../Y/19139.html' title='Multiple used in 724 places.'>story</a>=_ "3 IV, 23 YW
<a id='L36' name='L36'></a>  36                                 
<a id='L37' name='L37'></a>  37 I was so sure I had the answer! I was wrong. I wanted to believe that I was imagining it, but my recently-raised friends are losing their memories. They retain the power of speech, but precious little <strong class='reserved'>else</strong>. I am disappointed, but the existence of my strange new companion keeps me from being depressed."
<a id='L38' name='L38'></a>  38                 [/<strong class='reserved'>else</strong>]
<a id='L39' name='L39'></a>  39             [/<strong class='reserved'>if</strong>]
<a id='L40' name='L40'></a>  40         [/part]
<a id='L41' name='L41'></a>  41 
<a id='L42' name='L42'></a>  42         [part]
<a id='L43' name='L43'></a>  43             [background_layer]
<a id='L44' name='L44'></a>  44                 <a href='../D/8652.html' title='Multiple defined in 19 places.'>image</a>=portraits/undead/shadow.png
<a id='L45' name='L45'></a>  45                 <a href='../D/13227.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L46' name='L46'></a>  46                 <a href='../Y/6194.html' title='Multiple used in 27 places.'>base_layer</a>=yes
<a id='L47' name='L47'></a>  47             [/background_layer]
<a id='L48' name='L48'></a>  48             <a href='../Y/19139.html' title='Multiple used in 724 places.'>story</a>=_ "The phantom leads us north. It has identified itself as the ghost of Vash-Gorn, an orc. So it remembers! It seems that the problem has been solved, but the ghost ignores all my questions. I am burning with curiosity, so I hope we reach our destination soon! We travel only by day because at night the spirit is practically invisible. We have not had any trouble on the road yet, but we &lt;i&gt;are&lt;/i&gt; a rather large company now, so I have not expected it."
<a id='L49' name='L49'></a>  49         [/part]
<a id='L50' name='L50'></a>  50         <em class='brace'>{</em>JOURNEY_PART 6<em class='brace'>}</em>
<a id='L51' name='L51'></a>  51     [/story]
<a id='L52' name='L52'></a>  52 
<a id='L53' name='L53'></a>  53     <em class='brace'>{</em>DEFAULT_SCHEDULE<em class='brace'>}</em>
<a id='L54' name='L54'></a>  54     <em class='brace'>{</em>DEFAULT_MUSIC_PLAYLIST<em class='brace'>}</em>
<a id='L55' name='L55'></a>  55     <a href='../S/794.html#L560' title='Defined at 560 in src/preferences/game.cpp.'>turns</a>=38
<a id='L56' name='L56'></a>  56 
<a id='L57' name='L57'></a>  57 <em class='sharp'>#define</em> CAVE_TERRAINS
<a id='L58' name='L58'></a>  58     U*,U*^*,Rb,Rb^*,*^Dr,Qxe,Wwf,Wwg
<a id='L59' name='L59'></a>  59 #enddef
<a id='L60' name='L60'></a>  60 
<a id='L61' name='L61'></a>  61     [side]
<a id='L62' name='L62'></a>  62         <em class='brace'>{</em>SIDE_1_ARDONNA<em class='brace'>}</em>
<a id='L63' name='L63'></a>  63         <em class='brace'>{</em>GOLD 200 175 150<em class='brace'>}</em>
<a id='L64' name='L64'></a>  64         <a href='../S/794.html#L550' title='Defined at 550 in src/preferences/game.cpp.'>shroud</a>=yes
<a id='L65' name='L65'></a>  65     [/side]
<a id='L66' name='L66'></a>  66 
<a id='L67' name='L67'></a>  67     [side]
<a id='L68' name='L68'></a>  68         <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L69' name='L69'></a>  69         <a href='../D/4875.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L70' name='L70'></a>  70         <a href='../D/15820.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Goblin Raiders"
<a id='L71' name='L71'></a>  71         <a href='../D/14951.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L72' name='L72'></a>  72         <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=Direwolf Rider
<a id='L73' name='L73'></a>  73         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>= _ "Bogdush"
<a id='L74' name='L74'></a>  74         <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Bogdush
<a id='L75' name='L75'></a>  75         <a href='../S/991.html#L1158' title='Defined at 1158 in src/units/unit.hpp.'>facing</a>=sw
<a id='L76' name='L76'></a>  76         <a href='../D/12470.html' title='Multiple defined in 5 places.'>recruit</a>=Wolf Rider, Goblin Knight, Goblin Pillager
<a id='L77' name='L77'></a>  77         <em class='brace'>{</em>GOLD 250 325 400<em class='brace'>}</em>
<a id='L78' name='L78'></a>  78         [unit]
<a id='L79' name='L79'></a>  79             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=46,3
<a id='L80' name='L80'></a>  80             <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=Goblin Pillager
<a id='L81' name='L81'></a>  81             <a href='../Y/14371.html' title='Multiple used in 231 places.'>moves</a>=0
<a id='L82' name='L82'></a>  82             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>= _ "Blaust"
<a id='L83' name='L83'></a>  83             <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Blaust
<a id='L84' name='L84'></a>  84             <a href='../S/991.html#L1158' title='Defined at 1158 in src/units/unit.hpp.'>facing</a>=se
<a id='L85' name='L85'></a>  85         [/unit]
<a id='L86' name='L86'></a>  86         <em class='brace'>{</em>FLAG_VARIANT6 ragged<em class='brace'>}</em>
<a id='L87' name='L87'></a>  87     [/side]
<a id='L88' name='L88'></a>  88 
<a id='L89' name='L89'></a>  89     [side]
<a id='L90' name='L90'></a>  90         <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L91' name='L91'></a>  91         <a href='../D/4875.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L92' name='L92'></a>  92         <a href='../D/15820.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Bats"
<a id='L93' name='L93'></a>  93         <a href='../D/8526.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L94' name='L94'></a>  94         <a href='../D/14951.html' title='Multiple defined in 4 places.'>team_name</a>=bats
<a id='L95' name='L95'></a>  95         <a href='../S/1076.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L96' name='L96'></a>  96         [ai]
<a id='L97' name='L97'></a>  97             [avoid]
<a id='L98' name='L98'></a>  98                 # Bats stay in the cave.
<a id='L99' name='L99'></a>  99                 <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=!,<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L100' name='L100'></a> 100             [/avoid]
<a id='L101' name='L101'></a> 101         [/ai]
<a id='L102' name='L102'></a> 102     [/side]
<a id='L103' name='L103'></a> 103 
<a id='L104' name='L104'></a> 104     [side]
<a id='L105' name='L105'></a> 105         <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L106' name='L106'></a> 106         <a href='../D/14951.html' title='Multiple defined in 4 places.'>team_name</a>=good
<a id='L107' name='L107'></a> 107         <a href='../D/4875.html' title='Multiple defined in 7 places.'>controller</a>=null
<a id='L108' name='L108'></a> 108         <a href='../D/8526.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L109' name='L109'></a> 109         <a href='../D/4580.html' title='Multiple defined in 5 places.'>color</a>=darkred
<a id='L110' name='L110'></a> 110     [/side]
<a id='L111' name='L111'></a> 111     <em class='brace'>{</em>STARTING_VILLAGES  1 6<em class='brace'>}</em>
<a id='L112' name='L112'></a> 112     <em class='brace'>{</em>STARTING_VILLAGES  2 6<em class='brace'>}</em>
<a id='L113' name='L113'></a> 113 
<a id='L114' name='L114'></a> 114 <em class='sharp'>#ifdef</em> HARD
<a id='L115' name='L115'></a> 115     <em class='brace'>{</em>LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Goblin Knight) 2<em class='brace'>}</em>
<a id='L116' name='L116'></a> 116 <em class='sharp'>#endif</em>
<a id='L117' name='L117'></a> 117 
<a id='L118' name='L118'></a> 118 <em class='sharp'>    #</em> *************************** PRESTART ***************************
<a id='L119' name='L119'></a> 119 
<a id='L120' name='L120'></a> 120     [event]
<a id='L121' name='L121'></a> 121         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=prestart
<a id='L122' name='L122'></a> 122         <em class='brace'>{</em>RECALL_LOYAL_UNITS<em class='brace'>}</em>
<a id='L123' name='L123'></a> 123 
<a id='L124' name='L124'></a> 124         # Using a shroud_data file would work too, but this is easier to modify <strong class='reserved'>if</strong>
<a id='L125' name='L125'></a> 125         # necessary:
<a id='L126' name='L126'></a> 126         [remove_shroud]
<a id='L127' name='L127'></a> 127             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L128' name='L128'></a> 128         [/remove_shroud]
<a id='L129' name='L129'></a> 129         [place_shroud]
<a id='L130' name='L130'></a> 130             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L131' name='L131'></a> 131             <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L132' name='L132'></a> 132         [/place_shroud]
<a id='L133' name='L133'></a> 133         [place_shroud]
<a id='L134' name='L134'></a> 134             # Shrouded floor next to cave wall leaves part of the cave wall
<a id='L135' name='L135'></a> 135             # unshrouded, showing part of the shape of the cave before it is
<a id='L136' name='L136'></a> 136             # discovered. This tag covers up most of the offending walls. Some of
<a id='L137' name='L137'></a> 137             # them can't be covered without covering the *outside* of the cave
<a id='L138' name='L138'></a> 138             # walls as well, so we are leaving those as they are.
<a id='L139' name='L139'></a> 139             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=41-44, 46, 47, 47-50, 50-54
<a id='L140' name='L140'></a> 140             <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=10-14,  8 , 18,    8    , 9-19
<a id='L141' name='L141'></a> 141         [/place_shroud]
<a id='L142' name='L142'></a> 142         [remove_shroud]
<a id='L143' name='L143'></a> 143             # So the player can see the three entrances:
<a id='L144' name='L144'></a> 144             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L145' name='L145'></a> 145             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=36, 37, 43
<a id='L146' name='L146'></a> 146             <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=11, 11, 15
<a id='L147' name='L147'></a> 147         [/remove_shroud]
<a id='L148' name='L148'></a> 148 
<a id='L149' name='L149'></a> 149         [objectives]
<a id='L150' name='L150'></a> 150             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L151' name='L151'></a> 151             [objective]
<a id='L152' name='L152'></a> 152                 <a href='../D/5372.html' title='Multiple defined in 14 places.'>description</a>= _ "Find out where the ghost went and follow it"
<a id='L153' name='L153'></a> 153                 <a href='../Y/7701.html' title='Multiple used in 1334 places.'>condition</a>=win
<a id='L154' name='L154'></a> 154             [/objective]
<a id='L155' name='L155'></a> 155 
<a id='L156' name='L156'></a> 156             <em class='brace'>{</em>HOW_TO_LOSE_WITH_ARDONNA<em class='brace'>}</em>
<a id='L157' name='L157'></a> 157 
<a id='L158' name='L158'></a> 158             [gold_carryover]
<a id='L159' name='L159'></a> 159                 <a href='../Y/6467.html' title='Multiple used in 670 places.'>bonus</a>=yes
<a id='L160' name='L160'></a> 160                 <a href='../S/1076.html#L348' title='Defined at 348 in src/team.hpp.'>carryover_percentage</a>=40
<a id='L161' name='L161'></a> 161             [/gold_carryover]
<a id='L162' name='L162'></a> 162         [/objectives]
<a id='L163' name='L163'></a> 163 
<a id='L164' name='L164'></a> 164         [time_area]
<a id='L165' name='L165'></a> 165             <em class='brace'>{</em>UNDERGROUND<em class='brace'>}</em>
<a id='L166' name='L166'></a> 166             <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L167' name='L167'></a> 167         [/time_area]
<a id='L168' name='L168'></a> 168     [/event]
<a id='L169' name='L169'></a> 169 
<a id='L170' name='L170'></a> 170 <em class='sharp'>    #</em> *************************** PLAY ***************************
<a id='L171' name='L171'></a> 171     [event]
<a id='L172' name='L172'></a> 172         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=moveto
<a id='L173' name='L173'></a> 173         [filter_condition]
<a id='L174' name='L174'></a> 174             [have_location]
<a id='L175' name='L175'></a> 175                 <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=47,13
<a id='L176' name='L176'></a> 176                 [filter_vision]
<a id='L177' name='L177'></a> 177                     <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L178' name='L178'></a> 178                 [/filter_vision]
<a id='L179' name='L179'></a> 179             [/have_location]
<a id='L180' name='L180'></a> 180         [/filter_condition]
<a id='L181' name='L181'></a> 181         [scroll_to]
<a id='L182' name='L182'></a> 182             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=47,13
<a id='L183' name='L183'></a> 183         [/scroll_to]
<a id='L184' name='L184'></a> 184         [delay]
<a id='L185' name='L185'></a> 185             <a href='../D/15151.html' title='Multiple defined in 4 places.'>time</a>=1000
<a id='L186' name='L186'></a> 186         [/delay]
<a id='L187' name='L187'></a> 187         [message]
<a id='L188' name='L188'></a> 188             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L189' name='L189'></a> 189             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Look, there is a cavern below the cave floor. What might we rouse if we go tromping about in the cave? I hope it is nothing worse than bats."
<a id='L190' name='L190'></a> 190         [/message]
<a id='L191' name='L191'></a> 191         [message]
<a id='L192' name='L192'></a> 192             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Bone Captain
<a id='L193' name='L193'></a> 193             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Ghost?"
<a id='L194' name='L194'></a> 194         [/message]
<a id='L195' name='L195'></a> 195         [message]
<a id='L196' name='L196'></a> 196             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L197' name='L197'></a> 197             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Surely the ghost would not have gone that way, where I cannot follow."
<a id='L198' name='L198'></a> 198         [/message]
<a id='L199' name='L199'></a> 199     [/event]
<a id='L200' name='L200'></a> 200 
<a id='L201' name='L201'></a> 201     [event]
<a id='L202' name='L202'></a> 202         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=moveto
<a id='L203' name='L203'></a> 203         [filter_condition]
<a id='L204' name='L204'></a> 204             [have_location]
<a id='L205' name='L205'></a> 205                 <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=53,20
<a id='L206' name='L206'></a> 206                 [filter_vision]
<a id='L207' name='L207'></a> 207                     <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L208' name='L208'></a> 208                 [/filter_vision]
<a id='L209' name='L209'></a> 209             [/have_location]
<a id='L210' name='L210'></a> 210         [/filter_condition]
<a id='L211' name='L211'></a> 211         [scroll_to]
<a id='L212' name='L212'></a> 212             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=53,20
<a id='L213' name='L213'></a> 213         [/scroll_to]
<a id='L214' name='L214'></a> 214         [delay]
<a id='L215' name='L215'></a> 215             <a href='../D/15151.html' title='Multiple defined in 4 places.'>time</a>=500
<a id='L216' name='L216'></a> 216         [/delay]
<a id='L217' name='L217'></a> 217         [message]
<a id='L218' name='L218'></a> 218             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L219' name='L219'></a> 219             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "There is a tunnel at the back of the cave! The ghost must have gone through there."
<a id='L220' name='L220'></a> 220         [/message]
<a id='L221' name='L221'></a> 221         <em class='brace'>{</em>HIGHLIGHT_IMAGE 53 20 "items/gohere.png" ()<em class='brace'>}</em>
<a id='L222' name='L222'></a> 222         [remove_item]
<a id='L223' name='L223'></a> 223             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=53,20
<a id='L224' name='L224'></a> 224         [/remove_item]
<a id='L225' name='L225'></a> 225         [objectives]
<a id='L226' name='L226'></a> 226             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L227' name='L227'></a> 227             [objective]
<a id='L228' name='L228'></a> 228                 <a href='../D/5372.html' title='Multiple defined in 14 places.'>description</a>= _ "Move Ardonna to the tunnel"
<a id='L229' name='L229'></a> 229                 <a href='../Y/7701.html' title='Multiple used in 1334 places.'>condition</a>=win
<a id='L230' name='L230'></a> 230             [/objective]
<a id='L231' name='L231'></a> 231 
<a id='L232' name='L232'></a> 232             <em class='brace'>{</em>HOW_TO_LOSE_WITH_ARDONNA<em class='brace'>}</em>
<a id='L233' name='L233'></a> 233 
<a id='L234' name='L234'></a> 234             [gold_carryover]
<a id='L235' name='L235'></a> 235                 <a href='../Y/6467.html' title='Multiple used in 670 places.'>bonus</a>=yes
<a id='L236' name='L236'></a> 236                 <a href='../S/1076.html#L348' title='Defined at 348 in src/team.hpp.'>carryover_percentage</a>=40
<a id='L237' name='L237'></a> 237             [/gold_carryover]
<a id='L238' name='L238'></a> 238         [/objectives]
<a id='L239' name='L239'></a> 239     [/event]
<a id='L240' name='L240'></a> 240 
<a id='L241' name='L241'></a> 241     # If we don't do this, the first wolf attacks by himself, leaving him little
<a id='L242' name='L242'></a> 242     # chance of surviving or doing much damage.
<a id='L243' name='L243'></a> 243     [event]
<a id='L244' name='L244'></a> 244         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=side 2 turn 1 refresh
<a id='L245' name='L245'></a> 245         [modify_unit]
<a id='L246' name='L246'></a> 246             [filter]
<a id='L247' name='L247'></a> 247                 <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Blaust
<a id='L248' name='L248'></a> 248             [/filter]
<a id='L249' name='L249'></a> 249             <a href='../Y/14371.html' title='Multiple used in 231 places.'>moves</a>=0
<a id='L250' name='L250'></a> 250             <a href='../S/991.html#L845' title='Defined at 845 in src/units/unit.hpp.'>attacks_left</a>=0
<a id='L251' name='L251'></a> 251         [/modify_unit]
<a id='L252' name='L252'></a> 252     [/event]
<a id='L253' name='L253'></a> 253 
<a id='L254' name='L254'></a> 254     # This checks to see <strong class='reserved'>if</strong> the conditions are correct <strong class='reserved'>for</strong> activating the bats. The
<a id='L255' name='L255'></a> 255     # bats will spawn as their turn ends, so they can't spawn and attack at the same
<a id='L256' name='L256'></a> 256     # time. (Which would be a bad surprise.) This way, the player gets one turn to
<a id='L257' name='L257'></a> 257     # arrange their defenses.
<a id='L258' name='L258'></a> 258     [event]
<a id='L259' name='L259'></a> 259         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=side 3 turn end
<a id='L260' name='L260'></a> 260         <a href='../Y/10078.html' title='Multiple used in 591 places.'>first_time_only</a>=no
<a id='L261' name='L261'></a> 261         <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=check_for_bat_activation
<a id='L262' name='L262'></a> 262 
<a id='L263' name='L263'></a> 263         # If Ardonna is not in the cave, reset (or set) a counter.
<a id='L264' name='L264'></a> 264         [<strong class='reserved'>if</strong>]
<a id='L265' name='L265'></a> 265             [have_unit]
<a id='L266' name='L266'></a> 266                 <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Ardonna
<a id='L267' name='L267'></a> 267                 [filter_location]
<a id='L268' name='L268'></a> 268                     <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=!,<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L269' name='L269'></a> 269                 [/filter_location]
<a id='L270' name='L270'></a> 270             [/have_unit]
<a id='L271' name='L271'></a> 271             [then]
<a id='L272' name='L272'></a> 272                 [set_variable]
<a id='L273' name='L273'></a> 273                     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=turns_in_cave
<a id='L274' name='L274'></a> 274                     <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=0
<a id='L275' name='L275'></a> 275                 [/set_variable]
<a id='L276' name='L276'></a> 276             [/then]
<a id='L277' name='L277'></a> 277         [/<strong class='reserved'>if</strong>]
<a id='L278' name='L278'></a> 278 
<a id='L279' name='L279'></a> 279         # If Ardonna *is* in the cave, increment the counter.
<a id='L280' name='L280'></a> 280         [<strong class='reserved'>if</strong>]
<a id='L281' name='L281'></a> 281             [have_unit]
<a id='L282' name='L282'></a> 282                 <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Ardonna
<a id='L283' name='L283'></a> 283                 [filter_location]
<a id='L284' name='L284'></a> 284                     <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L285' name='L285'></a> 285                 [/filter_location]
<a id='L286' name='L286'></a> 286             [/have_unit]
<a id='L287' name='L287'></a> 287             [then]
<a id='L288' name='L288'></a> 288                 [set_variable]
<a id='L289' name='L289'></a> 289                     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=turns_in_cave
<a id='L290' name='L290'></a> 290                     <a href='../D/2779.html' title='Multiple defined in 10 places.'>add</a>=1
<a id='L291' name='L291'></a> 291                 [/set_variable]
<a id='L292' name='L292'></a> 292             [/then]
<a id='L293' name='L293'></a> 293         [/<strong class='reserved'>if</strong>]
<a id='L294' name='L294'></a> 294 
<a id='L295' name='L295'></a> 295         # If Ardonna's counter gets to 2, activate the bats.
<a id='L296' name='L296'></a> 296         [<strong class='reserved'>if</strong>]
<a id='L297' name='L297'></a> 297             [variable]
<a id='L298' name='L298'></a> 298                 <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=turns_in_cave
<a id='L299' name='L299'></a> 299                 <a href='../D/5928.html' title='Multiple defined in 10 places.'>equals</a>=2
<a id='L300' name='L300'></a> 300             [/variable]
<a id='L301' name='L301'></a> 301             [then]
<a id='L302' name='L302'></a> 302                 [fire_event]
<a id='L303' name='L303'></a> 303                     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=activate bats
<a id='L304' name='L304'></a> 304                 [/fire_event]
<a id='L305' name='L305'></a> 305             [/then]
<a id='L306' name='L306'></a> 306         [/<strong class='reserved'>if</strong>]
<a id='L307' name='L307'></a> 307 
<a id='L308' name='L308'></a> 308         # Activate the bats <strong class='reserved'>if</strong> there are six or more non-flying units in the cave.
<a id='L309' name='L309'></a> 309         [<strong class='reserved'>if</strong>]
<a id='L310' name='L310'></a> 310             [have_unit]
<a id='L311' name='L311'></a> 311                 <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L312' name='L312'></a> 312                 [filter_location]
<a id='L313' name='L313'></a> 313                     <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L314' name='L314'></a> 314                 [/filter_location]
<a id='L315' name='L315'></a> 315                 [not]
<a id='L316' name='L316'></a> 316                     <a href='../D/12270.html' title='Multiple defined in 2 places.'>race</a>=bats
<a id='L317' name='L317'></a> 317                 [/not]
<a id='L318' name='L318'></a> 318                 [not]
<a id='L319' name='L319'></a> 319                     <a href='../S/991.html#L454' title='Defined at 454 in src/units/unit.hpp.'>variation</a>=bat  # undead bat
<a id='L320' name='L320'></a> 320                 [/not]
<a id='L321' name='L321'></a> 321                 <a href='../D/4929.html' title='Multiple defined in 4 places.'>count</a>=6-99  # six or more
<a id='L322' name='L322'></a> 322             [/have_unit]
<a id='L323' name='L323'></a> 323             [then]
<a id='L324' name='L324'></a> 324                 [fire_event]
<a id='L325' name='L325'></a> 325                     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=activate bats
<a id='L326' name='L326'></a> 326                 [/fire_event]
<a id='L327' name='L327'></a> 327             [/then]
<a id='L328' name='L328'></a> 328         [/<strong class='reserved'>if</strong>]
<a id='L329' name='L329'></a> 329     [/event]
<a id='L330' name='L330'></a> 330 
<a id='L331' name='L331'></a> 331     # Four hard-coded, animated bats appear every time, the number of others, which are
<a id='L332' name='L332'></a> 332     # randomly placed, is based on difficulty.
<a id='L333' name='L333'></a> 333 <em class='sharp'>#ifdef</em> EASY
<a id='L334' name='L334'></a> 334 <em class='sharp'>#define</em> NUMBER_OF_EXTRA_BATS
<a id='L335' name='L335'></a> 335     5
<a id='L336' name='L336'></a> 336 #enddef
<a id='L337' name='L337'></a> 337 <em class='sharp'>#endif</em>
<a id='L338' name='L338'></a> 338 
<a id='L339' name='L339'></a> 339 <em class='sharp'>#ifdef</em> NORMAL
<a id='L340' name='L340'></a> 340 <em class='sharp'>#define</em> NUMBER_OF_EXTRA_BATS
<a id='L341' name='L341'></a> 341     7
<a id='L342' name='L342'></a> 342 #enddef
<a id='L343' name='L343'></a> 343 <em class='sharp'>#endif</em>
<a id='L344' name='L344'></a> 344 
<a id='L345' name='L345'></a> 345 <em class='sharp'>#ifdef</em> HARD
<a id='L346' name='L346'></a> 346 <em class='sharp'>#define</em> NUMBER_OF_EXTRA_BATS
<a id='L347' name='L347'></a> 347     10
<a id='L348' name='L348'></a> 348 #enddef
<a id='L349' name='L349'></a> 349 <em class='sharp'>#endif</em>
<a id='L350' name='L350'></a> 350 
<a id='L351' name='L351'></a> 351     # Animates bats coming from the chasm in the center of the cave (at 47,13)
<a id='L352' name='L352'></a> 352 <em class='sharp'>#define</em> MOVE_AND_PLACE_BAT X Y TYPE
<a id='L353' name='L353'></a> 353     # X and Y values are passed to the macro, but that location may be occupied. This
<a id='L354' name='L354'></a> 354     # macro finds the nearest unoccupied location in <strong class='reserved'>case</strong> it is. That is the location
<a id='L355' name='L355'></a> 355     # that will actually be used in <strong class='reserved'>case</strong> it is different than X and Y.
<a id='L356' name='L356'></a> 356     <em class='brace'>{</em>NEAREST_HEX <em class='brace'>{</em>X<em class='brace'>}</em> <em class='brace'>{</em>Y<em class='brace'>}</em> 99 (
<a id='L357' name='L357'></a> 357         [not]
<a id='L358' name='L358'></a> 358             [filter]
<a id='L359' name='L359'></a> 359             [/filter]
<a id='L360' name='L360'></a> 360             [or]
<a id='L361' name='L361'></a> 361                 <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=47,13
<a id='L362' name='L362'></a> 362             [/or]
<a id='L363' name='L363'></a> 363         [/not]) location<em class='brace'>}</em>
<a id='L364' name='L364'></a> 364 
<a id='L365' name='L365'></a> 365         [move_unit_fake]
<a id='L366' name='L366'></a> 366             <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=<em class='brace'>{</em>TYPE<em class='brace'>}</em>
<a id='L367' name='L367'></a> 367             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L368' name='L368'></a> 368             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=47,$location.x
<a id='L369' name='L369'></a> 369             <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=13,$location.y
<a id='L370' name='L370'></a> 370         [/move_unit_fake]
<a id='L371' name='L371'></a> 371         [unit]
<a id='L372' name='L372'></a> 372             <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=<em class='brace'>{</em>TYPE<em class='brace'>}</em>
<a id='L373' name='L373'></a> 373             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L374' name='L374'></a> 374             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=$location.x
<a id='L375' name='L375'></a> 375             <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=$location.y
<a id='L376' name='L376'></a> 376         [/unit]
<a id='L377' name='L377'></a> 377         [clear_variable]
<a id='L378' name='L378'></a> 378             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=location
<a id='L379' name='L379'></a> 379         [/clear_variable]
<a id='L380' name='L380'></a> 380 #enddef
<a id='L381' name='L381'></a> 381 
<a id='L382' name='L382'></a> 382     [event]
<a id='L383' name='L383'></a> 383         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=activate bats
<a id='L384' name='L384'></a> 384 
<a id='L385' name='L385'></a> 385         [event]
<a id='L386' name='L386'></a> 386             # We don't want the bats activated twice:
<a id='L387' name='L387'></a> 387             <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=check_for_bat_activation
<a id='L388' name='L388'></a> 388             <a href='../D/12604.html' title='Multiple defined in 8 places.'>remove</a>=yes
<a id='L389' name='L389'></a> 389         [/event]
<a id='L390' name='L390'></a> 390         [clear_variable]
<a id='L391' name='L391'></a> 391             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=turns_in_cave
<a id='L392' name='L392'></a> 392         [/clear_variable]
<a id='L393' name='L393'></a> 393 
<a id='L394' name='L394'></a> 394         <em class='brace'>{</em>MOVE_AND_PLACE_BAT 45 11 (Vampire Bat)<em class='brace'>}</em>
<a id='L395' name='L395'></a> 395         <em class='brace'>{</em>MOVE_AND_PLACE_BAT 45 14 (Blood Bat)<em class='brace'>}</em>
<a id='L396' name='L396'></a> 396         <em class='brace'>{</em>MOVE_AND_PLACE_BAT 47 9 (Blood Bat)<em class='brace'>}</em>
<a id='L397' name='L397'></a> 397         <em class='brace'>{</em>MOVE_AND_PLACE_BAT 48 10 (Dread Bat)<em class='brace'>}</em>
<a id='L398' name='L398'></a> 398 
<a id='L399' name='L399'></a> 399         [store_locations]
<a id='L400' name='L400'></a> 400             <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=<em class='brace'>{</em>CAVE_TERRAINS<em class='brace'>}</em>
<a id='L401' name='L401'></a> 401             <a href='../Y/21338.html' title='Multiple used in 986 places.'>variable</a>=possible_bat_locations
<a id='L402' name='L402'></a> 402         [/store_locations]
<a id='L403' name='L403'></a> 403 
<a id='L404' name='L404'></a> 404         [set_variable]
<a id='L405' name='L405'></a> 405             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=bat_index
<a id='L406' name='L406'></a> 406             <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=1
<a id='L407' name='L407'></a> 407         [/set_variable]
<a id='L408' name='L408'></a> 408         [<strong class='reserved'>while</strong>]
<a id='L409' name='L409'></a> 409             [variable]
<a id='L410' name='L410'></a> 410                 <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=bat_index
<a id='L411' name='L411'></a> 411                 <a href='../Y/12998.html' title='Multiple used in 19 places.'>less_than_equal_to</a>=<em class='brace'>{</em>NUMBER_OF_EXTRA_BATS<em class='brace'>}</em>
<a id='L412' name='L412'></a> 412             [/variable]
<a id='L413' name='L413'></a> 413 
<a id='L414' name='L414'></a> 414             [<strong class='reserved'>do</strong>]
<a id='L415' name='L415'></a> 415                 # Choose a location by selecting an array index:
<a id='L416' name='L416'></a> 416                 [set_variable]
<a id='L417' name='L417'></a> 417                     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=location_index
<a id='L418' name='L418'></a> 418                     <a href='../S/304.html#L337' title='Defined at 337 in src/terrain/builder.hpp.'>rand</a>="0..$($possible_bat_locations.length-1)"
<a id='L419' name='L419'></a> 419                 [/set_variable]
<a id='L420' name='L420'></a> 420 
<a id='L421' name='L421'></a> 421 <em class='sharp'>                #</em> [<strong class='reserved'>while</strong>] the location is no good, [<strong class='reserved'>do</strong>] choose another one:
<a id='L422' name='L422'></a> 422                 [<strong class='reserved'>while</strong>]
<a id='L423' name='L423'></a> 423                     [have_location]
<a id='L424' name='L424'></a> 424                         <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=$possible_bat_locations[$location_index].x
<a id='L425' name='L425'></a> 425                         <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=$possible_bat_locations[$location_index].y
<a id='L426' name='L426'></a> 426                         [filter]
<a id='L427' name='L427'></a> 427                             # It's no good because there is already a unit here.
<a id='L428' name='L428'></a> 428                         [/filter]
<a id='L429' name='L429'></a> 429                     [/have_location]
<a id='L430' name='L430'></a> 430                     [or]
<a id='L431' name='L431'></a> 431                         [variable]
<a id='L432' name='L432'></a> 432                             # It's no good because it's off the edge of the map.
<a id='L433' name='L433'></a> 433 <em class='sharp'>                            #</em> (It can only go off in the positive x direction.)
<a id='L434' name='L434'></a> 434                             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=possible_bat_locations[$location_index].x
<a id='L435' name='L435'></a> 435                             <a href='../Y/11051.html' title='Multiple used in 120 places.'>greater_than</a>=53
<a id='L436' name='L436'></a> 436                         [/variable]
<a id='L437' name='L437'></a> 437                     [/or]
<a id='L438' name='L438'></a> 438                     [<strong class='reserved'>do</strong>]
<a id='L439' name='L439'></a> 439                         [set_variable]
<a id='L440' name='L440'></a> 440                             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=location_index
<a id='L441' name='L441'></a> 441                             <a href='../S/304.html#L337' title='Defined at 337 in src/terrain/builder.hpp.'>rand</a>=0.."$($possible_bat_locations.length-1)"
<a id='L442' name='L442'></a> 442                         [/set_variable]
<a id='L443' name='L443'></a> 443                     [/<strong class='reserved'>do</strong>]
<a id='L444' name='L444'></a> 444                 [/<strong class='reserved'>while</strong>]
<a id='L445' name='L445'></a> 445 
<a id='L446' name='L446'></a> 446                 # The bat_index reaches higher with each difficulty level. The
<a id='L447' name='L447'></a> 447                 # types of bats are hard-coded instead of random because it can
<a id='L448' name='L448'></a> 448                 # make a large difference in the difficulty.
<a id='L449' name='L449'></a> 449                 [<strong class='reserved'>switch</strong>]
<a id='L450' name='L450'></a> 450                     <a href='../Y/21338.html' title='Multiple used in 986 places.'>variable</a>=bat_index
<a id='L451' name='L451'></a> 451                     [<strong class='reserved'>case</strong>]
<a id='L452' name='L452'></a> 452                         <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=1, 5, 8
<a id='L453' name='L453'></a> 453                         [set_variable]
<a id='L454' name='L454'></a> 454                             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=bat_type
<a id='L455' name='L455'></a> 455                             <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=Vampire Bat
<a id='L456' name='L456'></a> 456                         [/set_variable]
<a id='L457' name='L457'></a> 457                     [/<strong class='reserved'>case</strong>]
<a id='L458' name='L458'></a> 458                     [<strong class='reserved'>case</strong>]
<a id='L459' name='L459'></a> 459                         <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=2, 4, 6, 9
<a id='L460' name='L460'></a> 460                         [set_variable]
<a id='L461' name='L461'></a> 461                             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=bat_type
<a id='L462' name='L462'></a> 462                             <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=Blood Bat
<a id='L463' name='L463'></a> 463                         [/set_variable]
<a id='L464' name='L464'></a> 464                     [/<strong class='reserved'>case</strong>]
<a id='L465' name='L465'></a> 465                     [<strong class='reserved'>case</strong>]
<a id='L466' name='L466'></a> 466                         <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=3, 7, 10
<a id='L467' name='L467'></a> 467                         [set_variable]
<a id='L468' name='L468'></a> 468                             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=bat_type
<a id='L469' name='L469'></a> 469                             <a href='../D/15883.html' title='Multiple defined in 19 places.'>value</a>=Dread Bat
<a id='L470' name='L470'></a> 470                         [/set_variable]
<a id='L471' name='L471'></a> 471                     [/<strong class='reserved'>case</strong>]
<a id='L472' name='L472'></a> 472                 [/<strong class='reserved'>switch</strong>]
<a id='L473' name='L473'></a> 473                 # Put a bat on the map at the selected location:
<a id='L474' name='L474'></a> 474                 [unit]
<a id='L475' name='L475'></a> 475                     <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=$bat_type
<a id='L476' name='L476'></a> 476                     <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=$possible_bat_locations[$location_index].x
<a id='L477' name='L477'></a> 477                     <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=$possible_bat_locations[$location_index].y
<a id='L478' name='L478'></a> 478                     <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L479' name='L479'></a> 479                 [/unit]
<a id='L480' name='L480'></a> 480 
<a id='L481' name='L481'></a> 481                 [set_variable]
<a id='L482' name='L482'></a> 482                     <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=bat_index
<a id='L483' name='L483'></a> 483                     <a href='../D/2779.html' title='Multiple defined in 10 places.'>add</a>=1
<a id='L484' name='L484'></a> 484                 [/set_variable]
<a id='L485' name='L485'></a> 485             [/<strong class='reserved'>do</strong>]
<a id='L486' name='L486'></a> 486         [/<strong class='reserved'>while</strong>]
<a id='L487' name='L487'></a> 487         [message]
<a id='L488' name='L488'></a> 488             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L489' name='L489'></a> 489             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "So it’s only bats, but rather a lot of them."
<a id='L490' name='L490'></a> 490         [/message]
<a id='L491' name='L491'></a> 491 
<a id='L492' name='L492'></a> 492         [clear_variable]
<a id='L493' name='L493'></a> 493             <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=possible_bat_locations, bat_index, bat_type, location_index
<a id='L494' name='L494'></a> 494         [/clear_variable]
<a id='L495' name='L495'></a> 495     [/event]
<a id='L496' name='L496'></a> 496 
<a id='L497' name='L497'></a> 497 <em class='sharp'>    #</em> *************************** OPENING / ENDING ***************************
<a id='L498' name='L498'></a> 498     [event]
<a id='L499' name='L499'></a> 499         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=moveto
<a id='L500' name='L500'></a> 500 
<a id='L501' name='L501'></a> 501         [filter]
<a id='L502' name='L502'></a> 502             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=53,20
<a id='L503' name='L503'></a> 503             <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Ardonna
<a id='L504' name='L504'></a> 504         [/filter]
<a id='L505' name='L505'></a> 505 
<a id='L506' name='L506'></a> 506         [message]
<a id='L507' name='L507'></a> 507             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L508' name='L508'></a> 508             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Now let’s see where that ghost went."
<a id='L509' name='L509'></a> 509         [/message]
<a id='L510' name='L510'></a> 510         [endlevel]
<a id='L511' name='L511'></a> 511             <a href='../D/12887.html' title='Multiple defined in 10 places.'>result</a>=victory
<a id='L512' name='L512'></a> 512             <a href='../Y/6467.html' title='Multiple used in 670 places.'>bonus</a>=yes
<a id='L513' name='L513'></a> 513             <em class='brace'>{</em>NEW_GOLD_CARRYOVER 40<em class='brace'>}</em>
<a id='L514' name='L514'></a> 514         [/endlevel]
<a id='L515' name='L515'></a> 515     [/event]
<a id='L516' name='L516'></a> 516 
<a id='L517' name='L517'></a> 517     [event]
<a id='L518' name='L518'></a> 518         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=start
<a id='L519' name='L519'></a> 519 
<a id='L520' name='L520'></a> 520         [unit]
<a id='L521' name='L521'></a> 521             <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=Shadow
<a id='L522' name='L522'></a> 522             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L523' name='L523'></a> 523             <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Shadow
<a id='L524' name='L524'></a> 524             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=27,15
<a id='L525' name='L525'></a> 525             <a href='../S/991.html#L1158' title='Defined at 1158 in src/units/unit.hpp.'>facing</a>=sw
<a id='L526' name='L526'></a> 526         [/unit]
<a id='L527' name='L527'></a> 527         [message]
<a id='L528' name='L528'></a> 528             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Shadow
<a id='L529' name='L529'></a> 529             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Come."
<a id='L530' name='L530'></a> 530         [/message]
<a id='L531' name='L531'></a> 531         [kill]
<a id='L532' name='L532'></a> 532             <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Shadow
<a id='L533' name='L533'></a> 533         [/kill]
<a id='L534' name='L534'></a> 534         [move_unit_fake]
<a id='L535' name='L535'></a> 535             <a href='../D/16536.html' title='Multiple defined in 2 places.'>x</a>=27,38
<a id='L536' name='L536'></a> 536             <a href='../D/16551.html' title='Multiple defined in 8 places.'>y</a>=15,12
<a id='L537' name='L537'></a> 537             <a href='../D/15413.html' title='Multiple defined in 27 places.'>type</a>=Shadow
<a id='L538' name='L538'></a> 538             <a href='../D/14400.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L539' name='L539'></a> 539         [/move_unit_fake]
<a id='L540' name='L540'></a> 540         [message]
<a id='L541' name='L541'></a> 541             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L542' name='L542'></a> 542             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Let’s follow it into the cave."
<a id='L543' name='L543'></a> 543         [/message]
<a id='L544' name='L544'></a> 544         [message]
<a id='L545' name='L545'></a> 545             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Blaust
<a id='L546' name='L546'></a> 546             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "I don’t know, Bogdush. The chief said he wanted stuff that was helpful for the war."
<a id='L547' name='L547'></a> 547         [/message]
<a id='L548' name='L548'></a> 548         [message]
<a id='L549' name='L549'></a> 549             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Bogdush
<a id='L550' name='L550'></a> 550             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "It’s a &lt;i&gt;mage&lt;/i&gt;! That &lt;i&gt;would&lt;/i&gt; be helpful for the war, you idiot! It’s only a pup, and unless I miss my guess, it’s a female too. It will be easy to capture."
<a id='L551' name='L551'></a> 551         [/message]
<a id='L552' name='L552'></a> 552         [message]
<a id='L553' name='L553'></a> 553             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Blaust
<a id='L554' name='L554'></a> 554             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "What about the others? They look like the dead ones back on the Green Isle."
<a id='L555' name='L555'></a> 555         [/message]
<a id='L556' name='L556'></a> 556         [message]
<a id='L557' name='L557'></a> 557             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Bogdush
<a id='L558' name='L558'></a> 558             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "They are. It makes our job of killing them that much easier!"
<a id='L559' name='L559'></a> 559         [/message]
<a id='L560' name='L560'></a> 560         [modify_unit]
<a id='L561' name='L561'></a> 561             [filter]
<a id='L562' name='L562'></a> 562                 <a href='../D/8621.html' title='Multiple defined in 22 places.'>id</a>=Blaust
<a id='L563' name='L563'></a> 563             [/filter]
<a id='L564' name='L564'></a> 564             <a href='../S/991.html#L1158' title='Defined at 1158 in src/units/unit.hpp.'>facing</a>=sw
<a id='L565' name='L565'></a> 565         [/modify_unit]
<a id='L566' name='L566'></a> 566         [message]
<a id='L567' name='L567'></a> 567             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Ardonna
<a id='L568' name='L568'></a> 568             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "You must be Goblins. You will stand out of my way if you wish to live."
<a id='L569' name='L569'></a> 569         [/message]
<a id='L570' name='L570'></a> 570         [message]
<a id='L571' name='L571'></a> 571             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=Bogdush
<a id='L572' name='L572'></a> 572             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "Oh, it’s a mage that makes jokes too! Let’s go."
<a id='L573' name='L573'></a> 573         [/message]
<a id='L574' name='L574'></a> 574     [/event]
<a id='L575' name='L575'></a> 575 
<a id='L576' name='L576'></a> 576     [event]
<a id='L577' name='L577'></a> 577         <a href='../D/11252.html' title='Multiple defined in 26 places.'>name</a>=time over
<a id='L578' name='L578'></a> 578 
<a id='L579' name='L579'></a> 579         [message]
<a id='L580' name='L580'></a> 580             <a href='../Y/18842.html' title='Multiple used in 8905 places.'>speaker</a>=narrator
<a id='L581' name='L581'></a> 581             <a href='../D/8652.html' title='Multiple defined in 19 places.'>image</a>=logo.png
<a id='L582' name='L582'></a> 582             <a href='../D/10916.html' title='Multiple defined in 7 places.'>message</a>= _ "You have no more time."
<a id='L583' name='L583'></a> 583         [/message]
<a id='L584' name='L584'></a> 584     [/event]
<a id='L585' name='L585'></a> 585 
<a id='L586' name='L586'></a> 586     <em class='brace'>{</em>HERO_DEATHS<em class='brace'>}</em>
<a id='L587' name='L587'></a> 587     <em class='brace'>{</em>MANAGE_PROFILE<em class='brace'>}</em>
<a id='L588' name='L588'></a> 588 
<a id='L589' name='L589'></a> 589 <em class='sharp'>#undef</em> MOVE_AND_PLACE_BAT
<a id='L590' name='L590'></a> 590 <em class='sharp'>#undef</em> CAVE_TERRAINS
<a id='L591' name='L591'></a> 591 <em class='sharp'>#undef</em> NUMBER_OF_EXTRA_BATS
<a id='L592' name='L592'></a> 592 [/scenario]
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
