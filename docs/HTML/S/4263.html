<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>data/ai/micro_ais/scenarios/guardians.cfg</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5634.html'>data</a>/<a href='../files/5635.html'>ai</a>/<a href='../files/5640.html'>micro_ais</a>/<a href='../files/5644.html'>scenarios</a>/guardians.cfg</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 #textdomain wesnoth-ai
<a id='L2' name='L2'></a>   2 
<a id='L3' name='L3'></a>   3 <em class='sharp'>#define</em> HOME_GUARDIAN X Y
<a id='L4' name='L4'></a>   4     # Meant to be used as a suffix to a unit-generating macro call.
<a id='L5' name='L5'></a>   5     # The previously-generated unit will treat (X,Y) as its home.
<a id='L6' name='L6'></a>   6     [+unit]
<a id='L7' name='L7'></a>   7         [ai]
<a id='L8' name='L8'></a>   8             [vars]
<a id='L9' name='L9'></a>   9                 home_loc="loc({X},{Y})"
<a id='L10' name='L10'></a>  10             [/vars]
<a id='L11' name='L11'></a>  11         [/ai]
<a id='L12' name='L12'></a>  12     [/unit]
<a id='L13' name='L13'></a>  13 #enddef
<a id='L14' name='L14'></a>  14 
<a id='L15' name='L15'></a>  15 [test]
<a id='L16' name='L16'></a>  16     <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=guardians
<a id='L17' name='L17'></a>  17     <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Guardians"
<a id='L18' name='L18'></a>  18     <a href='../D/11290.html' title='Multiple defined in 2 places.'>next_scenario</a>=micro_ai_test
<a id='L19' name='L19'></a>  19 
<a id='L20' name='L20'></a>  20     <a href='../D/10678.html' title='Multiple defined in 2 places.'>map_data</a>="{/multiplayer/maps/4p_Paths_of_Daggers.map}"
<a id='L21' name='L21'></a>  21 
<a id='L22' name='L22'></a>  22     <em class='brace'>{</em>DEFAULT_SCHEDULE<em class='brace'>}</em>
<a id='L23' name='L23'></a>  23     <a href='../S/791.html#L560' title='Defined at 560 in src/preferences/game.cpp.'>turns</a>=-1
<a id='L24' name='L24'></a>  24     <a href='../Y/21316.html' title='Multiple used in 175 places.'>victory_when_enemies_defeated</a>=no
<a id='L25' name='L25'></a>  25 
<a id='L26' name='L26'></a>  26     [side]
<a id='L27' name='L27'></a>  27         <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L28' name='L28'></a>  28         <a href='../D/4858.html' title='Multiple defined in 7 places.'>controller</a>=human
<a id='L29' name='L29'></a>  29         <a href='../Y/19218.html' title='Multiple used in 27 places.'>suppress_end_turn_confirmation</a>=yes
<a id='L30' name='L30'></a>  30         <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=Kraa
<a id='L31' name='L31'></a>  31         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Kraa"
<a id='L32' name='L32'></a>  32         <a href='../S/988.html#L330' title='Defined at 330 in src/units/unit.hpp.'>unrenamable</a>=yes
<a id='L33' name='L33'></a>  33         <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Gryphon
<a id='L34' name='L34'></a>  34         <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=3,5
<a id='L35' name='L35'></a>  35 
<a id='L36' name='L36'></a>  36         <a href='../D/14880.html' title='Multiple defined in 4 places.'>team_name</a>=gryphons
<a id='L37' name='L37'></a>  37         <a href='../D/15744.html' title='Multiple defined in 2 places.'>user_team_name</a>=_"Gryphons"
<a id='L38' name='L38'></a>  38         <a href='../D/12422.html' title='Multiple defined in 5 places.'>recruit</a>=Gryphon
<a id='L39' name='L39'></a>  39         <a href='../S/1073.html#L342' title='Defined at 342 in src/team.hpp.'>persistent</a>=no
<a id='L40' name='L40'></a>  40 
<a id='L41' name='L41'></a>  41         <a href='../D/8184.html' title='Multiple defined in 3 places.'>gold</a>=200
<a id='L42' name='L42'></a>  42     [/side]
<a id='L43' name='L43'></a>  43 
<a id='L44' name='L44'></a>  44     # Guardians
<a id='L45' name='L45'></a>  45     [side]
<a id='L46' name='L46'></a>  46         <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L47' name='L47'></a>  47         <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Orcish Leader
<a id='L48' name='L48'></a>  48         <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=Another Bad Orc
<a id='L49' name='L49'></a>  49         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Another Bad Orc"
<a id='L50' name='L50'></a>  50         <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=33,24
<a id='L51' name='L51'></a>  51 
<a id='L52' name='L52'></a>  52         <a href='../Y/6955.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L53' name='L53'></a>  53         <a href='../D/12422.html' title='Multiple defined in 5 places.'>recruit</a>=Orcish Archer,Orcish Grunt
<a id='L54' name='L54'></a>  54         <a href='../S/1073.html#L342' title='Defined at 342 in src/team.hpp.'>persistent</a>=no
<a id='L55' name='L55'></a>  55         <a href='../D/8184.html' title='Multiple defined in 3 places.'>gold</a>=30
<a id='L56' name='L56'></a>  56 
<a id='L57' name='L57'></a>  57         [ai]
<a id='L58' name='L58'></a>  58             [modify_ai]
<a id='L59' name='L59'></a>  59                 <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L60' name='L60'></a>  60                 <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L61' name='L61'></a>  61                 # wmllint: unbalanced-on
<a id='L62' name='L62'></a>  62                 <a href='../D/11732.html' title='Multiple defined in 6 places.'>path</a>=stage[main_loop].candidate_action[]
<a id='L63' name='L63'></a>  63                 # wmllint: unbalanced-off
<a id='L64' name='L64'></a>  64                 [candidate_action]
<a id='L65' name='L65'></a>  65                     <a href='../D/5860.html' title='Multiple defined in 3 places.'>engine</a>=fai
<a id='L66' name='L66'></a>  66                     <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=go_home
<a id='L67' name='L67'></a>  67                     <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=go_home
<a id='L68' name='L68'></a>  68                     <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=movement
<a id='L69' name='L69'></a>  69                     # wmlindent: start ignoring
<a id='L70' name='L70'></a>  70                     <a href='../Y/9465.html' title='Multiple used in 71 places.'>evaluation</a>="if( (null != me.vars.home_loc), {AI_CA_MOVE_TO_TARGETS_SCORE}+10, 0)"
<a id='L71' name='L71'></a>  71                     <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>="if( (me.loc != me.vars.home_loc), move(me.loc, next_hop(me.loc, me.vars.home_loc)), move(me.loc, me.loc)#do not move this turn#)"
<a id='L72' name='L72'></a>  72                     # wmlindent: stop ignoring
<a id='L73' name='L73'></a>  73                 [/candidate_action]
<a id='L74' name='L74'></a>  74             [/modify_ai]
<a id='L75' name='L75'></a>  75         [/ai]
<a id='L76' name='L76'></a>  76     [/side]
<a id='L77' name='L77'></a>  77 
<a id='L78' name='L78'></a>  78     # Put all the units and markers out there
<a id='L79' name='L79'></a>  79     [event]
<a id='L80' name='L80'></a>  80         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=prestart
<a id='L81' name='L81'></a>  81 
<a id='L82' name='L82'></a>  82         <em class='brace'>{</em>VARIABLE scenario_name guardians<em class='brace'>}</em>
<a id='L83' name='L83'></a>  83 
<a id='L84' name='L84'></a>  84         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 1 6<em class='brace'>}</em>
<a id='L85' name='L85'></a>  85         <em class='brace'>{</em>SET_LABEL 1 6 _"End Scenario"<em class='brace'>}</em>
<a id='L86' name='L86'></a>  86 
<a id='L87' name='L87'></a>  87         # A couple gryphons
<a id='L88' name='L88'></a>  88         <em class='brace'>{</em>GENERIC_UNIT 1 Gryphon 4 6<em class='brace'>}</em>
<a id='L89' name='L89'></a>  89         <em class='brace'>{</em>GENERIC_UNIT 1 Gryphon 5 4<em class='brace'>}</em>
<a id='L90' name='L90'></a>  90 
<a id='L91' name='L91'></a>  91         # The normal guardians
<a id='L92' name='L92'></a>  92         [unit]
<a id='L93' name='L93'></a>  93             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Dwarvish Guardsman
<a id='L94' name='L94'></a>  94             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L95' name='L95'></a>  95             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=guardian1
<a id='L96' name='L96'></a>  96             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Guardian 1"
<a id='L97' name='L97'></a>  97             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=12,1
<a id='L98' name='L98'></a>  98             <a href='../Y/5364.html' title='Multiple used in 276 places.'>ai_special</a>=guardian
<a id='L99' name='L99'></a>  99             [variables]
<a id='L100' name='L100'></a> 100                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="ai_special=guardian"
<a id='L101' name='L101'></a> 101             [/variables]
<a id='L102' name='L102'></a> 102         [/unit]
<a id='L103' name='L103'></a> 103         [unit]
<a id='L104' name='L104'></a> 104             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Dwarvish Guardsman
<a id='L105' name='L105'></a> 105             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L106' name='L106'></a> 106             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=guardian2
<a id='L107' name='L107'></a> 107             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Guardian 2"
<a id='L108' name='L108'></a> 108             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=15,1
<a id='L109' name='L109'></a> 109             <a href='../Y/5364.html' title='Multiple used in 276 places.'>ai_special</a>=guardian
<a id='L110' name='L110'></a> 110             [variables]
<a id='L111' name='L111'></a> 111                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="ai_special=guardian"
<a id='L112' name='L112'></a> 112             [/variables]
<a id='L113' name='L113'></a> 113         [/unit]
<a id='L114' name='L114'></a> 114 
<a id='L115' name='L115'></a> 115         # The cowards
<a id='L116' name='L116'></a> 116         [unit]
<a id='L117' name='L117'></a> 117             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Giant Rat
<a id='L118' name='L118'></a> 118             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L119' name='L119'></a> 119             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward1
<a id='L120' name='L120'></a> 120             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Coward 1"
<a id='L121' name='L121'></a> 121             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=14,21
<a id='L122' name='L122'></a> 122             [modifications]
<a id='L123' name='L123'></a> 123                 <em class='brace'>{</em>TRAIT_QUICK<em class='brace'>}</em>
<a id='L124' name='L124'></a> 124             [/modifications]
<a id='L125' name='L125'></a> 125             [variables]
<a id='L126' name='L126'></a> 126                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="coward r=5"
<a id='L127' name='L127'></a> 127             [/variables]
<a id='L128' name='L128'></a> 128         [/unit]
<a id='L129' name='L129'></a> 129         [micro_ai]
<a id='L130' name='L130'></a> 130             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L131' name='L131'></a> 131             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=coward
<a id='L132' name='L132'></a> 132             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L133' name='L133'></a> 133 
<a id='L134' name='L134'></a> 134             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward1
<a id='L135' name='L135'></a> 135             <a href='../Y/8767.html' title='Multiple used in 119 places.'>distance</a>=5
<a id='L136' name='L136'></a> 136         [/micro_ai]
<a id='L137' name='L137'></a> 137 
<a id='L138' name='L138'></a> 138         [unit]
<a id='L139' name='L139'></a> 139             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Giant Rat
<a id='L140' name='L140'></a> 140             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L141' name='L141'></a> 141             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward2
<a id='L142' name='L142'></a> 142             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Coward 2"
<a id='L143' name='L143'></a> 143             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=16,21
<a id='L144' name='L144'></a> 144             [modifications]
<a id='L145' name='L145'></a> 145                 <em class='brace'>{</em>TRAIT_QUICK<em class='brace'>}</em>
<a id='L146' name='L146'></a> 146             [/modifications]
<a id='L147' name='L147'></a> 147             [variables]
<a id='L148' name='L148'></a> 148                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="coward r=5
<a id='L149' name='L149'></a> 149     s=24 5"
<a id='L150' name='L150'></a> 150             [/variables]
<a id='L151' name='L151'></a> 151         [/unit]
<a id='L152' name='L152'></a> 152         [micro_ai]
<a id='L153' name='L153'></a> 153             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L154' name='L154'></a> 154             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=coward
<a id='L155' name='L155'></a> 155             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L156' name='L156'></a> 156 
<a id='L157' name='L157'></a> 157             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward2
<a id='L158' name='L158'></a> 158             <a href='../Y/8767.html' title='Multiple used in 119 places.'>distance</a>=5
<a id='L159' name='L159'></a> 159             <a href='../Y/17951.html' title='Multiple used in 4 places.'>seek_x</a>,<a href='../Y/17952.html' title='Multiple used in 3 places.'>seek_y</a>=24,5
<a id='L160' name='L160'></a> 160         [/micro_ai]
<a id='L161' name='L161'></a> 161 
<a id='L162' name='L162'></a> 162         [unit]
<a id='L163' name='L163'></a> 163             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Giant Rat
<a id='L164' name='L164'></a> 164             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L165' name='L165'></a> 165             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward3
<a id='L166' name='L166'></a> 166             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Coward 3"
<a id='L167' name='L167'></a> 167             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=18,21
<a id='L168' name='L168'></a> 168             [modifications]
<a id='L169' name='L169'></a> 169                 <em class='brace'>{</em>TRAIT_QUICK<em class='brace'>}</em>
<a id='L170' name='L170'></a> 170             [/modifications]
<a id='L171' name='L171'></a> 171             [variables]
<a id='L172' name='L172'></a> 172                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="   coward r=5
<a id='L173' name='L173'></a> 173  s=24,5 a=24,15"
<a id='L174' name='L174'></a> 174             [/variables]
<a id='L175' name='L175'></a> 175         [/unit]
<a id='L176' name='L176'></a> 176         [micro_ai]
<a id='L177' name='L177'></a> 177             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L178' name='L178'></a> 178             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=coward
<a id='L179' name='L179'></a> 179             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L180' name='L180'></a> 180 
<a id='L181' name='L181'></a> 181             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward3
<a id='L182' name='L182'></a> 182             <a href='../Y/8767.html' title='Multiple used in 119 places.'>distance</a>=5
<a id='L183' name='L183'></a> 183             <a href='../Y/17951.html' title='Multiple used in 4 places.'>seek_x</a>,<a href='../Y/17952.html' title='Multiple used in 3 places.'>seek_y</a>=24,5
<a id='L184' name='L184'></a> 184             <a href='../Y/6029.html' title='Multiple used in 2 places.'>avoid_x</a>,<a href='../Y/6030.html' title='Multiple used in 2 places.'>avoid_y</a>=24,15
<a id='L185' name='L185'></a> 185         [/micro_ai]
<a id='L186' name='L186'></a> 186 
<a id='L187' name='L187'></a> 187         [unit]
<a id='L188' name='L188'></a> 188             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Giant Rat
<a id='L189' name='L189'></a> 189             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L190' name='L190'></a> 190             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward4
<a id='L191' name='L191'></a> 191             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Coward 4"
<a id='L192' name='L192'></a> 192             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=12,21
<a id='L193' name='L193'></a> 193             [modifications]
<a id='L194' name='L194'></a> 194                 <em class='brace'>{</em>TRAIT_QUICK<em class='brace'>}</em>
<a id='L195' name='L195'></a> 195             [/modifications]
<a id='L196' name='L196'></a> 196             [variables]
<a id='L197' name='L197'></a> 197                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="coward r=5
<a id='L198' name='L198'></a> 198     s=32,--"
<a id='L199' name='L199'></a> 199             [/variables]
<a id='L200' name='L200'></a> 200         [/unit]
<a id='L201' name='L201'></a> 201         [micro_ai]
<a id='L202' name='L202'></a> 202             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L203' name='L203'></a> 203             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=coward
<a id='L204' name='L204'></a> 204             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L205' name='L205'></a> 205 
<a id='L206' name='L206'></a> 206             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=coward4
<a id='L207' name='L207'></a> 207             <a href='../Y/8767.html' title='Multiple used in 119 places.'>distance</a>=4
<a id='L208' name='L208'></a> 208             <a href='../Y/17951.html' title='Multiple used in 4 places.'>seek_x</a>=32
<a id='L209' name='L209'></a> 209         [/micro_ai]
<a id='L210' name='L210'></a> 210 
<a id='L211' name='L211'></a> 211         <em class='brace'>{</em>SET_LABEL 15 19 _"Move gryphons here to see different coward reactions"<em class='brace'>}</em>
<a id='L212' name='L212'></a> 212         <em class='brace'>{</em>PLACE_IMAGE "items/gohere.png" 13 20<em class='brace'>}</em>
<a id='L213' name='L213'></a> 213         <em class='brace'>{</em>PLACE_IMAGE "items/gohere.png" 17 20<em class='brace'>}</em>
<a id='L214' name='L214'></a> 214 
<a id='L215' name='L215'></a> 215         # The <strong class='reserved'>return</strong> guardians
<a id='L216' name='L216'></a> 216         [unit]
<a id='L217' name='L217'></a> 217             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Troll
<a id='L218' name='L218'></a> 218             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L219' name='L219'></a> 219             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=return1
<a id='L220' name='L220'></a> 220             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Return Guardian 1"
<a id='L221' name='L221'></a> 221             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=20,2
<a id='L222' name='L222'></a> 222             [variables]
<a id='L223' name='L223'></a> 223                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="return 20,2"
<a id='L224' name='L224'></a> 224             [/variables]
<a id='L225' name='L225'></a> 225         [/unit]
<a id='L226' name='L226'></a> 226         [micro_ai]
<a id='L227' name='L227'></a> 227             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L228' name='L228'></a> 228             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=return_guardian
<a id='L229' name='L229'></a> 229             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L230' name='L230'></a> 230 
<a id='L231' name='L231'></a> 231             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=return1
<a id='L232' name='L232'></a> 232             <a href='../Y/17416.html' title='Multiple used in 4 places.'>return_x</a>,<a href='../Y/17417.html' title='Multiple used in 4 places.'>return_y</a>=20,2
<a id='L233' name='L233'></a> 233         [/micro_ai]
<a id='L234' name='L234'></a> 234 
<a id='L235' name='L235'></a> 235         [unit]
<a id='L236' name='L236'></a> 236             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Troll Whelp
<a id='L237' name='L237'></a> 237             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L238' name='L238'></a> 238             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=return2
<a id='L239' name='L239'></a> 239             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Return Guardian 2"
<a id='L240' name='L240'></a> 240             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=21,9
<a id='L241' name='L241'></a> 241             [variables]
<a id='L242' name='L242'></a> 242                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="return 21,9"
<a id='L243' name='L243'></a> 243             [/variables]
<a id='L244' name='L244'></a> 244         [/unit]
<a id='L245' name='L245'></a> 245         [micro_ai]
<a id='L246' name='L246'></a> 246             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L247' name='L247'></a> 247             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=return_guardian
<a id='L248' name='L248'></a> 248             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L249' name='L249'></a> 249 
<a id='L250' name='L250'></a> 250             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=return2
<a id='L251' name='L251'></a> 251             <a href='../Y/17416.html' title='Multiple used in 4 places.'>return_x</a>,<a href='../Y/17417.html' title='Multiple used in 4 places.'>return_y</a>=21,9
<a id='L252' name='L252'></a> 252         [/micro_ai]
<a id='L253' name='L253'></a> 253 
<a id='L254' name='L254'></a> 254         # The home guards
<a id='L255' name='L255'></a> 255         [unit]
<a id='L256' name='L256'></a> 256             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Troll Whelp
<a id='L257' name='L257'></a> 257             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L258' name='L258'></a> 258             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=home1
<a id='L259' name='L259'></a> 259             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Home Guard 1"
<a id='L260' name='L260'></a> 260             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=19,2
<a id='L261' name='L261'></a> 261             [variables]
<a id='L262' name='L262'></a> 262                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="home 19,2"
<a id='L263' name='L263'></a> 263             [/variables]
<a id='L264' name='L264'></a> 264         [/unit]
<a id='L265' name='L265'></a> 265         <em class='brace'>{</em>HOME_GUARDIAN 19 2<em class='brace'>}</em>
<a id='L266' name='L266'></a> 266 
<a id='L267' name='L267'></a> 267         [unit]
<a id='L268' name='L268'></a> 268             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Troll
<a id='L269' name='L269'></a> 269             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L270' name='L270'></a> 270             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=home 2
<a id='L271' name='L271'></a> 271             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Home Guard 2"
<a id='L272' name='L272'></a> 272             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=21,10
<a id='L273' name='L273'></a> 273             [variables]
<a id='L274' name='L274'></a> 274                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="home 21,10"
<a id='L275' name='L275'></a> 275             [/variables]
<a id='L276' name='L276'></a> 276         [/unit]
<a id='L277' name='L277'></a> 277         <em class='brace'>{</em>HOME_GUARDIAN 21 10<em class='brace'>}</em>
<a id='L278' name='L278'></a> 278 
<a id='L279' name='L279'></a> 279         # The stationed guardians
<a id='L280' name='L280'></a> 280         [unit]
<a id='L281' name='L281'></a> 281             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Skeleton Archer
<a id='L282' name='L282'></a> 282             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L283' name='L283'></a> 283             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=stationed1
<a id='L284' name='L284'></a> 284             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Stationed Guardian 1"
<a id='L285' name='L285'></a> 285             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=1,12
<a id='L286' name='L286'></a> 286             [variables]
<a id='L287' name='L287'></a> 287                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>=" stationed r=4
<a id='L288' name='L288'></a> 288 s=2,14 g=3,13"
<a id='L289' name='L289'></a> 289             [/variables]
<a id='L290' name='L290'></a> 290         [/unit]
<a id='L291' name='L291'></a> 291         [micro_ai]
<a id='L292' name='L292'></a> 292             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L293' name='L293'></a> 293             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=stationed_guardian
<a id='L294' name='L294'></a> 294             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L295' name='L295'></a> 295 
<a id='L296' name='L296'></a> 296             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=stationed1
<a id='L297' name='L297'></a> 297             <a href='../Y/8767.html' title='Multiple used in 119 places.'>distance</a>=4
<a id='L298' name='L298'></a> 298             <a href='../Y/18941.html' title='Multiple used in 8 places.'>station_x</a>,<a href='../Y/18942.html' title='Multiple used in 8 places.'>station_y</a>=2,14
<a id='L299' name='L299'></a> 299             <a href='../Y/11052.html' title='Multiple used in 3 places.'>guard_x</a>,<a href='../Y/11053.html' title='Multiple used in 3 places.'>guard_y</a>=3,13
<a id='L300' name='L300'></a> 300         [/micro_ai]
<a id='L301' name='L301'></a> 301 
<a id='L302' name='L302'></a> 302         [unit]
<a id='L303' name='L303'></a> 303             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Skeleton
<a id='L304' name='L304'></a> 304             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L305' name='L305'></a> 305             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=stationed2
<a id='L306' name='L306'></a> 306             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Stationed Guardian 2"
<a id='L307' name='L307'></a> 307             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=6,14
<a id='L308' name='L308'></a> 308             [variables]
<a id='L309' name='L309'></a> 309                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>=" stationed r=4
<a id='L310' name='L310'></a> 310 s=4,14 g=7,13"
<a id='L311' name='L311'></a> 311             [/variables]
<a id='L312' name='L312'></a> 312         [/unit]
<a id='L313' name='L313'></a> 313         [micro_ai]
<a id='L314' name='L314'></a> 314             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L315' name='L315'></a> 315             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=stationed_guardian
<a id='L316' name='L316'></a> 316             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L317' name='L317'></a> 317 
<a id='L318' name='L318'></a> 318             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=stationed2
<a id='L319' name='L319'></a> 319             <a href='../Y/8767.html' title='Multiple used in 119 places.'>distance</a>=4
<a id='L320' name='L320'></a> 320             <a href='../Y/18941.html' title='Multiple used in 8 places.'>station_x</a>,<a href='../Y/18942.html' title='Multiple used in 8 places.'>station_y</a>=4,14
<a id='L321' name='L321'></a> 321             <a href='../Y/11052.html' title='Multiple used in 3 places.'>guard_x</a>,<a href='../Y/11053.html' title='Multiple used in 3 places.'>guard_y</a>=3,13
<a id='L322' name='L322'></a> 322         [/micro_ai]
<a id='L323' name='L323'></a> 323 
<a id='L324' name='L324'></a> 324         # Zone guardians
<a id='L325' name='L325'></a> 325         [unit]
<a id='L326' name='L326'></a> 326             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Troll
<a id='L327' name='L327'></a> 327             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L328' name='L328'></a> 328             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=zone1
<a id='L329' name='L329'></a> 329             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Gate Keeper"
<a id='L330' name='L330'></a> 330             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=5,25
<a id='L331' name='L331'></a> 331             [modifications]
<a id='L332' name='L332'></a> 332                 <em class='brace'>{</em>TRAIT_STRONG<em class='brace'>}</em>
<a id='L333' name='L333'></a> 333             [/modifications]
<a id='L334' name='L334'></a> 334             [variables]
<a id='L335' name='L335'></a> 335                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="Zone Guard"
<a id='L336' name='L336'></a> 336             [/variables]
<a id='L337' name='L337'></a> 337         [/unit]
<a id='L338' name='L338'></a> 338         [micro_ai]
<a id='L339' name='L339'></a> 339             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L340' name='L340'></a> 340             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=zone_guardian
<a id='L341' name='L341'></a> 341             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L342' name='L342'></a> 342 
<a id='L343' name='L343'></a> 343             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=zone1
<a id='L344' name='L344'></a> 344             [filter_location]
<a id='L345' name='L345'></a> 345                 <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>=4,5,6,7,5
<a id='L346' name='L346'></a> 346                 <a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=24,24,24,24,25
<a id='L347' name='L347'></a> 347             [/filter_location]
<a id='L348' name='L348'></a> 348         [/micro_ai]
<a id='L349' name='L349'></a> 349 
<a id='L350' name='L350'></a> 350         [unit]
<a id='L351' name='L351'></a> 351             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Dwarvish Guardsman
<a id='L352' name='L352'></a> 352             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L353' name='L353'></a> 353             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=zone2
<a id='L354' name='L354'></a> 354             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Home Keeper"
<a id='L355' name='L355'></a> 355             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=2,27
<a id='L356' name='L356'></a> 356             [modifications]
<a id='L357' name='L357'></a> 357                 <em class='brace'>{</em>TRAIT_STRONG<em class='brace'>}</em>
<a id='L358' name='L358'></a> 358             [/modifications]
<a id='L359' name='L359'></a> 359             [variables]
<a id='L360' name='L360'></a> 360                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="Zone Guard with
<a id='L361' name='L361'></a> 361 separate attack Zone"
<a id='L362' name='L362'></a> 362             [/variables]
<a id='L363' name='L363'></a> 363         [/unit]
<a id='L364' name='L364'></a> 364         [micro_ai]
<a id='L365' name='L365'></a> 365             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L366' name='L366'></a> 366             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=zone_guardian
<a id='L367' name='L367'></a> 367             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L368' name='L368'></a> 368 
<a id='L369' name='L369'></a> 369             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=zone2
<a id='L370' name='L370'></a> 370             [filter_location]
<a id='L371' name='L371'></a> 371                 <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>=1,2,3,2
<a id='L372' name='L372'></a> 372                 <a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=27,27,27,26
<a id='L373' name='L373'></a> 373             [/filter_location]
<a id='L374' name='L374'></a> 374             [filter_location_enemy]
<a id='L375' name='L375'></a> 375                 <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=1-4,24-27
<a id='L376' name='L376'></a> 376             [/filter_location_enemy]
<a id='L377' name='L377'></a> 377         [/micro_ai]
<a id='L378' name='L378'></a> 378 
<a id='L379' name='L379'></a> 379         [unit]
<a id='L380' name='L380'></a> 380             <a href='../D/15340.html' title='Multiple defined in 27 places.'>type</a>=Naga Fighter
<a id='L381' name='L381'></a> 381             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L382' name='L382'></a> 382             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=zone3
<a id='L383' name='L383'></a> 383             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>= _ "Water Guardian"
<a id='L384' name='L384'></a> 384             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=29,8
<a id='L385' name='L385'></a> 385             [variables]
<a id='L386' name='L386'></a> 386                 <a href='../D/9602.html' title='Multiple defined in 5 places.'>label</a>="Zone Guard"
<a id='L387' name='L387'></a> 387             [/variables]
<a id='L388' name='L388'></a> 388         [/unit]
<a id='L389' name='L389'></a> 389         [micro_ai]
<a id='L390' name='L390'></a> 390             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L391' name='L391'></a> 391             <a href='../Y/5369.html' title='Multiple used in 73 places.'>ai_type</a>=zone_guardian
<a id='L392' name='L392'></a> 392             <a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L393' name='L393'></a> 393 
<a id='L394' name='L394'></a> 394             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=zone3
<a id='L395' name='L395'></a> 395             [filter_location]
<a id='L396' name='L396'></a> 396                 <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=22-31,4-11  # This is intentionally chosen to extend past the lake
<a id='L397' name='L397'></a> 397                 <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=W*
<a id='L398' name='L398'></a> 398             [/filter_location]
<a id='L399' name='L399'></a> 399             <a href='../Y/18941.html' title='Multiple used in 8 places.'>station_x</a>,<a href='../Y/18942.html' title='Multiple used in 8 places.'>station_y</a>=32,8
<a id='L400' name='L400'></a> 400         [/micro_ai]
<a id='L401' name='L401'></a> 401 
<a id='L402' name='L402'></a> 402         <em class='brace'>{</em>SET_LABEL 3 13 _"Guarded Location"<em class='brace'>}</em>
<a id='L403' name='L403'></a> 403         <em class='brace'>{</em>SET_LABEL 2 14 _"Station 1"<em class='brace'>}</em>
<a id='L404' name='L404'></a> 404         <em class='brace'>{</em>SET_LABEL 4 14 _"Station 2"<em class='brace'>}</em>
<a id='L405' name='L405'></a> 405 
<a id='L406' name='L406'></a> 406         # Set initial label <strong class='reserved'>for</strong> each units
<a id='L407' name='L407'></a> 407         [store_unit]
<a id='L408' name='L408'></a> 408             [filter]
<a id='L409' name='L409'></a> 409                 <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L410' name='L410'></a> 410             [/filter]
<a id='L411' name='L411'></a> 411             <a href='../Y/21221.html' title='Multiple used in 987 places.'>variable</a>=tmp_units
<a id='L412' name='L412'></a> 412             <a href='../S/1440.html#L364' title='Defined at 364 in utils/umc_dev/org.wesnoth/src/org/wesnoth/utils/ExternalToolInvoker.java.'>kill</a>=no
<a id='L413' name='L413'></a> 413         [/store_unit]
<a id='L414' name='L414'></a> 414         [foreach]
<a id='L415' name='L415'></a> 415             <a href='../Y/5697.html' title='Multiple used in 178 places.'>array</a>=tmp_units
<a id='L416' name='L416'></a> 416             [<strong class='reserved'>do</strong>]
<a id='L417' name='L417'></a> 417                 <em class='brace'>{</em>SET_LABEL $this_item.x $this_item.y $this_item.variables.label<em class='brace'>}</em>
<a id='L418' name='L418'></a> 418             [/<strong class='reserved'>do</strong>]
<a id='L419' name='L419'></a> 419         [/foreach]
<a id='L420' name='L420'></a> 420         <em class='brace'>{</em>CLEAR_VARIABLE tmp_units<em class='brace'>}</em>
<a id='L421' name='L421'></a> 421 
<a id='L422' name='L422'></a> 422         # The right-click menu items
<a id='L423' name='L423'></a> 423         [set_menu_item]
<a id='L424' name='L424'></a> 424             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=m01_guardian
<a id='L425' name='L425'></a> 425             <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Standard WML Guardian"
<a id='L426' name='L426'></a> 426             <a href='../D/8612.html' title='Multiple defined in 19 places.'>image</a>=units/dwarves/guard.png~CROP(28,24,24,24)
<a id='L427' name='L427'></a> 427             [show_if]
<a id='L428' name='L428'></a> 428                 <em class='brace'>{</em>VARIABLE_CONDITIONAL scenario_name equals guardians<em class='brace'>}</em>
<a id='L429' name='L429'></a> 429             [/show_if]
<a id='L430' name='L430'></a> 430             [command]
<a id='L431' name='L431'></a> 431                 <em class='brace'>{</em>MESSAGE narrator "portraits/dwarves/guard.png" _"Standard WML Guardian" _"This is the built-in WML guardian coded using 'ai_special=guardian'. These guardians attack if there is an enemy within their movement range, otherwise they do nothing (except maybe retreating to a village for healing)."<em class='brace'>}</em>
<a id='L432' name='L432'></a> 432             [/command]
<a id='L433' name='L433'></a> 433         [/set_menu_item]
<a id='L434' name='L434'></a> 434         [set_menu_item]
<a id='L435' name='L435'></a> 435             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=m02_return
<a id='L436' name='L436'></a> 436             <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Return Guardian"
<a id='L437' name='L437'></a> 437             <a href='../D/8612.html' title='Multiple defined in 19 places.'>image</a>=units/trolls/grunt.png~CROP(31,7,24,24)
<a id='L438' name='L438'></a> 438             [show_if]
<a id='L439' name='L439'></a> 439                 <em class='brace'>{</em>VARIABLE_CONDITIONAL scenario_name equals guardians<em class='brace'>}</em>
<a id='L440' name='L440'></a> 440             [/show_if]
<a id='L441' name='L441'></a> 441             [command]
<a id='L442' name='L442'></a> 442                 <em class='brace'>{</em>MESSAGE narrator "portraits/trolls/troll.png" _"Return Guardian" _"A 'return guardian' is a variation of the standard Wesnoth guardian. It has an assigned guard position (GP) to which it returns after attacks on approaching enemies:
<a id='L443' name='L443'></a> 443 - If at GP with no enemy in reach, <strong class='reserved'>do</strong> nothing.
<a id='L444' name='L444'></a> 444 - If at GP with enemy in reach, leave attack to <strong class='reserved'>default</strong> AI (note that this may include not attacking <strong class='reserved'>if</strong> the enemy is deemed too strong).
<a id='L445' name='L445'></a> 445 - If not at GP, <strong class='reserved'>return</strong> there, no matter whether an enemy is in reach or not.
<a id='L446' name='L446'></a> 446 - If enemies are blocking your way back, <strong class='reserved'>do</strong> your best to get there anyway.
<a id='L447' name='L447'></a> 447 - If you end up next to an enemy on the way back, attack after the move."}
<a id='L448' name='L448'></a> 448             [/command]
<a id='L449' name='L449'></a> 449         [/set_menu_item]
<a id='L450' name='L450'></a> 450         [set_menu_item]
<a id='L451' name='L451'></a> 451             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=m03_home
<a id='L452' name='L452'></a> 452             <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Home Guard"
<a id='L453' name='L453'></a> 453             <a href='../D/8612.html' title='Multiple defined in 19 places.'>image</a>=units/trolls/grunt.png~CROP(31,7,24,24)
<a id='L454' name='L454'></a> 454             [show_if]
<a id='L455' name='L455'></a> 455                 <em class='brace'>{</em>VARIABLE_CONDITIONAL scenario_name equals guardians<em class='brace'>}</em>
<a id='L456' name='L456'></a> 456             [/show_if]
<a id='L457' name='L457'></a> 457             [command]
<a id='L458' name='L458'></a> 458                 <em class='brace'>{</em>MESSAGE narrator "portraits/trolls/troll.png" _"Home Guard" _"A 'home guard' is a variant on the 'guardian' AI special. With this variant, the unit has an assigned 'home' location, and will return there if not involved in combat and if not going to a village, whether for healing or to capture it this turn. (By contrast, the standard guardian AI will cause the unit to stay where it last attacked.) This differs from 'return guardian' in that a home guard will press the attack, possibly getting drawn quite far from 'home', rather than returning after each attack. (It can also be lured away by a string of closely-placed villages, but that is something a map builder can control.)
<a id='L459' name='L459'></a> 459 This also demonstrates how to combine candidate actions from Formula AI and Lua AI in one side. The home guard is written in Formula AI, <strong class='reserved'>while</strong> the <strong class='reserved'>return</strong> and stationed guardians and the cowards are written in Lua AI. In addition the non-guardian units of the side follow the <strong class='reserved'>default</strong> AI behavior."}
<a id='L460' name='L460'></a> 460             [/command]
<a id='L461' name='L461'></a> 461         [/set_menu_item]
<a id='L462' name='L462'></a> 462         [set_menu_item]
<a id='L463' name='L463'></a> 463             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=m04_stationed
<a id='L464' name='L464'></a> 464             <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Stationed Guardian"
<a id='L465' name='L465'></a> 465             <a href='../D/8612.html' title='Multiple defined in 19 places.'>image</a>=units/undead-skeletal/archer/archer.png~CROP(24,16,24,24)
<a id='L466' name='L466'></a> 466             [show_if]
<a id='L467' name='L467'></a> 467                 <em class='brace'>{</em>VARIABLE_CONDITIONAL scenario_name equals guardians<em class='brace'>}</em>
<a id='L468' name='L468'></a> 468             [/show_if]
<a id='L469' name='L469'></a> 469             [command]
<a id='L470' name='L470'></a> 470                 <em class='brace'>{</em>MESSAGE narrator "portraits/undead/archer.png" _"Stationed Guardian" _"A 'stationed guardian' is another variation of the standard Wesnoth guardian with a somewhat more complex behavior than that of the 'return guardian'. Two positions are defined for it, a 'station' and a 'guarded location', as well as a 'distance'. The behavior is as follows:
<a id='L471' name='L471'></a> 471 - If no enemy is within 'distance' of the guard's current position, do nothing.
<a id='L472' name='L472'></a> 472 - Otherwise: If an enemy is within 'distance' of the guard, but not also within the same distance of the guarded location and the station (all of this simultaneously), move the guard in the direction of the station.
<a id='L473' name='L473'></a> 473 - Otherwise:
<a id='L474' name='L474'></a> 474   - Pick the enemy unit that is closest to the guarded location.
<a id='L475' name='L475'></a> 475   - If we can reach it, pick the adjacent hex with the highest defense rating and attack from there.
<a id='L476' name='L476'></a> 476   - If not in reach, move toward this unit."}
<a id='L477' name='L477'></a> 477             [/command]
<a id='L478' name='L478'></a> 478         [/set_menu_item]
<a id='L479' name='L479'></a> 479         [set_menu_item]
<a id='L480' name='L480'></a> 480             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=m05_coward
<a id='L481' name='L481'></a> 481             <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Coward"
<a id='L482' name='L482'></a> 482             <a href='../D/8612.html' title='Multiple defined in 19 places.'>image</a>=units/monsters/giant-rat.png~CROP(30,30,24,24)
<a id='L483' name='L483'></a> 483             [show_if]
<a id='L484' name='L484'></a> 484                 <em class='brace'>{</em>VARIABLE_CONDITIONAL scenario_name equals guardians<em class='brace'>}</em>
<a id='L485' name='L485'></a> 485             [/show_if]
<a id='L486' name='L486'></a> 486             [command]
<a id='L487' name='L487'></a> 487                 <em class='brace'>{</em>MESSAGE narrator "units/monsters/giant-rat.png" _"Coward" _"Cowards are units that, like guardians, sit around doing nothing until an enemy comes into range. Unlike guardians, however, they run away once enemies approach. Applications might be wild animals, unarmed civilians getting in the way of a battle, etc. The coward macro can be called with two optional locations, 'seek' and 'avoid':
<a id='L488' name='L488'></a> 488 - If neither is given, the coward retreats to the position farthest away from the approaching enemies.
<a id='L489' name='L489'></a> 489 - If 'seek' is given, it preferentially goes toward that location (but getting away from enemies takes priority).
<a id='L490' name='L490'></a> 490 - If 'avoid' is given, it in addition tries to avoid that location (with both maximizing distance from enemies and going toward 'seek' taking priority).
<a id='L491' name='L491'></a> 491 - Both 'seek' and 'avoid' may consist of only one coordinate ('x' or 'y'), in which <strong class='reserved'>case</strong> not a single hex, but a line of hexes is sought or avoided."}
<a id='L492' name='L492'></a> 492             [/command]
<a id='L493' name='L493'></a> 493         [/set_menu_item]
<a id='L494' name='L494'></a> 494         [set_menu_item]
<a id='L495' name='L495'></a> 495             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=m06_zone
<a id='L496' name='L496'></a> 496             <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Zone Guardian"
<a id='L497' name='L497'></a> 497             <a href='../D/8612.html' title='Multiple defined in 19 places.'>image</a>=units/nagas/fighter.png~CROP(25,19,24,24)
<a id='L498' name='L498'></a> 498             [show_if]
<a id='L499' name='L499'></a> 499                 <em class='brace'>{</em>VARIABLE_CONDITIONAL scenario_name equals guardians<em class='brace'>}</em>
<a id='L500' name='L500'></a> 500             [/show_if]
<a id='L501' name='L501'></a> 501             [command]
<a id='L502' name='L502'></a> 502                 <em class='brace'>{</em>MESSAGE narrator "portraits/nagas/fighter.png" _"Zone Guardian" _"A zone guardian is a unit that, as the name says, guards a zone. It moves randomly inside this zone until an enemy enters it (or a separately defined enemy zone, see below). Applications might be the defense of a castle or a nesting area. The zone macro can be called with an optional enemy zone:
<a id='L503' name='L503'></a> 503 - If not specified, the zone guard attacks any enemy coming inside its guard zone.
<a id='L504' name='L504'></a> 504 - Otherwise, it attacks any enemy entering the enemy zone and once there are no more enemies, it goes back to patrol in its basic zone."}
<a id='L505' name='L505'></a> 505             [/command]
<a id='L506' name='L506'></a> 506         [/set_menu_item]
<a id='L507' name='L507'></a> 507     [/event]
<a id='L508' name='L508'></a> 508 
<a id='L509' name='L509'></a> 509     [event]
<a id='L510' name='L510'></a> 510         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=start
<a id='L511' name='L511'></a> 511 
<a id='L512' name='L512'></a> 512         <em class='brace'>{</em>STORE_UNIT_VAR <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=Kraa profile profile<em class='brace'>}</em>
<a id='L513' name='L513'></a> 513         <em class='brace'>{</em>MESSAGE Kraa "$profile~FL()~RIGHT()" "" _"Kraahhh!!!!"<em class='brace'>}</em>
<a id='L514' name='L514'></a> 514         <em class='brace'>{</em>MESSAGE (Another Bad Orc) "" "" _"They there!  We them get!"<em class='brace'>}</em>
<a id='L515' name='L515'></a> 515         # wmllint: unbalanced-on
<a id='L516' name='L516'></a> 516         <em class='brace'>{</em>MESSAGE Kraa "$profile~FL()~RIGHT()" "" _"Gryphons of the High Plains, look at all these enemies. They don't behave normally. Most of them don't move at all unless we get close. Let's check out how they react to us.
<a id='L517' name='L517'></a> 517 
<a id='L518' name='L518'></a> 518 Note to the player: the right-click context menu provides information about each of the units' behavior.
<a id='L519' name='L519'></a> 519 
<a id='L520' name='L520'></a> 520 Another note: Most of the Guardian AIs are coded as Micro AIs. A Micro AI can be added and adapted to the need of a scenario easily using only WML and the [micro_ai] tag. Check out the &lt;span <a href='../D/4564.html' title='Multiple defined in 5 places.'>color</a>='#00A000'&gt;Micro AI wiki page&lt;/span&gt; at http:<em class='comment'>//wiki.wesnoth.org/Micro_AIs for more information."}</em>
<a id='L521' name='L521'></a> 521         # wmllint: unbalanced-off
<a id='L522' name='L522'></a> 522         <em class='brace'>{</em>CLEAR_VARIABLE profile<em class='brace'>}</em>
<a id='L523' name='L523'></a> 523 
<a id='L524' name='L524'></a> 524         [objectives]
<a id='L525' name='L525'></a> 525             <a href='../S/928.html#L188' title='Defined at 188 in src/save_index.cpp.'>summary</a>= _ "Move the Gryphons around to explore how the guardians react"
<a id='L526' name='L526'></a> 526             [objective]
<a id='L527' name='L527'></a> 527                 <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Defeat all enemy units"
<a id='L528' name='L528'></a> 528                 <a href='../Y/7649.html' title='Multiple used in 1334 places.'>condition</a>=win
<a id='L529' name='L529'></a> 529             [/objective]
<a id='L530' name='L530'></a> 530             [objective]
<a id='L531' name='L531'></a> 531                 <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Move Kraa to the signpost"
<a id='L532' name='L532'></a> 532                 <a href='../Y/7649.html' title='Multiple used in 1334 places.'>condition</a>=win
<a id='L533' name='L533'></a> 533             [/objective]
<a id='L534' name='L534'></a> 534             [objective]
<a id='L535' name='L535'></a> 535                 <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Death of Kraa"
<a id='L536' name='L536'></a> 536                 <a href='../Y/7649.html' title='Multiple used in 1334 places.'>condition</a>=lose
<a id='L537' name='L537'></a> 537             [/objective]
<a id='L538' name='L538'></a> 538             [note]
<a id='L539' name='L539'></a> 539                 <a href='../D/5354.html' title='Multiple defined in 14 places.'>description</a>= _ "Check out the right-click menu options for information on each guardian type"
<a id='L540' name='L540'></a> 540             [/note]
<a id='L541' name='L541'></a> 541         [/objectives]
<a id='L542' name='L542'></a> 542     [/event]
<a id='L543' name='L543'></a> 543 
<a id='L544' name='L544'></a> 544     # Reset the label <strong class='reserved'>for</strong> moving units
<a id='L545' name='L545'></a> 545     [event]
<a id='L546' name='L546'></a> 546         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=moveto
<a id='L547' name='L547'></a> 547         <a href='../Y/10017.html' title='Multiple used in 591 places.'>first_time_only</a>=no
<a id='L548' name='L548'></a> 548         [filter]
<a id='L549' name='L549'></a> 549             <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L550' name='L550'></a> 550         [/filter]
<a id='L551' name='L551'></a> 551 
<a id='L552' name='L552'></a> 552         <em class='brace'>{</em>REMOVE_LABEL $x2 $y2<em class='brace'>}</em>
<a id='L553' name='L553'></a> 553         <em class='brace'>{</em>SET_LABEL $x1 $y1 $unit.variables.label<em class='brace'>}</em>
<a id='L554' name='L554'></a> 554     [/event]
<a id='L555' name='L555'></a> 555 
<a id='L556' name='L556'></a> 556     # The events finishing the scenario
<a id='L557' name='L557'></a> 557     [event]
<a id='L558' name='L558'></a> 558         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=die
<a id='L559' name='L559'></a> 559         <a href='../Y/10017.html' title='Multiple used in 591 places.'>first_time_only</a>=no
<a id='L560' name='L560'></a> 560 
<a id='L561' name='L561'></a> 561         [<strong class='reserved'>if</strong>]
<a id='L562' name='L562'></a> 562             [not]
<a id='L563' name='L563'></a> 563                 [have_unit]
<a id='L564' name='L564'></a> 564                     <a href='../D/14339.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L565' name='L565'></a> 565                 [/have_unit]
<a id='L566' name='L566'></a> 566             [/not]
<a id='L567' name='L567'></a> 567             [then]
<a id='L568' name='L568'></a> 568                 [kill]
<a id='L569' name='L569'></a> 569                     <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=$unit.id
<a id='L570' name='L570'></a> 570                 [/kill]
<a id='L571' name='L571'></a> 571 
<a id='L572' name='L572'></a> 572                 [fire_event]
<a id='L573' name='L573'></a> 573                     <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=end_scenario
<a id='L574' name='L574'></a> 574                 [/fire_event]
<a id='L575' name='L575'></a> 575             [/then]
<a id='L576' name='L576'></a> 576         [/<strong class='reserved'>if</strong>]
<a id='L577' name='L577'></a> 577     [/event]
<a id='L578' name='L578'></a> 578 
<a id='L579' name='L579'></a> 579     [event]
<a id='L580' name='L580'></a> 580         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=moveto
<a id='L581' name='L581'></a> 581         [filter]
<a id='L582' name='L582'></a> 582             <a href='../D/8581.html' title='Multiple defined in 22 places.'>id</a>=Kraa
<a id='L583' name='L583'></a> 583             <a href='../D/16456.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16471.html' title='Multiple defined in 8 places.'>y</a>=1,6
<a id='L584' name='L584'></a> 584         [/filter]
<a id='L585' name='L585'></a> 585 
<a id='L586' name='L586'></a> 586         [fire_event]
<a id='L587' name='L587'></a> 587             <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=end_scenario
<a id='L588' name='L588'></a> 588         [/fire_event]
<a id='L589' name='L589'></a> 589     [/event]
<a id='L590' name='L590'></a> 590 
<a id='L591' name='L591'></a> 591     [event]
<a id='L592' name='L592'></a> 592         <a href='../D/11204.html' title='Multiple defined in 26 places.'>name</a>=end_scenario
<a id='L593' name='L593'></a> 593 
<a id='L594' name='L594'></a> 594         <em class='brace'>{</em>MESSAGE Kraa "" "" _"Gryphons of the High Plains, it is time to return to said plains. Follow me."<em class='brace'>}</em>
<a id='L595' name='L595'></a> 595 
<a id='L596' name='L596'></a> 596         [endlevel]
<a id='L597' name='L597'></a> 597             <a href='../D/12835.html' title='Multiple defined in 10 places.'>result</a>=victory
<a id='L598' name='L598'></a> 598             <a href='../Y/6427.html' title='Multiple used in 670 places.'>bonus</a>=no
<a id='L599' name='L599'></a> 599             <a href='../S/1073.html#L348' title='Defined at 348 in src/team.hpp.'>carryover_percentage</a>=0
<a id='L600' name='L600'></a> 600             <a href='../Y/6973.html' title='Multiple used in 128 places.'>carryover_report</a>=no
<a id='L601' name='L601'></a> 601             <a href='../Y/13009.html' title='Multiple used in 111 places.'>linger_mode</a>=no
<a id='L602' name='L602'></a> 602         [/endlevel]
<a id='L603' name='L603'></a> 603     [/event]
<a id='L604' name='L604'></a> 604 [/test]
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
