<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>data/tools/addon_manager/html.py</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5641.html'>data</a>/<a href='../files/5804.html'>tools</a>/<a href='../files/5805.html'>addon_manager</a>/html.py</h2>
<em class='comment'>/* [&lt;][&gt;]<a href='#L5'>[^]</a><a href='#L13'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<h2 class='header'>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L5' title='Defined at 5.'>htmlescape</a></li>
<li><a href='#L8' title='Defined at 8.'>output</a></li>
<li><a href='#L13' title='Defined at 13.'>w</a></li>
</ol>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 # encoding: utf-8
<a id='L2' name='L2'></a>   2 import <a href='../Y/7216.html' title='Multiple used in 2 places.'>cgi</a>, <a href='../D/15206.html' title='Multiple defined in 4 places.'>time</a>, <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>, <a href='../Y/11077.html' title='Multiple used in 35 places.'>glob</a>, <a href='../Y/19576.html' title='Multiple used in 228 places.'>sys</a>, <a href='../Y/17096.html' title='Multiple used in 713 places.'>re</a>
<a id='L3' name='L3'></a>   3 from <a href='../Y/19472.html' title='Multiple used in 36 places.'>subprocess</a> import <a href='../Y/2229.html' title='Multiple used in 15 places.'>Popen</a>
<a id='L4' name='L4'></a>   4 
<a id='L5' name='L5'></a>   5 def <a href='../R/7783.html' title='Multiple referred from 9 places.'>htmlescape</a>(<a href='../D/14785.html' title='Multiple defined in 25 places.'>str</a>):
<a id='L6' name='L6'></a>   6     <strong class='reserved'>return</strong> <a href='../Y/7216.html' title='Multiple used in 2 places.'>cgi</a>.<a href='../D/5987.html' title='Multiple defined in 4 places.'>escape</a>(<a href='../D/14785.html' title='Multiple defined in 25 places.'>str</a>)
<a id='L7' name='L7'></a>   7 
<a id='L8' name='L8'></a>   8 def <a href='../R/10599.html' title='Multiple referred from 145 places.'>output</a>(<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>, <a href='../Y/21295.html' title='Multiple used in 43 places.'>url</a>, <a href='../D/5234.html' title='Multiple defined in 16 places.'>data</a>):
<a id='L9' name='L9'></a>   9     try: <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../Y/14313.html' title='Multiple used in 7 places.'>mkdir</a>(<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>)
<a id='L10' name='L10'></a>  10     except <a href='../Y/2096.html' title='Multiple used in 15 places.'>OSError</a>: pass
<a id='L11' name='L11'></a>  11 
<a id='L12' name='L12'></a>  12     <a href='../D/6123.html' title='Multiple defined in 9 places.'>f</a> = <a href='../D/11594.html' title='Multiple defined in 3 places.'>open</a>(<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a> + "/index.html", "w")
<a id='L13' name='L13'></a>  13     def <a href='../R/14799.html' title='Multiple referred from 1535 places.'>w</a>(<a href='../D/16607.html' title='Multiple defined in 2 places.'>x</a>):
<a id='L14' name='L14'></a>  14         <a href='../D/6123.html' title='Multiple defined in 9 places.'>f</a>.<a href='../D/16544.html' title='Multiple defined in 55 places.'>write</a>(<a href='../D/16607.html' title='Multiple defined in 2 places.'>x</a> + "\n")
<a id='L15' name='L15'></a>  15     <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a> = <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../S/4066.html#L107' title='Defined at 107 in data/tools/expand-terrain-macros.py.'>basename</a>(path)
<a id='L16' name='L16'></a>  16     <strong class='reserved'>if</strong> <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a> == "1.9":
<a id='L17' name='L17'></a>  17 <em class='sharp'>        #</em> 1.9 became the 1.10 add-ons server. Reflect that here.
<a id='L18' name='L18'></a>  18         <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a> = "1.10"
<a id='L19' name='L19'></a>  19     elif <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a> == "trunk":
<a id='L20' name='L20'></a>  20         <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a> = "Testing (Trunk)"
<a id='L21' name='L21'></a>  21     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L22' name='L22'></a>  22 &lt;!DOCTYPE html&gt;
<a id='L23' name='L23'></a>  23 
<a id='L24' name='L24'></a>  24 &lt;html class="no-js addonsweb" lang="en"&gt;
<a id='L25' name='L25'></a>  25 &lt;head&gt;
<a id='L26' name='L26'></a>  26     &lt;meta charset="utf-8" /&gt;
<a id='L27' name='L27'></a>  27     &lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;
<a id='L28' name='L28'></a>  28 
<a id='L29' name='L29'></a>  29     &lt;link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montaga%7COpen+Sans:400,400i,700,700i" type="text/css" /&gt;
<a id='L30' name='L30'></a>  30     &lt;link rel="icon" type="image/png" href="https://www.wesnoth.org/wesmere/img/favicon-32.png" sizes="32x32" /&gt;
<a id='L31' name='L31'></a>  31     &lt;link rel="icon" type="image/png" href="https://www.wesnoth.org/wesmere/img/favicon-16.png" sizes="16x16" /&gt;
<a id='L32' name='L32'></a>  32     &lt;link rel="stylesheet" type="text/css" href="https://www.wesnoth.org/wesmere/css/wesmere-1.1.0.css" /&gt;
<a id='L33' name='L33'></a>  33     &lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;""")
<a id='L34' name='L34'></a>  34     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;title&gt;Wesnoth %s Add-ons List - The Battle for Wesnoth&lt;/title&gt;" % <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a>)
<a id='L35' name='L35'></a>  35     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""
<a id='L36' name='L36'></a>  36     &lt;script src="https://www.wesnoth.org/wesmere/js/modernizr.js"&gt;&lt;/script&gt;
<a id='L37' name='L37'></a>  37     &lt;script type="text/javascript" src="jquery.js"&gt;&lt;/script&gt;
<a id='L38' name='L38'></a>  38     &lt;script type="text/javascript" src="tablesorter.js"&gt;&lt;/script&gt;
<a id='L39' name='L39'></a>  39     &lt;script type="text/javascript"&gt;
<a id='L40' name='L40'></a>  40     $(document).ready(function() <em class='brace'>{</em>
<a id='L41' name='L41'></a>  41         $("#campaigns").tablesorter(<em class='brace'>{</em>
<a id='L42' name='L42'></a>  42             headers: <em class='brace'>{</em> 1: <em class='brace'>{</em> sorter: false <em class='brace'>}</em>, 2: <em class='brace'>{</em> sortInitialOrder: "asc" <em class='brace'>}</em> <em class='brace'>}</em>,
<a id='L43' name='L43'></a>  43         <em class='brace'>}</em>);
<a id='L44' name='L44'></a>  44     <em class='brace'>}</em>);
<a id='L45' name='L45'></a>  45     &lt;/script&gt;
<a id='L46' name='L46'></a>  46 &lt;/head&gt;
<a id='L47' name='L47'></a>  47 
<a id='L48' name='L48'></a>  48 &lt;body&gt;
<a id='L49' name='L49'></a>  49 
<a id='L50' name='L50'></a>  50 &lt;div id="main"&gt;
<a id='L51' name='L51'></a>  51 
<a id='L52' name='L52'></a>  52 &lt;div id="nav" role="banner"&gt;
<a id='L53' name='L53'></a>  53 &lt;div class="centerbox"&gt;
<a id='L54' name='L54'></a>  54 
<a id='L55' name='L55'></a>  55     &lt;div id="logo"&gt;
<a id='L56' name='L56'></a>  56         &lt;a href="https://www.wesnoth.org/" aria-label="Wesnoth logo"&gt;&lt;/a&gt;
<a id='L57' name='L57'></a>  57     &lt;/div&gt;
<a id='L58' name='L58'></a>  58 
<a id='L59' name='L59'></a>  59     &lt;ul id="navlinks"&gt;
<a id='L60' name='L60'></a>  60         &lt;li&gt;&lt;a href="https://addons.wesnoth.org/"&gt;Add-ons&lt;/a&gt;&lt;/li&gt;
<a id='L61' name='L61'></a>  61         &lt;li&gt;&lt;a href="https://www.wesnoth.org/"&gt;Home&lt;/a&gt;&lt;/li&gt;
<a id='L62' name='L62'></a>  62         &lt;li&gt;&lt;a href="https://forums.wesnoth.org/viewforum.php?f=62"&gt;News&lt;/a&gt;&lt;/li&gt;
<a id='L63' name='L63'></a>  63         &lt;li&gt;&lt;a href="https://wiki.wesnoth.org/Play"&gt;Play&lt;/a&gt;&lt;/li&gt;
<a id='L64' name='L64'></a>  64         &lt;li&gt;&lt;a href="https://wiki.wesnoth.org/Create"&gt;Create&lt;/a&gt;&lt;/li&gt;
<a id='L65' name='L65'></a>  65         &lt;li&gt;&lt;a href="https://forums.wesnoth.org/"&gt;Forums&lt;/a&gt;&lt;/li&gt;
<a id='L66' name='L66'></a>  66         &lt;li&gt;&lt;a href="https://wiki.wesnoth.org/Project"&gt;About&lt;/a&gt;&lt;/li&gt;
<a id='L67' name='L67'></a>  67     &lt;/ul&gt;
<a id='L68' name='L68'></a>  68 
<a id='L69' name='L69'></a>  69     &lt;div id="sitesearch" role="search"&gt;
<a id='L70' name='L70'></a>  70         &lt;form method="get" action="https://wiki.wesnoth.org/"&gt;
<a id='L71' name='L71'></a>  71             &lt;input id="searchbox" type="search" name="search" placeholder="Search" title="Search the wiki [Alt+Shift+f]" accesskey="f" /&gt;
<a id='L72' name='L72'></a>  72             &lt;span id="searchbox-controls"&gt;
<a id='L73' name='L73'></a>  73                 &lt;button id="search-go" class="search-button" type="submit" title="Search"&gt;
<a id='L74' name='L74'></a>  74                     &lt;i class="search-icon" aria-hidden="true"&gt;&lt;/i&gt;
<a id='L75' name='L75'></a>  75                     &lt;span class="sr-label"&gt;Search the wiki&lt;/span&gt;
<a id='L76' name='L76'></a>  76                 &lt;/button&gt;
<a id='L77' name='L77'></a>  77             &lt;/span&gt;
<a id='L78' name='L78'></a>  78         &lt;/form&gt;
<a id='L79' name='L79'></a>  79     &lt;/div&gt;
<a id='L80' name='L80'></a>  80 
<a id='L81' name='L81'></a>  81     &lt;div class="reset"&gt;&lt;/div&gt;
<a id='L82' name='L82'></a>  82 &lt;/div&gt;
<a id='L83' name='L83'></a>  83 &lt;/div&gt;
<a id='L84' name='L84'></a>  84 
<a id='L85' name='L85'></a>  85 &lt;div id="content"&gt;""")
<a id='L86' name='L86'></a>  86     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;h1&gt;Wesnoth %s Add-ons List&lt;/h1&gt;" % <a href='../Y/18382.html' title='Multiple used in 7 places.'>server_name</a>)
<a id='L87' name='L87'></a>  87     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""&lt;p&gt;To install add-ons using the in-game client, choose "Add-ons" from the main menu, and click "Connect" to connect to the add-ons server. Pick the add-on you want to install from the list and click "OK" — the download will commence immediately and the add-on will be automatically installed once finished. Bear in mind that not all add-ons are singleplayer campaigns!&lt;/p&gt;""")
<a id='L88' name='L88'></a>  88     <strong class='reserved'>if</strong> <a href='../Y/21295.html' title='Multiple used in 43 places.'>url</a>:
<a id='L89' name='L89'></a>  89         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""
<a id='L90' name='L90'></a>  90           &lt;p&gt;&lt;strong&gt;If&lt;/strong&gt; you really need or would prefer to download add-ons from this web page instead of using the built-in client, use a compatible program to uncompress the full contents of the &lt;code class="noframe"&gt;tar.bz2&lt;/code&gt; file — including the subfolder named after the add-on — to the &lt;code class="noframe"&gt;data/add-ons/&lt;/code&gt; folder in your game's &lt;a href="https://wiki.wesnoth.org/EditingWesnoth#The_user_data_directory"&gt;user data folder&lt;/a&gt;. The add-on will be recognized next time you launch Wesnoth or press F5 on the main menu.&lt;/p&gt;
<a id='L91' name='L91'></a>  91           &lt;p&gt;&lt;b&gt;Tip:&lt;/b&gt; Hover over the type field to see an explanation of the add-on type and over an icon to see a description <strong class='reserved'>for</strong> the add-on.&lt;/p&gt;""")
<a id='L92' name='L92'></a>  92 
<a id='L93' name='L93'></a>  93     <a href='../Y/5677.html' title='Multiple used in 4 places.'>am_dir</a> = <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../Y/8873.html' title='Multiple used in 43 places.'>dirname</a>(<a href='../Y/4886.html' title='Multiple used in 6 places.'>__file__</a>) + "/"
<a id='L94' name='L94'></a>  94     <strong class='reserved'>for</strong> <a href='../D/11301.html' title='Multiple defined in 24 places.'>name</a> in ["style.css", "jquery.js", "tablesorter.js",
<a id='L95' name='L95'></a>  95         "asc.gif", "bg.gif", "desc.gif"]:
<a id='L96' name='L96'></a>  96         <a href='../Y/2229.html' title='Multiple used in 15 places.'>Popen</a>(["cp", "-u", <a href='../Y/5677.html' title='Multiple used in 4 places.'>am_dir</a> + <a href='../D/11301.html' title='Multiple defined in 24 places.'>name</a>, <a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>])
<a id='L97' name='L97'></a>  97 
<a id='L98' name='L98'></a>  98     <a href='../D/4084.html' title='Multiple defined in 2 places.'>campaigns</a> = <a href='../D/5234.html' title='Multiple defined in 16 places.'>data</a>.<a href='../D/7294.html' title='Multiple defined in 5 places.'>get_all</a>(<a href='../Y/19656.html' title='Multiple used in 338 places.'>tag</a> = "campaigns")[0]
<a id='L99' name='L99'></a>  99     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;table class=\"tablesorter\" id=\"campaigns\"&gt;")
<a id='L100' name='L100'></a> 100     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;thead&gt;")
<a id='L101' name='L101'></a> 101     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;tr&gt;")
<a id='L102' name='L102'></a> 102     <a href='../Y/19652.html' title='Multiple used in 2 places.'>table_headers</a> = [
<a id='L103' name='L103'></a> 103         ("type",    "Type"),
<a id='L104' name='L104'></a> 104         ("icon",    "Icon"),
<a id='L105' name='L105'></a> 105         ("name",    "Addon"),
<a id='L106' name='L106'></a> 106         ("size",    "Size"),
<a id='L107' name='L107'></a> 107         ("stats",   "Traffic"),
<a id='L108' name='L108'></a> 108         ("date",    "Date"),
<a id='L109' name='L109'></a> 109         ("locales", "Translations")
<a id='L110' name='L110'></a> 110     ]
<a id='L111' name='L111'></a> 111     <strong class='reserved'>for</strong> <a href='../Y/11455.html' title='Multiple used in 2 places.'>header_class</a>, <a href='../Y/11458.html' title='Multiple used in 2 places.'>header_label</a> in <a href='../Y/19652.html' title='Multiple used in 2 places.'>table_headers</a>:
<a id='L112' name='L112'></a> 112         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;th class=\"addon-%s\"&gt;%s&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/th&gt;" % (<a href='../Y/11455.html' title='Multiple used in 2 places.'>header_class</a>, <a href='../Y/11458.html' title='Multiple used in 2 places.'>header_label</a>))
<a id='L113' name='L113'></a> 113     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;/tr&gt;")
<a id='L114' name='L114'></a> 114     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;/thead&gt;")
<a id='L115' name='L115'></a> 115     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;tbody&gt;")
<a id='L116' name='L116'></a> 116     <a href='../Y/17786.html' title='Multiple used in 6 places.'>root_dir</a> = <a href='../Y/5677.html' title='Multiple used in 4 places.'>am_dir</a> + "../../../"
<a id='L117' name='L117'></a> 117     <a href='../Y/11945.html' title='Multiple used in 4 places.'>images_to_tc</a> = []
<a id='L118' name='L118'></a> 118     <strong class='reserved'>for</strong> <a href='../S/1116.html#L221' title='Defined at 221 in src/game_initialization/create_engine.hpp.'>campaign</a> in <a href='../D/4084.html' title='Multiple defined in 2 places.'>campaigns</a>.<a href='../D/7294.html' title='Multiple defined in 5 places.'>get_all</a>(<a href='../Y/19656.html' title='Multiple used in 338 places.'>tag</a> = "campaign"):
<a id='L119' name='L119'></a> 119         <a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a> = <a href='../S/1116.html#L221' title='Defined at 221 in src/game_initialization/create_engine.hpp.'>campaign</a>.<a href='../D/8066.html' title='Multiple defined in 5 places.'>get_text_val</a>
<a id='L120' name='L120'></a> 120         <a href='../Y/20694.html' title='Multiple used in 12 places.'>translations</a> = <a href='../S/1116.html#L221' title='Defined at 221 in src/game_initialization/create_engine.hpp.'>campaign</a>.<a href='../D/7294.html' title='Multiple defined in 5 places.'>get_all</a>(<a href='../Y/19656.html' title='Multiple used in 338 places.'>tag</a> = "translation")
<a id='L121' name='L121'></a> 121         <a href='../Y/12859.html' title='Multiple used in 19 places.'>languages</a> = [<a href='../D/16607.html' title='Multiple defined in 2 places.'>x</a>.<a href='../D/8066.html' title='Multiple defined in 5 places.'>get_text_val</a>("language") <strong class='reserved'>for</strong> x in <a href='../Y/20694.html' title='Multiple used in 12 places.'>translations</a>]
<a id='L122' name='L122'></a> 122         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;tr&gt;")
<a id='L123' name='L123'></a> 123         <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a> = <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("icon", ""))
<a id='L124' name='L124'></a> 124         <a href='../Y/11964.html' title='Multiple used in 5 places.'>imgurl</a> = ""
<a id='L125' name='L125'></a> 125         <strong class='reserved'>if</strong> <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>:
<a id='L126' name='L126'></a> 126             <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a> = icon.<a href='../Y/19397.html' title='Multiple used in 128 places.'>strip</a>()
<a id='L127' name='L127'></a> 127             <a href='../Y/20240.html' title='Multiple used in 9 places.'>tilde</a> = <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>.<a href='../D/6276.html' title='Multiple defined in 37 places.'>find</a>("~")
<a id='L128' name='L128'></a> 128             <strong class='reserved'>if</strong> <a href='../Y/20240.html' title='Multiple used in 9 places.'>tilde</a> &gt;= 0: <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a> = icon[:tilde]
<a id='L129' name='L129'></a> 129             <strong class='reserved'>if</strong> "\\" in <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>: icon = icon.<a href='../D/12773.html' title='Multiple defined in 3 places.'>replace</a>("\\", "/")
<a id='L130' name='L130'></a> 130             try: <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../Y/14313.html' title='Multiple used in 7 places.'>mkdir</a>(<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a> + "/icons")
<a id='L131' name='L131'></a> 131             except <a href='../Y/2096.html' title='Multiple used in 15 places.'>OSError</a>: pass
<a id='L132' name='L132'></a> 132             <strong class='reserved'>if</strong> "." not in <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>: icon += ".png"
<a id='L133' name='L133'></a> 133             <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a> = <a href='../Y/17786.html' title='Multiple used in 6 places.'>root_dir</a> + <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>
<a id='L134' name='L134'></a> 134             <a href='../Y/11964.html' title='Multiple used in 5 places.'>imgurl</a> = "icons/" + <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../S/4066.html#L107' title='Defined at 107 in data/tools/expand-terrain-macros.py.'>basename</a>(<a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>)
<a id='L135' name='L135'></a> 135             <strong class='reserved'>if</strong> not <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../D/6052.html' title='Multiple defined in 9 places.'>exists</a>(<a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a>):
<a id='L136' name='L136'></a> 136                 <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a> = <a href='../Y/17786.html' title='Multiple used in 6 places.'>root_dir</a> + "data/core/images/" + <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>
<a id='L137' name='L137'></a> 137             <strong class='reserved'>if</strong> not <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../D/6052.html' title='Multiple defined in 9 places.'>exists</a>(<a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a>):
<a id='L138' name='L138'></a> 138                 <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a> = <a href='../Y/17786.html' title='Multiple used in 6 places.'>root_dir</a> + "images/" + <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>
<a id='L139' name='L139'></a> 139             <strong class='reserved'>if</strong> not <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../D/6052.html' title='Multiple defined in 9 places.'>exists</a>(<a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a>):
<a id='L140' name='L140'></a> 140                 <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a> = <a href='../Y/11077.html' title='Multiple used in 35 places.'>glob</a>.glob(<a href='../Y/17786.html' title='Multiple used in 6 places.'>root_dir</a> + "data/campaigns/*/images/" + <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a>)
<a id='L141' name='L141'></a> 141                 <strong class='reserved'>if</strong> <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a>: src = src[0]
<a id='L142' name='L142'></a> 142                 <strong class='reserved'>if</strong> not <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a> or not <a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../D/6052.html' title='Multiple defined in 9 places.'>exists</a>(src):
<a id='L143' name='L143'></a> 143                     <a href='../Y/19576.html' title='Multiple used in 228 places.'>sys</a>.<a href='../Y/19259.html' title='Multiple used in 124 places.'>stderr</a>.<a href='../D/16544.html' title='Multiple defined in 55 places.'>write</a>("Cannot find icon " + <a href='../D/8661.html' title='Multiple defined in 5 places.'>icon</a> + "\n")
<a id='L144' name='L144'></a> 144                     <a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a> = <a href='../Y/17786.html' title='Multiple used in 6 places.'>root_dir</a> + "images/misc/missing-image.png"
<a id='L145' name='L145'></a> 145                     <a href='../Y/11964.html' title='Multiple used in 5 places.'>imgurl</a> = "icons/missing-image.png"
<a id='L146' name='L146'></a> 146             <a href='../Y/11945.html' title='Multiple used in 4 places.'>images_to_tc</a>.<a href='../D/3323.html' title='Multiple defined in 8 places.'>append</a>( (<a href='../D/14675.html' title='Multiple defined in 3 places.'>src</a>, <a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a> + "/" + <a href='../Y/11964.html' title='Multiple used in 5 places.'>imgurl</a>) )
<a id='L147' name='L147'></a> 147 
<a id='L148' name='L148'></a> 148         <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> = <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("type", "none"))
<a id='L149' name='L149'></a> 149         <a href='../D/14560.html' title='Multiple defined in 18 places.'>size</a> = <strong class='reserved'>float</strong>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("size", "0"))
<a id='L150' name='L150'></a> 150         <a href='../D/11301.html' title='Multiple defined in 24 places.'>name</a> = <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("title", "unknown"))
<a id='L151' name='L151'></a> 151         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>('&lt;td class="addon-type"&gt;')
<a id='L152' name='L152'></a> 152         <strong class='reserved'>if</strong> <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "scenario":
<a id='L153' name='L153'></a> 153             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L154' name='L154'></a> 154 Scenario&lt;div class="type-tooltip"&gt;&lt;b&gt;single player scenario&lt;/b&gt;&lt;br/&gt;
<a id='L155' name='L155'></a> 155 After install the scenario will show up in the list you get when choosing "Campaign" in the main menu. (Basically it's just a campaign with only one scenario.)&lt;/div&gt;""")
<a id='L156' name='L156'></a> 156         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "campaign":
<a id='L157' name='L157'></a> 157             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L158' name='L158'></a> 158 Campaign&lt;div class="type-tooltip"&gt;&lt;b&gt;single player campaign&lt;/b&gt;&lt;br/&gt;
<a id='L159' name='L159'></a> 159 After install the campaign will show up in the list you get when choosing "Campaign" in the main menu.&lt;/div&gt;""")
<a id='L160' name='L160'></a> 160         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "campaign_sp_mp":
<a id='L161' name='L161'></a> 161             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L162' name='L162'></a> 162 SP/SP Campaign&lt;div class="type-tooltip"&gt;&lt;b&gt;single/multi player campaign&lt;/b&gt;&lt;br /&gt;
<a id='L163' name='L163'></a> 163 After install the campaign will show up both in the list you get when choosing "Campaign" in the main menu, and in the map list in the multiplayer "Create Game" dialog.&lt;/div&gt;""")
<a id='L164' name='L164'></a> 164         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "campaign_mp":
<a id='L165' name='L165'></a> 165             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L166' name='L166'></a> 166 MP Campaign&lt;div class="type-tooltip"&gt;&lt;b&gt;multiplayer campaign&lt;/b&gt;&lt;br/&gt;
<a id='L167' name='L167'></a> 167 After install the first scenario of the campaign will be available in the map list in the multiplayer "Create Game" dialog.&lt;/div&gt;""")
<a id='L168' name='L168'></a> 168         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "scenario_mp":
<a id='L169' name='L169'></a> 169             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L170' name='L170'></a> 170 MP Scenario&lt;div class="type-tooltip"&gt;&lt;b&gt;multiplayer scenario&lt;/b&gt;&lt;br/&gt;
<a id='L171' name='L171'></a> 171 After install the scenario will be available in the map list in the multiplayer "Create Game" dialog.&lt;/div&gt;""")
<a id='L172' name='L172'></a> 172         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "map_pack":
<a id='L173' name='L173'></a> 173             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L174' name='L174'></a> 174 MP map-pack&lt;div class="type-tooltip"&gt;&lt;b&gt;multiplayer map pack&lt;/b&gt;&lt;br/&gt;
<a id='L175' name='L175'></a> 175 After install the maps/scenarios will be available in the map list in the multiplayer "Create Game" dialog.&lt;/div&gt;""")
<a id='L176' name='L176'></a> 176         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "era":
<a id='L177' name='L177'></a> 177             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L178' name='L178'></a> 178 MP era&lt;div class="type-tooltip"&gt;&lt;b&gt;multiplayer era&lt;/b&gt;&lt;br/&gt;
<a id='L179' name='L179'></a> 179 After install the included era(s) will be available in the multiplayer "Create Game" dialog.&lt;/div&gt;""")
<a id='L180' name='L180'></a> 180         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "faction":
<a id='L181' name='L181'></a> 181             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L182' name='L182'></a> 182 MP faction&lt;div class="type-tooltip"&gt;&lt;b&gt;multiplayer faction&lt;/b&gt;&lt;br/&gt;
<a id='L183' name='L183'></a> 183 Usually comes with an era or is dependency of another add-on.&lt;/div&gt;""")
<a id='L184' name='L184'></a> 184         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "mod_mp":
<a id='L185' name='L185'></a> 185             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L186' name='L186'></a> 186 MP modification&lt;div class="type-tooltip"&gt;&lt;b&gt;multiplayer modification&lt;/b&gt;&lt;br /&gt;
<a id='L187' name='L187'></a> 187 After install the included MP gameplay modification(s) will be available in the multiplayer "Create Game" dialog.&lt;/div&gt;""")
<a id='L188' name='L188'></a> 188         elif <a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a> == "media":
<a id='L189' name='L189'></a> 189             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L190' name='L190'></a> 190 Resources&lt;div class="type-tooltip"&gt;&lt;b&gt;miscellaneous content/media&lt;/b&gt;&lt;br/&gt;
<a id='L191' name='L191'></a> 191 Unit packs, terrain packs, music packs, etc. Usually a (perhaps optional) dependency of another add-on.&lt;/div&gt;""")
<a id='L192' name='L192'></a> 192         <strong class='reserved'>else</strong>:
<a id='L193' name='L193'></a> 193             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>(<a href='../D/15465.html' title='Multiple defined in 27 places.'>type</a>)
<a id='L194' name='L194'></a> 194         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>('&lt;/td&gt;')
<a id='L195' name='L195'></a> 195         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>(('&lt;td class="addon-icon"&gt;&lt;img alt="" src="%s"/&gt;') % <a href='../Y/11964.html' title='Multiple used in 5 places.'>imgurl</a>)
<a id='L196' name='L196'></a> 196         <a href='../Y/8746.html' title='Multiple used in 2 places.'>described</a> = <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("description", "(no description)"))
<a id='L197' name='L197'></a> 197         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>('&lt;div class="desc-tooltip"&gt;&lt;b&gt;%s&lt;/b&gt;&lt;pre&gt;%s&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;' % (
<a id='L198' name='L198'></a> 198             <a href='../D/11301.html' title='Multiple defined in 24 places.'>name</a>, <a href='../Y/8746.html' title='Multiple used in 2 places.'>described</a>))
<a id='L199' name='L199'></a> 199         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;td class=\"addon\"&gt;&lt;span hidden&gt;%s&lt;/span&gt;" % <a href='../D/11301.html' title='Multiple defined in 24 places.'>name</a>)
<a id='L200' name='L200'></a> 200         <strong class='reserved'>if</strong> <a href='../Y/21295.html' title='Multiple used in 43 places.'>url</a>:
<a id='L201' name='L201'></a> 201             <a href='../D/9827.html' title='Multiple defined in 2 places.'>link</a> = <a href='../Y/21295.html' title='Multiple used in 43 places.'>url</a>.<a href='../Y/17857.html' title='Multiple used in 20 places.'>rstrip</a>("/") + "/" + <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("name")) + ".tar.bz2"
<a id='L202' name='L202'></a> 202             <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L203' name='L203'></a> 203             &lt;a class="addon-download" href="%s" title="Download"&gt;
<a id='L204' name='L204'></a> 204                 &lt;i class="fa fa-fw fa-2x fa-download" aria-hidden="true"&gt;&lt;/i&gt;
<a id='L205' name='L205'></a> 205                 &lt;span class="sr-only"&gt;Download&lt;/span&gt;
<a id='L206' name='L206'></a> 206             &lt;/a&gt;""" % link)
<a id='L207' name='L207'></a> 207         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;b&gt;%s&lt;/b&gt;" % <a href='../D/11301.html' title='Multiple defined in 24 places.'>name</a>)
<a id='L208' name='L208'></a> 208         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;br /&gt;&lt;span class='addon-meta'&gt;&lt;span class='addon-meta-label'&gt;Version:&lt;/span&gt; %s&lt;br/&gt;" % <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("version", "unknown")))
<a id='L209' name='L209'></a> 209         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;span class='addon-meta-label'&gt;Author:&lt;/span&gt; %s&lt;/span&gt;&lt;/td&gt;" % <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("author", "unknown")))
<a id='L210' name='L210'></a> 210         <a href='../Y/1934.html' title='Multiple used in 2 places.'>MiB</a> = 1024 * 1024
<a id='L211' name='L211'></a> 211         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;td&gt;&lt;span hidden&gt;%d&lt;/span&gt;&lt;b&gt;%.2f&lt;/b&gt;&amp;nbsp;MiB&lt;/td&gt;" % (<a href='../D/14560.html' title='Multiple defined in 18 places.'>size</a>, size / <a href='../Y/1934.html' title='Multiple used in 2 places.'>MiB</a>))
<a id='L212' name='L212'></a> 212         <a href='../Y/9060.html' title='Multiple used in 13 places.'>downloads</a> = <strong class='reserved'>int</strong>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("downloads", "0"))
<a id='L213' name='L213'></a> 213         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;td&gt;&lt;b&gt;%d&lt;/b&gt; down&lt;br/&gt;" % (<a href='../Y/9060.html' title='Multiple used in 13 places.'>downloads</a>))
<a id='L214' name='L214'></a> 214         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("%s up&lt;/td&gt;" % <a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("uploads", "unknown")))
<a id='L215' name='L215'></a> 215         <a href='../Y/20303.html' title='Multiple used in 24 places.'>timestamp</a> = <strong class='reserved'>int</strong>(<a href='../Y/21420.html' title='Multiple used in 1417 places.'>v</a>("timestamp", "0"))
<a id='L216' name='L216'></a> 216         <a href='../Y/19593.html' title='Multiple used in 1445 places.'>t</a> = <a href='../D/15206.html' title='Multiple defined in 4 places.'>time</a>.<a href='../Y/13389.html' title='Multiple used in 12 places.'>localtime</a>(<a href='../Y/20303.html' title='Multiple used in 24 places.'>timestamp</a>)
<a id='L217' name='L217'></a> 217         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;td&gt;&lt;span hidden&gt;%d&lt;/span&gt;%s&lt;/td&gt;" % (<a href='../Y/20303.html' title='Multiple used in 24 places.'>timestamp</a>,
<a id='L218' name='L218'></a> 218             <a href='../D/15206.html' title='Multiple defined in 4 places.'>time</a>.<a href='../S/849.html#L435' title='Defined at 435 in src/gettext_boost.cpp.'>strftime</a>("%b %d %Y", <a href='../Y/19593.html' title='Multiple used in 1445 places.'>t</a>)))
<a id='L219' name='L219'></a> 219         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;td&gt;%s&lt;/td&gt;" % (<a href='../S/4082.html#L5' title='Defined at 5 in data/tools/addon_manager/html.py.'>htmlescape</a>(", ".<a href='../D/9563.html' title='Multiple defined in 3 places.'>join</a>(<a href='../Y/12859.html' title='Multiple used in 19 places.'>languages</a>))))
<a id='L220' name='L220'></a> 220         <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("&lt;/tr&gt;")
<a id='L221' name='L221'></a> 221     <a href='../D/16094.html' title='Multiple defined in 6 places.'>w</a>("""\
<a id='L222' name='L222'></a> 222         &lt;/tbody&gt;
<a id='L223' name='L223'></a> 223     &lt;/table&gt;
<a id='L224' name='L224'></a> 224 &lt;/div&gt; &lt;!-- end content --&gt;
<a id='L225' name='L225'></a> 225 
<a id='L226' name='L226'></a> 226 &lt;/div&gt; &lt;!-- end main --&gt;
<a id='L227' name='L227'></a> 227 
<a id='L228' name='L228'></a> 228 &lt;div id="footer-sep"&gt;&lt;/div&gt;
<a id='L229' name='L229'></a> 229 
<a id='L230' name='L230'></a> 230 &lt;div id="footer"&gt;&lt;div id="footer-content"&gt;&lt;div&gt;
<a id='L231' name='L231'></a> 231         &lt;a href="https://wiki.wesnoth.org/StartingPoints"&gt;Site Map&lt;/a&gt; &amp;#8226; &lt;a href="http://status.wesnoth.org/"&gt;Site Status&lt;/a&gt;&lt;br /&gt;
<a id='L232' name='L232'></a> 232         Copyright &amp;copy; 2003&amp;ndash;2017 by &lt;a rel="author" href="https://wiki.wesnoth.org/Project"&gt;The Battle <strong class='reserved'>for</strong> Wesnoth Project&lt;/a&gt;.&lt;br /&gt;
<a id='L233' name='L233'></a> 233         Site design Copyright &amp;copy; 2017 by Ignacio R. Morelle.
<a id='L234' name='L234'></a> 234 &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
<a id='L235' name='L235'></a> 235 &lt;/body&gt;
<a id='L236' name='L236'></a> 236 &lt;/html&gt;
<a id='L237' name='L237'></a> 237 """)
<a id='L238' name='L238'></a> 238     <a href='../Y/19576.html' title='Multiple used in 228 places.'>sys</a>.<a href='../Y/19259.html' title='Multiple used in 124 places.'>stderr</a>.<a href='../D/16544.html' title='Multiple defined in 55 places.'>write</a>("Done outputting html, now generating %d TC'ed images\n" % <a href='../Y/13134.html' title='Multiple used in 359 places.'>len</a>(<a href='../Y/11945.html' title='Multiple used in 4 places.'>images_to_tc</a>))
<a id='L239' name='L239'></a> 239     <strong class='reserved'>for</strong> <a href='../Y/16080.html' title='Multiple used in 445 places.'>pair</a> in <a href='../Y/11945.html' title='Multiple used in 4 places.'>images_to_tc</a>:
<a id='L240' name='L240'></a> 240         <a href='../Y/2229.html' title='Multiple used in 15 places.'>Popen</a>([<a href='../Y/15871.html' title='Multiple used in 440 places.'>os</a>.<a href='../D/11831.html' title='Multiple defined in 6 places.'>path</a>.<a href='../D/9563.html' title='Multiple defined in 3 places.'>join</a>(<a href='../Y/5677.html' title='Multiple used in 4 places.'>am_dir</a>, "../unit_tree/TeamColorizer"), <a href='../Y/16080.html' title='Multiple used in 445 places.'>pair</a>[0], pair[1]]).<a href='../Y/21790.html' title='Multiple used in 7 places.'>wait</a>() # wait() to ensure only one process is exists at any time
<a id='L241' name='L241'></a> 241 
<a id='L242' name='L242'></a> 242 # kate: indent-mode normal; encoding utf-8; space-indent on;
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;]<a href='#L5'>[^]</a><a href='#L13'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
