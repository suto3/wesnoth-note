<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>src/display.hpp</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5819.html'>src</a>/display.hpp</h2>
<em class='comment'>/* [&lt;][&gt;]<a href='#L84'>[^]</a><a href='#L1058'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<h2 class='header'><a href='../J/1779.html' title='Multiple included from 38 places.'>INCLUDED FROM</a></h2>
<hr />
<h2 class='header'>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L84' title='Defined at 84.'>get_singleton</a></li>
<li><a href='#L86' title='Defined at 86.'>show_everything</a></li>
<li><a href='#L88' title='Defined at 88.'>get_map</a></li>
<li><a href='#L90' title='Defined at 90.'>get_teams</a></li>
<li><a href='#L93' title='Defined at 93.'>playing_team</a></li>
<li><a href='#L98' title='Defined at 98.'>viewing_team</a></li>
<li><a href='#L99' title='Defined at 99.'>viewing_side</a></li>
<li><a href='#L116' title='Defined at 116.'>clear_exclusive_draws</a></li>
<li><a href='#L117' title='Defined at 117.'>get_units</a></li>
<li><a href='#L163' title='Defined at 163.'>get_disp_context</a></li>
<li><a href='#L165' title='Defined at 165.'>get_game_data</a></li>
<li><a href='#L166' title='Defined at 166.'>get_lua_kernel</a></li>
<li><a href='#L170' title='Defined at 170.'>get_halo_manager</a></li>
<li><a href='#L191' title='Defined at 191.'>video</a></li>
<li><a href='#L194' title='Defined at 194.'>get_screen_surface</a></li>
<li><a href='#L196' title='Defined at 196.'>in_game</a></li>
<li><a href='#L197' title='Defined at 197.'>in_editor</a></li>
<li><a href='#L200' title='Defined at 200.'>displayed_unit_hex</a></li>
<li><a href='#L201' title='Defined at 201.'>playing_side</a></li>
<li><a href='#L202' title='Defined at 202.'>observers</a></li>
<li><a href='#L209' title='Defined at 209.'>w</a></li>
<li><a href='#L210' title='Defined at 210.'>h</a></li>
<li><a href='#L211' title='Defined at 211.'>minimap_area</a></li>
<li><a href='#L213' title='Defined at 213.'>palette_area</a></li>
<li><a href='#L215' title='Defined at 215.'>unit_image_area</a></li>
<li><a href='#L218' title='Defined at 218.'>screen_area</a></li>
<li><a href='#L237' title='Defined at 237.'>map_outside_area</a></li>
<li><a href='#L249' title='Defined at 249.'>hex_width</a></li>
<li><a href='#L255' title='Defined at 255.'>hex_size</a></li>
<li><a href='#L258' title='Defined at 258.'>get_zoom_factor</a></li>
<li><a href='#L281' title='Defined at 281.'>selected_hex</a></li>
<li><a href='#L282' title='Defined at 282.'>mouseover_hex</a></li>
<li><a href='#L288' title='Defined at 288.'>invalidate_game_status</a></li>
<li><a href='#L307' title='Defined at 307.'>rect_</a></li>
<li><a href='#L335' title='Defined at 335.'>get_visible_hexes</a></li>
<li><a href='#L347' title='Defined at 347.'>set_grid</a></li>
<li><a href='#L350' title='Defined at 350.'>get_draw_coordinates</a></li>
<li><a href='#L352' title='Defined at 352.'>set_draw_coordinates</a></li>
<li><a href='#L355' title='Defined at 355.'>get_draw_terrain_codes</a></li>
<li><a href='#L357' title='Defined at 357.'>set_draw_terrain_codes</a></li>
<li><a href='#L360' title='Defined at 360.'>get_draw_num_of_bitmaps</a></li>
<li><a href='#L362' title='Defined at 362.'>set_draw_num_of_bitmaps</a></li>
<li><a href='#L376' title='Defined at 376.'>get_theme</a></li>
<li><a href='#L399' title='Defined at 399.'>invalidate_theme</a></li>
<li><a href='#L438' title='Defined at 438.'>set_mouseover_hex_overlay</a></li>
<li><a href='#L441' title='Defined at 441.'>clear_mouseover_hex_overlay</a></li>
<li><a href='#L454' title='Defined at 454.'>get_builder</a></li>
<li><a href='#L479' title='Defined at 479.'>set_turbo</a></li>
<li><a href='#L483' title='Defined at 483.'>set_turbo_speed</a></li>
<li><a href='#L486' title='Defined at 486.'>set_idle_anim</a></li>
<li><a href='#L487' title='Defined at 487.'>idle_anim</a></li>
<li><a href='#L489' title='Defined at 489.'>idle_anim_rate</a></li>
<li><a href='#L513' title='Defined at 513.'>view_locked</a></li>
<li><a href='#L516' title='Defined at 516.'>set_view_locked</a></li>
<li><a href='#L546' title='Defined at 546.'>scroll_to_tiles</a></li>
<li><a href='#L556' title='Defined at 556.'>scroll_event</a></li>
<li><a href='#L558' title='Defined at 558.'>complete_redraw_event</a></li>
<li><a href='#L590' title='Defined at 590.'>recalculate_minimap</a></li>
<li><a href='#L596' title='Defined at 596.'>redraw_minimap</a></li>
<li><a href='#L600' title='Defined at 600.'>has_time_area</a></li>
<li><a href='#L619' title='Defined at 619.'>reset_reports</a></li>
<li><a href='#L647' title='Defined at 647.'>pre_draw</a></li>
<li><a href='#L654' title='Defined at 654.'>post_draw</a></li>
<li><a href='#L674' title='Defined at 674.'>post_commit</a></li>
<li><a href='#L690' title='Defined at 690.'>draw_sidebar</a></li>
<li><a href='#L911' title='Defined at 911.'>key_</a></li>
<li><a href='#L918' title='Defined at 918.'>key_</a></li>
<li><a href='#L921' title='Defined at 921.'>x</a></li>
<li><a href='#L922' title='Defined at 922.'>y</a></li>
<li><a href='#L924' title='Defined at 924.'>clip</a></li>
<li><a href='#L1040' title='Defined at 1040.'>replace_overlay_map</a></li>
<li><a href='#L1058' title='Defined at 1058.'>unblind</a></li>
</ol>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 <em class='comment'>/*</em>
<a id='L2' name='L2'></a>   2 <em class='comment'>   Copyright (C) 2003 - 2017 by David White &lt;dave@whitevine.net&gt;</em>
<a id='L3' name='L3'></a>   3 <em class='comment'>   Part of the Battle for Wesnoth Project http://www.wesnoth.org/</em>
<a id='L4' name='L4'></a>   4 <em class='comment'></em>
<a id='L5' name='L5'></a>   5 <em class='comment'>   This program is free software; you can redistribute it and/or modify</em>
<a id='L6' name='L6'></a>   6 <em class='comment'>   it under the terms of the GNU General Public License as published by</em>
<a id='L7' name='L7'></a>   7 <em class='comment'>   the Free Software Foundation; either version 2 of the License, or</em>
<a id='L8' name='L8'></a>   8 <em class='comment'>   (at your option) any later version.</em>
<a id='L9' name='L9'></a>   9 <em class='comment'>   This program is distributed in the hope that it will be useful,</em>
<a id='L10' name='L10'></a>  10 <em class='comment'>   but WITHOUT ANY WARRANTY.</em>
<a id='L11' name='L11'></a>  11 <em class='comment'></em>
<a id='L12' name='L12'></a>  12 <em class='comment'>   See the COPYING file for more details.</em>
<a id='L13' name='L13'></a>  13 <em class='comment'>*/</em>
<a id='L14' name='L14'></a>  14 
<a id='L15' name='L15'></a>  15 <em class='comment'>/**</em>
<a id='L16' name='L16'></a>  16 <em class='comment'> * @file</em>
<a id='L17' name='L17'></a>  17 <em class='comment'> *</em>
<a id='L18' name='L18'></a>  18 <em class='comment'> * map_display and display: classes which take care of</em>
<a id='L19' name='L19'></a>  19 <em class='comment'> * displaying the map and game-data on the screen.</em>
<a id='L20' name='L20'></a>  20 <em class='comment'> *</em>
<a id='L21' name='L21'></a>  21 <em class='comment'> * The display is divided into two main sections:</em>
<a id='L22' name='L22'></a>  22 <em class='comment'> * - the game area, which displays the tiles of the game board, and units on them,</em>
<a id='L23' name='L23'></a>  23 <em class='comment'> * - and the side bar, which appears on the right hand side.</em>
<a id='L24' name='L24'></a>  24 <em class='comment'> * The side bar display is divided into three sections:</em>
<a id='L25' name='L25'></a>  25 <em class='comment'> * - the minimap, which is displayed at the top right</em>
<a id='L26' name='L26'></a>  26 <em class='comment'> * - the game status, which includes the day/night image,</em>
<a id='L27' name='L27'></a>  27 <em class='comment'> *   the turn number, information about the current side,</em>
<a id='L28' name='L28'></a>  28 <em class='comment'> *   and information about the hex currently moused over (highlighted)</em>
<a id='L29' name='L29'></a>  29 <em class='comment'> * - the unit status, which displays an image and stats</em>
<a id='L30' name='L30'></a>  30 <em class='comment'> *   for the current unit.</em>
<a id='L31' name='L31'></a>  31 <em class='comment'> */</em>
<a id='L32' name='L32'></a>  32 
<a id='L33' name='L33'></a>  33 <em class='sharp'>#pragma</em> once
<a id='L34' name='L34'></a>  34 
<a id='L35' name='L35'></a>  35 <strong class='reserved'>class</strong> <a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a>;
<a id='L36' name='L36'></a>  36 <strong class='reserved'>class</strong> <a href='../S/321.html#L24' title='Defined at 24 in src/fake_unit_manager.hpp.'>fake_unit_manager</a>;
<a id='L37' name='L37'></a>  37 <strong class='reserved'>class</strong> <a href='../S/303.html#L45' title='Defined at 45 in src/terrain/builder.hpp.'>terrain_builder</a>;
<a id='L38' name='L38'></a>  38 <strong class='reserved'>class</strong> <a href='../D/10690.html' title='Multiple defined in 2 places.'>map_labels</a>;
<a id='L39' name='L39'></a>  39 <strong class='reserved'>class</strong> <a href='../D/3349.html' title='Multiple defined in 2 places.'>arrow</a>;
<a id='L40' name='L40'></a>  40 <strong class='reserved'>class</strong> <a href='../S/1158.html#L41' title='Defined at 41 in src/reports.hpp.'>reports</a>;
<a id='L41' name='L41'></a>  41 <strong class='reserved'>class</strong> <a href='../D/14868.html' title='Multiple defined in 3 places.'>team</a>;
<a id='L42' name='L42'></a>  42 
<a id='L43' name='L43'></a>  43 <strong class='reserved'>namespace</strong> <a href='../R/7396.html' title='Multiple referred from 309 places.'>halo</a> <em class='brace'>{</em>
<a id='L44' name='L44'></a>  44         <strong class='reserved'>class</strong> <a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a>;
<a id='L45' name='L45'></a>  45 <em class='brace'>}</em>
<a id='L46' name='L46'></a>  46 
<a id='L47' name='L47'></a>  47 <strong class='reserved'>namespace</strong> <a href='../R/14702.html' title='Multiple referred from 74 places.'>wb</a> <em class='brace'>{</em>
<a id='L48' name='L48'></a>  48         <strong class='reserved'>class</strong> <a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a>;
<a id='L49' name='L49'></a>  49 <em class='brace'>}</em>
<a id='L50' name='L50'></a>  50 
<a id='L51' name='L51'></a>  51 <em class='sharp'>#include</em> "<a href='1050.html'>animated.hpp</a>"
<a id='L52' name='L52'></a>  52 <em class='sharp'>#include</em> "<a href='846.html'>display_context.hpp</a>"
<a id='L53' name='L53'></a>  53 <em class='sharp'>#include</em> "<a href='1049.html'>filter_context.hpp</a>"
<a id='L54' name='L54'></a>  54 <em class='sharp'>#include</em> "<a href='1154.html'>font/sdl_ttf.hpp</a>"
<a id='L55' name='L55'></a>  55 <em class='sharp'>#include</em> "<a href='1150.html'>font/standard_colors.hpp</a>"
<a id='L56' name='L56'></a>  56 <em class='sharp'>#include</em> "<a href='../I/2241.html'>image.hpp</a>" <em class='comment'>//only needed for enums (!)</em>
<a id='L57' name='L57'></a>  57 <em class='sharp'>#include</em> "<a href='967.html'>key.hpp</a>"
<a id='L58' name='L58'></a>  58 <em class='sharp'>#include</em> "<a href='921.html'>time_of_day.hpp</a>"
<a id='L59' name='L59'></a>  59 <em class='sharp'>#include</em> "<a href='980.html'>sdl/rect.hpp</a>"
<a id='L60' name='L60'></a>  60 <em class='sharp'>#include</em> "<a href='1247.html'>theme.hpp</a>"
<a id='L61' name='L61'></a>  61 <em class='sharp'>#include</em> "<a href='1220.html'>video.hpp</a>"
<a id='L62' name='L62'></a>  62 <em class='sharp'>#include</em> "<a href='../I/2218.html'>widgets/button.hpp</a>"
<a id='L63' name='L63'></a>  63 
<a id='L64' name='L64'></a>  64 <em class='sharp'>#include</em> "<a href='141.html'>overlay.hpp</a>"
<a id='L65' name='L65'></a>  65 
<a id='L66' name='L66'></a>  66 <em class='sharp'>#include</em> "<a href='872.html'>utils/functional.hpp</a>"
<a id='L67' name='L67'></a>  67 <em class='sharp'>#include</em> &lt;deque&gt;
<a id='L68' name='L68'></a>  68 <em class='sharp'>#include</em> &lt;list&gt;
<a id='L69' name='L69'></a>  69 <em class='sharp'>#include</em> &lt;map&gt;
<a id='L70' name='L70'></a>  70 <em class='sharp'>#include</em> &lt;memory&gt;
<a id='L71' name='L71'></a>  71 
<a id='L72' name='L72'></a>  72 <strong class='reserved'>class</strong> <a href='../D/6593.html' title='Multiple defined in 2 places.'>gamemap</a>;
<a id='L73' name='L73'></a>  73 
<a id='L74' name='L74'></a>  74 <strong class='reserved'>class</strong> <a href='../R/4767.html' title='Multiple referred from 438 places.'>display</a> : <strong class='reserved'>public</strong> <a href='../S/1049.html#L33' title='Defined at 33 in src/filter_context.hpp.'>filter_context</a>, <strong class='reserved'>public</strong> <a href='../D/15899.html' title='Multiple defined in 2 places.'>video2</a>::<a href='../D/5661.html' title='Multiple defined in 3 places.'>draw_layering</a>
<a id='L75' name='L75'></a>  75 <em class='brace'>{</em>
<a id='L76' name='L76'></a>  76 <strong class='reserved'>public</strong>:
<a id='L77' name='L77'></a>  77         <a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>(<strong class='reserved'>const</strong> <a href='../S/846.html#L51' title='Defined at 51 in src/display_context.hpp.'>display_context</a> * <a href='../D/5202.html' title='Multiple defined in 2 places.'>dc</a>, <a href='../D/214.html' title='Multiple defined in 2 places.'>CVideo</a>&amp; <a href='../D/15898.html' title='Multiple defined in 4 places.'>video</a>, <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21542.html' title='Multiple used in 10 places.'>weak_ptr</a>&lt;<a href='../D/15984.html' title='Multiple defined in 33 places.'>wb</a>::<a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a>&gt; <a href='../D/15984.html' title='Multiple defined in 33 places.'>wb</a>,
<a id='L78' name='L78'></a>  78                         <a href='../S/1158.html#L41' title='Defined at 41 in src/reports.hpp.'>reports</a> &amp; <a href='../Y/17254.html' title='Multiple used in 13 places.'>reports_object</a>,
<a id='L79' name='L79'></a>  79                         <strong class='reserved'>const</strong> <a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a>&amp; <a href='../Y/19842.html' title='Multiple used in 18 places.'>theme_cfg</a>, <strong class='reserved'>const</strong> <a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a>&amp; <a href='../D/9695.html' title='Multiple defined in 11 places.'>level</a>, <strong class='reserved'>bool</strong> <a href='../Y/5969.html' title='Multiple used in 29 places.'>auto_join</a>=<strong class='reserved'>true</strong>);
<a id='L80' name='L80'></a>  80         <strong class='reserved'>virtual</strong> ~<a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>();
<a id='L81' name='L81'></a>  81         <em class='comment'>/// Returns the display object if a display object exists. Otherwise it returns nullptr.</em>
<a id='L82' name='L82'></a>  82         <em class='comment'>/// the display object represents the game gui which handles themewml and drawing the map.</em>
<a id='L83' name='L83'></a>  83         <em class='comment'>/// A display object only exists during a game or while the mapeditor is running.</em>
<a id='L84' name='L84'></a>  84         <strong class='reserved'>static</strong> <a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>* <a href='../R/7101.html' title='Multiple referred from 86 places.'>get_singleton</a>() <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/18519.html' title='Multiple used in 19 places.'>singleton_</a> ;<em class='brace'>}</em>
<a id='L85' name='L85'></a>  85 
<a id='L86' name='L86'></a>  86         <strong class='reserved'>bool</strong> <a href='../R/13088.html' title='Multiple referred from 10 places.'>show_everything</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> !<a href='../Y/8870.html' title='Multiple used in 10 places.'>dont_show_all_</a> &amp;&amp; !<a href='../S/682.html#L504' title='Defined at 504 in src/display.cpp.'>is_blindfolded</a>(); <em class='brace'>}</em>
<a id='L87' name='L87'></a>  87 
<a id='L88' name='L88'></a>  88         <strong class='reserved'>const</strong> <a href='../D/6593.html' title='Multiple defined in 2 places.'>gamemap</a>&amp; <a href='../R/6837.html' title='Multiple referred from 125 places.'>get_map</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../D/5203.html' title='Multiple defined in 2 places.'>dc_</a>-&gt;<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>(); <em class='brace'>}</em>
<a id='L89' name='L89'></a>  89 
<a id='L90' name='L90'></a>  90         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14868.html' title='Multiple defined in 3 places.'>team</a>&gt;&amp; <a href='../R/7141.html' title='Multiple referred from 22 places.'>get_teams</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em><strong class='reserved'>return</strong> <a href='../D/5203.html' title='Multiple defined in 2 places.'>dc_</a>-&gt;<a href='../D/14886.html' title='Multiple defined in 8 places.'>teams</a>();<em class='brace'>}</em>
<a id='L91' name='L91'></a>  91 
<a id='L92' name='L92'></a>  92         <em class='comment'>/** The playing team is the team whose turn it is. */</em>
<a id='L93' name='L93'></a>  93         <a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../R/10815.html' title='Multiple referred from 15 places.'>playing_team</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/5120.html' title='Multiple used in 6 places.'>activeTeam_</a>; <em class='brace'>}</em>
<a id='L94' name='L94'></a>  94 
<a id='L95' name='L95'></a>  95         <strong class='reserved'>bool</strong> <a href='../S/682.html#L700' title='Defined at 700 in src/display.cpp.'>team_valid</a>() <strong class='reserved'>const</strong>;
<a id='L96' name='L96'></a>  96 
<a id='L97' name='L97'></a>  97         <em class='comment'>/** The viewing team is the team currently viewing the game. */</em>
<a id='L98' name='L98'></a>  98         <a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../R/14635.html' title='Multiple referred from 147 places.'>viewing_team</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/7985.html' title='Multiple used in 18 places.'>currentTeam_</a>; <em class='brace'>}</em>
<a id='L99' name='L99'></a>  99         <strong class='reserved'>int</strong> <a href='../R/14634.html' title='Multiple referred from 112 places.'>viewing_side</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/7985.html' title='Multiple used in 18 places.'>currentTeam_</a> + 1; <em class='brace'>}</em>
<a id='L100' name='L100'></a> 100 
<a id='L101' name='L101'></a> 101         <em class='comment'>/**</em>
<a id='L102' name='L102'></a> 102 <em class='comment'>         * Sets the team controlled by the player using the computer.</em>
<a id='L103' name='L103'></a> 103 <em class='comment'>         * Data from this team will be displayed in the game status.</em>
<a id='L104' name='L104'></a> 104 <em class='comment'>         */</em>
<a id='L105' name='L105'></a> 105         <strong class='reserved'>void</strong> <a href='../D/14032.html' title='Multiple defined in 3 places.'>set_team</a>(<a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../D/14868.html' title='Multiple defined in 3 places.'>team</a>, <strong class='reserved'>bool</strong> <a href='../Y/15219.html' title='Multiple used in 14 places.'>observe</a>=<strong class='reserved'>false</strong>);
<a id='L106' name='L106'></a> 106 
<a id='L107' name='L107'></a> 107         <em class='comment'>/**</em>
<a id='L108' name='L108'></a> 108 <em class='comment'>         * set_playing_team sets the team whose turn it currently is</em>
<a id='L109' name='L109'></a> 109 <em class='comment'>         */</em>
<a id='L110' name='L110'></a> 110         <strong class='reserved'>void</strong> <a href='../D/13903.html' title='Multiple defined in 2 places.'>set_playing_team</a>(<a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../D/14868.html' title='Multiple defined in 3 places.'>team</a>);
<a id='L111' name='L111'></a> 111 
<a id='L112' name='L112'></a> 112 
<a id='L113' name='L113'></a> 113         <em class='comment'>/**</em>
<a id='L114' name='L114'></a> 114 <em class='comment'>         * Cancels all the exclusive draw requests.</em>
<a id='L115' name='L115'></a> 115 <em class='comment'>         */</em>
<a id='L116' name='L116'></a> 116         <strong class='reserved'>void</strong> <a href='../S/1233.html#L597' title='Referred from 597 in src/whiteboard/manager.cpp.'>clear_exclusive_draws</a>() <em class='brace'>{</em> <a href='../Y/9525.html' title='Multiple used in 11 places.'>exclusive_unit_draw_requests_</a>.<a href='../D/4428.html' title='Multiple defined in 37 places.'>clear</a>(); <em class='brace'>}</em>
<a id='L117' name='L117'></a> 117         <strong class='reserved'>const</strong> <a href='../D/15486.html' title='Multiple defined in 2 places.'>unit_map</a>&amp; <a href='../R/7213.html' title='Multiple referred from 144 places.'>get_units</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em><strong class='reserved'>return</strong> <a href='../D/5203.html' title='Multiple defined in 2 places.'>dc_</a>-&gt;<a href='../D/15530.html' title='Multiple defined in 8 places.'>units</a>();<em class='brace'>}</em>
<a id='L118' name='L118'></a> 118 
<a id='L119' name='L119'></a> 119         <em class='comment'>/**</em>
<a id='L120' name='L120'></a> 120 <em class='comment'>         * Allows a unit to request to be the only one drawn in its hex. Useful for situations where</em>
<a id='L121' name='L121'></a> 121 <em class='comment'>         * multiple units (one real, multiple temporary) can end up stacked, such as with the whiteboard.</em>
<a id='L122' name='L122'></a> 122 <em class='comment'>         * @param loc The location of the unit requesting exclusivity.</em>
<a id='L123' name='L123'></a> 123 <em class='comment'>         * @param unit The unit requesting exclusivity.</em>
<a id='L124' name='L124'></a> 124 <em class='comment'>         * @return false if there's already an exclusive draw request for this location.</em>
<a id='L125' name='L125'></a> 125 <em class='comment'>         */</em>
<a id='L126' name='L126'></a> 126         <strong class='reserved'>bool</strong> <a href='../S/682.html#L387' title='Defined at 387 in src/display.cpp.'>add_exclusive_draw</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../D/15428.html' title='Multiple defined in 4 places.'>unit</a>&amp; <a href='../D/15428.html' title='Multiple defined in 4 places.'>unit</a>);
<a id='L127' name='L127'></a> 127         <em class='comment'>/**</em>
<a id='L128' name='L128'></a> 128 <em class='comment'>         * Cancels an exclusive draw request.</em>
<a id='L129' name='L129'></a> 129 <em class='comment'>         * @return The id of the unit whose exclusive draw request was canceled, or else</em>
<a id='L130' name='L130'></a> 130 <em class='comment'>         *         the empty string if there was no exclusive draw request for this location.</em>
<a id='L131' name='L131'></a> 131 <em class='comment'>         */</em>
<a id='L132' name='L132'></a> 132         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a> <a href='../S/682.html#L400' title='Defined at 400 in src/display.cpp.'>remove_exclusive_draw</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L133' name='L133'></a> 133 
<a id='L134' name='L134'></a> 134         <em class='comment'>/**</em>
<a id='L135' name='L135'></a> 135 <em class='comment'>         * Check the overlay_map for proper team-specific overlays to be</em>
<a id='L136' name='L136'></a> 136 <em class='comment'>         * displayed/hidden</em>
<a id='L137' name='L137'></a> 137 <em class='comment'>         */</em>
<a id='L138' name='L138'></a> 138         <strong class='reserved'>void</strong> <a href='../S/682.html#L84' title='Defined at 84 in src/display.cpp.'>parse_team_overlays</a>();
<a id='L139' name='L139'></a> 139 
<a id='L140' name='L140'></a> 140         <em class='comment'>/**</em>
<a id='L141' name='L141'></a> 141 <em class='comment'>         * Functions to add and remove overlays from locations.</em>
<a id='L142' name='L142'></a> 142 <em class='comment'>         *</em>
<a id='L143' name='L143'></a> 143 <em class='comment'>         * An overlay is an image that is displayed on top of the tile.</em>
<a id='L144' name='L144'></a> 144 <em class='comment'>         * One tile may have multiple overlays.</em>
<a id='L145' name='L145'></a> 145 <em class='comment'>         */</em>
<a id='L146' name='L146'></a> 146         <strong class='reserved'>void</strong> <a href='../D/2910.html' title='Multiple defined in 2 places.'>add_overlay</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>,
<a id='L147' name='L147'></a> 147                 <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/8236.html' title='Multiple defined in 7 places.'>halo</a>="", <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/14881.html' title='Multiple defined in 4 places.'>team_name</a>="",<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../Y/12331.html' title='Multiple used in 44 places.'>item_id</a>="",
<a id='L148' name='L148'></a> 148                 <strong class='reserved'>bool</strong> <a href='../Y/21403.html' title='Multiple used in 3 places.'>visible_under_fog</a> = <strong class='reserved'>true</strong>);
<a id='L149' name='L149'></a> 149 
<a id='L150' name='L150'></a> 150         <em class='comment'>/** remove_overlay will remove all overlays on a tile. */</em>
<a id='L151' name='L151'></a> 151         <strong class='reserved'>void</strong> <a href='../D/12616.html' title='Multiple defined in 2 places.'>remove_overlay</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L152' name='L152'></a> 152 
<a id='L153' name='L153'></a> 153         <em class='comment'>/** remove_single_overlay will remove a single overlay from a tile */</em>
<a id='L154' name='L154'></a> 154         <strong class='reserved'>void</strong> <a href='../S/682.html#L129' title='Defined at 129 in src/display.cpp.'>remove_single_overlay</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../Y/20113.html' title='Multiple used in 3 places.'>toDelete</a>);
<a id='L155' name='L155'></a> 155 
<a id='L156' name='L156'></a> 156         <em class='comment'>/**</em>
<a id='L157' name='L157'></a> 157 <em class='comment'>         * Updates internals that cache map size. This should be called when the map</em>
<a id='L158' name='L158'></a> 158 <em class='comment'>         * size has changed.</em>
<a id='L159' name='L159'></a> 159 <em class='comment'>         */</em>
<a id='L160' name='L160'></a> 160         <strong class='reserved'>void</strong> <a href='../D/12552.html' title='Multiple defined in 3 places.'>reload_map</a>();
<a id='L161' name='L161'></a> 161 
<a id='L162' name='L162'></a> 162         <strong class='reserved'>void</strong> <a href='../S/682.html#L480' title='Defined at 480 in src/display.cpp.'>change_display_context</a>(<strong class='reserved'>const</strong> <a href='../S/846.html#L51' title='Defined at 51 in src/display_context.hpp.'>display_context</a> * <a href='../D/5202.html' title='Multiple defined in 2 places.'>dc</a>);
<a id='L163' name='L163'></a> 163         <strong class='reserved'>const</strong> <a href='../S/846.html#L51' title='Defined at 51 in src/display_context.hpp.'>display_context</a> &amp; <a href='../R/6626.html' title='Multiple referred from 63 places.'>get_disp_context</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> *<a href='../D/5203.html' title='Multiple defined in 2 places.'>dc_</a>; <em class='brace'>}</em>
<a id='L164' name='L164'></a> 164         <strong class='reserved'>virtual</strong> <strong class='reserved'>const</strong> <a href='../S/1048.html#L31' title='Defined at 31 in src/tod_manager.hpp.'>tod_manager</a> &amp; <a href='../D/8011.html' title='Multiple defined in 5 places.'>get_tod_man</a>() <strong class='reserved'>const</strong>; <em class='comment'>//!&lt; This is implemented properly in game_display. The display:: impl could be pure virtual here but we decide not to.</em>
<a id='L165' name='L165'></a> 165         <strong class='reserved'>virtual</strong> <strong class='reserved'>const</strong> <a href='../S/79.html#L28' title='Defined at 28 in src/game_data.hpp.'>game_data</a> * <a href='../R/6696.html' title='Multiple referred from 9 places.'>get_game_data</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/15115.html' title='Multiple used in 1948 places.'>nullptr</a>; <em class='brace'>}</em>
<a id='L166' name='L166'></a> 166         <strong class='reserved'>virtual</strong> <a href='../S/186.html#L47' title='Defined at 47 in src/scripting/game_lua_kernel.hpp.'>game_lua_kernel</a> * <a href='../R/6830.html' title='Multiple referred from 17 places.'>get_lua_kernel</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/15115.html' title='Multiple used in 1948 places.'>nullptr</a>; <em class='brace'>}</em> <em class='comment'>//!&lt; TODO: display should not work as a filter context, this was only done for expedience so that the unit animation code can have a convenient and correct filter context readily available. a more correct solution is most likely to pass it a filter context from unit_animator when it needs to be matched. (it's not possible to store filter contexts with animations, because animations are cached across scenarios.) Note that after these lines which return nullptr, unit filters used in animations will not be able to make use of wml variables or lua scripting (but the latter was a bad idea anyways because it would be slow to constantly recompile the script.)</em>
<a id='L167' name='L167'></a> 167 
<a id='L168' name='L168'></a> 168         <strong class='reserved'>void</strong> <a href='../D/12763.html' title='Multiple defined in 2 places.'>reset_halo_manager</a>();
<a id='L169' name='L169'></a> 169         <strong class='reserved'>void</strong> <a href='../D/12763.html' title='Multiple defined in 2 places.'>reset_halo_manager</a>(<a href='../D/8236.html' title='Multiple defined in 7 places.'>halo</a>::<a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a> &amp; hm);
<a id='L170' name='L170'></a> 170         <a href='../D/8236.html' title='Multiple defined in 7 places.'>halo</a>::<a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a> &amp; <a href='../S/1011.html#L40' title='Referred from 40 in src/units/drawer.cpp.'>get_halo_manager</a>() <em class='brace'>{</em> <strong class='reserved'>return</strong> *<a href='../Y/11104.html' title='Multiple used in 9 places.'>halo_man_</a>; <em class='brace'>}</em>
<a id='L171' name='L171'></a> 171 
<a id='L172' name='L172'></a> 172         <em class='comment'>/**</em>
<a id='L173' name='L173'></a> 173 <em class='comment'>         * Applies r,g,b coloring to the map.</em>
<a id='L174' name='L174'></a> 174 <em class='comment'>         *</em>
<a id='L175' name='L175'></a> 175 <em class='comment'>         * The color is usually taken from @ref get_time_of_day unless @a tod_override is given, in which</em>
<a id='L176' name='L176'></a> 176 <em class='comment'>         * case that color is used.</em>
<a id='L177' name='L177'></a> 177 <em class='comment'>         *</em>
<a id='L178' name='L178'></a> 178 <em class='comment'>         * @param tod_override             The ToD to apply to the map instead of that of the current ToD's.</em>
<a id='L179' name='L179'></a> 179 <em class='comment'>         */</em>
<a id='L180' name='L180'></a> 180         <strong class='reserved'>void</strong> <a href='../S/682.html#L428' title='Defined at 428 in src/display.cpp.'>update_tod</a>(<strong class='reserved'>const</strong> <a href='../S/921.html#L57' title='Defined at 57 in src/time_of_day.hpp.'>time_of_day</a>* <a href='../Y/20187.html' title='Multiple used in 3 places.'>tod_override</a> = <a href='../Y/15115.html' title='Multiple used in 1948 places.'>nullptr</a>);
<a id='L181' name='L181'></a> 181 
<a id='L182' name='L182'></a> 182         <em class='comment'>/**</em>
<a id='L183' name='L183'></a> 183 <em class='comment'>         * Add r,g,b to the colors for all images displayed on the map.</em>
<a id='L184' name='L184'></a> 184 <em class='comment'>         *</em>
<a id='L185' name='L185'></a> 185 <em class='comment'>         * Used for special effects like flashes.</em>
<a id='L186' name='L186'></a> 186 <em class='comment'>         */</em>
<a id='L187' name='L187'></a> 187         <strong class='reserved'>void</strong> <a href='../S/682.html#L439' title='Defined at 439 in src/display.cpp.'>adjust_color_overlay</a>(<strong class='reserved'>int</strong> <a href='../S/704.html#L606' title='Defined at 606 in src/tests/gui/test_gui2.cpp.'>r</a>, <strong class='reserved'>int</strong> <a href='../D/6542.html' title='Multiple defined in 2 places.'>g</a>, <strong class='reserved'>int</strong> <a href='../D/3490.html' title='Multiple defined in 3 places.'>b</a>);
<a id='L188' name='L188'></a> 188 
<a id='L189' name='L189'></a> 189 
<a id='L190' name='L190'></a> 190         <em class='comment'>/** Gets the underlying screen object. */</em>
<a id='L191' name='L191'></a> 191         <a href='../D/214.html' title='Multiple defined in 2 places.'>CVideo</a>&amp; <a href='../R/14619.html' title='Multiple referred from 833 places.'>video</a>() <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/17790.html' title='Multiple used in 27 places.'>screen_</a>; <em class='brace'>}</em>
<a id='L192' name='L192'></a> 192 
<a id='L193' name='L193'></a> 193         <em class='comment'>/** return the screen surface or the surface used for map_screenshot. */</em>
<a id='L194' name='L194'></a> 194         <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&amp; <a href='../R/7048.html' title='Multiple referred from 5 places.'>get_screen_surface</a>() <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/13621.html' title='Multiple used in 7 places.'>map_screenshot_</a> ? <a href='../Y/13622.html' title='Multiple used in 7 places.'>map_screenshot_surf_</a> : <a href='../Y/17790.html' title='Multiple used in 27 places.'>screen_</a>.<a href='../S/687.html#L374' title='Defined at 374 in src/video.cpp.'>getSurface</a>();<em class='brace'>}</em>
<a id='L195' name='L195'></a> 195 
<a id='L196' name='L196'></a> 196         <strong class='reserved'>virtual</strong> <strong class='reserved'>bool</strong> <a href='../S/96.html#L709' title='Referred from 709 in src/hotkey/command_executor.cpp.'>in_game</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <strong class='reserved'>false</strong>; <em class='brace'>}</em>
<a id='L197' name='L197'></a> 197         <strong class='reserved'>virtual</strong> <strong class='reserved'>bool</strong> <a href='../S/682.html#L2595' title='Referred from 2595 in src/display.cpp.'>in_editor</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <strong class='reserved'>false</strong>; <em class='brace'>}</em>
<a id='L198' name='L198'></a> 198 
<a id='L199' name='L199'></a> 199         <em class='comment'>/** Virtual functions shadowed in game_display. These are needed to generate reports easily, without dynamic casting. Hope to factor out eventually. */</em>
<a id='L200' name='L200'></a> 200         <strong class='reserved'>virtual</strong> <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp; <a href='../R/4787.html' title='Multiple referred from 25 places.'>displayed_unit_hex</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>::<a href='../S/1089.html#L220' title='Defined at 220 in src/map/location.hpp.'>null_location</a>(); <em class='brace'>}</em>
<a id='L201' name='L201'></a> 201         <strong class='reserved'>virtual</strong> <strong class='reserved'>int</strong> <a href='../R/10813.html' title='Multiple referred from 9 places.'>playing_side</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> -100; <em class='brace'>}</em> <em class='comment'>//In this case give an obviously wrong answer to fail fast, since this could actually cause a big bug. */</em>
<a id='L202' name='L202'></a> 202         <strong class='reserved'>virtual</strong> <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt;&amp; <a href='../R/10363.html' title='Multiple referred from 23 places.'>observers</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>static</strong> <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt; fake_obs = <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt; (); <strong class='reserved'>return</strong> fake_obs; <em class='brace'>}</em>
<a id='L203' name='L203'></a> 203 
<a id='L204' name='L204'></a> 204         <em class='comment'>/**</em>
<a id='L205' name='L205'></a> 205 <em class='comment'>         * the dimensions of the display. x and y are width/height.</em>
<a id='L206' name='L206'></a> 206 <em class='comment'>         * mapx is the width of the portion of the display which shows the game area.</em>
<a id='L207' name='L207'></a> 207 <em class='comment'>         * Between mapx and x is the sidebar region.</em>
<a id='L208' name='L208'></a> 208 <em class='comment'>         */</em>
<a id='L209' name='L209'></a> 209         <strong class='reserved'>int</strong> <a href='../R/14675.html' title='Multiple referred from 1527 places.'>w</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/17790.html' title='Multiple used in 27 places.'>screen_</a>.<a href='../S/687.html#L277' title='Defined at 277 in src/video.cpp.'>getx</a>(); <em class='brace'>}</em>        <em class='comment'>/**&lt; width */</em>
<a id='L210' name='L210'></a> 210         <strong class='reserved'>int</strong> <a href='../R/7392.html' title='Multiple referred from 1226 places.'>h</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/17790.html' title='Multiple used in 27 places.'>screen_</a>.<a href='../S/687.html#L282' title='Defined at 282 in src/video.cpp.'>gety</a>(); <em class='brace'>}</em>        <em class='comment'>/**&lt; height */</em>
<a id='L211' name='L211'></a> 211         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../R/9915.html' title='Multiple referred from 2 places.'>minimap_area</a>() <strong class='reserved'>const</strong>
<a id='L212' name='L212'></a> 212                 <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19841.html' title='Multiple used in 40 places.'>theme_</a>.<a href='../S/1247.html#L263' title='Defined at 263 in src/theme.hpp.'>mini_map_location</a>(<a href='../D/13222.html' title='Multiple defined in 2 places.'>screen_area</a>()); <em class='brace'>}</em>
<a id='L213' name='L213'></a> 213         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../R/10546.html' title='Multiple referred from 2 places.'>palette_area</a>() <strong class='reserved'>const</strong>
<a id='L214' name='L214'></a> 214                 <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19841.html' title='Multiple used in 40 places.'>theme_</a>.<a href='../S/1247.html#L267' title='Defined at 267 in src/theme.hpp.'>palette_location</a>(<a href='../D/13222.html' title='Multiple defined in 2 places.'>screen_area</a>()); <em class='brace'>}</em>
<a id='L215' name='L215'></a> 215         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; unit_image_area() <strong class='reserved'>const</strong>
<a id='L216' name='L216'></a> 216                 <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19841.html' title='Multiple used in 40 places.'>theme_</a>.<a href='../S/1247.html#L265' title='Defined at 265 in src/theme.hpp.'>unit_image_location</a>(<a href='../D/13222.html' title='Multiple defined in 2 places.'>screen_area</a>()); <em class='brace'>}</em>
<a id='L217' name='L217'></a> 217 
<a id='L218' name='L218'></a> 218         <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a> <a href='../R/12098.html' title='Multiple referred from 33 places.'>screen_area</a>() <strong class='reserved'>const</strong>
<a id='L219' name='L219'></a> 219                 <em class='brace'>{</em> <strong class='reserved'>return</strong> <em class='brace'>{</em>0, 0, <a href='../D/15955.html' title='Multiple defined in 6 places.'>w</a>(), <a href='../D/8231.html' title='Multiple defined in 8 places.'>h</a>()<em class='brace'>}</em>; <em class='brace'>}</em>
<a id='L220' name='L220'></a> 220 
<a id='L221' name='L221'></a> 221         <em class='comment'>/**</em>
<a id='L222' name='L222'></a> 222 <em class='comment'>         * Returns the maximum area used for the map</em>
<a id='L223' name='L223'></a> 223 <em class='comment'>         * regardless to resolution and view size</em>
<a id='L224' name='L224'></a> 224 <em class='comment'>         */</em>
<a id='L225' name='L225'></a> 225         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../S/682.html#L510' title='Defined at 510 in src/display.cpp.'>max_map_area</a>() <strong class='reserved'>const</strong>;
<a id='L226' name='L226'></a> 226 
<a id='L227' name='L227'></a> 227         <em class='comment'>/**</em>
<a id='L228' name='L228'></a> 228 <em class='comment'>         * Returns the area used for the map</em>
<a id='L229' name='L229'></a> 229 <em class='comment'>         */</em>
<a id='L230' name='L230'></a> 230         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../S/682.html#L527' title='Defined at 527 in src/display.cpp.'>map_area</a>() <strong class='reserved'>const</strong>;
<a id='L231' name='L231'></a> 231 
<a id='L232' name='L232'></a> 232         <em class='comment'>/**</em>
<a id='L233' name='L233'></a> 233 <em class='comment'>         * Returns the available area for a map, this may differ</em>
<a id='L234' name='L234'></a> 234 <em class='comment'>         * from the above. This area will get the background area</em>
<a id='L235' name='L235'></a> 235 <em class='comment'>         * applied to it.</em>
<a id='L236' name='L236'></a> 236 <em class='comment'>         */</em>
<a id='L237' name='L237'></a> 237         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../R/9723.html' title='Multiple referred from 18 places.'>map_outside_area</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/13621.html' title='Multiple used in 7 places.'>map_screenshot_</a> ?
<a id='L238' name='L238'></a> 238                 <a href='../S/682.html#L510' title='Defined at 510 in src/display.cpp.'>max_map_area</a>() : <a href='../Y/19841.html' title='Multiple used in 40 places.'>theme_</a>.<a href='../S/1247.html#L261' title='Defined at 261 in src/theme.hpp.'>main_map_location</a>(<a href='../D/13222.html' title='Multiple defined in 2 places.'>screen_area</a>()); <em class='brace'>}</em>
<a id='L239' name='L239'></a> 239 
<a id='L240' name='L240'></a> 240         <em class='comment'>/** Check if the bbox of the hex at x,y has pixels outside the area rectangle. */</em>
<a id='L241' name='L241'></a> 241         <strong class='reserved'>bool</strong> <a href='../S/682.html#L555' title='Defined at 555 in src/display.cpp.'>outside_area</a>(<strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../S/977.html#L103' title='Defined at 103 in src/sdl/surface.hpp.'>area</a>, <strong class='reserved'>const</strong> <strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>,<strong class='reserved'>const</strong> <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>) <strong class='reserved'>const</strong>;
<a id='L242' name='L242'></a> 242 
<a id='L243' name='L243'></a> 243         <em class='comment'>/**</em>
<a id='L244' name='L244'></a> 244 <em class='comment'>         * Function which returns the width of a hex in pixels,</em>
<a id='L245' name='L245'></a> 245 <em class='comment'>         * up to where the next hex starts.</em>
<a id='L246' name='L246'></a> 246 <em class='comment'>         * (i.e. not entirely from tip to tip -- use hex_size()</em>
<a id='L247' name='L247'></a> 247 <em class='comment'>         * to get the distance from tip to tip)</em>
<a id='L248' name='L248'></a> 248 <em class='comment'>         */</em>
<a id='L249' name='L249'></a> 249         <strong class='reserved'>int</strong> <a href='../R/7628.html' title='Multiple referred from 11 places.'>hex_width</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> (<a href='../Y/22079.html' title='Multiple used in 33 places.'>zoom_</a>*3)/4; <em class='brace'>}</em>
<a id='L250' name='L250'></a> 250 
<a id='L251' name='L251'></a> 251         <em class='comment'>/**</em>
<a id='L252' name='L252'></a> 252 <em class='comment'>         * Function which returns the size of a hex in pixels</em>
<a id='L253' name='L253'></a> 253 <em class='comment'>         * (from top tip to bottom tip or left edge to right edge).</em>
<a id='L254' name='L254'></a> 254 <em class='comment'>         */</em>
<a id='L255' name='L255'></a> 255         <strong class='reserved'>int</strong> <a href='../R/7626.html' title='Multiple referred from 41 places.'>hex_size</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/22079.html' title='Multiple used in 33 places.'>zoom_</a>; <em class='brace'>}</em>
<a id='L256' name='L256'></a> 256 
<a id='L257' name='L257'></a> 257         <em class='comment'>/** Returns the current zoom factor. */</em>
<a id='L258' name='L258'></a> 258         <strong class='reserved'>double</strong> <a href='../R/7290.html' title='Multiple referred from 19 places.'>get_zoom_factor</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <strong class='reserved'>double</strong>(<a href='../Y/22079.html' title='Multiple used in 33 places.'>zoom_</a>)/<strong class='reserved'>double</strong>(<a href='../D/6550.html' title='Multiple defined in 7 places.'>game_config</a>::<a href='../Y/19938.html' title='Multiple used in 28 places.'>tile_size</a>); <em class='brace'>}</em>
<a id='L259' name='L259'></a> 259 
<a id='L260' name='L260'></a> 260         <em class='comment'>/**</em>
<a id='L261' name='L261'></a> 261 <em class='comment'>         * given x,y co-ordinates of an onscreen pixel, will return the</em>
<a id='L262' name='L262'></a> 262 <em class='comment'>         * location of the hex that this pixel corresponds to.</em>
<a id='L263' name='L263'></a> 263 <em class='comment'>         * Returns an invalid location if the mouse isn't over any valid location.</em>
<a id='L264' name='L264'></a> 264 <em class='comment'>         */</em>
<a id='L265' name='L265'></a> 265         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../S/682.html#L564' title='Defined at 564 in src/display.cpp.'>hex_clicked_on</a>(<strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>) <strong class='reserved'>const</strong>;
<a id='L266' name='L266'></a> 266 
<a id='L267' name='L267'></a> 267         <em class='comment'>/**</em>
<a id='L268' name='L268'></a> 268 <em class='comment'>         * given x,y co-ordinates of a pixel on the map, will return the</em>
<a id='L269' name='L269'></a> 269 <em class='comment'>         * location of the hex that this pixel corresponds to.</em>
<a id='L270' name='L270'></a> 270 <em class='comment'>         * Returns an invalid location if the mouse isn't over any valid location.</em>
<a id='L271' name='L271'></a> 271 <em class='comment'>         */</em>
<a id='L272' name='L272'></a> 272         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../S/682.html#L579' title='Defined at 579 in src/display.cpp.'>pixel_position_to_hex</a>(<strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>) <strong class='reserved'>const</strong>;
<a id='L273' name='L273'></a> 273 
<a id='L274' name='L274'></a> 274         <em class='comment'>/**</em>
<a id='L275' name='L275'></a> 275 <em class='comment'>         * given x,y co-ordinates of the mouse, will return the location of the</em>
<a id='L276' name='L276'></a> 276 <em class='comment'>         * hex in the minimap that the mouse is currently over, or an invalid</em>
<a id='L277' name='L277'></a> 277 <em class='comment'>         * location if the mouse isn't over the minimap.</em>
<a id='L278' name='L278'></a> 278 <em class='comment'>         */</em>
<a id='L279' name='L279'></a> 279         <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../S/682.html#L725' title='Defined at 725 in src/display.cpp.'>minimap_location_on</a>(<strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>);
<a id='L280' name='L280'></a> 280 
<a id='L281' name='L281'></a> 281         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../R/12211.html' title='Multiple referred from 19 places.'>selected_hex</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/17987.html' title='Multiple used in 12 places.'>selectedHex_</a>; <em class='brace'>}</em>
<a id='L282' name='L282'></a> 282         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../R/10028.html' title='Multiple referred from 61 places.'>mouseover_hex</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/14227.html' title='Multiple used in 14 places.'>mouseoverHex_</a>; <em class='brace'>}</em>
<a id='L283' name='L283'></a> 283 
<a id='L284' name='L284'></a> 284         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/13308.html' title='Multiple defined in 5 places.'>select_hex</a>(<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../Y/11354.html' title='Multiple used in 412 places.'>hex</a>);
<a id='L285' name='L285'></a> 285         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/8507.html' title='Multiple defined in 2 places.'>highlight_hex</a>(<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../Y/11354.html' title='Multiple used in 412 places.'>hex</a>);
<a id='L286' name='L286'></a> 286 
<a id='L287' name='L287'></a> 287         <em class='comment'>/** Function to invalidate the game status displayed on the sidebar. */</em>
<a id='L288' name='L288'></a> 288         <strong class='reserved'>void</strong> <a href='../R/8235.html' title='Multiple referred from 16 places.'>invalidate_game_status</a>() <em class='brace'>{</em> <a href='../Y/12065.html' title='Multiple used in 7 places.'>invalidateGameStatus_</a> = <strong class='reserved'>true</strong>; <em class='brace'>}</em>
<a id='L289' name='L289'></a> 289 
<a id='L290' name='L290'></a> 290         <em class='comment'>/** Functions to get the on-screen positions of hexes. */</em>
<a id='L291' name='L291'></a> 291         <strong class='reserved'>int</strong> <a href='../S/682.html#L715' title='Defined at 715 in src/display.cpp.'>get_location_x</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L292' name='L292'></a> 292         <strong class='reserved'>int</strong> <a href='../S/682.html#L720' title='Defined at 720 in src/display.cpp.'>get_location_y</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L293' name='L293'></a> 293 
<a id='L294' name='L294'></a> 294         <em class='comment'>/**</em>
<a id='L295' name='L295'></a> 295 <em class='comment'>         * Rectangular area of hexes, allowing to decide how the top and bottom</em>
<a id='L296' name='L296'></a> 296 <em class='comment'>         * edges handles the vertical shift for each parity of the x coordinate</em>
<a id='L297' name='L297'></a> 297 <em class='comment'>         */</em>
<a id='L298' name='L298'></a> 298         <strong class='reserved'>struct</strong> <a href='../R/11351.html' title='Multiple referred from 12 places.'>rect_of_hexes</a><em class='brace'>{</em>
<a id='L299' name='L299'></a> 299                 <strong class='reserved'>int</strong> <a href='../Y/12906.html' title='Multiple used in 114 places.'>left</a>;
<a id='L300' name='L300'></a> 300                 <strong class='reserved'>int</strong> <a href='../Y/17453.html' title='Multiple used in 76 places.'>right</a>;
<a id='L301' name='L301'></a> 301                 <strong class='reserved'>int</strong> <a href='../S/969.html#L70' title='Defined at 70 in src/image_modifications.cpp.'>top</a>[2]; <em class='comment'>// for even and odd values of x, respectively</em>
<a id='L302' name='L302'></a> 302                 <strong class='reserved'>int</strong> <a href='../Y/6477.html' title='Multiple used in 24 places.'>bottom</a>[2];
<a id='L303' name='L303'></a> 303 
<a id='L304' name='L304'></a> 304                 <em class='comment'>/**  very simple iterator to walk into the rect_of_hexes */</em>
<a id='L305' name='L305'></a> 305                 <strong class='reserved'>struct</strong> <a href='../R/8563.html' title='Multiple referred from 855 places.'>iterator</a> <em class='brace'>{</em>
<a id='L306' name='L306'></a> 306                         <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp;<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <strong class='reserved'>const</strong> <a href='../S/958.html#L298' title='Defined at 298 in src/display.hpp.'>rect_of_hexes</a> &amp;<a href='../Y/17000.html' title='Multiple used in 899 places.'>rect</a>)
<a id='L307' name='L307'></a> 307                                 : <a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a>(<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>), <a href='../R/11350.html' title='Multiple referred from 49 places.'>rect_</a>(<a href='../Y/17000.html' title='Multiple used in 899 places.'>rect</a>)<em class='brace'>{</em><em class='brace'>}</em>
<a id='L308' name='L308'></a> 308 
<a id='L309' name='L309'></a> 309                         <em class='comment'>/** increment y first, then when reaching bottom, increment x */</em>
<a id='L310' name='L310'></a> 310                         <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a>&amp; <strong class='reserved'>operator</strong>++();
<a id='L311' name='L311'></a> 311                         <strong class='reserved'>bool</strong> <strong class='reserved'>operator</strong>==(<strong class='reserved'>const</strong> <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a> &amp;<a href='../Y/19823.html' title='Multiple used in 98 places.'>that</a>) <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19823.html' title='Multiple used in 98 places.'>that</a>.<a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a> == <a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a>; <em class='brace'>}</em>
<a id='L312' name='L312'></a> 312                         <strong class='reserved'>bool</strong> <strong class='reserved'>operator</strong>!=(<strong class='reserved'>const</strong> <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a> &amp;<a href='../Y/19823.html' title='Multiple used in 98 places.'>that</a>) <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19823.html' title='Multiple used in 98 places.'>that</a>.<a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a> != <a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a>; <em class='brace'>}</em>
<a id='L313' name='L313'></a> 313                         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <strong class='reserved'>operator</strong>*() <strong class='reserved'>const</strong> <em class='brace'>{</em><strong class='reserved'>return</strong> <a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a>;<em class='brace'>}</em>
<a id='L314' name='L314'></a> 314 
<a id='L315' name='L315'></a> 315                         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/10233.html' title='Multiple used in 2 places.'>forward_iterator_tag</a> iterator_category;
<a id='L316' name='L316'></a> 316                         <strong class='reserved'>typedef</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../R/14545.html' title='Multiple referred from 152 places.'>value_type</a>;
<a id='L317' name='L317'></a> 317                         <strong class='reserved'>typedef</strong> <strong class='reserved'>int</strong> <a href='../R/4724.html' title='Multiple referred from 29 places.'>difference_type</a>;
<a id='L318' name='L318'></a> 318                         <strong class='reserved'>typedef</strong> <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> *<a href='../R/10845.html' title='Multiple referred from 23 places.'>pointer</a>;
<a id='L319' name='L319'></a> 319                         <strong class='reserved'>typedef</strong> <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp;<a href='../R/11384.html' title='Multiple referred from 25 places.'>reference</a>;
<a id='L320' name='L320'></a> 320 
<a id='L321' name='L321'></a> 321                         <strong class='reserved'>private</strong>:
<a id='L322' name='L322'></a> 322                                 <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../D/9877.html' title='Multiple defined in 5 places.'>loc_</a>;
<a id='L323' name='L323'></a> 323                                 <strong class='reserved'>const</strong> <a href='../S/958.html#L298' title='Defined at 298 in src/display.hpp.'>rect_of_hexes</a> &amp;<a href='../S/958.html#L307' title='Defined at 307 in src/display.hpp.'>rect_</a>;
<a id='L324' name='L324'></a> 324                 <em class='brace'>}</em>;
<a id='L325' name='L325'></a> 325                 <strong class='reserved'>typedef</strong> <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a> <a href='../R/4182.html' title='Multiple referred from 864 places.'>const_iterator</a>;
<a id='L326' name='L326'></a> 326 
<a id='L327' name='L327'></a> 327                 <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a> <a href='../D/3581.html' title='Multiple defined in 27 places.'>begin</a>() <strong class='reserved'>const</strong>;
<a id='L328' name='L328'></a> 328                 <a href='../D/9456.html' title='Multiple defined in 16 places.'>iterator</a> <a href='../D/5842.html' title='Multiple defined in 27 places.'>end</a>() <strong class='reserved'>const</strong>;
<a id='L329' name='L329'></a> 329         <em class='brace'>}</em>;
<a id='L330' name='L330'></a> 330 
<a id='L331' name='L331'></a> 331         <em class='comment'>/** Return the rectangular area of hexes overlapped by r (r is in screen coordinates) */</em>
<a id='L332' name='L332'></a> 332         <strong class='reserved'>const</strong> <a href='../S/958.html#L298' title='Defined at 298 in src/display.hpp.'>rect_of_hexes</a> <a href='../S/682.html#L653' title='Defined at 653 in src/display.cpp.'>hexes_under_rect</a>(<strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../S/704.html#L606' title='Defined at 606 in src/tests/gui/test_gui2.cpp.'>r</a>) <strong class='reserved'>const</strong>;
<a id='L333' name='L333'></a> 333 
<a id='L334' name='L334'></a> 334         <em class='comment'>/** Returns the rectangular area of visible hexes */</em>
<a id='L335' name='L335'></a> 335         <strong class='reserved'>const</strong> <a href='../S/958.html#L298' title='Defined at 298 in src/display.hpp.'>rect_of_hexes</a> <a href='../R/7266.html' title='Multiple referred from 2 places.'>get_visible_hexes</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em><strong class='reserved'>return</strong> <a href='../S/682.html#L653' title='Defined at 653 in src/display.cpp.'>hexes_under_rect</a>(<a href='../S/682.html#L527' title='Defined at 527 in src/display.cpp.'>map_area</a>());<em class='brace'>}</em>
<a id='L336' name='L336'></a> 336 
<a id='L337' name='L337'></a> 337         <em class='comment'>/** Returns true if location (x,y) is covered in shroud. */</em>
<a id='L338' name='L338'></a> 338         <strong class='reserved'>bool</strong> <a href='../D/14331.html' title='Multiple defined in 2 places.'>shrouded</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L339' name='L339'></a> 339 
<a id='L340' name='L340'></a> 340         <em class='comment'>/** Returns true if location (x,y) is covered in fog. */</em>
<a id='L341' name='L341'></a> 341         <strong class='reserved'>bool</strong> <a href='../D/6374.html' title='Multiple defined in 2 places.'>fogged</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L342' name='L342'></a> 342 
<a id='L343' name='L343'></a> 343         <em class='comment'>/**</em>
<a id='L344' name='L344'></a> 344 <em class='comment'>         * Determines whether a grid should be overlayed on the game board.</em>
<a id='L345' name='L345'></a> 345 <em class='comment'>         * (to more clearly show where hexes are)</em>
<a id='L346' name='L346'></a> 346 <em class='comment'>         */</em>
<a id='L347' name='L347'></a> 347         <strong class='reserved'>void</strong> <a href='../R/12566.html' title='Multiple referred from 6 places.'>set_grid</a>(<strong class='reserved'>const</strong> <strong class='reserved'>bool</strong> <a href='../D/8207.html' title='Multiple defined in 17 places.'>grid</a>) <em class='brace'>{</em> <a href='../D/8208.html' title='Multiple defined in 2 places.'>grid_</a> = <a href='../D/8207.html' title='Multiple defined in 17 places.'>grid</a>; <em class='brace'>}</em>
<a id='L348' name='L348'></a> 348 
<a id='L349' name='L349'></a> 349         <em class='comment'>/** Getter for the x,y debug overlay on tiles */</em>
<a id='L350' name='L350'></a> 350         <strong class='reserved'>bool</strong> <a href='../R/6631.html' title='Multiple referred from 4 places.'>get_draw_coordinates</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/8913.html' title='Multiple used in 8 places.'>draw_coordinates_</a>; <em class='brace'>}</em>
<a id='L351' name='L351'></a> 351         <em class='comment'>/** Setter for the x,y debug overlay on tiles */</em>
<a id='L352' name='L352'></a> 352         <strong class='reserved'>void</strong> <a href='../R/12485.html' title='Multiple referred from 3 places.'>set_draw_coordinates</a>(<strong class='reserved'>bool</strong> <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>) <em class='brace'>{</em> <a href='../Y/8913.html' title='Multiple used in 8 places.'>draw_coordinates_</a> = <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>; <em class='brace'>}</em>
<a id='L353' name='L353'></a> 353 
<a id='L354' name='L354'></a> 354         <em class='comment'>/** Getter for the terrain code debug overlay on tiles */</em>
<a id='L355' name='L355'></a> 355         <strong class='reserved'>bool</strong> <a href='../R/6633.html' title='Multiple referred from 5 places.'>get_draw_terrain_codes</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/8918.html' title='Multiple used in 7 places.'>draw_terrain_codes_</a>; <em class='brace'>}</em>
<a id='L356' name='L356'></a> 356         <em class='comment'>/** Setter for the terrain code debug overlay on tiles */</em>
<a id='L357' name='L357'></a> 357         <strong class='reserved'>void</strong> <a href='../R/12489.html' title='Multiple referred from 5 places.'>set_draw_terrain_codes</a>(<strong class='reserved'>bool</strong> <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>) <em class='brace'>{</em> <a href='../Y/8918.html' title='Multiple used in 7 places.'>draw_terrain_codes_</a> = <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>; <em class='brace'>}</em>
<a id='L358' name='L358'></a> 358 
<a id='L359' name='L359'></a> 359         <em class='comment'>/** Getter for the number of bitmaps debug overlay on tiles */</em>
<a id='L360' name='L360'></a> 360         <strong class='reserved'>bool</strong> <a href='../R/6632.html' title='Multiple referred from 4 places.'>get_draw_num_of_bitmaps</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/8917.html' title='Multiple used in 8 places.'>draw_num_of_bitmaps_</a>; <em class='brace'>}</em>
<a id='L361' name='L361'></a> 361         <em class='comment'>/** Setter for the terrain code debug overlay on tiles */</em>
<a id='L362' name='L362'></a> 362         <strong class='reserved'>void</strong> <a href='../R/12488.html' title='Multiple referred from 5 places.'>set_draw_num_of_bitmaps</a>(<strong class='reserved'>bool</strong> <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>) <em class='brace'>{</em> <a href='../Y/8917.html' title='Multiple used in 8 places.'>draw_num_of_bitmaps_</a> = <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>; <em class='brace'>}</em>
<a id='L363' name='L363'></a> 363 
<a id='L364' name='L364'></a> 364         <em class='comment'>/** Save a (map-)screenshot and return whether the operation succeeded. */</em>
<a id='L365' name='L365'></a> 365         <strong class='reserved'>bool</strong> <a href='../D/13223.html' title='Multiple defined in 2 places.'>screenshot</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/6157.html' title='Multiple defined in 4 places.'>filename</a>, <strong class='reserved'>bool</strong> <a href='../D/10704.html' title='Multiple defined in 2 places.'>map_screenshot</a> = <strong class='reserved'>false</strong>);
<a id='L366' name='L366'></a> 366 
<a id='L367' name='L367'></a> 367         <em class='comment'>/** Invalidates entire screen, including all tiles and sidebar. Calls redraw observers. */</em>
<a id='L368' name='L368'></a> 368         <strong class='reserved'>void</strong> <a href='../S/682.html#L2329' title='Defined at 2329 in src/display.cpp.'>redraw_everything</a>();
<a id='L369' name='L369'></a> 369 
<a id='L370' name='L370'></a> 370         <em class='comment'>/** Adds a redraw observer, a function object to be called when redraw_everything is used */</em>
<a id='L371' name='L371'></a> 371         <strong class='reserved'>void</strong> <a href='../S/682.html#L2380' title='Defined at 2380 in src/display.cpp.'>add_redraw_observer</a>(<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/10372.html' title='Multiple used in 250 places.'>function</a>&lt;<strong class='reserved'>void</strong>(<a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>&amp;)&gt; <a href='../D/6068.html' title='Multiple defined in 9 places.'>f</a>);
<a id='L372' name='L372'></a> 372 
<a id='L373' name='L373'></a> 373         <em class='comment'>/** Clear the redraw observers */</em>
<a id='L374' name='L374'></a> 374         <strong class='reserved'>void</strong> <a href='../S/682.html#L2385' title='Defined at 2385 in src/display.cpp.'>clear_redraw_observers</a>();
<a id='L375' name='L375'></a> 375 
<a id='L376' name='L376'></a> 376         <a href='../D/15047.html' title='Multiple defined in 3 places.'>theme</a>&amp; <a href='../R/7163.html' title='Multiple referred from 32 places.'>get_theme</a>() <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19841.html' title='Multiple used in 40 places.'>theme_</a>; <em class='brace'>}</em>
<a id='L377' name='L377'></a> 377         <strong class='reserved'>void</strong> <a href='../D/14047.html' title='Multiple defined in 3 places.'>set_theme</a>(<a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a> <a href='../Y/19842.html' title='Multiple used in 18 places.'>theme_cfg</a>);
<a id='L378' name='L378'></a> 378 
<a id='L379' name='L379'></a> 379         <em class='comment'>/**</em>
<a id='L380' name='L380'></a> 380 <em class='comment'>         * Retrieves a pointer to a theme UI button.</em>
<a id='L381' name='L381'></a> 381 <em class='comment'>         *</em>
<a id='L382' name='L382'></a> 382 <em class='comment'>         * @note The returned pointer may either be nullptr, meaning the button</em>
<a id='L383' name='L383'></a> 383 <em class='comment'>         *       isn't defined by the current theme, or point to a valid</em>
<a id='L384' name='L384'></a> 384 <em class='comment'>         *       gui::button object. However, the objects retrieved will be</em>
<a id='L385' name='L385'></a> 385 <em class='comment'>         *       destroyed and recreated by draw() method calls. Do *NOT* store</em>
<a id='L386' name='L386'></a> 386 <em class='comment'>         *       these pointers for longer than strictly necessary to</em>
<a id='L387' name='L387'></a> 387 <em class='comment'>         *       accomplish a specific task before the next screen refresh.</em>
<a id='L388' name='L388'></a> 388 <em class='comment'>         */</em>
<a id='L389' name='L389'></a> 389         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/18295.html' title='Multiple used in 468 places.'>shared_ptr</a>&lt;<a href='../D/8223.html' title='Multiple defined in 28 places.'>gui</a>::<a href='../D/3815.html' title='Multiple defined in 3 places.'>button</a>&gt; <a href='../S/682.html#L828' title='Defined at 828 in src/display.cpp.'>find_action_button</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/8582.html' title='Multiple defined in 22 places.'>id</a>);
<a id='L390' name='L390'></a> 390         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/18295.html' title='Multiple used in 468 places.'>shared_ptr</a>&lt;<a href='../D/8223.html' title='Multiple defined in 28 places.'>gui</a>::<a href='../D/3815.html' title='Multiple defined in 3 places.'>button</a>&gt; <a href='../S/682.html#L838' title='Defined at 838 in src/display.cpp.'>find_menu_button</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/8582.html' title='Multiple defined in 22 places.'>id</a>);
<a id='L391' name='L391'></a> 391 
<a id='L392' name='L392'></a> 392         <a href='../D/8223.html' title='Multiple defined in 28 places.'>gui</a>::<a href='../D/3815.html' title='Multiple defined in 3 places.'>button</a>::<a href='../D/2204.html' title='Multiple defined in 3 places.'>TYPE</a> <a href='../S/682.html#L943' title='Defined at 943 in src/display.cpp.'>string_to_button_type</a>(<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a> <a href='../D/15341.html' title='Multiple defined in 27 places.'>type</a>);
<a id='L393' name='L393'></a> 393         <strong class='reserved'>void</strong> <a href='../S/682.html#L875' title='Defined at 875 in src/display.cpp.'>create_buttons</a>();
<a id='L394' name='L394'></a> 394 
<a id='L395' name='L395'></a> 395         <strong class='reserved'>void</strong> <a href='../S/682.html#L848' title='Defined at 848 in src/display.cpp.'>layout_buttons</a>();
<a id='L396' name='L396'></a> 396 
<a id='L397' name='L397'></a> 397         <strong class='reserved'>void</strong> <a href='../S/682.html#L929' title='Defined at 929 in src/display.cpp.'>render_buttons</a>();
<a id='L398' name='L398'></a> 398 
<a id='L399' name='L399'></a> 399         <strong class='reserved'>void</strong> <a href='../R/8247.html' title='Multiple referred from 8 places.'>invalidate_theme</a>() <em class='brace'>{</em> <a href='../Y/15858.html' title='Multiple used in 6 places.'>panelsDrawn_</a> = <strong class='reserved'>false</strong>; <em class='brace'>}</em>
<a id='L400' name='L400'></a> 400 
<a id='L401' name='L401'></a> 401         <strong class='reserved'>void</strong> <a href='../S/682.html#L2735' title='Defined at 2735 in src/display.cpp.'>refresh_report</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../Y/17249.html' title='Multiple used in 9 places.'>report_name</a>, <strong class='reserved'>const</strong> <a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a> * <a href='../Y/14677.html' title='Multiple used in 22 places.'>new_cfg</a>=<a href='../Y/15115.html' title='Multiple used in 1948 places.'>nullptr</a>);
<a id='L402' name='L402'></a> 402 
<a id='L403' name='L403'></a> 403         <strong class='reserved'>void</strong> <a href='../S/682.html#L1812' title='Defined at 1812 in src/display.cpp.'>draw_minimap_units</a>();
<a id='L404' name='L404'></a> 404 
<a id='L405' name='L405'></a> 405         <em class='comment'>/** Function to invalidate all tiles. */</em>
<a id='L406' name='L406'></a> 406         <strong class='reserved'>void</strong> <a href='../S/682.html#L2943' title='Defined at 2943 in src/display.cpp.'>invalidate_all</a>();
<a id='L407' name='L407'></a> 407 
<a id='L408' name='L408'></a> 408         <em class='comment'>/** Function to invalidate a specific tile for redrawing. */</em>
<a id='L409' name='L409'></a> 409         <strong class='reserved'>bool</strong> <a href='../D/9107.html' title='Multiple defined in 6 places.'>invalidate</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L410' name='L410'></a> 410 
<a id='L411' name='L411'></a> 411         <strong class='reserved'>bool</strong> <a href='../D/9107.html' title='Multiple defined in 6 places.'>invalidate</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt;&amp; <a href='../Y/13201.html' title='Multiple used in 259 places.'>locs</a>);
<a id='L412' name='L412'></a> 412 
<a id='L413' name='L413'></a> 413         <em class='comment'>/**</em>
<a id='L414' name='L414'></a> 414 <em class='comment'>         * If this set is partially invalidated, invalidate all its hexes.</em>
<a id='L415' name='L415'></a> 415 <em class='comment'>         * Returns if any new invalidation was needed</em>
<a id='L416' name='L416'></a> 416 <em class='comment'>         */</em>
<a id='L417' name='L417'></a> 417         <strong class='reserved'>bool</strong> <a href='../S/682.html#L2980' title='Defined at 2980 in src/display.cpp.'>propagate_invalidation</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt;&amp; <a href='../Y/13201.html' title='Multiple used in 259 places.'>locs</a>);
<a id='L418' name='L418'></a> 418 
<a id='L419' name='L419'></a> 419         <em class='comment'>/** invalidate all hexes under the rectangle rect (in screen coordinates) */</em>
<a id='L420' name='L420'></a> 420         <strong class='reserved'>bool</strong> <a href='../S/682.html#L3015' title='Defined at 3015 in src/display.cpp.'>invalidate_locations_in_rect</a>(<strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../Y/17000.html' title='Multiple used in 899 places.'>rect</a>);
<a id='L421' name='L421'></a> 421         <strong class='reserved'>bool</strong> <a href='../S/682.html#L3010' title='Defined at 3010 in src/display.cpp.'>invalidate_visible_locations_in_rect</a>(<strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../Y/17000.html' title='Multiple used in 899 places.'>rect</a>);
<a id='L422' name='L422'></a> 422 
<a id='L423' name='L423'></a> 423         <em class='comment'>/**</em>
<a id='L424' name='L424'></a> 424 <em class='comment'>         * Function to invalidate animated terrains and units which may have changed.</em>
<a id='L425' name='L425'></a> 425 <em class='comment'>         */</em>
<a id='L426' name='L426'></a> 426         <strong class='reserved'>void</strong> <a href='../S/682.html#L3037' title='Defined at 3037 in src/display.cpp.'>invalidate_animations</a>();
<a id='L427' name='L427'></a> 427 
<a id='L428' name='L428'></a> 428         <em class='comment'>/**</em>
<a id='L429' name='L429'></a> 429 <em class='comment'>         * Per-location invalidation called by invalidate_animations()</em>
<a id='L430' name='L430'></a> 430 <em class='comment'>         * Extra game per-location invalidation (village ownership)</em>
<a id='L431' name='L431'></a> 431 <em class='comment'>         */</em>
<a id='L432' name='L432'></a> 432         <strong class='reserved'>void</strong> <a href='../S/682.html#L3027' title='Defined at 3027 in src/display.cpp.'>invalidate_animations_location</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L433' name='L433'></a> 433 
<a id='L434' name='L434'></a> 434         <em class='comment'>/**</em>
<a id='L435' name='L435'></a> 435 <em class='comment'>         * mouseover_hex_overlay_ require a prerendered surface</em>
<a id='L436' name='L436'></a> 436 <em class='comment'>         * and is drawn underneath the mouse's location</em>
<a id='L437' name='L437'></a> 437 <em class='comment'>         */</em>
<a id='L438' name='L438'></a> 438         <strong class='reserved'>void</strong> <a href='../R/12677.html' title='Multiple referred from 11 places.'>set_mouseover_hex_overlay</a>(<strong class='reserved'>const</strong> <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&amp; <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>)
<a id='L439' name='L439'></a> 439                 <em class='brace'>{</em> <a href='../Y/14229.html' title='Multiple used in 6 places.'>mouseover_hex_overlay_</a> = <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>; <em class='brace'>}</em>
<a id='L440' name='L440'></a> 440 
<a id='L441' name='L441'></a> 441         <strong class='reserved'>void</strong> <a href='../S/75.html#L147' title='Referred from 147 in src/editor/toolkit/editor_toolkit.cpp.'>clear_mouseover_hex_overlay</a>()
<a id='L442' name='L442'></a> 442                 <em class='brace'>{</em> <a href='../Y/14229.html' title='Multiple used in 6 places.'>mouseover_hex_overlay_</a> = <a href='../Y/15115.html' title='Multiple used in 1948 places.'>nullptr</a>; <em class='brace'>}</em>
<a id='L443' name='L443'></a> 443 
<a id='L444' name='L444'></a> 444         <em class='comment'>/** Toggle to continuously redraw the screen. */</em>
<a id='L445' name='L445'></a> 445         <strong class='reserved'>static</strong> <strong class='reserved'>void</strong> <a href='../S/682.html#L1318' title='Defined at 1318 in src/display.cpp.'>toggle_benchmark</a>();
<a id='L446' name='L446'></a> 446 
<a id='L447' name='L447'></a> 447         <em class='comment'>/**</em>
<a id='L448' name='L448'></a> 448 <em class='comment'>         * Toggle to debug foreground terrain.</em>
<a id='L449' name='L449'></a> 449 <em class='comment'>         * Separate background and foreground layer</em>
<a id='L450' name='L450'></a> 450 <em class='comment'>         * to better spot any error there.</em>
<a id='L451' name='L451'></a> 451 <em class='comment'>         */</em>
<a id='L452' name='L452'></a> 452         <strong class='reserved'>static</strong> <strong class='reserved'>void</strong> <a href='../S/682.html#L1323' title='Defined at 1323 in src/display.cpp.'>toggle_debug_foreground</a>();
<a id='L453' name='L453'></a> 453 
<a id='L454' name='L454'></a> 454         <a href='../S/303.html#L45' title='Defined at 45 in src/terrain/builder.hpp.'>terrain_builder</a>&amp; <a href='../S/486.html#L42' title='Referred from 42 in src/gui/dialogs/terrain_layers.cpp.'>get_builder</a>() <em class='brace'>{</em><strong class='reserved'>return</strong> *<a href='../Y/6577.html' title='Multiple used in 21 places.'>builder_</a>;<em class='brace'>}</em>
<a id='L455' name='L455'></a> 455 
<a id='L456' name='L456'></a> 456         <strong class='reserved'>void</strong> <a href='../D/6340.html' title='Multiple defined in 2 places.'>flip</a>();
<a id='L457' name='L457'></a> 457 
<a id='L458' name='L458'></a> 458         <em class='comment'>/** Copy the backbuffer to the framebuffer. */</em>
<a id='L459' name='L459'></a> 459         <strong class='reserved'>void</strong> <a href='../S/682.html#L1345' title='Defined at 1345 in src/display.cpp.'>update_display</a>();
<a id='L460' name='L460'></a> 460 
<a id='L461' name='L461'></a> 461         <em class='comment'>/** Rebuild all dynamic terrain. */</em>
<a id='L462' name='L462'></a> 462         <strong class='reserved'>void</strong> <a href='../D/12375.html' title='Multiple defined in 2 places.'>rebuild_all</a>();
<a id='L463' name='L463'></a> 463 
<a id='L464' name='L464'></a> 464         <strong class='reserved'>const</strong> <a href='../D/15047.html' title='Multiple defined in 3 places.'>theme</a>::<a href='../D/2736.html' title='Multiple defined in 10 places.'>action</a>* <a href='../D/2745.html' title='Multiple defined in 3 places.'>action_pressed</a>();
<a id='L465' name='L465'></a> 465         <strong class='reserved'>const</strong> <a href='../D/15047.html' title='Multiple defined in 3 places.'>theme</a>::<a href='../D/10841.html' title='Multiple defined in 3 places.'>menu</a>*   <a href='../S/682.html#L1708' title='Defined at 1708 in src/display.cpp.'>menu_pressed</a>();
<a id='L466' name='L466'></a> 466 
<a id='L467' name='L467'></a> 467         <em class='comment'>/**</em>
<a id='L468' name='L468'></a> 468 <em class='comment'>         * Finds the menu which has a given item in it,</em>
<a id='L469' name='L469'></a> 469 <em class='comment'>         * and enables or disables it.</em>
<a id='L470' name='L470'></a> 470 <em class='comment'>         */</em>
<a id='L471' name='L471'></a> 471         <strong class='reserved'>void</strong> <a href='../S/682.html#L1724' title='Defined at 1724 in src/display.cpp.'>enable_menu</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/9435.html' title='Multiple defined in 7 places.'>item</a>, <strong class='reserved'>bool</strong> <a href='../D/5814.html' title='Multiple defined in 6 places.'>enable</a>);
<a id='L472' name='L472'></a> 472 
<a id='L473' name='L473'></a> 473         <strong class='reserved'>void</strong> <a href='../S/682.html#L1605' title='Defined at 1605 in src/display.cpp.'>set_diagnostic</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../S/782.html#L110' title='Defined at 110 in src/formula/debugger.cpp.'>msg</a>);
<a id='L474' name='L474'></a> 474 
<a id='L475' name='L475'></a> 475         <em class='comment'>/**</em>
<a id='L476' name='L476'></a> 476 <em class='comment'>         * Set/Get whether 'turbo' mode is on.</em>
<a id='L477' name='L477'></a> 477 <em class='comment'>         * When turbo mode is on, everything moves much faster.</em>
<a id='L478' name='L478'></a> 478 <em class='comment'>         */</em>
<a id='L479' name='L479'></a> 479         <strong class='reserved'>void</strong> <a href='../R/12895.html' title='Multiple referred from 5 places.'>set_turbo</a>(<strong class='reserved'>const</strong> <strong class='reserved'>bool</strong> <a href='../S/798.html#L414' title='Defined at 414 in src/preferences/general.cpp.'>turbo</a>) <em class='brace'>{</em> <a href='../Y/20453.html' title='Multiple used in 4 places.'>turbo_</a> = <a href='../S/798.html#L414' title='Defined at 414 in src/preferences/general.cpp.'>turbo</a>; <em class='brace'>}</em>
<a id='L480' name='L480'></a> 480 
<a id='L481' name='L481'></a> 481         <strong class='reserved'>double</strong> <a href='../D/15321.html' title='Multiple defined in 2 places.'>turbo_speed</a>() <strong class='reserved'>const</strong>;
<a id='L482' name='L482'></a> 482 
<a id='L483' name='L483'></a> 483         <strong class='reserved'>void</strong> <a href='../R/12896.html' title='Multiple referred from 4 places.'>set_turbo_speed</a>(<strong class='reserved'>const</strong> <strong class='reserved'>double</strong> <a href='../Y/18752.html' title='Multiple used in 17 places.'>speed</a>) <em class='brace'>{</em> <a href='../Y/20454.html' title='Multiple used in 4 places.'>turbo_speed_</a> = <a href='../Y/18752.html' title='Multiple used in 17 places.'>speed</a>; <em class='brace'>}</em>
<a id='L484' name='L484'></a> 484 
<a id='L485' name='L485'></a> 485         <em class='comment'>/** control unit idle animations and their frequency */</em>
<a id='L486' name='L486'></a> 486         <strong class='reserved'>void</strong> <a href='../R/12585.html' title='Multiple referred from 3 places.'>set_idle_anim</a>(<strong class='reserved'>bool</strong> <a href='../Y/12276.html' title='Multiple used in 64 places.'>ison</a>) <em class='brace'>{</em> <a href='../Y/11634.html' title='Multiple used in 4 places.'>idle_anim_</a> = <a href='../Y/12276.html' title='Multiple used in 64 places.'>ison</a>; <em class='brace'>}</em>
<a id='L487' name='L487'></a> 487         <strong class='reserved'>bool</strong> <a href='../R/7727.html' title='Multiple referred from 5 places.'>idle_anim</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/11634.html' title='Multiple used in 4 places.'>idle_anim_</a>; <em class='brace'>}</em>
<a id='L488' name='L488'></a> 488         <strong class='reserved'>void</strong> <a href='../D/13736.html' title='Multiple defined in 2 places.'>set_idle_anim_rate</a>(<strong class='reserved'>int</strong> <a href='../Y/16797.html' title='Multiple used in 14 places.'>rate</a>);
<a id='L489' name='L489'></a> 489         <strong class='reserved'>double</strong> <a href='../R/7728.html' title='Multiple referred from 5 places.'>idle_anim_rate</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/11635.html' title='Multiple used in 4 places.'>idle_anim_rate_</a>; <em class='brace'>}</em>
<a id='L490' name='L490'></a> 490 
<a id='L491' name='L491'></a> 491         <strong class='reserved'>void</strong> <a href='../D/3720.html' title='Multiple defined in 2 places.'>bounds_check_position</a>();
<a id='L492' name='L492'></a> 492         <strong class='reserved'>void</strong> <a href='../D/3720.html' title='Multiple defined in 2 places.'>bounds_check_position</a>(<strong class='reserved'>int</strong>&amp; <a href='../S/803.html#L68' title='Defined at 68 in src/floating_label.cpp.'>xpos</a>, <strong class='reserved'>int</strong>&amp; <a href='../Y/22043.html' title='Multiple used in 94 places.'>ypos</a>);
<a id='L493' name='L493'></a> 493 
<a id='L494' name='L494'></a> 494         <em class='comment'>/**</em>
<a id='L495' name='L495'></a> 495 <em class='comment'>         * Scrolls the display by xmov,ymov pixels.</em>
<a id='L496' name='L496'></a> 496 <em class='comment'>         * Invalidation and redrawing will be scheduled.</em>
<a id='L497' name='L497'></a> 497 <em class='comment'>         * @return true if the map actually moved.</em>
<a id='L498' name='L498'></a> 498 <em class='comment'>         */</em>
<a id='L499' name='L499'></a> 499         <strong class='reserved'>bool</strong> <a href='../D/13226.html' title='Multiple defined in 6 places.'>scroll</a>(<strong class='reserved'>int</strong> xmov, <strong class='reserved'>int</strong> ymov, <strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a> = <strong class='reserved'>false</strong>);
<a id='L500' name='L500'></a> 500 
<a id='L501' name='L501'></a> 501         <em class='comment'>/** Zooms the display in (true) or out (false). */</em>
<a id='L502' name='L502'></a> 502         <strong class='reserved'>bool</strong> <a href='../D/14142.html' title='Multiple defined in 3 places.'>set_zoom</a>(<strong class='reserved'>bool</strong> <a href='../Y/11830.html' title='Multiple used in 65 places.'>increase</a>);
<a id='L503' name='L503'></a> 503 
<a id='L504' name='L504'></a> 504         <em class='comment'>/** Sets the display zoom to the specified amount. */</em>
<a id='L505' name='L505'></a> 505         <strong class='reserved'>bool</strong> <a href='../D/14142.html' title='Multiple defined in 3 places.'>set_zoom</a>(<strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../Y/5565.html' title='Multiple used in 257 places.'>amount</a>, <strong class='reserved'>const</strong> <strong class='reserved'>bool</strong> <a href='../Y/21155.html' title='Multiple used in 3 places.'>validate_value_and_set_index</a> = <strong class='reserved'>true</strong>);
<a id='L506' name='L506'></a> 506 
<a id='L507' name='L507'></a> 507         <strong class='reserved'>bool</strong> <a href='../S/682.html#L1930' title='Defined at 1930 in src/display.cpp.'>zoom_at_max</a>() <strong class='reserved'>const</strong>;
<a id='L508' name='L508'></a> 508         <strong class='reserved'>bool</strong> <a href='../S/682.html#L1935' title='Defined at 1935 in src/display.cpp.'>zoom_at_min</a>() <strong class='reserved'>const</strong>;
<a id='L509' name='L509'></a> 509 
<a id='L510' name='L510'></a> 510         <em class='comment'>/** Sets the zoom amount to the default. */</em>
<a id='L511' name='L511'></a> 511         <strong class='reserved'>void</strong> <a href='../S/682.html#L2005' title='Defined at 2005 in src/display.cpp.'>set_default_zoom</a>();
<a id='L512' name='L512'></a> 512 
<a id='L513' name='L513'></a> 513         <strong class='reserved'>bool</strong> <a href='../R/14628.html' title='Multiple referred from 5 places.'>view_locked</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/21324.html' title='Multiple used in 8 places.'>view_locked_</a>; <em class='brace'>}</em>
<a id='L514' name='L514'></a> 514 
<a id='L515' name='L515'></a> 515         <em class='comment'>/** Sets whether the map view is locked (e.g. so the user can't scroll away) */</em>
<a id='L516' name='L516'></a> 516         <strong class='reserved'>void</strong> <a href='../S/184.html#L943' title='Referred from 943 in src/scripting/game_lua_kernel.cpp.'>set_view_locked</a>(<strong class='reserved'>bool</strong> <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>) <em class='brace'>{</em> <a href='../Y/21324.html' title='Multiple used in 8 places.'>view_locked_</a> = <a href='../D/15808.html' title='Multiple defined in 19 places.'>value</a>; <em class='brace'>}</em>
<a id='L517' name='L517'></a> 517 
<a id='L518' name='L518'></a> 518         <strong class='reserved'>enum</strong> <a href='../R/1721.html' title='Multiple referred from 12 places.'>SCROLL_TYPE</a> <em class='brace'>{</em> <a href='../S/184.html#L2577' title='Referred from 2577 in src/scripting/game_lua_kernel.cpp.'>SCROLL</a>, <a href='../R/2123.html' title='Multiple referred from 12 places.'>WARP</a>, <a href='../R/1456.html' title='Multiple referred from 19 places.'>ONSCREEN</a>, <a href='../R/1457.html' title='Multiple referred from 5 places.'>ONSCREEN_WARP</a> <em class='brace'>}</em>;
<a id='L519' name='L519'></a> 519 
<a id='L520' name='L520'></a> 520         <em class='comment'>/**</em>
<a id='L521' name='L521'></a> 521 <em class='comment'>         * Scroll such that location loc is on-screen.</em>
<a id='L522' name='L522'></a> 522 <em class='comment'>         * WARP jumps to loc; SCROLL uses scroll speed;</em>
<a id='L523' name='L523'></a> 523 <em class='comment'>         * ONSCREEN only scrolls if x,y is offscreen</em>
<a id='L524' name='L524'></a> 524 <em class='comment'>         * force : scroll even if preferences tell us not to,</em>
<a id='L525' name='L525'></a> 525 <em class='comment'>         * or the view is locked.</em>
<a id='L526' name='L526'></a> 526 <em class='comment'>         */</em>
<a id='L527' name='L527'></a> 527         <strong class='reserved'>void</strong> <a href='../S/682.html#L2113' title='Defined at 2113 in src/display.cpp.'>scroll_to_tile</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>SCROLL_TYPE</a> <a href='../Y/17828.html' title='Multiple used in 19 places.'>scroll_type</a>=<a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>ONSCREEN</a>, <strong class='reserved'>bool</strong> <a href='../S/92.html#L160' title='Defined at 160 in src/soundsource.hpp.'>check_fogged</a>=<strong class='reserved'>true</strong>,<strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a> = <strong class='reserved'>true</strong>);
<a id='L528' name='L528'></a> 528 
<a id='L529' name='L529'></a> 529         <em class='comment'>/**</em>
<a id='L530' name='L530'></a> 530 <em class='comment'>         * Scroll such that location loc1 is on-screen.</em>
<a id='L531' name='L531'></a> 531 <em class='comment'>         * It will also try to make it such that loc2 is on-screen,</em>
<a id='L532' name='L532'></a> 532 <em class='comment'>         * but this is not guaranteed. For ONSCREEN scrolls add_spacing</em>
<a id='L533' name='L533'></a> 533 <em class='comment'>         * sets the desired minimum distance from the border in hexes.</em>
<a id='L534' name='L534'></a> 534 <em class='comment'>         */</em>
<a id='L535' name='L535'></a> 535         <strong class='reserved'>void</strong> <a href='../D/13248.html' title='Multiple defined in 3 places.'>scroll_to_tiles</a>(<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../Y/13107.html' title='Multiple used in 38 places.'>loc1</a>, <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../Y/13108.html' title='Multiple used in 42 places.'>loc2</a>,
<a id='L536' name='L536'></a> 536                              <a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>SCROLL_TYPE</a> <a href='../Y/17828.html' title='Multiple used in 19 places.'>scroll_type</a>=<a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>ONSCREEN</a>, <strong class='reserved'>bool</strong> <a href='../S/92.html#L160' title='Defined at 160 in src/soundsource.hpp.'>check_fogged</a>=<strong class='reserved'>true</strong>,
<a id='L537' name='L537'></a> 537                              <strong class='reserved'>double</strong> <a href='../Y/5201.html' title='Multiple used in 8 places.'>add_spacing</a>=0.0, <strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a>=<strong class='reserved'>true</strong>);
<a id='L538' name='L538'></a> 538 
<a id='L539' name='L539'></a> 539         <em class='comment'>/** Scroll to fit as many locations on-screen as possible, starting with the first. */</em>
<a id='L540' name='L540'></a> 540         <strong class='reserved'>void</strong> <a href='../D/13248.html' title='Multiple defined in 3 places.'>scroll_to_tiles</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt;::<a href='../D/4807.html' title='Multiple defined in 12 places.'>const_iterator</a> &amp; <a href='../D/3581.html' title='Multiple defined in 27 places.'>begin</a>,
<a id='L541' name='L541'></a> 541                              <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt;::<a href='../D/4807.html' title='Multiple defined in 12 places.'>const_iterator</a> &amp; <a href='../D/5842.html' title='Multiple defined in 27 places.'>end</a>,
<a id='L542' name='L542'></a> 542                              <a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>SCROLL_TYPE</a> <a href='../Y/17828.html' title='Multiple used in 19 places.'>scroll_type</a>=<a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>ONSCREEN</a>, <strong class='reserved'>bool</strong> <a href='../S/92.html#L160' title='Defined at 160 in src/soundsource.hpp.'>check_fogged</a>=<strong class='reserved'>true</strong>,
<a id='L543' name='L543'></a> 543                              <strong class='reserved'>bool</strong> <a href='../Y/15449.html' title='Multiple used in 5 places.'>only_if_possible</a>=<strong class='reserved'>false</strong>, <strong class='reserved'>double</strong> <a href='../Y/5201.html' title='Multiple used in 8 places.'>add_spacing</a>=0.0,
<a id='L544' name='L544'></a> 544                              <strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a>=<strong class='reserved'>true</strong>);
<a id='L545' name='L545'></a> 545         <em class='comment'>/** Scroll to fit as many locations on-screen as possible, starting with the first. */</em>
<a id='L546' name='L546'></a> 546         <strong class='reserved'>void</strong> <a href='../R/12124.html' title='Multiple referred from 13 places.'>scroll_to_tiles</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt;&amp; <a href='../Y/13201.html' title='Multiple used in 259 places.'>locs</a>,
<a id='L547' name='L547'></a> 547                              <a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>SCROLL_TYPE</a> <a href='../Y/17828.html' title='Multiple used in 19 places.'>scroll_type</a>=<a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>ONSCREEN</a>, <strong class='reserved'>bool</strong> <a href='../S/92.html#L160' title='Defined at 160 in src/soundsource.hpp.'>check_fogged</a>=<strong class='reserved'>true</strong>,
<a id='L548' name='L548'></a> 548                              <strong class='reserved'>bool</strong> <a href='../Y/15449.html' title='Multiple used in 5 places.'>only_if_possible</a>=<strong class='reserved'>false</strong>,
<a id='L549' name='L549'></a> 549                              <strong class='reserved'>double</strong> <a href='../Y/5201.html' title='Multiple used in 8 places.'>add_spacing</a>=0.0, <strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a>=<strong class='reserved'>true</strong>)
<a id='L550' name='L550'></a> 550         <em class='brace'>{</em>
<a id='L551' name='L551'></a> 551                 <a href='../D/13248.html' title='Multiple defined in 3 places.'>scroll_to_tiles</a>(<a href='../Y/13201.html' title='Multiple used in 259 places.'>locs</a>.<a href='../D/3581.html' title='Multiple defined in 27 places.'>begin</a>(), <a href='../Y/13201.html' title='Multiple used in 259 places.'>locs</a>.<a href='../D/5842.html' title='Multiple defined in 27 places.'>end</a>(), <a href='../Y/17828.html' title='Multiple used in 19 places.'>scroll_type</a>, <a href='../S/92.html#L160' title='Defined at 160 in src/soundsource.hpp.'>check_fogged</a>,
<a id='L552' name='L552'></a> 552                                 <a href='../Y/15449.html' title='Multiple used in 5 places.'>only_if_possible</a>, <a href='../Y/5201.html' title='Multiple used in 8 places.'>add_spacing</a>, <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a>);
<a id='L553' name='L553'></a> 553         <em class='brace'>}</em>
<a id='L554' name='L554'></a> 554 
<a id='L555' name='L555'></a> 555         <em class='comment'>/** Expose the event, so observers can be notified about map scrolling. */</em>
<a id='L556' name='L556'></a> 556         <a href='../D/5959.html' title='Multiple defined in 26 places.'>events</a>::<a href='../S/318.html#L43' title='Defined at 43 in src/generic_event.hpp.'>generic_event</a> &amp;<a href='../S/684.html#L35' title='Referred from 35 in src/soundsource.cpp.'>scroll_event</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/17817.html' title='Multiple used in 4 places.'>scroll_event_</a>; <em class='brace'>}</em>
<a id='L557' name='L557'></a> 557 
<a id='L558' name='L558'></a> 558         <a href='../D/5959.html' title='Multiple defined in 26 places.'>events</a>::<a href='../S/318.html#L43' title='Defined at 43 in src/generic_event.hpp.'>generic_event</a>&amp; complete_redraw_event() <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/7602.html' title='Multiple used in 4 places.'>complete_redraw_event_</a>; <em class='brace'>}</em>
<a id='L559' name='L559'></a> 559 
<a id='L560' name='L560'></a> 560         <em class='comment'>/** Check if a tile is fully visible on screen. */</em>
<a id='L561' name='L561'></a> 561         <strong class='reserved'>bool</strong> <a href='../S/682.html#L2017' title='Defined at 2017 in src/display.cpp.'>tile_fully_on_screen</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L562' name='L562'></a> 562 
<a id='L563' name='L563'></a> 563         <em class='comment'>/** Checks if location @a loc or one of the adjacent tiles is visible on screen. */</em>
<a id='L564' name='L564'></a> 564         <strong class='reserved'>bool</strong> <a href='../S/682.html#L2024' title='Defined at 2024 in src/display.cpp.'>tile_nearly_on_screen</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp;<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L565' name='L565'></a> 565 
<a id='L566' name='L566'></a> 566         <em class='comment'>/**</em>
<a id='L567' name='L567'></a> 567 <em class='comment'>         * Draws invalidated items.</em>
<a id='L568' name='L568'></a> 568 <em class='comment'>         * If update is true, will also copy the display to the frame buffer.</em>
<a id='L569' name='L569'></a> 569 <em class='comment'>         * If force is true, will not skip frames, even if running behind.</em>
<a id='L570' name='L570'></a> 570 <em class='comment'>         * Not virtual, since it gathers common actions. Calls various protected</em>
<a id='L571' name='L571'></a> 571 <em class='comment'>         * virtuals (further below) to allow specialized behavior in derived classes.</em>
<a id='L572' name='L572'></a> 572 <em class='comment'>         */</em>
<a id='L573' name='L573'></a> 573         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/5636.html' title='Multiple defined in 26 places.'>draw</a>();
<a id='L574' name='L574'></a> 574 
<a id='L575' name='L575'></a> 575         <strong class='reserved'>void</strong> <a href='../D/5636.html' title='Multiple defined in 26 places.'>draw</a>(<strong class='reserved'>bool</strong> <a href='../D/15557.html' title='Multiple defined in 12 places.'>update</a>);
<a id='L576' name='L576'></a> 576 
<a id='L577' name='L577'></a> 577         <strong class='reserved'>void</strong> <a href='../D/5636.html' title='Multiple defined in 26 places.'>draw</a>(<strong class='reserved'>bool</strong> <a href='../D/15557.html' title='Multiple defined in 12 places.'>update</a>, <strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a>);
<a id='L578' name='L578'></a> 578 
<a id='L579' name='L579'></a> 579         <a href='../D/10690.html' title='Multiple defined in 2 places.'>map_labels</a>&amp; <a href='../D/9609.html' title='Multiple defined in 3 places.'>labels</a>();
<a id='L580' name='L580'></a> 580         <strong class='reserved'>const</strong> <a href='../D/10690.html' title='Multiple defined in 2 places.'>map_labels</a>&amp; <a href='../D/9609.html' title='Multiple defined in 3 places.'>labels</a>() <strong class='reserved'>const</strong>;
<a id='L581' name='L581'></a> 581 
<a id='L582' name='L582'></a> 582         <em class='comment'>/** Announce a message prominently. */</em>
<a id='L583' name='L583'></a> 583         <strong class='reserved'>void</strong> <a href='../S/682.html#L1742' title='Defined at 1742 in src/display.cpp.'>announce</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../S/782.html#L110' title='Defined at 110 in src/formula/debugger.cpp.'>msg</a>,
<a id='L584' name='L584'></a> 584                        <strong class='reserved'>const</strong> <a href='../S/968.html#L50' title='Defined at 50 in src/color.hpp.'>color_t</a>&amp; <a href='../D/4564.html' title='Multiple defined in 5 places.'>color</a> = <a href='../D/6378.html' title='Multiple defined in 30 places.'>font</a>::<a href='../Y/1212.html' title='Multiple used in 7 places.'>GOOD_COLOR</a>, <strong class='reserved'>int</strong> <a href='../Y/12965.html' title='Multiple used in 7 places.'>lifetime</a> = 100);
<a id='L585' name='L585'></a> 585 
<a id='L586' name='L586'></a> 586         <em class='comment'>/**</em>
<a id='L587' name='L587'></a> 587 <em class='comment'>         * Schedule the minimap for recalculation.</em>
<a id='L588' name='L588'></a> 588 <em class='comment'>         * Useful if any terrain in the map has changed.</em>
<a id='L589' name='L589'></a> 589 <em class='comment'>         */</em>
<a id='L590' name='L590'></a> 590         <strong class='reserved'>void</strong> <a href='../R/11292.html' title='Multiple referred from 28 places.'>recalculate_minimap</a>() <em class='brace'>{</em><a href='../Y/14043.html' title='Multiple used in 14 places.'>minimap_</a> = <a href='../Y/15115.html' title='Multiple used in 1948 places.'>nullptr</a>; <a href='../Y/17033.html' title='Multiple used in 8 places.'>redrawMinimap_</a> = <strong class='reserved'>true</strong>; <em class='brace'>}</em>
<a id='L591' name='L591'></a> 591 
<a id='L592' name='L592'></a> 592         <em class='comment'>/**</em>
<a id='L593' name='L593'></a> 593 <em class='comment'>         * Schedule the minimap to be redrawn.</em>
<a id='L594' name='L594'></a> 594 <em class='comment'>         * Useful if units have moved about on the map.</em>
<a id='L595' name='L595'></a> 595 <em class='comment'>         */</em>
<a id='L596' name='L596'></a> 596         <strong class='reserved'>void</strong> <a href='../R/11371.html' title='Multiple referred from 9 places.'>redraw_minimap</a>() <em class='brace'>{</em> <a href='../Y/17033.html' title='Multiple used in 8 places.'>redrawMinimap_</a> = <strong class='reserved'>true</strong>; <em class='brace'>}</em>
<a id='L597' name='L597'></a> 597 
<a id='L598' name='L598'></a> 598         <strong class='reserved'>virtual</strong> <strong class='reserved'>const</strong> <a href='../S/921.html#L57' title='Defined at 57 in src/time_of_day.hpp.'>time_of_day</a>&amp; <a href='../D/8003.html' title='Multiple defined in 5 places.'>get_time_of_day</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a> = <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>::<a href='../S/1089.html#L220' title='Defined at 220 in src/map/location.hpp.'>null_location</a>()) <strong class='reserved'>const</strong>;
<a id='L599' name='L599'></a> 599 
<a id='L600' name='L600'></a> 600         <strong class='reserved'>virtual</strong> <strong class='reserved'>bool</strong> <a href='../R/7561.html' title='Multiple referred from 2 places.'>has_time_area</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em><strong class='reserved'>return</strong> <strong class='reserved'>false</strong>;<em class='brace'>}</em>
<a id='L601' name='L601'></a> 601 
<a id='L602' name='L602'></a> 602         <strong class='reserved'>void</strong> <a href='../D/3673.html' title='Multiple defined in 2 places.'>blindfold</a>(<strong class='reserved'>bool</strong> <a href='../D/6330.html' title='Multiple defined in 2 places.'>flag</a>);
<a id='L603' name='L603'></a> 603         <strong class='reserved'>bool</strong> <a href='../S/682.html#L504' title='Defined at 504 in src/display.cpp.'>is_blindfolded</a>() <strong class='reserved'>const</strong>;
<a id='L604' name='L604'></a> 604 
<a id='L605' name='L605'></a> 605         <strong class='reserved'>void</strong> <a href='../D/16395.html' title='Multiple defined in 55 places.'>write</a>(<a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a>&amp; <a href='../D/4151.html' title='Multiple defined in 5 places.'>cfg</a>) <strong class='reserved'>const</strong>;
<a id='L606' name='L606'></a> 606 
<a id='L607' name='L607'></a> 607         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/8264.html' title='Multiple defined in 21 places.'>handle_event</a>(<strong class='reserved'>const</strong> <a href='../Y/2460.html' title='Multiple used in 162 places.'>SDL_Event</a>&amp; );
<a id='L608' name='L608'></a> 608         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/8343.html' title='Multiple defined in 10 places.'>handle_window_event</a>(<strong class='reserved'>const</strong> <a href='../Y/2460.html' title='Multiple used in 162 places.'>SDL_Event</a>&amp; <a href='../D/5946.html' title='Multiple defined in 11 places.'>event</a>);
<a id='L609' name='L609'></a> 609 
<a id='L610' name='L610'></a> 610 <strong class='reserved'>private</strong>:
<a id='L611' name='L611'></a> 611         <strong class='reserved'>void</strong> <a href='../D/12292.html' title='Multiple defined in 23 places.'>read</a>(<strong class='reserved'>const</strong> <a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a>&amp; <a href='../D/4151.html' title='Multiple defined in 5 places.'>cfg</a>);
<a id='L612' name='L612'></a> 612 
<a id='L613' name='L613'></a> 613 <strong class='reserved'>public</strong>:
<a id='L614' name='L614'></a> 614         <em class='comment'>/** Init the flag list and the team colors used by ~TC */</em>
<a id='L615' name='L615'></a> 615         <strong class='reserved'>void</strong> <a href='../S/682.html#L267' title='Defined at 267 in src/display.cpp.'>init_flags</a>();
<a id='L616' name='L616'></a> 616 
<a id='L617' name='L617'></a> 617         <em class='comment'>/** Rebuild the flag list (not team colors) for a single side. */</em>
<a id='L618' name='L618'></a> 618         <strong class='reserved'>void</strong> <a href='../S/682.html#L284' title='Defined at 284 in src/display.cpp.'>reinit_flags_for_side</a>(<a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../D/14340.html' title='Multiple defined in 3 places.'>side</a>);
<a id='L619' name='L619'></a> 619         <strong class='reserved'>void</strong> <a href='../S/818.html#L323' title='Referred from 323 in src/play_controller.cpp.'>reset_reports</a>(<a href='../S/1158.html#L41' title='Defined at 41 in src/reports.hpp.'>reports</a>&amp; <a href='../Y/17254.html' title='Multiple used in 13 places.'>reports_object</a>)
<a id='L620' name='L620'></a> 620         <em class='brace'>{</em>
<a id='L621' name='L621'></a> 621                 <a href='../Y/17255.html' title='Multiple used in 5 places.'>reports_object_</a> = &amp;<a href='../Y/17254.html' title='Multiple used in 13 places.'>reports_object</a>;
<a id='L622' name='L622'></a> 622         <em class='brace'>}</em>
<a id='L623' name='L623'></a> 623 <strong class='reserved'>private</strong>:
<a id='L624' name='L624'></a> 624         <strong class='reserved'>void</strong> <a href='../S/682.html#L294' title='Defined at 294 in src/display.cpp.'>init_flags_for_side_internal</a>(<a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../D/14340.html' title='Multiple defined in 3 places.'>side</a>, <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../Y/18410.html' title='Multiple used in 6 places.'>side_color</a>);
<a id='L625' name='L625'></a> 625 
<a id='L626' name='L626'></a> 626         <strong class='reserved'>int</strong> <a href='../Y/6401.html' title='Multiple used in 5 places.'>blindfold_ctr_</a>;
<a id='L627' name='L627'></a> 627 
<a id='L628' name='L628'></a> 628 <strong class='reserved'>protected</strong>:
<a id='L629' name='L629'></a> 629         <em class='comment'>//TODO sort</em>
<a id='L630' name='L630'></a> 630         <strong class='reserved'>const</strong> <a href='../S/846.html#L51' title='Defined at 51 in src/display_context.hpp.'>display_context</a> * <a href='../D/5203.html' title='Multiple defined in 2 places.'>dc_</a>;
<a id='L631' name='L631'></a> 631         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/20747.html' title='Multiple used in 177 places.'>unique_ptr</a>&lt;<a href='../D/8236.html' title='Multiple defined in 7 places.'>halo</a>::<a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a>&gt; <a href='../Y/11104.html' title='Multiple used in 9 places.'>halo_man_</a>;
<a id='L632' name='L632'></a> 632         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21542.html' title='Multiple used in 10 places.'>weak_ptr</a>&lt;<a href='../D/15984.html' title='Multiple defined in 33 places.'>wb</a>::<a href='../D/10668.html' title='Multiple defined in 32 places.'>manager</a>&gt; <a href='../Y/21532.html' title='Multiple used in 11 places.'>wb_</a>;
<a id='L633' name='L633'></a> 633 
<a id='L634' name='L634'></a> 634         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>, <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt; <a href='../R/5280.html' title='Multiple referred from 3 places.'>exclusive_unit_draw_requests_t</a>;
<a id='L635' name='L635'></a> 635         <em class='comment'>/// map of hexes where only one unit should be drawn, the one identified by the associated id string</em>
<a id='L636' name='L636'></a> 636         <a href='../S/958.html#L634' title='Defined at 634 in src/display.hpp.'>exclusive_unit_draw_requests_t</a> <a href='../Y/9525.html' title='Multiple used in 11 places.'>exclusive_unit_draw_requests_</a>;
<a id='L637' name='L637'></a> 637 
<a id='L638' name='L638'></a> 638 
<a id='L639' name='L639'></a> 639         <em class='comment'>/** Clear the screen contents */</em>
<a id='L640' name='L640'></a> 640         <strong class='reserved'>void</strong> <a href='../S/682.html#L2468' title='Defined at 2468 in src/display.cpp.'>clear_screen</a>();
<a id='L641' name='L641'></a> 641 
<a id='L642' name='L642'></a> 642         <em class='comment'>/**</em>
<a id='L643' name='L643'></a> 643 <em class='comment'>         * Called near the beginning of each draw() call.</em>
<a id='L644' name='L644'></a> 644 <em class='comment'>         * Derived classes can use this to add extra actions before redrawing</em>
<a id='L645' name='L645'></a> 645 <em class='comment'>         * invalidated hexes takes place. No action here by default.</em>
<a id='L646' name='L646'></a> 646 <em class='comment'>         */</em>
<a id='L647' name='L647'></a> 647         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../R/10898.html' title='Multiple referred from 5 places.'>pre_draw</a>() <em class='brace'>{</em><em class='brace'>}</em>
<a id='L648' name='L648'></a> 648 
<a id='L649' name='L649'></a> 649         <em class='comment'>/**</em>
<a id='L650' name='L650'></a> 650 <em class='comment'>         * Called at the very end of each draw() call.</em>
<a id='L651' name='L651'></a> 651 <em class='comment'>         * Derived classes can use this to add extra actions after redrawing</em>
<a id='L652' name='L652'></a> 652 <em class='comment'>         * invalidated hexes takes place. No action here by default.</em>
<a id='L653' name='L653'></a> 653 <em class='comment'>         */</em>
<a id='L654' name='L654'></a> 654         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../R/10884.html' title='Multiple referred from 4 places.'>post_draw</a>() <em class='brace'>{</em><em class='brace'>}</em>
<a id='L655' name='L655'></a> 655 
<a id='L656' name='L656'></a> 656         <em class='comment'>/**</em>
<a id='L657' name='L657'></a> 657 <em class='comment'>         * Get the clipping rectangle for drawing.</em>
<a id='L658' name='L658'></a> 658 <em class='comment'>         * Virtual since the editor might use a slightly different approach.</em>
<a id='L659' name='L659'></a> 659 <em class='comment'>         */</em>
<a id='L660' name='L660'></a> 660         <strong class='reserved'>virtual</strong> <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../D/7338.html' title='Multiple defined in 2 places.'>get_clip_rect</a>();
<a id='L661' name='L661'></a> 661 
<a id='L662' name='L662'></a> 662         <em class='comment'>/**</em>
<a id='L663' name='L663'></a> 663 <em class='comment'>         * Only called when there's actual redrawing to do. Loops through</em>
<a id='L664' name='L664'></a> 664 <em class='comment'>         * invalidated locations and redraws them. Derived classes can override</em>
<a id='L665' name='L665'></a> 665 <em class='comment'>         * this, possibly to insert pre- or post-processing around a call to the</em>
<a id='L666' name='L666'></a> 666 <em class='comment'>         * base class's function.</em>
<a id='L667' name='L667'></a> 667 <em class='comment'>         */</em>
<a id='L668' name='L668'></a> 668         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/5658.html' title='Multiple defined in 2 places.'>draw_invalidated</a>();
<a id='L669' name='L669'></a> 669 
<a id='L670' name='L670'></a> 670         <em class='comment'>/**</em>
<a id='L671' name='L671'></a> 671 <em class='comment'>         * Hook for actions to take right after draw() calls drawing_buffer_commit</em>
<a id='L672' name='L672'></a> 672 <em class='comment'>         * No action here by default.</em>
<a id='L673' name='L673'></a> 673 <em class='comment'>         */</em>
<a id='L674' name='L674'></a> 674         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../R/10881.html' title='Multiple referred from 2 places.'>post_commit</a>() <em class='brace'>{</em><em class='brace'>}</em>
<a id='L675' name='L675'></a> 675 
<a id='L676' name='L676'></a> 676         <em class='comment'>/**</em>
<a id='L677' name='L677'></a> 677 <em class='comment'>         * Redraws a single gamemap location.</em>
<a id='L678' name='L678'></a> 678 <em class='comment'>         */</em>
<a id='L679' name='L679'></a> 679         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../D/5652.html' title='Multiple defined in 11 places.'>draw_hex</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L680' name='L680'></a> 680 
<a id='L681' name='L681'></a> 681         <em class='comment'>/**</em>
<a id='L682' name='L682'></a> 682 <em class='comment'>         * @returns the image type to be used for the passed hex</em>
<a id='L683' name='L683'></a> 683 <em class='comment'>         */</em>
<a id='L684' name='L684'></a> 684         <strong class='reserved'>virtual</strong> <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>::<a href='../D/2204.html' title='Multiple defined in 3 places.'>TYPE</a> <a href='../D/7551.html' title='Multiple defined in 2 places.'>get_image_type</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L685' name='L685'></a> 685 
<a id='L686' name='L686'></a> 686         <em class='comment'>/**</em>
<a id='L687' name='L687'></a> 687 <em class='comment'>         * Called near the end of a draw operation, derived classes can use this</em>
<a id='L688' name='L688'></a> 688 <em class='comment'>         * to render a specific sidebar. Very similar to post_commit.</em>
<a id='L689' name='L689'></a> 689 <em class='comment'>         */</em>
<a id='L690' name='L690'></a> 690         <strong class='reserved'>virtual</strong> <strong class='reserved'>void</strong> <a href='../R/4995.html' title='Multiple referred from 3 places.'>draw_sidebar</a>() <em class='brace'>{</em><em class='brace'>}</em>
<a id='L691' name='L691'></a> 691 
<a id='L692' name='L692'></a> 692         <strong class='reserved'>void</strong> <a href='../S/682.html#L1755' title='Defined at 1755 in src/display.cpp.'>draw_minimap</a>();
<a id='L693' name='L693'></a> 693 
<a id='L694' name='L694'></a> 694         <strong class='reserved'>enum</strong> <a href='../R/1890.html' title='Multiple referred from 5 places.'>TERRAIN_TYPE</a> <em class='brace'>{</em> <a href='../R/104.html' title='Multiple referred from 3 places.'>BACKGROUND</a>, <a href='../R/523.html' title='Multiple referred from 3 places.'>FOREGROUND</a><em class='brace'>}</em>;
<a id='L695' name='L695'></a> 695 
<a id='L696' name='L696'></a> 696         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt; <a href='../S/682.html#L1048' title='Defined at 1048 in src/display.cpp.'>get_terrain_images</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp;<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>,
<a id='L697' name='L697'></a> 697                                         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../Y/19978.html' title='Multiple used in 3 places.'>timeid</a>,
<a id='L698' name='L698'></a> 698                                         <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>::<a href='../D/2204.html' title='Multiple defined in 3 places.'>TYPE</a> <a href='../D/15341.html' title='Multiple defined in 27 places.'>type</a>,
<a id='L699' name='L699'></a> 699                                         <a href='../D/2071.html' title='Multiple defined in 2 places.'>TERRAIN_TYPE</a> <a href='../S/304.html#L21' title='Defined at 21 in src/terrain/terrain.hpp.'>terrain_type</a>);
<a id='L700' name='L700'></a> 700 
<a id='L701' name='L701'></a> 701         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt; <a href='../S/682.html#L959' title='Defined at 959 in src/display.cpp.'>get_fog_shroud_images</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>::<a href='../D/2204.html' title='Multiple defined in 3 places.'>TYPE</a> <a href='../Y/11730.html' title='Multiple used in 12 places.'>image_type</a>);
<a id='L702' name='L702'></a> 702 
<a id='L703' name='L703'></a> 703         <strong class='reserved'>void</strong> <a href='../S/682.html#L2697' title='Defined at 2697 in src/display.cpp.'>draw_image_for_report</a>(<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&amp; <a href='../S/4059.html#L110' title='Defined at 110 in data/tools/hexometer.py.'>img</a>, <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../Y/17000.html' title='Multiple used in 899 places.'>rect</a>);
<a id='L704' name='L704'></a> 704 
<a id='L705' name='L705'></a> 705         <strong class='reserved'>void</strong> <a href='../S/682.html#L2034' title='Defined at 2034 in src/display.cpp.'>scroll_to_xy</a>(<strong class='reserved'>int</strong> <a href='../Y/17803.html' title='Multiple used in 3 places.'>screenxpos</a>, <strong class='reserved'>int</strong> <a href='../Y/17805.html' title='Multiple used in 3 places.'>screenypos</a>, <a href='../S/958.html#L518' title='Defined at 518 in src/display.hpp.'>SCROLL_TYPE</a> <a href='../Y/17828.html' title='Multiple used in 19 places.'>scroll_type</a>,<strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a> = <strong class='reserved'>true</strong>);
<a id='L706' name='L706'></a> 706 
<a id='L707' name='L707'></a> 707         <strong class='reserved'>void</strong> <a href='../S/682.html#L445' title='Defined at 445 in src/display.cpp.'>fill_images_list</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../S/1247.html#L124' title='Defined at 124 in src/theme.hpp.'>prefix</a>, <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt;&amp; <a href='../D/8632.html' title='Multiple defined in 8 places.'>images</a>);
<a id='L708' name='L708'></a> 708 
<a id='L709' name='L709'></a> 709         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/8077.html' title='Multiple defined in 2 places.'>get_variant</a>(<strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt;&amp; <a href='../Y/21231.html' title='Multiple used in 11 places.'>variants</a>, <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp;<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>) <strong class='reserved'>const</strong>;
<a id='L710' name='L710'></a> 710 
<a id='L711' name='L711'></a> 711         <a href='../D/214.html' title='Multiple defined in 2 places.'>CVideo</a>&amp; <a href='../Y/17790.html' title='Multiple used in 27 places.'>screen_</a>;
<a id='L712' name='L712'></a> 712         <a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../Y/7985.html' title='Multiple used in 18 places.'>currentTeam_</a>;
<a id='L713' name='L713'></a> 713         <strong class='reserved'>bool</strong> <a href='../Y/8870.html' title='Multiple used in 10 places.'>dont_show_all_</a>; <em class='comment'>//const team *viewpoint_;</em>
<a id='L714' name='L714'></a> 714         <strong class='reserved'>int</strong> <a href='../Y/21952.html' title='Multiple used in 22 places.'>xpos_</a>, <a href='../Y/22044.html' title='Multiple used in 23 places.'>ypos_</a>;
<a id='L715' name='L715'></a> 715         <strong class='reserved'>bool</strong> <a href='../Y/21324.html' title='Multiple used in 8 places.'>view_locked_</a>;
<a id='L716' name='L716'></a> 716         <a href='../D/15047.html' title='Multiple defined in 3 places.'>theme</a> <a href='../Y/19841.html' title='Multiple used in 40 places.'>theme_</a>;
<a id='L717' name='L717'></a> 717         <strong class='reserved'>static</strong> <strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../Y/22079.html' title='Multiple used in 33 places.'>zoom_</a>;
<a id='L718' name='L718'></a> 718         <strong class='reserved'>int</strong> <a href='../Y/22081.html' title='Multiple used in 6 places.'>zoom_index_</a>;
<a id='L719' name='L719'></a> 719         <strong class='reserved'>static</strong> <strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../Y/12734.html' title='Multiple used in 5 places.'>last_zoom_</a>;
<a id='L720' name='L720'></a> 720         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/20747.html' title='Multiple used in 177 places.'>unique_ptr</a>&lt;<a href='../S/321.html#L24' title='Defined at 24 in src/fake_unit_manager.hpp.'>fake_unit_manager</a>&gt; <a href='../Y/9721.html' title='Multiple used in 8 places.'>fake_unit_man_</a>;
<a id='L721' name='L721'></a> 721         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/20747.html' title='Multiple used in 177 places.'>unique_ptr</a>&lt;<a href='../S/303.html#L45' title='Defined at 45 in src/terrain/builder.hpp.'>terrain_builder</a>&gt; <a href='../Y/6577.html' title='Multiple used in 21 places.'>builder_</a>;
<a id='L722' name='L722'></a> 722         <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a> <a href='../Y/14043.html' title='Multiple used in 14 places.'>minimap_</a>;
<a id='L723' name='L723'></a> 723         <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a> <a href='../Y/14047.html' title='Multiple used in 14 places.'>minimap_location_</a>;
<a id='L724' name='L724'></a> 724         <strong class='reserved'>bool</strong> <a href='../Y/17033.html' title='Multiple used in 8 places.'>redrawMinimap_</a>;
<a id='L725' name='L725'></a> 725         <strong class='reserved'>bool</strong> <a href='../Y/17035.html' title='Multiple used in 7 places.'>redraw_background_</a>;
<a id='L726' name='L726'></a> 726         <strong class='reserved'>bool</strong> <a href='../Y/12064.html' title='Multiple used in 12 places.'>invalidateAll_</a>;
<a id='L727' name='L727'></a> 727         <strong class='reserved'>bool</strong> <a href='../D/8208.html' title='Multiple defined in 2 places.'>grid_</a>;
<a id='L728' name='L728'></a> 728         <strong class='reserved'>int</strong> <a href='../Y/8627.html' title='Multiple used in 6 places.'>diagnostic_label_</a>;
<a id='L729' name='L729'></a> 729         <strong class='reserved'>bool</strong> <a href='../Y/15858.html' title='Multiple used in 6 places.'>panelsDrawn_</a>;
<a id='L730' name='L730'></a> 730         <strong class='reserved'>double</strong> <a href='../Y/20454.html' title='Multiple used in 4 places.'>turbo_speed_</a>;
<a id='L731' name='L731'></a> 731         <strong class='reserved'>bool</strong> <a href='../Y/20453.html' title='Multiple used in 4 places.'>turbo_</a>;
<a id='L732' name='L732'></a> 732         <strong class='reserved'>bool</strong> <a href='../Y/12065.html' title='Multiple used in 7 places.'>invalidateGameStatus_</a>;
<a id='L733' name='L733'></a> 733         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/20747.html' title='Multiple used in 177 places.'>unique_ptr</a>&lt;<a href='../D/10690.html' title='Multiple defined in 2 places.'>map_labels</a>&gt; <a href='../Y/13612.html' title='Multiple used in 4 places.'>map_labels_</a>;
<a id='L734' name='L734'></a> 734         <a href='../S/1158.html#L41' title='Defined at 41 in src/reports.hpp.'>reports</a> * <a href='../Y/17255.html' title='Multiple used in 5 places.'>reports_object_</a>;
<a id='L735' name='L735'></a> 735 
<a id='L736' name='L736'></a> 736         <em class='comment'>/** Event raised when the map is being scrolled */</em>
<a id='L737' name='L737'></a> 737         <strong class='reserved'>mutable</strong> <a href='../D/5959.html' title='Multiple defined in 26 places.'>events</a>::<a href='../S/318.html#L43' title='Defined at 43 in src/generic_event.hpp.'>generic_event</a> <a href='../Y/17817.html' title='Multiple used in 4 places.'>scroll_event_</a>;
<a id='L738' name='L738'></a> 738 
<a id='L739' name='L739'></a> 739         <em class='comment'>/**</em>
<a id='L740' name='L740'></a> 740 <em class='comment'>         * notify observers that the screen has been redrawn completely</em>
<a id='L741' name='L741'></a> 741 <em class='comment'>         * atm this is used for replay_controller to add replay controls to the standard theme</em>
<a id='L742' name='L742'></a> 742 <em class='comment'>         */</em>
<a id='L743' name='L743'></a> 743         <a href='../D/5959.html' title='Multiple defined in 26 places.'>events</a>::<a href='../S/318.html#L43' title='Defined at 43 in src/generic_event.hpp.'>generic_event</a> <a href='../Y/7602.html' title='Multiple used in 4 places.'>complete_redraw_event_</a>;
<a id='L744' name='L744'></a> 744 
<a id='L745' name='L745'></a> 745         <em class='comment'>/**</em>
<a id='L746' name='L746'></a> 746 <em class='comment'>         * Holds the tick count for when the next drawing event is scheduled.</em>
<a id='L747' name='L747'></a> 747 <em class='comment'>         * Drawing shouldn't occur before this time.</em>
<a id='L748' name='L748'></a> 748 <em class='comment'>         */</em>
<a id='L749' name='L749'></a> 749         <strong class='reserved'>int</strong> <a href='../Y/14858.html' title='Multiple used in 5 places.'>nextDraw_</a>;
<a id='L750' name='L750'></a> 750 
<a id='L751' name='L751'></a> 751         <em class='comment'>// Not set by the initializer:</em>
<a id='L752' name='L752'></a> 752         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>, <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&gt; <a href='../Y/17244.html' title='Multiple used in 4 places.'>reportRects_</a>;
<a id='L753' name='L753'></a> 753         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>, <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt; <a href='../Y/17245.html' title='Multiple used in 6 places.'>reportSurfaces_</a>;
<a id='L754' name='L754'></a> 754         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>, <a href='../D/4720.html' title='Multiple defined in 5 places.'>config</a>&gt; <a href='../Y/17253.html' title='Multiple used in 19 places.'>reports_</a>;
<a id='L755' name='L755'></a> 755         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/18295.html' title='Multiple used in 468 places.'>shared_ptr</a>&lt;<a href='../D/8223.html' title='Multiple defined in 28 places.'>gui</a>::<a href='../D/3815.html' title='Multiple defined in 3 places.'>button</a>&gt;&gt; <a href='../Y/13883.html' title='Multiple used in 16 places.'>menu_buttons_</a>, <a href='../Y/5102.html' title='Multiple used in 13 places.'>action_buttons_</a>;
<a id='L756' name='L756'></a> 756         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt; <a href='../Y/12073.html' title='Multiple used in 27 places.'>invalidated_</a>;
<a id='L757' name='L757'></a> 757         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/13406.html' title='Multiple defined in 12 places.'>set</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&gt; <a href='../Y/16484.html' title='Multiple used in 4 places.'>previous_invalidated_</a>;
<a id='L758' name='L758'></a> 758         <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a> <a href='../Y/14229.html' title='Multiple used in 6 places.'>mouseover_hex_overlay_</a>;
<a id='L759' name='L759'></a> 759         <em class='comment'>// If we're transitioning from one time of day to the next,</em>
<a id='L760' name='L760'></a> 760         <em class='comment'>// then we will use these two masks on top of all hexes when we blit.</em>
<a id='L761' name='L761'></a> 761         <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a> <a href='../Y/20179.html' title='Multiple used in 6 places.'>tod_hex_mask1</a>, <a href='../Y/20180.html' title='Multiple used in 6 places.'>tod_hex_mask2</a>;
<a id='L762' name='L762'></a> 762         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt; <a href='../Y/10125.html' title='Multiple used in 4 places.'>fog_images_</a>;
<a id='L763' name='L763'></a> 763         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&gt; <a href='../Y/18387.html' title='Multiple used in 4 places.'>shroud_images_</a>;
<a id='L764' name='L764'></a> 764 
<a id='L765' name='L765'></a> 765         <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../Y/17987.html' title='Multiple used in 12 places.'>selectedHex_</a>;
<a id='L766' name='L766'></a> 766         <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> <a href='../Y/14227.html' title='Multiple used in 14 places.'>mouseoverHex_</a>;
<a id='L767' name='L767'></a> 767         <a href='../D/185.html' title='Multiple defined in 2 places.'>CKey</a> <a href='../Y/12519.html' title='Multiple used in 23 places.'>keys_</a>;
<a id='L768' name='L768'></a> 768 
<a id='L769' name='L769'></a> 769         <em class='comment'>/** Local cache for preferences::animate_map, since it is constantly queried. */</em>
<a id='L770' name='L770'></a> 770         <strong class='reserved'>bool</strong> <a href='../Y/5587.html' title='Multiple used in 6 places.'>animate_map_</a>;
<a id='L771' name='L771'></a> 771 
<a id='L772' name='L772'></a> 772         <em class='comment'>/** Local version of preferences::animate_water, used to detect when it's changed. */</em>
<a id='L773' name='L773'></a> 773         <strong class='reserved'>bool</strong> <a href='../Y/5589.html' title='Multiple used in 4 places.'>animate_water_</a>;
<a id='L774' name='L774'></a> 774 
<a id='L775' name='L775'></a> 775 <strong class='reserved'>private</strong>:
<a id='L776' name='L776'></a> 776 
<a id='L777' name='L777'></a> 777         <em class='comment'>// This surface must be freed by the caller</em>
<a id='L778' name='L778'></a> 778         <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a> <a href='../S/682.html#L341' title='Defined at 341 in src/display.cpp.'>get_flag</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>);
<a id='L779' name='L779'></a> 779 
<a id='L780' name='L780'></a> 780         <em class='comment'>/** Animated flags for each team */</em>
<a id='L781' name='L781'></a> 781         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/1050.html#L40' title='Defined at 40 in src/animated.hpp.'>animated</a>&lt;<a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>::<a href='../S/755.html#L34' title='Defined at 34 in src/image.hpp.'>locator</a>&gt; &gt; <a href='../Y/10054.html' title='Multiple used in 23 places.'>flags_</a>;
<a id='L782' name='L782'></a> 782 
<a id='L783' name='L783'></a> 783 <strong class='reserved'>public</strong>:
<a id='L784' name='L784'></a> 784         <em class='comment'>/**</em>
<a id='L785' name='L785'></a> 785 <em class='comment'>         * The layers to render something on. This value should never be stored</em>
<a id='L786' name='L786'></a> 786 <em class='comment'>         * it's the internal drawing order and adding removing and reordering</em>
<a id='L787' name='L787'></a> 787 <em class='comment'>         * the layers should be safe.</em>
<a id='L788' name='L788'></a> 788 <em class='comment'>         * If needed in WML use the name and map that to the enum value.</em>
<a id='L789' name='L789'></a> 789 <em class='comment'>         */</em>
<a id='L790' name='L790'></a> 790         <strong class='reserved'>enum</strong> <a href='../R/5012.html' title='Multiple referred from 32 places.'>drawing_layer</a> <em class='brace'>{</em>
<a id='L791' name='L791'></a> 791                 <a href='../R/886.html' title='Multiple referred from 4 places.'>LAYER_TERRAIN_BG</a>,          <em class='comment'>/**&lt;</em>
<a id='L792' name='L792'></a> 792 <em class='comment'>                                            * Layer for the terrain drawn behind the</em>
<a id='L793' name='L793'></a> 793 <em class='comment'>                                            * unit.</em>
<a id='L794' name='L794'></a> 794 <em class='comment'>                                            */</em>
<a id='L795' name='L795'></a> 795                 <a href='../S/682.html#L2542' title='Referred from 2542 in src/display.cpp.'>LAYER_GRID_TOP</a>,            <em class='comment'>/**&lt; Top half part of grid image */</em>
<a id='L796' name='L796'></a> 796                 <a href='../S/682.html#L2597' title='Referred from 2597 in src/display.cpp.'>LAYER_MOUSEOVER_OVERLAY</a>,   <em class='comment'>/**&lt; Mouseover overlay used by editor*/</em>
<a id='L797' name='L797'></a> 797                 <a href='../R/876.html' title='Multiple referred from 2 places.'>LAYER_FOOTSTEPS</a>,           <em class='comment'>/**&lt; Footsteps showing path from unit to mouse */</em>
<a id='L798' name='L798'></a> 798                 <a href='../S/831.html#L292' title='Referred from 292 in src/game_display.cpp.'>LAYER_MOUSEOVER_TOP</a>,       <em class='comment'>/**&lt; Top half of image following the mouse */</em>
<a id='L799' name='L799'></a> 799                 <a href='../R/890.html' title='Multiple referred from 22 places.'>LAYER_UNIT_FIRST</a>,          <em class='comment'>/**&lt; Reserve layers to be selected for WML. */</em>
<a id='L800' name='L800'></a> 800                 LAYER_UNIT_BG = <a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+10,             <em class='comment'>/**&lt; Used for the ellipse behind the unit. */</em>
<a id='L801' name='L801'></a> 801                 <a href='../R/889.html' title='Multiple referred from 9 places.'>LAYER_UNIT_DEFAULT</a>=<a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+40,<em class='comment'>/**&lt;default layer for drawing units */</em>
<a id='L802' name='L802'></a> 802                 <a href='../R/887.html' title='Multiple referred from 4 places.'>LAYER_TERRAIN_FG</a> = <a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+50, <em class='comment'>/**&lt;</em>
<a id='L803' name='L803'></a> 803 <em class='comment'>                                            * Layer for the terrain drawn in front of</em>
<a id='L804' name='L804'></a> 804 <em class='comment'>                                            * the unit.</em>
<a id='L805' name='L805'></a> 805 <em class='comment'>                                            */</em>
<a id='L806' name='L806'></a> 806                 <a href='../S/682.html#L2545' title='Referred from 2545 in src/display.cpp.'>LAYER_GRID_BOTTOM</a>,         <em class='comment'>/**&lt;</em>
<a id='L807' name='L807'></a> 807 <em class='comment'>                                            * Used for the bottom half part of grid image.</em>
<a id='L808' name='L808'></a> 808 <em class='comment'>                                            * Should be under moving units, to avoid masking south move.</em>
<a id='L809' name='L809'></a> 809 <em class='comment'>                                            */</em>
<a id='L810' name='L810'></a> 810                 <a href='../R/892.html' title='Multiple referred from 8 places.'>LAYER_UNIT_MOVE_DEFAULT</a>=<a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+60<em class='comment'>/**&lt;default layer for drawing moving units */</em>,
<a id='L811' name='L811'></a> 811                 LAYER_UNIT_FG =  <a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+80, <em class='comment'>/**&lt;</em>
<a id='L812' name='L812'></a> 812 <em class='comment'>                                            * Used for the ellipse in front of the</em>
<a id='L813' name='L813'></a> 813 <em class='comment'>                                            * unit.</em>
<a id='L814' name='L814'></a> 814 <em class='comment'>                                            */</em>
<a id='L815' name='L815'></a> 815                 <a href='../S/993.html#L636' title='Referred from 636 in src/units/animation.cpp.'>LAYER_UNIT_MISSILE_DEFAULT</a> = <a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+90, <em class='comment'>/**&lt; default layer for missile frames*/</em>
<a id='L816' name='L816'></a> 816                 LAYER_UNIT_LAST=<a href='../S/958.html#L799' title='Defined at 799 in src/display.hpp.'>LAYER_UNIT_FIRST</a>+100,
<a id='L817' name='L817'></a> 817                 <a href='../R/884.html' title='Multiple referred from 2 places.'>LAYER_REACHMAP</a>,            <em class='comment'>/**&lt; "black stripes" on unreachable hexes. */</em>
<a id='L818' name='L818'></a> 818                 <a href='../R/880.html' title='Multiple referred from 5 places.'>LAYER_MOUSEOVER_BOTTOM</a>,    <em class='comment'>/**&lt; Bottom half of image following the mouse */</em>
<a id='L819' name='L819'></a> 819                 <a href='../R/875.html' title='Multiple referred from 10 places.'>LAYER_FOG_SHROUD</a>,          <em class='comment'>/**&lt; Fog and shroud. */</em>
<a id='L820' name='L820'></a> 820                 <a href='../R/873.html' title='Multiple referred from 2 places.'>LAYER_ARROWS</a>,              <em class='comment'>/**&lt; Arrows from the arrows framework. Used for planned moves display. */</em>
<a id='L821' name='L821'></a> 821                 <a href='../R/872.html' title='Multiple referred from 3 places.'>LAYER_ACTIONS_NUMBERING</a>,   <em class='comment'>/**&lt; Move numbering for the whiteboard. */</em>
<a id='L822' name='L822'></a> 822                 <a href='../R/885.html' title='Multiple referred from 2 places.'>LAYER_SELECTED_HEX</a>,        <em class='comment'>/**&lt; Image on the selected unit */</em>
<a id='L823' name='L823'></a> 823                 <a href='../R/874.html' title='Multiple referred from 2 places.'>LAYER_ATTACK_INDICATOR</a>,    <em class='comment'>/**&lt; Layer which holds the attack indicator. */</em>
<a id='L824' name='L824'></a> 824                 <a href='../R/888.html' title='Multiple referred from 6 places.'>LAYER_UNIT_BAR</a>,            <em class='comment'>/**&lt;</em>
<a id='L825' name='L825'></a> 825 <em class='comment'>                                            * Unit bars and overlays are drawn on this</em>
<a id='L826' name='L826'></a> 826 <em class='comment'>                                            * layer (for testing here).</em>
<a id='L827' name='L827'></a> 827 <em class='comment'>                                            */</em>
<a id='L828' name='L828'></a> 828                 <a href='../R/883.html' title='Multiple referred from 9 places.'>LAYER_MOVE_INFO</a>,           <em class='comment'>/**&lt; Movement info (defense%, etc...). */</em>
<a id='L829' name='L829'></a> 829                 <a href='../S/831.html#L353' title='Referred from 353 in src/game_display.cpp.'>LAYER_LINGER_OVERLAY</a>,      <em class='comment'>/**&lt; The overlay used for the linger mode. */</em>
<a id='L830' name='L830'></a> 830                 LAYER_BORDER,              <em class='comment'>/**&lt; The border of the map. */</em>
<a id='L831' name='L831'></a> 831         <em class='brace'>}</em>;
<a id='L832' name='L832'></a> 832 
<a id='L833' name='L833'></a> 833         <em class='comment'>/**</em>
<a id='L834' name='L834'></a> 834 <em class='comment'>         * Draw an image at a certain location.</em>
<a id='L835' name='L835'></a> 835 <em class='comment'>         * x,y: pixel location on screen to draw the image</em>
<a id='L836' name='L836'></a> 836 <em class='comment'>         * image: the image to draw</em>
<a id='L837' name='L837'></a> 837 <em class='comment'>         * reverse: if the image should be flipped across the x axis</em>
<a id='L838' name='L838'></a> 838 <em class='comment'>         * greyscale: used for instance to give the petrified appearance to a unit image</em>
<a id='L839' name='L839'></a> 839 <em class='comment'>         * alpha: the merging to use with the background</em>
<a id='L840' name='L840'></a> 840 <em class='comment'>         * blendto: blend to this color using blend_ratio</em>
<a id='L841' name='L841'></a> 841 <em class='comment'>         * submerged: the amount of the unit out of 1.0 that is submerged</em>
<a id='L842' name='L842'></a> 842 <em class='comment'>         *            (presumably under water) and thus shouldn't be drawn</em>
<a id='L843' name='L843'></a> 843 <em class='comment'>         */</em>
<a id='L844' name='L844'></a> 844         <strong class='reserved'>void</strong> <a href='../S/682.html#L1521' title='Defined at 1521 in src/display.cpp.'>render_image</a>(<strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>, <strong class='reserved'>const</strong> <a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>::<a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a>,
<a id='L845' name='L845'></a> 845                         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a> <a href='../D/8613.html' title='Multiple defined in 19 places.'>image</a>,
<a id='L846' name='L846'></a> 846                         <strong class='reserved'>bool</strong> <a href='../Y/11539.html' title='Multiple used in 3 places.'>hreverse</a>=<strong class='reserved'>false</strong>, <strong class='reserved'>bool</strong> <a href='../Y/11000.html' title='Multiple used in 3 places.'>greyscale</a>=<strong class='reserved'>false</strong>,
<a id='L847' name='L847'></a> 847                         <a href='../D/6327.html' title='Multiple defined in 2 places.'>fixed_t</a> <a href='../Y/5481.html' title='Multiple used in 185 places.'>alpha</a>=<a href='../D/6496.html' title='Multiple defined in 2 places.'>ftofxp</a>(1.0), <a href='../S/968.html#L50' title='Defined at 50 in src/color.hpp.'>color_t</a> <a href='../Y/6399.html' title='Multiple used in 3 places.'>blendto</a> = <em class='brace'>{</em>0,0,0<em class='brace'>}</em>,
<a id='L848' name='L848'></a> 848                         <strong class='reserved'>double</strong> <a href='../Y/6393.html' title='Multiple used in 30 places.'>blend_ratio</a>=0, <strong class='reserved'>double</strong> <a href='../Y/19168.html' title='Multiple used in 4 places.'>submerged</a>=0.0,<strong class='reserved'>bool</strong> <a href='../Y/21434.html' title='Multiple used in 3 places.'>vreverse</a> =<strong class='reserved'>false</strong>);
<a id='L849' name='L849'></a> 849 
<a id='L850' name='L850'></a> 850         <em class='comment'>/**</em>
<a id='L851' name='L851'></a> 851 <em class='comment'>         * Draw text on a hex. (0.5, 0.5) is the center.</em>
<a id='L852' name='L852'></a> 852 <em class='comment'>         * The font size is adjusted to the zoom factor.</em>
<a id='L853' name='L853'></a> 853 <em class='comment'>         */</em>
<a id='L854' name='L854'></a> 854         <strong class='reserved'>void</strong> <a href='../S/682.html#L1496' title='Defined at 1496 in src/display.cpp.'>draw_text_in_hex</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>,
<a id='L855' name='L855'></a> 855                 <strong class='reserved'>const</strong> <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>, <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/14696.html' title='Multiple defined in 3 places.'>string</a>&amp; <a href='../D/15021.html' title='Multiple defined in 14 places.'>text</a>, <a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../D/6386.html' title='Multiple defined in 3 places.'>font_size</a>,
<a id='L856' name='L856'></a> 856                 <a href='../S/968.html#L50' title='Defined at 50 in src/color.hpp.'>color_t</a> <a href='../D/4564.html' title='Multiple defined in 5 places.'>color</a>, <strong class='reserved'>double</strong> <a href='../Y/21878.html' title='Multiple used in 5 places.'>x_in_hex</a>=0.5, <strong class='reserved'>double</strong> <a href='../Y/21999.html' title='Multiple used in 5 places.'>y_in_hex</a>=0.5);
<a id='L857' name='L857'></a> 857 
<a id='L858' name='L858'></a> 858 <strong class='reserved'>protected</strong>:
<a id='L859' name='L859'></a> 859 
<a id='L860' name='L860'></a> 860         <em class='comment'>//TODO sort</em>
<a id='L861' name='L861'></a> 861         <a href='../Y/18541.html' title='Multiple used in 1733 places.'>size_t</a> <a href='../Y/5120.html' title='Multiple used in 6 places.'>activeTeam_</a>;
<a id='L862' name='L862'></a> 862 
<a id='L863' name='L863'></a> 863         <em class='comment'>/**</em>
<a id='L864' name='L864'></a> 864 <em class='comment'>         * In order to render a hex properly it needs to be rendered per row. On</em>
<a id='L865' name='L865'></a> 865 <em class='comment'>         * this row several layers need to be drawn at the same time. Mainly the</em>
<a id='L866' name='L866'></a> 866 <em class='comment'>         * unit and the background terrain. This is needed since both can spill</em>
<a id='L867' name='L867'></a> 867 <em class='comment'>         * in the next hex. The foreground terrain needs to be drawn before to</em>
<a id='L868' name='L868'></a> 868 <em class='comment'>         * avoid decapitation a unit.</em>
<a id='L869' name='L869'></a> 869 <em class='comment'>         *</em>
<a id='L870' name='L870'></a> 870 <em class='comment'>         * In other words:</em>
<a id='L871' name='L871'></a> 871 <em class='comment'>         * for every layer</em>
<a id='L872' name='L872'></a> 872 <em class='comment'>         *   for every row (starting from the top)</em>
<a id='L873' name='L873'></a> 873 <em class='comment'>         *     for every hex in the row</em>
<a id='L874' name='L874'></a> 874 <em class='comment'>         *       ...</em>
<a id='L875' name='L875'></a> 875 <em class='comment'>         *</em>
<a id='L876' name='L876'></a> 876 <em class='comment'>         * this is modified to:</em>
<a id='L877' name='L877'></a> 877 <em class='comment'>         * for every layer group</em>
<a id='L878' name='L878'></a> 878 <em class='comment'>         *   for every row (starting from the top)</em>
<a id='L879' name='L879'></a> 879 <em class='comment'>         *     for every layer in the group</em>
<a id='L880' name='L880'></a> 880 <em class='comment'>         *       for every hex in the row</em>
<a id='L881' name='L881'></a> 881 <em class='comment'>         *         ...</em>
<a id='L882' name='L882'></a> 882 <em class='comment'>         *</em>
<a id='L883' name='L883'></a> 883 <em class='comment'>         * * Surfaces are rendered per level in a map.</em>
<a id='L884' name='L884'></a> 884 <em class='comment'>         * * Per level the items are rendered per location these locations are</em>
<a id='L885' name='L885'></a> 885 <em class='comment'>         *   stored in the drawing order required for units.</em>
<a id='L886' name='L886'></a> 886 <em class='comment'>         * * every location has a vector with surfaces, each with its own screen</em>
<a id='L887' name='L887'></a> 887 <em class='comment'>         *   coordinate to render at.</em>
<a id='L888' name='L888'></a> 888 <em class='comment'>         * * every vector element has a vector with surfaces to render.</em>
<a id='L889' name='L889'></a> 889 <em class='comment'>         */</em>
<a id='L890' name='L890'></a> 890         <strong class='reserved'>class</strong> <a href='../R/5010.html' title='Multiple referred from 5 places.'>drawing_buffer_key</a>
<a id='L891' name='L891'></a> 891         <em class='brace'>{</em>
<a id='L892' name='L892'></a> 892         <strong class='reserved'>private</strong>:
<a id='L893' name='L893'></a> 893                 <strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong> <a href='../D/9527.html' title='Multiple defined in 4 places.'>key_</a>;
<a id='L894' name='L894'></a> 894 
<a id='L895' name='L895'></a> 895                 <strong class='reserved'>static</strong> <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/5697.html' title='Multiple used in 178 places.'>array</a>&lt;<a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a>, 4&gt; <a href='../Y/12754.html' title='Multiple used in 4 places.'>layer_groups</a>;
<a id='L896' name='L896'></a> 896 
<a id='L897' name='L897'></a> 897         <strong class='reserved'>public</strong>:
<a id='L898' name='L898'></a> 898                 <a href='../D/5688.html' title='Multiple defined in 2 places.'>drawing_buffer_key</a>(<strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a> &amp;<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>);
<a id='L899' name='L899'></a> 899 
<a id='L900' name='L900'></a> 900                 <strong class='reserved'>bool</strong> <strong class='reserved'>operator</strong>&lt;(<strong class='reserved'>const</strong> <a href='../D/5688.html' title='Multiple defined in 2 places.'>drawing_buffer_key</a> &amp;<a href='../Y/17449.html' title='Multiple used in 50 places.'>rhs</a>) <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../D/9527.html' title='Multiple defined in 4 places.'>key_</a> &lt; <a href='../Y/17449.html' title='Multiple used in 50 places.'>rhs</a>.<a href='../D/9527.html' title='Multiple defined in 4 places.'>key_</a>; <em class='brace'>}</em>
<a id='L901' name='L901'></a> 901         <em class='brace'>}</em>;
<a id='L902' name='L902'></a> 902 
<a id='L903' name='L903'></a> 903         <em class='comment'>/** Helper structure for rendering the terrains. */</em>
<a id='L904' name='L904'></a> 904         <strong class='reserved'>class</strong> <a href='../R/3257.html' title='Multiple referred from 7 places.'>blit_helper</a>
<a id='L905' name='L905'></a> 905         <em class='brace'>{</em>
<a id='L906' name='L906'></a> 906         <strong class='reserved'>public</strong>:
<a id='L907' name='L907'></a> 907                 <a href='../S/958.html#L904' title='Defined at 904 in src/display.hpp.'>blit_helper</a>(<strong class='reserved'>const</strong> <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>, <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>,
<a id='L908' name='L908'></a> 908                                 <strong class='reserved'>const</strong> <strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>const</strong> <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>, <strong class='reserved'>const</strong> <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&amp; <a href='../D/14769.html' title='Multiple defined in 2 places.'>surf</a>,
<a id='L909' name='L909'></a> 909                                 <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../S/958.html#L924' title='Defined at 924 in src/display.hpp.'>clip</a>)
<a id='L910' name='L910'></a> 910                         : <a href='../Y/21867.html' title='Multiple used in 88 places.'>x_</a>(<a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>), <a href='../D/16473.html' title='Multiple defined in 4 places.'>y_</a>(<a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>), <a href='../Y/19219.html' title='Multiple used in 47 places.'>surf_</a>(1, <a href='../D/14769.html' title='Multiple defined in 2 places.'>surf</a>), <a href='../Y/7367.html' title='Multiple used in 13 places.'>clip_</a>(<a href='../S/958.html#L924' title='Defined at 924 in src/display.hpp.'>clip</a>),
<a id='L911' name='L911'></a> 911                         <a href='../R/8628.html' title='Multiple referred from 79 places.'>key_</a>(<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>)
<a id='L912' name='L912'></a> 912                 <em class='brace'>{</em><em class='brace'>}</em>
<a id='L913' name='L913'></a> 913 
<a id='L914' name='L914'></a> 914                 <a href='../S/958.html#L904' title='Defined at 904 in src/display.hpp.'>blit_helper</a>(<strong class='reserved'>const</strong> <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>, <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>,
<a id='L915' name='L915'></a> 915                                 <strong class='reserved'>const</strong> <strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>const</strong> <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>, <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt;&amp; <a href='../D/14769.html' title='Multiple defined in 2 places.'>surf</a>,
<a id='L916' name='L916'></a> 916                                 <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>&amp; <a href='../S/958.html#L924' title='Defined at 924 in src/display.hpp.'>clip</a>)
<a id='L917' name='L917'></a> 917                         : <a href='../Y/21867.html' title='Multiple used in 88 places.'>x_</a>(<a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>), <a href='../D/16473.html' title='Multiple defined in 4 places.'>y_</a>(<a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>), <a href='../Y/19219.html' title='Multiple used in 47 places.'>surf_</a>(<a href='../D/14769.html' title='Multiple defined in 2 places.'>surf</a>), <a href='../Y/7367.html' title='Multiple used in 13 places.'>clip_</a>(<a href='../S/958.html#L924' title='Defined at 924 in src/display.hpp.'>clip</a>),
<a id='L918' name='L918'></a> 918                         <a href='../R/8628.html' title='Multiple referred from 79 places.'>key_</a>(<a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>)
<a id='L919' name='L919'></a> 919                 <em class='brace'>{</em><em class='brace'>}</em>
<a id='L920' name='L920'></a> 920 
<a id='L921' name='L921'></a> 921                 <strong class='reserved'>int</strong> <a href='../R/14979.html' title='Multiple referred from 8505 places.'>x</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/21867.html' title='Multiple used in 88 places.'>x_</a>; <em class='brace'>}</em>
<a id='L922' name='L922'></a> 922                 <strong class='reserved'>int</strong> <a href='../R/14993.html' title='Multiple referred from 8148 places.'>y</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../D/16473.html' title='Multiple defined in 4 places.'>y_</a>; <em class='brace'>}</em>
<a id='L923' name='L923'></a> 923                 <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt; &amp;<a href='../R/13580.html' title='Multiple referred from 459 places.'>surf</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/19219.html' title='Multiple used in 47 places.'>surf_</a>; <em class='brace'>}</em>
<a id='L924' name='L924'></a> 924                 <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a> &amp;<a href='../R/3968.html' title='Multiple referred from 24 places.'>clip</a>() <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../Y/7367.html' title='Multiple used in 13 places.'>clip_</a>; <em class='brace'>}</em>
<a id='L925' name='L925'></a> 925 
<a id='L926' name='L926'></a> 926                 <strong class='reserved'>bool</strong> <strong class='reserved'>operator</strong>&lt;(<strong class='reserved'>const</strong> <a href='../S/958.html#L904' title='Defined at 904 in src/display.hpp.'>blit_helper</a> &amp;<a href='../Y/17449.html' title='Multiple used in 50 places.'>rhs</a>) <strong class='reserved'>const</strong> <em class='brace'>{</em> <strong class='reserved'>return</strong> <a href='../D/9527.html' title='Multiple defined in 4 places.'>key_</a> &lt; <a href='../Y/17449.html' title='Multiple used in 50 places.'>rhs</a>.<a href='../D/9527.html' title='Multiple defined in 4 places.'>key_</a>; <em class='brace'>}</em>
<a id='L927' name='L927'></a> 927 
<a id='L928' name='L928'></a> 928         <strong class='reserved'>private</strong>:
<a id='L929' name='L929'></a> 929                 <strong class='reserved'>int</strong> <a href='../Y/21867.html' title='Multiple used in 88 places.'>x_</a>;                      <em class='comment'>/**&lt; x screen coordinate to render at. */</em>
<a id='L930' name='L930'></a> 930                 <strong class='reserved'>int</strong> <a href='../D/16473.html' title='Multiple defined in 4 places.'>y_</a>;                      <em class='comment'>/**&lt; y screen coordinate to render at. */</em>
<a id='L931' name='L931'></a> 931                 <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt; <a href='../Y/19219.html' title='Multiple used in 47 places.'>surf_</a>;  <em class='comment'>/**&lt; surface(s) to render. */</em>
<a id='L932' name='L932'></a> 932                 <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a> <a href='../Y/7367.html' title='Multiple used in 13 places.'>clip_</a>;              <em class='comment'>/**&lt;</em>
<a id='L933' name='L933'></a> 933 <em class='comment'>                                                                          * The clipping area of the source if</em>
<a id='L934' name='L934'></a> 934 <em class='comment'>                                                                          * omitted the entire source is used.</em>
<a id='L935' name='L935'></a> 935 <em class='comment'>                                                                          */</em>
<a id='L936' name='L936'></a> 936                 <a href='../D/5688.html' title='Multiple defined in 2 places.'>drawing_buffer_key</a> <a href='../D/9527.html' title='Multiple defined in 4 places.'>key_</a>;
<a id='L937' name='L937'></a> 937         <em class='brace'>}</em>;
<a id='L938' name='L938'></a> 938 
<a id='L939' name='L939'></a> 939         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/9752.html' title='Multiple defined in 2 places.'>list</a>&lt;<a href='../S/958.html#L904' title='Defined at 904 in src/display.hpp.'>blit_helper</a>&gt; <a href='../S/958.html#L940' title='Referred from 940 in src/display.hpp.'>drawing_buffer</a>;
<a id='L940' name='L940'></a> 940         <a href='../S/958.html#L939' title='Defined at 939 in src/display.hpp.'>drawing_buffer</a> <a href='../Y/8921.html' title='Multiple used in 7 places.'>drawing_buffer_</a>;
<a id='L941' name='L941'></a> 941 
<a id='L942' name='L942'></a> 942 <strong class='reserved'>public</strong>:
<a id='L943' name='L943'></a> 943         <em class='comment'>/**</em>
<a id='L944' name='L944'></a> 944 <em class='comment'>         * Add an item to the drawing buffer. You need to update screen on affected area</em>
<a id='L945' name='L945'></a> 945 <em class='comment'>         *</em>
<a id='L946' name='L946'></a> 946 <em class='comment'>         * @param layer              The layer to draw on.</em>
<a id='L947' name='L947'></a> 947 <em class='comment'>         * @param loc                The hex the image belongs to, needed for the</em>
<a id='L948' name='L948'></a> 948 <em class='comment'>         *                           drawing order.</em>
<a id='L949' name='L949'></a> 949 <em class='comment'>         */</em>
<a id='L950' name='L950'></a> 950         <strong class='reserved'>void</strong> <a href='../D/5685.html' title='Multiple defined in 2 places.'>drawing_buffer_add</a>(<strong class='reserved'>const</strong> <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>,
<a id='L951' name='L951'></a> 951                         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>, <strong class='reserved'>const</strong> <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&amp; <a href='../D/14769.html' title='Multiple defined in 2 places.'>surf</a>,
<a id='L952' name='L952'></a> 952                         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a> &amp;<a href='../S/958.html#L924' title='Defined at 924 in src/display.hpp.'>clip</a> = <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>());
<a id='L953' name='L953'></a> 953 
<a id='L954' name='L954'></a> 954         <strong class='reserved'>void</strong> <a href='../D/5685.html' title='Multiple defined in 2 places.'>drawing_buffer_add</a>(<strong class='reserved'>const</strong> <a href='../D/5690.html' title='Multiple defined in 3 places.'>drawing_layer</a> <a href='../S/525.html#L306' title='Defined at 306 in src/gui/core/event/distributor.hpp.'>layer</a>,
<a id='L955' name='L955'></a> 955                         <strong class='reserved'>const</strong> <a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>&amp; <a href='../D/9876.html' title='Multiple defined in 6 places.'>loc</a>, <strong class='reserved'>int</strong> <a href='../D/16457.html' title='Multiple defined in 2 places.'>x</a>, <strong class='reserved'>int</strong> <a href='../D/16472.html' title='Multiple defined in 8 places.'>y</a>,
<a id='L956' name='L956'></a> 956                         <strong class='reserved'>const</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a>&gt; &amp;<a href='../D/14769.html' title='Multiple defined in 2 places.'>surf</a>,
<a id='L957' name='L957'></a> 957                         <strong class='reserved'>const</strong> <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a> &amp;<a href='../S/958.html#L924' title='Defined at 924 in src/display.hpp.'>clip</a> = <a href='../Y/2563.html' title='Multiple used in 520 places.'>SDL_Rect</a>());
<a id='L958' name='L958'></a> 958 
<a id='L959' name='L959'></a> 959 <strong class='reserved'>protected</strong>:
<a id='L960' name='L960'></a> 960 
<a id='L961' name='L961'></a> 961         <em class='comment'>/** Draws the drawing_buffer_ and clears it. */</em>
<a id='L962' name='L962'></a> 962         <strong class='reserved'>void</strong> <a href='../S/682.html#L1275' title='Defined at 1275 in src/display.cpp.'>drawing_buffer_commit</a>();
<a id='L963' name='L963'></a> 963 
<a id='L964' name='L964'></a> 964         <em class='comment'>/** Clears the drawing buffer. */</em>
<a id='L965' name='L965'></a> 965         <strong class='reserved'>void</strong> <a href='../S/682.html#L1313' title='Defined at 1313 in src/display.cpp.'>drawing_buffer_clear</a>();
<a id='L966' name='L966'></a> 966 
<a id='L967' name='L967'></a> 967         <em class='comment'>/** redraw all panels associated with the map display */</em>
<a id='L968' name='L968'></a> 968         <strong class='reserved'>void</strong> <a href='../S/682.html#L1454' title='Defined at 1454 in src/display.cpp.'>draw_all_panels</a>();
<a id='L969' name='L969'></a> 969 
<a id='L970' name='L970'></a> 970 
<a id='L971' name='L971'></a> 971         <em class='comment'>/**</em>
<a id='L972' name='L972'></a> 972 <em class='comment'>         * Initiate a redraw.</em>
<a id='L973' name='L973'></a> 973 <em class='comment'>         *</em>
<a id='L974' name='L974'></a> 974 <em class='comment'>         * Invalidate controls and panels when changed after they have been drawn</em>
<a id='L975' name='L975'></a> 975 <em class='comment'>         * initially. Useful for dynamic theme modification.</em>
<a id='L976' name='L976'></a> 976 <em class='comment'>         */</em>
<a id='L977' name='L977'></a> 977         <strong class='reserved'>void</strong> <a href='../S/682.html#L1623' title='Defined at 1623 in src/display.cpp.'>draw_init</a>();
<a id='L978' name='L978'></a> 978         <strong class='reserved'>void</strong> <a href='../S/682.html#L1662' title='Defined at 1662 in src/display.cpp.'>draw_wrap</a>(<strong class='reserved'>bool</strong> <a href='../D/15557.html' title='Multiple defined in 12 places.'>update</a>,<strong class='reserved'>bool</strong> <a href='../Y/10178.html' title='Multiple used in 125 places.'>force</a>);
<a id='L979' name='L979'></a> 979 
<a id='L980' name='L980'></a> 980         <em class='comment'>/** Used to indicate to drawing functions that we are doing a map screenshot */</em>
<a id='L981' name='L981'></a> 981         <strong class='reserved'>bool</strong> <a href='../Y/13621.html' title='Multiple used in 7 places.'>map_screenshot_</a>;
<a id='L982' name='L982'></a> 982 
<a id='L983' name='L983'></a> 983 <strong class='reserved'>public</strong>: <em class='comment'>//operations for the arrow framework</em>
<a id='L984' name='L984'></a> 984 
<a id='L985' name='L985'></a> 985         <strong class='reserved'>void</strong> <a href='../S/682.html#L3106' title='Defined at 3106 in src/display.cpp.'>add_arrow</a>(<a href='../D/3349.html' title='Multiple defined in 2 places.'>arrow</a>&amp;);
<a id='L986' name='L986'></a> 986 
<a id='L987' name='L987'></a> 987         <strong class='reserved'>void</strong> <a href='../S/682.html#L3115' title='Defined at 3115 in src/display.cpp.'>remove_arrow</a>(<a href='../D/3349.html' title='Multiple defined in 2 places.'>arrow</a>&amp;);
<a id='L988' name='L988'></a> 988 
<a id='L989' name='L989'></a> 989         <em class='comment'>/** Called by arrow objects when they change. You should not need to call this directly. */</em>
<a id='L990' name='L990'></a> 990         <strong class='reserved'>void</strong> <a href='../S/682.html#L3124' title='Defined at 3124 in src/display.cpp.'>update_arrow</a>(<a href='../D/3349.html' title='Multiple defined in 2 places.'>arrow</a> &amp; <a href='../D/2705.html' title='Multiple defined in 5 places.'>a</a>);
<a id='L991' name='L991'></a> 991 
<a id='L992' name='L992'></a> 992 <strong class='reserved'>protected</strong>:
<a id='L993' name='L993'></a> 993 
<a id='L994' name='L994'></a> 994         <em class='comment'>// Tiles lit for showing where unit(s) can reach</em>
<a id='L995' name='L995'></a> 995         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>,<strong class='reserved'>unsigned</strong> <strong class='reserved'>int</strong>&gt; <a href='../R/11198.html' title='Multiple referred from 61 places.'>reach_map</a>;
<a id='L996' name='L996'></a> 996         <a href='../S/958.html#L995' title='Defined at 995 in src/display.hpp.'>reach_map</a> <a href='../Y/16834.html' title='Multiple used in 15 places.'>reach_map_</a>;
<a id='L997' name='L997'></a> 997         <a href='../S/958.html#L995' title='Defined at 995 in src/display.hpp.'>reach_map</a> <a href='../Y/16836.html' title='Multiple used in 9 places.'>reach_map_old_</a>;
<a id='L998' name='L998'></a> 998         <strong class='reserved'>bool</strong> <a href='../Y/16835.html' title='Multiple used in 6 places.'>reach_map_changed_</a>;
<a id='L999' name='L999'></a> 999         <strong class='reserved'>void</strong> <a href='../S/682.html#L3154' title='Defined at 3154 in src/display.cpp.'>process_reachmap_changes</a>();
<a id='L1000' name='L1000'></a>1000 
<a id='L1001' name='L1001'></a>1001         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/14364.html' title='Multiple used in 28 places.'>multimap</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>, <a href='../D/11582.html' title='Multiple defined in 9 places.'>overlay</a>&gt; <a href='../R/10524.html' title='Multiple referred from 13 places.'>overlay_map</a>;
<a id='L1002' name='L1002'></a>1002 
<a id='L1003' name='L1003'></a>1003 <strong class='reserved'>private</strong>:
<a id='L1004' name='L1004'></a>1004 
<a id='L1005' name='L1005'></a>1005 
<a id='L1006' name='L1006'></a>1006         <a href='../D/11583.html' title='Multiple defined in 3 places.'>overlay_map</a>* <a href='../Y/15748.html' title='Multiple used in 25 places.'>overlays_</a>;
<a id='L1007' name='L1007'></a>1007 
<a id='L1008' name='L1008'></a>1008         <em class='comment'>/** Handle for the label which displays frames per second. */</em>
<a id='L1009' name='L1009'></a>1009         <strong class='reserved'>int</strong> <a href='../Y/10262.html' title='Multiple used in 9 places.'>fps_handle_</a>;
<a id='L1010' name='L1010'></a>1010         <em class='comment'>/** Count work done for the debug info displayed under fps */</em>
<a id='L1011' name='L1011'></a>1011         <strong class='reserved'>int</strong> <a href='../Y/12075.html' title='Multiple used in 7 places.'>invalidated_hexes_</a>;
<a id='L1012' name='L1012'></a>1012         <strong class='reserved'>int</strong> <a href='../Y/8922.html' title='Multiple used in 8 places.'>drawn_hexes_</a>;
<a id='L1013' name='L1013'></a>1013 
<a id='L1014' name='L1014'></a>1014         <strong class='reserved'>bool</strong> <a href='../Y/11634.html' title='Multiple used in 4 places.'>idle_anim_</a>;
<a id='L1015' name='L1015'></a>1015         <strong class='reserved'>double</strong> <a href='../Y/11635.html' title='Multiple used in 4 places.'>idle_anim_rate_</a>;
<a id='L1016' name='L1016'></a>1016 
<a id='L1017' name='L1017'></a>1017         <a href='../S/977.html#L22' title='Defined at 22 in src/sdl/surface.hpp.'>surface</a> <a href='../Y/13622.html' title='Multiple used in 7 places.'>map_screenshot_surf_</a>;
<a id='L1018' name='L1018'></a>1018 
<a id='L1019' name='L1019'></a>1019         <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/21255.html' title='Multiple used in 2737 places.'>vector</a>&lt;<a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../Y/10372.html' title='Multiple used in 250 places.'>function</a>&lt;<strong class='reserved'>void</strong>(<a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>&amp;)&gt; &gt; <a href='../Y/17036.html' title='Multiple used in 5 places.'>redraw_observers_</a>;
<a id='L1020' name='L1020'></a>1020 
<a id='L1021' name='L1021'></a>1021         <em class='comment'>/** Debug flag - overlay x,y coords on tiles */</em>
<a id='L1022' name='L1022'></a>1022         <strong class='reserved'>bool</strong> <a href='../Y/8913.html' title='Multiple used in 8 places.'>draw_coordinates_</a>;
<a id='L1023' name='L1023'></a>1023         <em class='comment'>/** Debug flag - overlay terrain codes on tiles */</em>
<a id='L1024' name='L1024'></a>1024         <strong class='reserved'>bool</strong> <a href='../Y/8918.html' title='Multiple used in 7 places.'>draw_terrain_codes_</a>;
<a id='L1025' name='L1025'></a>1025         <em class='comment'>/** Debug flag - overlay number of bitmaps on tiles */</em>
<a id='L1026' name='L1026'></a>1026         <strong class='reserved'>bool</strong> <a href='../Y/8917.html' title='Multiple used in 8 places.'>draw_num_of_bitmaps_</a>;
<a id='L1027' name='L1027'></a>1027 
<a id='L1028' name='L1028'></a>1028         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/9752.html' title='Multiple defined in 2 places.'>list</a>&lt;<a href='../D/3349.html' title='Multiple defined in 2 places.'>arrow</a>*&gt; <a href='../S/958.html#L1029' title='Referred from 1029 in src/display.hpp.'>arrows_list_t</a>;
<a id='L1029' name='L1029'></a>1029         <strong class='reserved'>typedef</strong> <a href='../D/14635.html' title='Multiple defined in 5 places.'>std</a>::<a href='../D/10671.html' title='Multiple defined in 18 places.'>map</a>&lt;<a href='../S/1089.html#L40' title='Defined at 40 in src/map/location.hpp.'>map_location</a>, <a href='../S/958.html#L1028' title='Defined at 1028 in src/display.hpp.'>arrows_list_t</a> &gt; <a href='../R/2999.html' title='Multiple referred from 2 places.'>arrows_map_t</a>;
<a id='L1030' name='L1030'></a>1030         <em class='comment'>/** Maps the list of arrows for each location */</em>
<a id='L1031' name='L1031'></a>1031         <a href='../S/958.html#L1029' title='Defined at 1029 in src/display.hpp.'>arrows_map_t</a> <a href='../Y/5714.html' title='Multiple used in 8 places.'>arrows_map_</a>;
<a id='L1032' name='L1032'></a>1032 
<a id='L1033' name='L1033'></a>1033         <a href='../S/921.html#L28' title='Defined at 28 in src/time_of_day.hpp.'>tod_color</a> <a href='../Y/7509.html' title='Multiple used in 18 places.'>color_adjust_</a>;
<a id='L1034' name='L1034'></a>1034 
<a id='L1035' name='L1035'></a>1035         <strong class='reserved'>bool</strong> <a href='../D/5399.html' title='Multiple defined in 3 places.'>dirty_</a>;
<a id='L1036' name='L1036'></a>1036 
<a id='L1037' name='L1037'></a>1037 
<a id='L1038' name='L1038'></a>1038 
<a id='L1039' name='L1039'></a>1039 <strong class='reserved'>public</strong>:
<a id='L1040' name='L1040'></a>1040         <strong class='reserved'>void</strong> <a href='../R/11583.html' title='Multiple referred from 2 places.'>replace_overlay_map</a>(<a href='../D/11583.html' title='Multiple defined in 3 places.'>overlay_map</a>* <a href='../S/988.html#L1360' title='Defined at 1360 in src/units/unit.hpp.'>overlays</a>) <em class='brace'>{</em> <a href='../Y/15748.html' title='Multiple used in 25 places.'>overlays_</a> = <a href='../S/988.html#L1360' title='Defined at 1360 in src/units/unit.hpp.'>overlays</a>; <em class='brace'>}</em>
<a id='L1041' name='L1041'></a>1041 
<a id='L1042' name='L1042'></a>1042 <strong class='reserved'>protected</strong>:
<a id='L1043' name='L1043'></a>1043         <strong class='reserved'>static</strong> <a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a> * <a href='../Y/18519.html' title='Multiple used in 19 places.'>singleton_</a>;
<a id='L1044' name='L1044'></a>1044 <em class='brace'>}</em>;
<a id='L1045' name='L1045'></a>1045 
<a id='L1046' name='L1046'></a>1046 <strong class='reserved'>struct</strong> <a href='../R/3254.html' title='Multiple referred from 6 places.'>blindfold</a>
<a id='L1047' name='L1047'></a>1047 <em class='brace'>{</em>
<a id='L1048' name='L1048'></a>1048         <a href='../D/3673.html' title='Multiple defined in 2 places.'>blindfold</a>(<a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>&amp; <a href='../D/5174.html' title='Multiple defined in 2 places.'>d</a>, <strong class='reserved'>bool</strong> <a href='../S/1083.html#L416' title='Defined at 416 in src/config_cache.cpp.'>lock</a>=<strong class='reserved'>true</strong>) : <a href='../Y/8740.html' title='Multiple used in 4 places.'>display_</a>(<a href='../D/5174.html' title='Multiple defined in 2 places.'>d</a>), <a href='../R/3253.html' title='Multiple referred from 4 places.'>blind</a>(<a href='../S/1083.html#L416' title='Defined at 416 in src/config_cache.cpp.'>lock</a>) <em class='brace'>{</em>
<a id='L1049' name='L1049'></a>1049                 <strong class='reserved'>if</strong>(<a href='../S/958.html#L1048' title='Defined at 1048 in src/display.hpp.'>blind</a>) <em class='brace'>{</em>
<a id='L1050' name='L1050'></a>1050                         <a href='../Y/8740.html' title='Multiple used in 4 places.'>display_</a>.<a href='../D/3673.html' title='Multiple defined in 2 places.'>blindfold</a>(<strong class='reserved'>true</strong>);
<a id='L1051' name='L1051'></a>1051                 <em class='brace'>}</em>
<a id='L1052' name='L1052'></a>1052         <em class='brace'>}</em>
<a id='L1053' name='L1053'></a>1053 
<a id='L1054' name='L1054'></a>1054         ~blindfold() <em class='brace'>{</em>
<a id='L1055' name='L1055'></a>1055                 <a href='../S/958.html#L1058' title='Defined at 1058 in src/display.hpp.'>unblind</a>();
<a id='L1056' name='L1056'></a>1056         <em class='brace'>}</em>
<a id='L1057' name='L1057'></a>1057 
<a id='L1058' name='L1058'></a>1058         <strong class='reserved'>void</strong> <a href='../R/14130.html' title='Multiple referred from 2 places.'>unblind</a>() <em class='brace'>{</em>
<a id='L1059' name='L1059'></a>1059                 <strong class='reserved'>if</strong>(<a href='../S/958.html#L1048' title='Defined at 1048 in src/display.hpp.'>blind</a>) <em class='brace'>{</em>
<a id='L1060' name='L1060'></a>1060                         <a href='../Y/8740.html' title='Multiple used in 4 places.'>display_</a>.<a href='../D/3673.html' title='Multiple defined in 2 places.'>blindfold</a>(<strong class='reserved'>false</strong>);
<a id='L1061' name='L1061'></a>1061                         <a href='../S/958.html#L1048' title='Defined at 1048 in src/display.hpp.'>blind</a> = <strong class='reserved'>false</strong>;
<a id='L1062' name='L1062'></a>1062                 <em class='brace'>}</em>
<a id='L1063' name='L1063'></a>1063         <em class='brace'>}</em>
<a id='L1064' name='L1064'></a>1064 
<a id='L1065' name='L1065'></a>1065 <strong class='reserved'>private</strong>:
<a id='L1066' name='L1066'></a>1066         <a href='../D/5433.html' title='Multiple defined in 23 places.'>display</a>&amp; <a href='../Y/8740.html' title='Multiple used in 4 places.'>display_</a>;
<a id='L1067' name='L1067'></a>1067         <strong class='reserved'>bool</strong> <a href='../S/958.html#L1048' title='Defined at 1048 in src/display.hpp.'>blind</a>;
<a id='L1068' name='L1068'></a>1068 <em class='brace'>}</em>;
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;]<a href='#L84'>[^]</a><a href='#L1058'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
