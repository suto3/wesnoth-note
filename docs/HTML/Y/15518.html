<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>opp_stats</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1221.html#L1750'>opp_stats</a>        1750 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats)</span>
<span class='curline'><a href='../S/1221.html#L1752'>opp_stats</a>        1752 src/attack_prediction.cpp 	return num_slices * opp_num_slices * ((stats.slows || opp_stats.is_slowed) ? 2 : 1)</span>
<span class='curline'><a href='../S/1221.html#L1753'>opp_stats</a>        1753 src/attack_prediction.cpp 		   * ((opp_stats.slows || stats.is_slowed) ? 2 : 1) * stats.max_hp * opp_stats.max_hp;</span>
<span class='curline'><a href='../S/1221.html#L1758'>opp_stats</a>        1758 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L1776'>opp_stats</a>        1776 src/attack_prediction.cpp 		opp_hp_dist = std::vector&lt;double&gt;(opp_stats.max_hp + 1);</span>
<span class='curline'><a href='../S/1221.html#L1777'>opp_stats</a>        1777 src/attack_prediction.cpp 		opp_hp_dist[opp_stats.hp] = 1.0;</span>
<span class='curline'><a href='../S/1221.html#L1781'>opp_stats</a>        1781 src/attack_prediction.cpp 				unsigned src_index = opp_stats.hp - j * stats.damage;</span>
<span class='curline'><a href='../S/1221.html#L1804'>opp_stats</a>        1804 src/attack_prediction.cpp 	const double opp_hit_chance = (opp_stats.chance_to_hit / 100.0) * opp_alive_prob;</span>
<span class='curline'><a href='../S/1221.html#L1812'>opp_stats</a>        1812 src/attack_prediction.cpp 				unsigned src_index = stats.hp - j * opp_stats.damage;</span>
<span class='curline'><a href='../S/1221.html#L1815'>opp_stats</a>        1815 src/attack_prediction.cpp 				hp_dist[src_index - opp_stats.damage] += move;</span>
<span class='curline'><a href='../S/1221.html#L1823'>opp_stats</a>        1823 src/attack_prediction.cpp 			for(unsigned int j = opp_stats.damage; j &lt; hp_dist.size(); ++j) {</span>
<span class='curline'><a href='../S/1221.html#L1826'>opp_stats</a>        1826 src/attack_prediction.cpp 				hp_dist[j - opp_stats.damage] += move;</span>
<span class='curline'><a href='../S/1221.html#L1837'>opp_stats</a>        1837 src/attack_prediction.cpp 	if(stats.experience + opp_stats.level &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1841'>opp_stats</a>        1841 src/attack_prediction.cpp 	if(opp_stats.experience + stats.level &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1848'>opp_stats</a>        1848 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L1864'>opp_stats</a>        1864 src/attack_prediction.cpp 		opp_hp_dist = std::vector&lt;double&gt;(opp_stats.max_hp + 1);</span>
<span class='curline'><a href='../S/1221.html#L1866'>opp_stats</a>        1866 src/attack_prediction.cpp 			opp_hp_dist[opp_stats.hp] = 1.0 - hit_chance;</span>
<span class='curline'><a href='../S/1221.html#L1867'>opp_stats</a>        1867 src/attack_prediction.cpp 			opp_hp_dist[std::max&lt;int&gt;(opp_stats.hp - stats.damage, 0)] = hit_chance;</span>
<span class='curline'><a href='../S/1221.html#L1871'>opp_stats</a>        1871 src/attack_prediction.cpp 			opp_hp_dist[opp_stats.hp] = 1.0;</span>
<span class='curline'><a href='../S/1221.html#L1887'>opp_stats</a>        1887 src/attack_prediction.cpp 	const double opp_hit_chance = (opp_stats.chance_to_hit / 100.0) * opp_alive_prob;</span>
<span class='curline'><a href='../S/1221.html#L1893'>opp_stats</a>        1893 src/attack_prediction.cpp 			hp_dist[std::max&lt;int&gt;(stats.hp - opp_stats.damage, 0)] = opp_hit_chance;</span>
<span class='curline'><a href='../S/1221.html#L1904'>opp_stats</a>        1904 src/attack_prediction.cpp 				hp_dist[std::max&lt;int&gt;(i - opp_stats.damage, 0)] += move;</span>
<span class='curline'><a href='../S/1221.html#L1915'>opp_stats</a>        1915 src/attack_prediction.cpp 	if(stats.experience + opp_stats.level &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1917'>opp_stats</a>        1917 src/attack_prediction.cpp 	} else if(stats.experience + game_config::kill_xp(opp_stats.level) &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1921'>opp_stats</a>        1921 src/attack_prediction.cpp 	if(opp_stats.experience + stats.level &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1923'>opp_stats</a>        1923 src/attack_prediction.cpp 	} else if(opp_stats.experience + game_config::kill_xp(stats.level) &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1932'>opp_stats</a>        1932 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L1945'>opp_stats</a>        1945 src/attack_prediction.cpp 	unsigned int rounds = std::max&lt;unsigned int&gt;(stats.rounds, opp_stats.rounds);</span>
<span class='curline'><a href='../S/1221.html#L1951'>opp_stats</a>        1951 src/attack_prediction.cpp 	unsigned int b_damage = opp_stats.damage, b_slow_damage = opp_stats.slow_damage;</span>
<span class='curline'><a href='../S/1221.html#L1957'>opp_stats</a>        1957 src/attack_prediction.cpp 		a_damage = a_slow_damage = opp_stats.max_hp;</span>
<span class='curline'><a href='../S/1221.html#L1960'>opp_stats</a>        1960 src/attack_prediction.cpp 	if(opp_stats.petrifies) {</span>
<span class='curline'><a href='../S/1221.html#L1965'>opp_stats</a>        1965 src/attack_prediction.cpp 	const double opp_hit_chance = opp_stats.chance_to_hit / 100.0;</span>
<span class='curline'><a href='../S/1221.html#L1972'>opp_stats</a>        1972 src/attack_prediction.cpp 		probability_combat_matrix* pm = new probability_combat_matrix(stats.max_hp, opp_stats.max_hp, stats.hp,</span>
<span class='curline'><a href='../S/1221.html#L1973'>opp_stats</a>        1973 src/attack_prediction.cpp 				opp_stats.hp, summary, opp_summary, stats.slows || opp_stats.is_slowed,</span>
<span class='curline'><a href='../S/1221.html#L1974'>opp_stats</a>        1974 src/attack_prediction.cpp 				opp_stats.slows || stats.is_slowed, a_damage, b_damage, a_slow_damage, b_slow_damage,</span>
<span class='curline'><a href='../S/1221.html#L1975'>opp_stats</a>        1975 src/attack_prediction.cpp 				stats.drain_percent, opp_stats.drain_percent, stats.drain_constant, opp_stats.drain_constant);</span>
<span class='curline'><a href='../S/1221.html#L2000'>opp_stats</a>        2000 src/attack_prediction.cpp 		monte_carlo_combat_matrix* mcm = new monte_carlo_combat_matrix(stats.max_hp, opp_stats.max_hp, stats.hp,</span>
<span class='curline'><a href='../S/1221.html#L2001'>opp_stats</a>        2001 src/attack_prediction.cpp 				opp_stats.hp, summary, opp_summary, stats.slows || opp_stats.is_slowed,</span>
<span class='curline'><a href='../S/1221.html#L2002'>opp_stats</a>        2002 src/attack_prediction.cpp 				opp_stats.slows || stats.is_slowed, a_damage, b_damage, a_slow_damage, b_slow_damage,</span>
<span class='curline'><a href='../S/1221.html#L2003'>opp_stats</a>        2003 src/attack_prediction.cpp 				stats.drain_percent, opp_stats.drain_percent, stats.drain_constant, opp_stats.drain_constant, rounds,</span>
<span class='curline'><a href='../S/1221.html#L2016'>opp_stats</a>        2016 src/attack_prediction.cpp 		m-&gt;remove_petrify_distortion_a(stats.damage, stats.slow_damage, opp_stats.hp);</span>
<span class='curline'><a href='../S/1221.html#L2019'>opp_stats</a>        2019 src/attack_prediction.cpp 	if(opp_stats.petrifies) {</span>
<span class='curline'><a href='../S/1221.html#L2020'>opp_stats</a>        2020 src/attack_prediction.cpp 		m-&gt;remove_petrify_distortion_b(opp_stats.damage, opp_stats.slow_damage, stats.hp);</span>
<span class='curline'><a href='../S/1221.html#L2024'>opp_stats</a>        2024 src/attack_prediction.cpp 		if(stats.experience + opp_stats.level &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2026'>opp_stats</a>        2026 src/attack_prediction.cpp 		} else if(stats.experience + game_config::kill_xp(opp_stats.level) &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2030'>opp_stats</a>        2030 src/attack_prediction.cpp 		if(opp_stats.experience + stats.level &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2032'>opp_stats</a>        2032 src/attack_prediction.cpp 		} else if(opp_stats.experience + game_config::kill_xp(stats.level) &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2046'>opp_stats</a>        2046 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L2057'>opp_stats</a>        2057 src/attack_prediction.cpp 	if(!stats.slows &amp;&amp; !opp_stats.slows &amp;&amp; !stats.drains &amp;&amp; !opp_stats.drains &amp;&amp; !stats.petrifies</span>
<span class='curline'><a href='../S/1221.html#L2058'>opp_stats</a>        2058 src/attack_prediction.cpp 			&amp;&amp; !opp_stats.petrifies &amp;&amp; stats.rounds == 1 &amp;&amp; opp_stats.rounds == 1 &amp;&amp; summary[1].empty()</span>
<span class='curline'><a href='../S/1221.html#L2062'>opp_stats</a>        2062 src/attack_prediction.cpp 			one_strike_fight(stats, opp_stats, strikes, opp_strikes, summary[0], opp_summary[0], self_not_hit,</span>
<span class='curline'><a href='../S/1221.html#L2064'>opp_stats</a>        2064 src/attack_prediction.cpp 		} else if(strikes * stats.damage &lt; min_hp(opp_summary[0], opp_stats.hp)</span>
<span class='curline'><a href='../S/1221.html#L2065'>opp_stats</a>        2065 src/attack_prediction.cpp 				&amp;&amp; opp_strikes * opp_stats.damage &lt; min_hp(summary[0], stats.hp)) {</span>
<span class='curline'><a href='../S/1221.html#L2066'>opp_stats</a>        2066 src/attack_prediction.cpp 			no_death_fight(stats, opp_stats, strikes, opp_strikes, summary[0], opp_summary[0], self_not_hit,</span>
<span class='curline'><a href='../S/1221.html#L2069'>opp_stats</a>        2069 src/attack_prediction.cpp 			complex_fight(attack_prediction_mode::probability_calculation, stats, opp_stats, strikes, opp_strikes,</span>
<span class='curline'><a href='../S/1221.html#L2074'>opp_stats</a>        2074 src/attack_prediction.cpp 		complex_fight(attack_prediction_mode::probability_calculation, stats, opp_stats, strikes, opp_strikes, summary,</span>
</pre>
</body>
</html>
