<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>patrol</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4379.html#L21'>patrol</a>             21 data/ai/lua/patrol.lua     local patrol = {}</span>
<span class='curline'><a href='../S/4379.html#L23'>patrol</a>             23 data/ai/lua/patrol.lua     patrol.exec = function()</span>
<span class='curline'><a href='../S/4379.html#L31'>patrol</a>             31 data/ai/lua/patrol.lua     patrol.eval = function()</span>
<span class='curline'><a href='../S/4379.html#L35'>patrol</a>             35 data/ai/lua/patrol.lua     return patrol</span>
<span class='curline'><a href='../S/4319.html#L7'>patrol</a>              7 data/ai/micro_ais/cas/ca_patrol.lua     local patrol = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4319.html#L11'>patrol</a>             11 data/ai/micro_ais/cas/ca_patrol.lua     return patrol</span>
<span class='curline'><a href='../S/4319.html#L22'>patrol</a>             22 data/ai/micro_ais/cas/ca_patrol.lua     local patrol = get_patrol(cfg)</span>
<span class='curline'><a href='../S/4319.html#L23'>patrol</a>             23 data/ai/micro_ais/cas/ca_patrol.lua     local patrol_vars = MAIUV.get_mai_unit_variables(patrol, cfg.ai_id)</span>
<span class='curline'><a href='../S/4319.html#L45'>patrol</a>             45 data/ai/micro_ais/cas/ca_patrol.lua         MAIUV.set_mai_unit_variables(patrol, cfg.ai_id, patrol_vars)</span>
<span class='curline'><a href='../S/4319.html#L48'>patrol</a>             48 data/ai/micro_ais/cas/ca_patrol.lua     while patrol.moves &gt; 0 do</span>
<span class='curline'><a href='../S/4319.html#L53'>patrol</a>             53 data/ai/micro_ais/cas/ca_patrol.lua             { "filter_adjacent", { id = patrol.id } }</span>
<span class='curline'><a href='../S/4319.html#L61'>patrol</a>             61 data/ai/micro_ais/cas/ca_patrol.lua             { "filter_adjacent", { id = patrol.id } }</span>
<span class='curline'><a href='../S/4319.html#L66'>patrol</a>             66 data/ai/micro_ais/cas/ca_patrol.lua             if ((patrol.x == wp[1]) and (patrol.y == wp[2]))</span>
<span class='curline'><a href='../S/4319.html#L75'>patrol</a>             75 data/ai/micro_ais/cas/ca_patrol.lua                         MAIUV.set_mai_unit_variables(patrol, cfg.ai_id, patrol_vars)</span>
<span class='curline'><a href='../S/4319.html#L83'>patrol</a>             83 data/ai/micro_ais/cas/ca_patrol.lua                             MAIUV.set_mai_unit_variables(patrol, cfg.ai_id, patrol_vars)</span>
<span class='curline'><a href='../S/4319.html#L91'>patrol</a>             91 data/ai/micro_ais/cas/ca_patrol.lua                             MAIUV.set_mai_unit_variables(patrol, cfg.ai_id, patrol_vars)</span>
<span class='curline'><a href='../S/4319.html#L98'>patrol</a>             98 data/ai/micro_ais/cas/ca_patrol.lua                     MAIUV.set_mai_unit_variables(patrol, cfg.ai_id, patrol_vars)</span>
<span class='curline'><a href='../S/4319.html#L105'>patrol</a>            105 data/ai/micro_ais/cas/ca_patrol.lua             (patrol.x == waypoints[n_wp][1]) and (patrol.y == waypoints[n_wp][2])</span>
<span class='curline'><a href='../S/4319.html#L107'>patrol</a>            107 data/ai/micro_ais/cas/ca_patrol.lua             AH.checked_stopunit_moves(ai, patrol)</span>
<span class='curline'><a href='../S/4319.html#L109'>patrol</a>            109 data/ai/micro_ais/cas/ca_patrol.lua             local x, y = wesnoth.find_vacant_tile(patrol_vars.patrol_x, patrol_vars.patrol_y, patrol)</span>
<span class='curline'><a href='../S/4319.html#L110'>patrol</a>            110 data/ai/micro_ais/cas/ca_patrol.lua             local nh = AH.next_hop(patrol, x, y)</span>
<span class='curline'><a href='../S/4319.html#L111'>patrol</a>            111 data/ai/micro_ais/cas/ca_patrol.lua             if nh and ((nh[1] ~= patrol.x) or (nh[2] ~= patrol.y)) then</span>
<span class='curline'><a href='../S/4319.html#L112'>patrol</a>            112 data/ai/micro_ais/cas/ca_patrol.lua                 AH.checked_move(ai, patrol, nh[1], nh[2])</span>
<span class='curline'><a href='../S/4319.html#L114'>patrol</a>            114 data/ai/micro_ais/cas/ca_patrol.lua                 AH.checked_stopunit_moves(ai, patrol)</span>
<span class='curline'><a href='../S/4319.html#L117'>patrol</a>            117 data/ai/micro_ais/cas/ca_patrol.lua         if (not patrol) or (not patrol.valid) then return end</span>
<span class='curline'><a href='../S/4319.html#L126'>patrol</a>            126 data/ai/micro_ais/cas/ca_patrol.lua             { "filter_adjacent", { id = patrol.id } }</span>
<span class='curline'><a href='../S/4319.html#L134'>patrol</a>            134 data/ai/micro_ais/cas/ca_patrol.lua             { "filter_adjacent", { id = patrol.id } }</span>
<span class='curline'><a href='../S/4319.html#L138'>patrol</a>            138 data/ai/micro_ais/cas/ca_patrol.lua     if adjacent_enemy then AH.checked_attack(ai, patrol, adjacent_enemy) end</span>
<span class='curline'><a href='../S/4319.html#L139'>patrol</a>            139 data/ai/micro_ais/cas/ca_patrol.lua     if (not patrol) or (not patrol.valid) then return end</span>
<span class='curline'><a href='../S/4319.html#L141'>patrol</a>            141 data/ai/micro_ais/cas/ca_patrol.lua     AH.checked_stopunit_all(ai, patrol)</span>
<span class='curline'><a href='../S/4283.html#L3'>patrol</a>              3 data/ai/micro_ais/mai-defs/patrol.lua function wesnoth.micro_ais.patrol(cfg)</span>
</pre>
</body>
</html>
