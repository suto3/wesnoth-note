<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>opp_stats</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1221.html#L1813'>opp_stats</a>        1813 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats)</span>
<span class='curline'><a href='../S/1221.html#L1815'>opp_stats</a>        1815 src/attack_prediction.cpp 	return num_slices * opp_num_slices * ((stats.slows || opp_stats.is_slowed) ? 2 : 1)</span>
<span class='curline'><a href='../S/1221.html#L1816'>opp_stats</a>        1816 src/attack_prediction.cpp 		   * ((opp_stats.slows || stats.is_slowed) ? 2 : 1) * stats.max_hp * opp_stats.max_hp;</span>
<span class='curline'><a href='../S/1221.html#L1821'>opp_stats</a>        1821 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L1839'>opp_stats</a>        1839 src/attack_prediction.cpp 		opp_hp_dist = std::vector&lt;double&gt;(opp_stats.max_hp + 1);</span>
<span class='curline'><a href='../S/1221.html#L1840'>opp_stats</a>        1840 src/attack_prediction.cpp 		opp_hp_dist[opp_stats.hp] = 1.0;</span>
<span class='curline'><a href='../S/1221.html#L1844'>opp_stats</a>        1844 src/attack_prediction.cpp 				unsigned src_index = opp_stats.hp - j * stats.damage;</span>
<span class='curline'><a href='../S/1221.html#L1867'>opp_stats</a>        1867 src/attack_prediction.cpp 	const double opp_hit_chance = (opp_stats.chance_to_hit / 100.0) * opp_alive_prob;</span>
<span class='curline'><a href='../S/1221.html#L1875'>opp_stats</a>        1875 src/attack_prediction.cpp 				unsigned src_index = stats.hp - j * opp_stats.damage;</span>
<span class='curline'><a href='../S/1221.html#L1878'>opp_stats</a>        1878 src/attack_prediction.cpp 				hp_dist[src_index - opp_stats.damage] += move;</span>
<span class='curline'><a href='../S/1221.html#L1886'>opp_stats</a>        1886 src/attack_prediction.cpp 			for(unsigned int j = opp_stats.damage; j &lt; hp_dist.size(); ++j) {</span>
<span class='curline'><a href='../S/1221.html#L1889'>opp_stats</a>        1889 src/attack_prediction.cpp 				hp_dist[j - opp_stats.damage] += move;</span>
<span class='curline'><a href='../S/1221.html#L1900'>opp_stats</a>        1900 src/attack_prediction.cpp 	if(stats.experience + opp_stats.level &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1904'>opp_stats</a>        1904 src/attack_prediction.cpp 	if(opp_stats.experience + stats.level &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1911'>opp_stats</a>        1911 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L1927'>opp_stats</a>        1927 src/attack_prediction.cpp 		opp_hp_dist = std::vector&lt;double&gt;(opp_stats.max_hp + 1);</span>
<span class='curline'><a href='../S/1221.html#L1929'>opp_stats</a>        1929 src/attack_prediction.cpp 			opp_hp_dist[opp_stats.hp] = 1.0 - hit_chance;</span>
<span class='curline'><a href='../S/1221.html#L1930'>opp_stats</a>        1930 src/attack_prediction.cpp 			opp_hp_dist[std::max&lt;int&gt;(opp_stats.hp - stats.damage, 0)] = hit_chance;</span>
<span class='curline'><a href='../S/1221.html#L1934'>opp_stats</a>        1934 src/attack_prediction.cpp 			opp_hp_dist[opp_stats.hp] = 1.0;</span>
<span class='curline'><a href='../S/1221.html#L1950'>opp_stats</a>        1950 src/attack_prediction.cpp 	const double opp_hit_chance = (opp_stats.chance_to_hit / 100.0) * opp_alive_prob;</span>
<span class='curline'><a href='../S/1221.html#L1956'>opp_stats</a>        1956 src/attack_prediction.cpp 			hp_dist[std::max&lt;int&gt;(stats.hp - opp_stats.damage, 0)] = opp_hit_chance;</span>
<span class='curline'><a href='../S/1221.html#L1967'>opp_stats</a>        1967 src/attack_prediction.cpp 				hp_dist[std::max&lt;int&gt;(i - opp_stats.damage, 0)] += move;</span>
<span class='curline'><a href='../S/1221.html#L1978'>opp_stats</a>        1978 src/attack_prediction.cpp 	if(stats.experience + opp_stats.level &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1980'>opp_stats</a>        1980 src/attack_prediction.cpp 	} else if(stats.experience + game_config::kill_xp(opp_stats.level) &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1984'>opp_stats</a>        1984 src/attack_prediction.cpp 	if(opp_stats.experience + stats.level &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1986'>opp_stats</a>        1986 src/attack_prediction.cpp 	} else if(opp_stats.experience + game_config::kill_xp(stats.level) &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L1995'>opp_stats</a>        1995 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L2008'>opp_stats</a>        2008 src/attack_prediction.cpp 	unsigned int rounds = std::max&lt;unsigned int&gt;(stats.rounds, opp_stats.rounds);</span>
<span class='curline'><a href='../S/1221.html#L2014'>opp_stats</a>        2014 src/attack_prediction.cpp 	unsigned int b_damage = opp_stats.damage, b_slow_damage = opp_stats.slow_damage;</span>
<span class='curline'><a href='../S/1221.html#L2020'>opp_stats</a>        2020 src/attack_prediction.cpp 		a_damage = a_slow_damage = opp_stats.max_hp;</span>
<span class='curline'><a href='../S/1221.html#L2023'>opp_stats</a>        2023 src/attack_prediction.cpp 	if(opp_stats.petrifies) {</span>
<span class='curline'><a href='../S/1221.html#L2028'>opp_stats</a>        2028 src/attack_prediction.cpp 	const double opp_hit_chance = opp_stats.chance_to_hit / 100.0;</span>
<span class='curline'><a href='../S/1221.html#L2035'>opp_stats</a>        2035 src/attack_prediction.cpp 		probability_combat_matrix* pm = new probability_combat_matrix(stats.max_hp, opp_stats.max_hp, stats.hp,</span>
<span class='curline'><a href='../S/1221.html#L2036'>opp_stats</a>        2036 src/attack_prediction.cpp 				opp_stats.hp, summary, opp_summary, stats.slows || opp_stats.is_slowed,</span>
<span class='curline'><a href='../S/1221.html#L2037'>opp_stats</a>        2037 src/attack_prediction.cpp 				opp_stats.slows || stats.is_slowed, a_damage, b_damage, a_slow_damage, b_slow_damage,</span>
<span class='curline'><a href='../S/1221.html#L2038'>opp_stats</a>        2038 src/attack_prediction.cpp 				stats.drain_percent, opp_stats.drain_percent, stats.drain_constant, opp_stats.drain_constant);</span>
<span class='curline'><a href='../S/1221.html#L2063'>opp_stats</a>        2063 src/attack_prediction.cpp 		monte_carlo_combat_matrix* mcm = new monte_carlo_combat_matrix(stats.max_hp, opp_stats.max_hp, stats.hp,</span>
<span class='curline'><a href='../S/1221.html#L2064'>opp_stats</a>        2064 src/attack_prediction.cpp 				opp_stats.hp, summary, opp_summary, stats.slows || opp_stats.is_slowed,</span>
<span class='curline'><a href='../S/1221.html#L2065'>opp_stats</a>        2065 src/attack_prediction.cpp 				opp_stats.slows || stats.is_slowed, a_damage, b_damage, a_slow_damage, b_slow_damage,</span>
<span class='curline'><a href='../S/1221.html#L2066'>opp_stats</a>        2066 src/attack_prediction.cpp 				stats.drain_percent, opp_stats.drain_percent, stats.drain_constant, opp_stats.drain_constant, rounds,</span>
<span class='curline'><a href='../S/1221.html#L2079'>opp_stats</a>        2079 src/attack_prediction.cpp 		m-&gt;remove_petrify_distortion_a(stats.damage, stats.slow_damage, opp_stats.hp);</span>
<span class='curline'><a href='../S/1221.html#L2082'>opp_stats</a>        2082 src/attack_prediction.cpp 	if(opp_stats.petrifies) {</span>
<span class='curline'><a href='../S/1221.html#L2083'>opp_stats</a>        2083 src/attack_prediction.cpp 		m-&gt;remove_petrify_distortion_b(opp_stats.damage, opp_stats.slow_damage, stats.hp);</span>
<span class='curline'><a href='../S/1221.html#L2087'>opp_stats</a>        2087 src/attack_prediction.cpp 		if(stats.experience + opp_stats.level &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2089'>opp_stats</a>        2089 src/attack_prediction.cpp 		} else if(stats.experience + game_config::kill_xp(opp_stats.level) &gt;= stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2093'>opp_stats</a>        2093 src/attack_prediction.cpp 		if(opp_stats.experience + stats.level &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2095'>opp_stats</a>        2095 src/attack_prediction.cpp 		} else if(opp_stats.experience + game_config::kill_xp(stats.level) &gt;= opp_stats.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2109'>opp_stats</a>        2109 src/attack_prediction.cpp 		const battle_context_unit_stats&amp; opp_stats,</span>
<span class='curline'><a href='../S/1221.html#L2120'>opp_stats</a>        2120 src/attack_prediction.cpp 	if(!stats.slows &amp;&amp; !opp_stats.slows &amp;&amp; !stats.drains &amp;&amp; !opp_stats.drains &amp;&amp; !stats.petrifies</span>
<span class='curline'><a href='../S/1221.html#L2121'>opp_stats</a>        2121 src/attack_prediction.cpp 			&amp;&amp; !opp_stats.petrifies &amp;&amp; stats.rounds == 1 &amp;&amp; opp_stats.rounds == 1 &amp;&amp; summary[1].empty()</span>
<span class='curline'><a href='../S/1221.html#L2125'>opp_stats</a>        2125 src/attack_prediction.cpp 			one_strike_fight(stats, opp_stats, strikes, opp_strikes, summary[0], opp_summary[0], self_not_hit,</span>
<span class='curline'><a href='../S/1221.html#L2127'>opp_stats</a>        2127 src/attack_prediction.cpp 		} else if(strikes * stats.damage &lt; min_hp(opp_summary[0], opp_stats.hp)</span>
<span class='curline'><a href='../S/1221.html#L2128'>opp_stats</a>        2128 src/attack_prediction.cpp 				&amp;&amp; opp_strikes * opp_stats.damage &lt; min_hp(summary[0], stats.hp)) {</span>
<span class='curline'><a href='../S/1221.html#L2129'>opp_stats</a>        2129 src/attack_prediction.cpp 			no_death_fight(stats, opp_stats, strikes, opp_strikes, summary[0], opp_summary[0], self_not_hit,</span>
<span class='curline'><a href='../S/1221.html#L2132'>opp_stats</a>        2132 src/attack_prediction.cpp 			complex_fight(attack_prediction_mode::probability_calculation, stats, opp_stats, strikes, opp_strikes,</span>
<span class='curline'><a href='../S/1221.html#L2137'>opp_stats</a>        2137 src/attack_prediction.cpp 		complex_fight(attack_prediction_mode::probability_calculation, stats, opp_stats, strikes, opp_strikes, summary,</span>
</pre>
</body>
</html>
