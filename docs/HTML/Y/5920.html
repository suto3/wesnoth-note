<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>attacker_info</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4383.html#L115'>attacker_info</a>     115 data/ai/lua/battle_calcs.lua     local attacker_info = battle_calcs.unit_attack_info(attacker, cache)</span>
<span class='curline'><a href='../S/4383.html#L119'>attacker_info</a>     119 data/ai/lua/battle_calcs.lua     local att_damage = attacker_info.attacks[att_weapon].damage</span>
<span class='curline'><a href='../S/4383.html#L122'>attacker_info</a>     122 data/ai/lua/battle_calcs.lua     local att_multiplier = defender_info.resist_mod[attacker_info.attacks[att_weapon].type] or 1</span>
<span class='curline'><a href='../S/4383.html#L125'>attacker_info</a>     125 data/ai/lua/battle_calcs.lua     att_multiplier = att_multiplier * AH.get_unit_time_of_day_bonus(attacker_info.alignment, att_lawful_bonus)</span>
<span class='curline'><a href='../S/4383.html#L134'>attacker_info</a>     134 data/ai/lua/battle_calcs.lua         def_multiplier = attacker_info.resist_mod[defender_info.attacks[def_weapon].type] or 1</span>
<span class='curline'><a href='../S/4383.html#L141'>attacker_info</a>     141 data/ai/lua/battle_calcs.lua     if attacker_info.attacks[att_weapon].charge then</span>
<span class='curline'><a href='../S/4383.html#L166'>attacker_info</a>     166 data/ai/lua/battle_calcs.lua             att_attack = attacker_info.attacks[att_weapon],</span>
<span class='curline'><a href='../S/4383.html#L171'>attacker_info</a>     171 data/ai/lua/battle_calcs.lua     return att_damage, def_damage, attacker_info.attacks[att_weapon], defender_info.attacks[def_weapon]</span>
<span class='curline'><a href='../S/4383.html#L201'>attacker_info</a>     201 data/ai/lua/battle_calcs.lua     local attacker_info = battle_calcs.unit_attack_info(attacker, cache)</span>
<span class='curline'><a href='../S/4383.html#L206'>attacker_info</a>     206 data/ai/lua/battle_calcs.lua     for att_weapon_number,att_weapon in ipairs(attacker_info.attacks) do</span>
<span class='curline'><a href='../S/4320.html#L243'>attacker_info</a>     243 data/ai/micro_ais/cas/ca_fast_attack_utils.lua function ca_fast_attack_utils.damage_rating_unit(attacker_info, defender_info, att_stat, def_stat, is_village, cfg)</span>
<span class='curline'><a href='../S/4320.html#L264'>attacker_info</a>     264 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local damage = attacker_info.hitpoints - att_stat.average_hp</span>
<span class='curline'><a href='../S/4320.html#L279'>attacker_info</a>     279 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     elseif attacker_info.regenerate then</span>
<span class='curline'><a href='../S/4320.html#L286'>attacker_info</a>     286 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local fractional_damage = damage / attacker_info.max_hitpoints</span>
<span class='curline'><a href='../S/4320.html#L299'>attacker_info</a>     299 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (attacker_info.max_experience - attacker_info.experience &lt;= defender_level) then</span>
<span class='curline'><a href='../S/4320.html#L301'>attacker_info</a>     301 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     elseif (attacker_info.max_experience - attacker_info.experience &lt;= defender_level * 8) then</span>
<span class='curline'><a href='../S/4320.html#L308'>attacker_info</a>     308 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local value = attacker_info.cost</span>
<span class='curline'><a href='../S/4320.html#L311'>attacker_info</a>     311 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if attacker_info.canrecruit then</span>
<span class='curline'><a href='../S/4320.html#L317'>attacker_info</a>     317 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local xp_bonus = attacker_info.experience / attacker_info.max_experience</span>
<span class='curline'><a href='../S/4320.html#L358'>attacker_info</a>     358 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     for i,attacker_info in ipairs(attacker_infos) do</span>
<span class='curline'><a href='../S/4320.html#L361'>attacker_info</a>     361 data/ai/micro_ais/cas/ca_fast_attack_utils.lua             attacker_info, defender_info, att_stats[i], def_stat, attacker_on_village, cfg</span>
<span class='curline'><a href='../S/4320.html#L431'>attacker_info</a>     431 data/ai/micro_ais/cas/ca_fast_attack_utils.lua function ca_fast_attack_utils.battle_outcome(attacker_copy, defender_proxy, dst, attacker_info, defender_info, gamedata, move_cache)</span>
<span class='curline'><a href='../S/4320.html#L446'>attacker_info</a>     446 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if move_cache[attacker_info.id]</span>
<span class='curline'><a href='../S/4320.html#L447'>attacker_info</a>     447 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id]</span>
<span class='curline'><a href='../S/4320.html#L448'>attacker_info</a>     448 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense]</span>
<span class='curline'><a href='../S/4320.html#L449'>attacker_info</a>     449 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense]</span>
<span class='curline'><a href='../S/4320.html#L450'>attacker_info</a>     450 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints]</span>
<span class='curline'><a href='../S/4320.html#L451'>attacker_info</a>     451 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints]</span>
<span class='curline'><a href='../S/4320.html#L453'>attacker_info</a>     453 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         return move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints].att_stat,</span>
<span class='curline'><a href='../S/4320.html#L454'>attacker_info</a>     454 data/ai/micro_ais/cas/ca_fast_attack_utils.lua             move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints].def_stat</span>
<span class='curline'><a href='../S/4320.html#L493'>attacker_info</a>     493 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id]) then</span>
<span class='curline'><a href='../S/4320.html#L494'>attacker_info</a>     494 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id] = {}</span>
<span class='curline'><a href='../S/4320.html#L496'>attacker_info</a>     496 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id]) then</span>
<span class='curline'><a href='../S/4320.html#L497'>attacker_info</a>     497 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id] = {}</span>
<span class='curline'><a href='../S/4320.html#L499'>attacker_info</a>     499 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id][attacker_defense]) then</span>
<span class='curline'><a href='../S/4320.html#L500'>attacker_info</a>     500 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id][attacker_defense] = {}</span>
<span class='curline'><a href='../S/4320.html#L502'>attacker_info</a>     502 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense]) then</span>
<span class='curline'><a href='../S/4320.html#L503'>attacker_info</a>     503 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense] = {}</span>
<span class='curline'><a href='../S/4320.html#L505'>attacker_info</a>     505 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints]) then</span>
<span class='curline'><a href='../S/4320.html#L506'>attacker_info</a>     506 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints] = {}</span>
<span class='curline'><a href='../S/4320.html#L509'>attacker_info</a>     509 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints]</span>
</pre>
</body>
</html>
