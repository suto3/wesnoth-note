<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>attacker</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4369.html#L194'>attacker</a>          194 data/ai/lua/ai_helper.lua function ai_helper.checked_attack(ai, attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4369.html#L195'>attacker</a>          195 data/ai/lua/ai_helper.lua     local check = ai.check_attack(attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4369.html#L198'>attacker</a>          198 data/ai/lua/ai_helper.lua         ai.stopunit_attacks(attacker)</span>
<span class='curline'><a href='../S/4369.html#L199'>attacker</a>          199 data/ai/lua/ai_helper.lua         ai_helper.checked_action_error('ai.attack from ' .. attacker.x .. ',' .. attacker.y .. ' to ' .. defender.x .. ',' .. defender.y, check.status .. ' (' .. check.result .. ')')</span>
<span class='curline'><a href='../S/4369.html#L203'>attacker</a>          203 data/ai/lua/ai_helper.lua     return ai.attack(attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4371.html#L87'>attacker</a>           87 data/ai/lua/battle_calcs.lua function battle_calcs.strike_damage(attacker, defender, att_weapon, def_weapon, dst, cache)</span>
<span class='curline'><a href='../S/4371.html#L105'>attacker</a>          105 data/ai/lua/battle_calcs.lua     local cind = 'SD-' .. attacker.id .. attacker.max_hitpoints .. attacker.side</span>
<span class='curline'><a href='../S/4371.html#L115'>attacker</a>          115 data/ai/lua/battle_calcs.lua     local attacker_info = battle_calcs.unit_attack_info(attacker, cache)</span>
<span class='curline'><a href='../S/4371.html#L174'>attacker</a>          174 data/ai/lua/battle_calcs.lua function battle_calcs.best_weapons(attacker, defender, dst, cache)</span>
<span class='curline'><a href='../S/4371.html#L192'>attacker</a>          192 data/ai/lua/battle_calcs.lua     local cind = 'BW-' .. attacker.id .. attacker.max_hitpoints .. attacker.side</span>
<span class='curline'><a href='../S/4371.html#L201'>attacker</a>          201 data/ai/lua/battle_calcs.lua     local attacker_info = battle_calcs.unit_attack_info(attacker, cache)</span>
<span class='curline'><a href='../S/4371.html#L207'>attacker</a>          207 data/ai/lua/battle_calcs.lua         local att_damage = battle_calcs.strike_damage(attacker, defender, att_weapon_number, 0, { dst[1], dst[2] }, cache)</span>
<span class='curline'><a href='../S/4371.html#L211'>attacker</a>          211 data/ai/lua/battle_calcs.lua                 local def_damage = battle_calcs.strike_damage(defender, attacker, def_weapon_number, 0, { defender.x, defender.y }, cache)</span>
<span class='curline'><a href='../S/4371.html#L639'>attacker</a>          639 data/ai/lua/battle_calcs.lua function battle_calcs.battle_outcome(attacker, defender, cfg, cache)</span>
<span class='curline'><a href='../S/4371.html#L649'>attacker</a>          649 data/ai/lua/battle_calcs.lua     local dst = cfg.dst or { attacker.x, attacker.y }</span>
<span class='curline'><a href='../S/4371.html#L653'>attacker</a>          653 data/ai/lua/battle_calcs.lua         att_weapon, def_weapon = battle_calcs.best_weapons(attacker, defender, dst, cache)</span>
<span class='curline'><a href='../S/4371.html#L661'>attacker</a>          661 data/ai/lua/battle_calcs.lua         battle_calcs.strike_damage(attacker, defender, att_weapon, def_weapon, { dst[1], dst[2] }, cache)</span>
<span class='curline'><a href='../S/4371.html#L670'>attacker</a>          670 data/ai/lua/battle_calcs.lua         att_strikes = math.floor(att_strikes * attacker.hitpoints / attacker.max_hitpoints)</span>
<span class='curline'><a href='../S/4371.html#L677'>attacker</a>          677 data/ai/lua/battle_calcs.lua     local att_max_hits = math.floor((attacker.hitpoints - 1) / def_damage)</span>
<span class='curline'><a href='../S/4371.html#L684'>attacker</a>          684 data/ai/lua/battle_calcs.lua     local def_hit_prob = wesnoth.unit_defense(attacker, wesnoth.get_terrain(dst[1], dst[2])) / 100.</span>
<span class='curline'><a href='../S/4371.html#L707'>attacker</a>          707 data/ai/lua/battle_calcs.lua     local att_stats = battle_calcs.hp_distribution(att_coeffs, att_hit_prob, def_hit_prob, attacker.hitpoints, def_damage, def_attack)</span>
<span class='curline'><a href='../S/4371.html#L729'>attacker</a>          729 data/ai/lua/battle_calcs.lua function battle_calcs.simulate_combat_loc(attacker, dst, defender, weapon)</span>
<span class='curline'><a href='../S/4371.html#L734'>attacker</a>          734 data/ai/lua/battle_calcs.lua     local attacker_dst = wesnoth.copy_unit(attacker)</span>
<span class='curline'><a href='../S/4371.html#L744'>attacker</a>          744 data/ai/lua/battle_calcs.lua function battle_calcs.attack_rating(attacker, defender, dst, cfg, cache)</span>
<span class='curline'><a href='../S/4371.html#L790'>attacker</a>          790 data/ai/lua/battle_calcs.lua         att_stats,def_stats = battle_calcs.battle_outcome(attacker, defender, battle_cfg, cache)</span>
<span class='curline'><a href='../S/4371.html#L797'>attacker</a>          797 data/ai/lua/battle_calcs.lua     local leader = wesnoth.get_units { side = attacker.side, canrecruit = 'yes' }[1]</span>
<span class='curline'><a href='../S/4371.html#L805'>attacker</a>          805 data/ai/lua/battle_calcs.lua     local damage = attacker.hitpoints - att_stats.average_hp</span>
<span class='curline'><a href='../S/4371.html#L832'>attacker</a>          832 data/ai/lua/battle_calcs.lua     local value_fraction = - damage / attacker.max_hitpoints</span>
<span class='curline'><a href='../S/4371.html#L841'>attacker</a>          841 data/ai/lua/battle_calcs.lua     if (attacker.max_experience - attacker.experience &lt;= defender_level) then</span>
<span class='curline'><a href='../S/4371.html#L844'>attacker</a>          844 data/ai/lua/battle_calcs.lua         if (attacker.max_experience - attacker.experience &lt;= defender_level * 8) then</span>
<span class='curline'><a href='../S/4371.html#L852'>attacker</a>          852 data/ai/lua/battle_calcs.lua     local attacker_value = wesnoth.unit_types[attacker.type].cost</span>
<span class='curline'><a href='../S/4371.html#L855'>attacker</a>          855 data/ai/lua/battle_calcs.lua     local xp_bonus = attacker.experience / attacker.max_experience</span>
<span class='curline'><a href='../S/4371.html#L889'>attacker</a>          889 data/ai/lua/battle_calcs.lua     local attacker_level = wesnoth.unit_types[attacker.type].level</span>
<span class='curline'><a href='../S/4371.html#L920'>attacker</a>          920 data/ai/lua/battle_calcs.lua         defender_value = defender_value * (1. + 10. / attacker.max_hitpoints)</span>
<span class='curline'><a href='../S/4371.html#L949'>attacker</a>          949 data/ai/lua/battle_calcs.lua     if (dst[1] ~= attacker.x) or (dst[2] ~= attacker.y) then</span>
<span class='curline'><a href='../S/4371.html#L992'>attacker</a>          992 data/ai/lua/battle_calcs.lua     for i,attacker in ipairs(tmp_attackers) do</span>
<span class='curline'><a href='../S/4371.html#L994'>attacker</a>          994 data/ai/lua/battle_calcs.lua         local att_ind = attacker.x * 1000 + attacker.y</span>
<span class='curline'><a href='../S/4371.html#L1002'>attacker</a>         1002 data/ai/lua/battle_calcs.lua                 battle_calcs.attack_rating(attacker, defender, tmp_dsts[i], {}, cache )</span>
<span class='curline'><a href='../S/4371.html#L1032'>attacker</a>         1032 data/ai/lua/battle_calcs.lua             if AH.has_weapon_special(attacker, "slow") then</span>
<span class='curline'><a href='../S/4374.html#L137'>attacker</a>          137 data/ai/lua/ca_high_xp_attack.lua                 local attacker = units[i_a]</span>
<span class='curline'><a href='../S/4374.html#L141'>attacker</a>          141 data/ai/lua/ca_high_xp_attack.lua                     if reaches:get(attacker.x, attacker.y) then</span>
<span class='curline'><a href='../S/4374.html#L142'>attacker</a>          142 data/ai/lua/ca_high_xp_attack.lua                         reach = reaches:get(attacker.x, attacker.y)</span>
<span class='curline'><a href='../S/4374.html#L144'>attacker</a>          144 data/ai/lua/ca_high_xp_attack.lua                         reach = wesnoth.find_reach(attacker)</span>
<span class='curline'><a href='../S/4374.html#L145'>attacker</a>          145 data/ai/lua/ca_high_xp_attack.lua                         reaches:insert(attacker.x, attacker.y, reach)</span>
<span class='curline'><a href='../S/4374.html#L153'>attacker</a>          153 data/ai/lua/ca_high_xp_attack.lua                                 src = { x = attacker.x, y = attacker.y }</span>
<span class='curline'><a href='../S/4374.html#L162'>attacker</a>          162 data/ai/lua/ca_high_xp_attack.lua                     if (attacker.id == occupied) then</span>
<span class='curline'><a href='../S/4374.html#L166'>attacker</a>          166 data/ai/lua/ca_high_xp_attack.lua                             src = { x = attacker.x, y = attacker.y }</span>
<span class='curline'><a href='../S/4374.html#L215'>attacker</a>          215 data/ai/lua/ca_high_xp_attack.lua                 local attacker = units[attack_info.ind_attacker]</span>
<span class='curline'><a href='../S/4374.html#L217'>attacker</a>          217 data/ai/lua/ca_high_xp_attack.lua                 if attacker_copies:get(attacker.x, attacker.y) then</span>
<span class='curline'><a href='../S/4374.html#L218'>attacker</a>          218 data/ai/lua/ca_high_xp_attack.lua                     attacker_copy = attacker_copies:get(attacker.x, attacker.y)</span>
<span class='curline'><a href='../S/4374.html#L220'>attacker</a>          220 data/ai/lua/ca_high_xp_attack.lua                     attacker_copy = wesnoth.copy_unit(attacker)</span>
<span class='curline'><a href='../S/4374.html#L221'>attacker</a>          221 data/ai/lua/ca_high_xp_attack.lua                     attacker_copies:insert(attacker.x, attacker.y, attacker_copy)</span>
<span class='curline'><a href='../S/4373.html#L106'>attacker</a>          106 data/ai/lua/generic_recruit_engine.lua             local function get_best_attack(attacker, defender, defender_defense, attacker_defense, can_poison)</span>
<span class='curline'><a href='../S/4373.html#L124'>attacker</a>          124 data/ai/lua/generic_recruit_engine.lua                 for attack in H.child_range(wesnoth.unit_types[attacker.type].__cfg, "attack") do</span>
<span class='curline'><a href='../S/4373.html#L201'>attacker</a>          201 data/ai/lua/generic_recruit_engine.lua                                 if H.get_child(special, 'drains') and drainable(attacker) then</span>
<span class='curline'><a href='../S/4373.html#L204'>attacker</a>          204 data/ai/lua/generic_recruit_engine.lua                                     local attacker_resistance = wesnoth.unit_resistance(attacker, defender_attack.type)</span>
<span class='curline'><a href='../S/4366.html#L439'>attacker</a>          439 data/ai/lua/generic_rush_engine.lua                 local attacker = wesnoth.get_unit(a.src.x, a.src.y)</span>
<span class='curline'><a href='../S/4366.html#L449'>attacker</a>          449 data/ai/lua/generic_rush_engine.lua                 local about_to_level = defender.max_experience - defender.experience &lt;= (wesnoth.unit_types[attacker.type].level * 2)</span>
<span class='curline'><a href='../S/4366.html#L466'>attacker</a>          466 data/ai/lua/generic_rush_engine.lua                     local attack_defense = 100 - wesnoth.unit_defense(attacker, wesnoth.get_terrain(a.dst.x, a.dst.y))</span>
<span class='curline'><a href='../S/4366.html#L490'>attacker</a>          490 data/ai/lua/generic_rush_engine.lua             local attacker = wesnoth.get_unit(self.data.attack.src.x, self.data.attack.src.y)</span>
<span class='curline'><a href='../S/4366.html#L492'>attacker</a>          492 data/ai/lua/generic_rush_engine.lua             local is_poisoner, poison_weapon = AH.has_weapon_special(attacker, "poison")</span>
<span class='curline'><a href='../S/4366.html#L495'>attacker</a>          495 data/ai/lua/generic_rush_engine.lua             if AH.show_messages() then W.message { speaker = attacker.id, message = 'Poison attack' } end</span>
<span class='curline'><a href='../S/4366.html#L497'>attacker</a>          497 data/ai/lua/generic_rush_engine.lua             AH.robust_move_and_attack(ai, attacker, self.data.attack.dst, self.data.attack.target, { weapon = poison_weapon })</span>
<span class='curline'><a href='../S/4321.html#L15'>attacker</a>           15 data/ai/micro_ais/cas/ca_bottleneck_attack.lua     for _,attacker in ipairs(attackers) do</span>
<span class='curline'><a href='../S/4321.html#L16'>attacker</a>           16 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         local targets = AH.get_attackable_enemies { { "filter_adjacent", { id = attacker.id } } }</span>
<span class='curline'><a href='../S/4321.html#L19'>attacker</a>           19 data/ai/micro_ais/cas/ca_bottleneck_attack.lua             for n_weapon,weapon in ipairs(attacker.attacks) do</span>
<span class='curline'><a href='../S/4321.html#L20'>attacker</a>           20 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                 local att_stats, def_stats = wesnoth.simulate_combat(attacker, n_weapon, target)</span>
<span class='curline'><a href='../S/4321.html#L26'>attacker</a>           26 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                 if (att_stats.hp_chance[attacker.hitpoints] == 1)</span>
<span class='curline'><a href='../S/4321.html#L35'>attacker</a>           35 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                         rating = rating + (attacker.experience - attacker.max_experience) / 10.</span>
<span class='curline'><a href='../S/4321.html#L37'>attacker</a>           37 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                         rating = rating - (attacker.experience - attacker.max_experience) / 10.</span>
<span class='curline'><a href='../S/4321.html#L43'>attacker</a>           43 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                     best_attacker, best_target, best_weapon = attacker, target, n_weapon</span>
<span class='curline'><a href='../S/4285.html#L35'>attacker</a>           35 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local min_dist, attacker, target = 9e99</span>
<span class='curline'><a href='../S/4285.html#L40'>attacker</a>           40 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua                 min_dist, attacker, target = dist, tusker, enemy</span>
<span class='curline'><a href='../S/4285.html#L53'>attacker</a>           53 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local best_hex = AH.find_best_move(attacker, function(x, y)</span>
<span class='curline'><a href='../S/4285.html#L62'>attacker</a>           62 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     AH.robust_move_and_attack(ai, attacker, best_hex, target)</span>
<span class='curline'><a href='../S/4287.html#L39'>attacker</a>           39 data/ai/micro_ais/cas/ca_simple_attack.lua             local attacker = wesnoth.get_unit(att.src.x, att.src.y)</span>
<span class='curline'><a href='../S/4287.html#L43'>attacker</a>           43 data/ai/micro_ais/cas/ca_simple_attack.lua             local rating = BC.attack_rating(attacker, enemy, dst)</span>
<span class='curline'><a href='../S/4323.html#L127'>attacker</a>          127 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                 local attacker = wesnoth.get_unit(best_attack.src.x, best_attack.src.y)</span>
<span class='curline'><a href='../S/4323.html#L130'>attacker</a>          130 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                 AH.robust_move_and_attack(ai, attacker, best_attack.dst, defender)</span>
<span class='curline'><a href='../S/4323.html#L133'>attacker</a>          133 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                     if attacker and attacker.valid then</span>
<span class='curline'><a href='../S/4323.html#L134'>attacker</a>          134 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                         if cfg.show_pack_number then WMPF.put_label(attacker.x, attacker.y, pack_number) end</span>
<span class='curline'><a href='../S/4330.html#L19'>attacker</a>           19 data/ai/micro_ais/engines/priority_target_engine.lua             for _,attacker in ipairs(attackers) do</span>
<span class='curline'><a href='../S/4330.html#L24'>attacker</a>           24 data/ai/micro_ais/engines/priority_target_engine.lua                     { "filter", { id = attacker.id } },</span>
<span class='curline'><a href='../S/4330.html#L30'>attacker</a>           30 data/ai/micro_ais/engines/priority_target_engine.lua                             { "filter", { { "not", { id = attacker.id } } } }</span>
<span class='curline'><a href='../S/4989.html#L22'>attacker</a>           22 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua         local attacker = wesnoth.get_unit(att.src.x, att.src.y)</span>
<span class='curline'><a href='../S/4989.html#L25'>attacker</a>           25 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua         local attacker_dst = wesnoth.copy_unit(attacker)</span>
<span class='curline'><a href='../S/4989.html#L33'>attacker</a>           33 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua             local attacker_damage = attacker.hitpoints - att_stats.average_hp</span>
<span class='curline'><a href='../S/4989.html#L40'>attacker</a>           40 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua             rating = rating + attacker.hitpoints / 10.</span>
<span class='curline'><a href='../S/1792.html#L93'>attacker</a>           93 doc/design/gui2/unit_attack.cpp 		const battle_context::unit_stats&amp; attacker =</span>
<span class='curline'><a href='../S/1792.html#L99'>attacker</a>           99 doc/design/gui2/unit_attack.cpp 		const attack_type&amp; attacker_weapon = attack_type(*attacker.weapon);</span>
<span class='curline'><a href='../S/896.html#L329'>attacker</a>          329 src/actions/attack.cpp 	const unit &amp;attacker = attacker_ptr ? *attacker_ptr : *units.find(attacker_loc);</span>
<span class='curline'><a href='../S/896.html#L333'>attacker</a>          333 src/actions/attack.cpp 	if (attacker_weapon == -1 &amp;&amp; attacker.attacks().size() == 1 &amp;&amp; attacker.attacks()[0].attack_weight() &gt; 0 &amp;&amp; !attacker.attacks()[0].get_special_bool("disable", true))</span>
<span class='curline'><a href='../S/896.html#L337'>attacker</a>          337 src/actions/attack.cpp 		attacker_weapon = choose_attacker_weapon(attacker, defender, units,</span>
<span class='curline'><a href='../S/896.html#L341'>attacker</a>          341 src/actions/attack.cpp 		defender_weapon = choose_defender_weapon(attacker, defender, attacker_weapon,</span>
<span class='curline'><a href='../S/896.html#L350'>attacker</a>          350 src/actions/attack.cpp 			VALIDATE(attacker_weapon &lt; static_cast&lt;int&gt;(attacker.attacks().size()),</span>
<span class='curline'><a href='../S/896.html#L352'>attacker</a>          352 src/actions/attack.cpp 			adef = attacker.attacks()[attacker_weapon].shared_from_this();</span>
<span class='curline'><a href='../S/896.html#L360'>attacker</a>          360 src/actions/attack.cpp 		attacker_stats_ = new battle_context_unit_stats(attacker, attacker_loc, attacker_weapon,</span>
<span class='curline'><a href='../S/896.html#L363'>attacker</a>          363 src/actions/attack.cpp 				attacker, attacker_loc, adef, units);</span>
<span class='curline'><a href='../S/896.html#L474'>attacker</a>          474 src/actions/attack.cpp int battle_context::choose_attacker_weapon(const unit &amp;attacker,</span>
<span class='curline'><a href='../S/896.html#L483'>attacker</a>          483 src/actions/attack.cpp 	for (i = 0; i &lt; attacker.attacks().size(); ++i) {</span>
<span class='curline'><a href='../S/896.html#L484'>attacker</a>          484 src/actions/attack.cpp 		const attack_type &amp;att = attacker.attacks()[i];</span>
<span class='curline'><a href='../S/896.html#L492'>attacker</a>          492 src/actions/attack.cpp 		*defender_weapon = choose_defender_weapon(attacker, defender, choices[0], units,</span>
<span class='curline'><a href='../S/896.html#L495'>attacker</a>          495 src/actions/attack.cpp 		attacker_stats_ = new battle_context_unit_stats(attacker, attacker_loc, choices[0],</span>
<span class='curline'><a href='../S/896.html#L502'>attacker</a>          502 src/actions/attack.cpp 		const attack_type &amp;att = attacker.attacks()[choices[0]];</span>
<span class='curline'><a href='../S/896.html#L504'>attacker</a>          504 src/actions/attack.cpp 			attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/896.html#L513'>attacker</a>          513 src/actions/attack.cpp 		const attack_type &amp;att = attacker.attacks()[choices[i]];</span>
<span class='curline'><a href='../S/896.html#L514'>attacker</a>          514 src/actions/attack.cpp 		int def_weapon = choose_defender_weapon(attacker, defender, choices[i], units,</span>
<span class='curline'><a href='../S/896.html#L522'>attacker</a>          522 src/actions/attack.cpp 			attacker_stats_ = new battle_context_unit_stats(attacker, attacker_loc, choices[i],</span>
<span class='curline'><a href='../S/896.html#L530'>attacker</a>          530 src/actions/attack.cpp 				attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/896.html#L578'>attacker</a>          578 src/actions/attack.cpp int battle_context::choose_defender_weapon(const unit &amp;attacker,</span>
<span class='curline'><a href='../S/896.html#L583'>attacker</a>          583 src/actions/attack.cpp 	VALIDATE(attacker_weapon &lt; attacker.attacks().size(),</span>
<span class='curline'><a href='../S/896.html#L585'>attacker</a>          585 src/actions/attack.cpp 	const attack_type &amp;att = attacker.attacks()[attacker_weapon];</span>
<span class='curline'><a href='../S/896.html#L600'>attacker</a>          600 src/actions/attack.cpp 				choices[0], false, attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/896.html#L617'>attacker</a>          617 src/actions/attack.cpp 						choices[i], false, attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/896.html#L632'>attacker</a>          632 src/actions/attack.cpp 		battle_context_unit_stats *att_stats = new battle_context_unit_stats(attacker, attacker_loc, attacker_weapon,</span>
<span class='curline'><a href='../S/896.html#L635'>attacker</a>          635 src/actions/attack.cpp 				attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/896.html#L702'>attacker</a>          702 src/actions/attack.cpp 		attack(const map_location &amp;attacker, const map_location &amp;defender,</span>
<span class='curline'><a href='../S/896.html#L800'>attacker</a>          800 src/actions/attack.cpp 	attack::attack(const map_location &amp;attacker, const map_location &amp;defender,</span>
<span class='curline'><a href='../S/896.html#L810'>attacker</a>          810 src/actions/attack.cpp 		a_(attacker, attack_with, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/896.html#L900'>attacker</a>          900 src/actions/attack.cpp 			&amp;attacker = *(attacker_turn ? &amp;a_ : &amp;d_),</span>
<span class='curline'><a href='../S/896.html#L909'>attacker</a>          909 src/actions/attack.cpp 		bool hits = (ran_num &lt; attacker.cth_);</span>
<span class='curline'><a href='../S/896.html#L913'>attacker</a>          913 src/actions/attack.cpp 			damage = attacker.damage_;</span>
<span class='curline'><a href='../S/896.html#L919'>attacker</a>          919 src/actions/attack.cpp 		const config local_results {"chance", attacker.cth_, "hits", hits, "damage", damage};</span>
<span class='curline'><a href='../S/896.html#L924'>attacker</a>          924 src/actions/attack.cpp 			check_replay_attack_result(hits, ran_num, damage, replay_results, attacker);</span>
<span class='curline'><a href='../S/896.html#L928'>attacker</a>          928 src/actions/attack.cpp 		int damage_done = std::min&lt;int&gt;(defender.get_unit().hitpoints(), attacker.damage_);</span>
<span class='curline'><a href='../S/896.html#L930'>attacker</a>          930 src/actions/attack.cpp 		double expected_damage = damage_done*attacker.cth_*0.01;</span>
<span class='curline'><a href='../S/896.html#L941'>attacker</a>          941 src/actions/attack.cpp 			drains_damage = std::min&lt;int&gt;(drains_damage, attacker.get_unit().max_hitpoints() - attacker.get_unit().hitpoints());</span>
<span class='curline'><a href='../S/896.html#L943'>attacker</a>          943 src/actions/attack.cpp 			drains_damage = std::max&lt;int&gt;(drains_damage, 1 - attacker.get_unit().hitpoints());</span>
<span class='curline'><a href='../S/896.html#L976'>attacker</a>          976 src/actions/attack.cpp 				attacker.loc_, defender.loc_, damage,</span>
<span class='curline'><a href='../S/896.html#L1036'>attacker</a>         1036 src/actions/attack.cpp 			attacker.get_unit().heal(drains_damage);</span>
<span class='curline'><a href='../S/896.html#L1038'>attacker</a>         1038 src/actions/attack.cpp 			attacker_dies = attacker.get_unit().take_hit(-drains_damage);</span>
<span class='curline'><a href='../S/896.html#L1042'>attacker</a>         1042 src/actions/attack.cpp 			unit_killed(attacker, defender, attacker_stats, defender_stats, false);</span>
<span class='curline'><a href='../S/896.html#L1046'>attacker</a>         1046 src/actions/attack.cpp 			unit_killed(defender, attacker, defender_stats, attacker_stats, true);</span>
<span class='curline'><a href='../S/896.html#L1074'>attacker</a>         1074 src/actions/attack.cpp 				attacker.n_attacks_ = 0;</span>
<span class='curline'><a href='../S/896.html#L1076'>attacker</a>         1076 src/actions/attack.cpp 				resources::game_events-&gt;pump().fire("petrified", defender.loc_, attacker.loc_);</span>
<span class='curline'><a href='../S/896.html#L1087'>attacker</a>         1087 src/actions/attack.cpp 		--attacker.n_attacks_;</span>
<span class='curline'><a href='../S/896.html#L1091'>attacker</a>         1091 src/actions/attack.cpp 	void attack::unit_killed(unit_info&amp; attacker, unit_info&amp; defender,</span>
<span class='curline'><a href='../S/896.html#L1096'>attacker</a>         1096 src/actions/attack.cpp 		attacker.xp_ = game_config::kill_xp(defender.get_unit().level());</span>
<span class='curline'><a href='../S/896.html#L1098'>attacker</a>         1098 src/actions/attack.cpp 		resources::screen-&gt;invalidate(attacker.loc_);</span>
<span class='curline'><a href='../S/896.html#L1101'>attacker</a>         1101 src/actions/attack.cpp 		game_events::entity_location attacker_loc(attacker.loc_, attacker.id_);</span>
<span class='curline'><a href='../S/896.html#L1108'>attacker</a>         1108 src/actions/attack.cpp 		config a_weapon_cfg = attacker_stats-&gt;weapon &amp;&amp; attacker.valid() ?</span>
<span class='curline'><a href='../S/896.html#L1127'>attacker</a>         1127 src/actions/attack.cpp 		if (!attacker.valid()) {</span>
<span class='curline'><a href='../S/896.html#L1133'>attacker</a>         1133 src/actions/attack.cpp 				attacker.loc_, &amp;attacker.get_unit());</span>
<span class='curline'><a href='../S/896.html#L1146'>attacker</a>         1146 src/actions/attack.cpp 		if (attacker.valid() &amp;&amp; attacker_stats-&gt;plagues &amp;&amp; !drain_killed)</span>
<span class='curline'><a href='../S/896.html#L1155'>attacker</a>         1155 src/actions/attack.cpp 				unit_ptr newunit(new unit(*reanimator, attacker.get_unit().side(), true, unit_race::MALE));</span>
<span class='curline'><a href='../S/896.html#L1336'>attacker</a>         1336 src/actions/attack.cpp 			config replay_results, unit_info&amp; attacker)</span>
<span class='curline'><a href='../S/896.html#L1356'>attacker</a>         1356 src/actions/attack.cpp 		if (results_chance != attacker.cth_)</span>
<span class='curline'><a href='../S/896.html#L1360'>attacker</a>         1360 src/actions/attack.cpp 				&lt;&lt; results_chance &lt;&lt; "; Calculation: " &lt;&lt; attacker.cth_</span>
<span class='curline'><a href='../S/896.html#L1362'>attacker</a>         1362 src/actions/attack.cpp 			attacker.cth_ = results_chance;</span>
<span class='curline'><a href='../S/896.html#L1393'>attacker</a>         1393 src/actions/attack.cpp void attack_unit(const map_location &amp;attacker, const map_location &amp;defender,</span>
<span class='curline'><a href='../S/896.html#L1396'>attacker</a>         1396 src/actions/attack.cpp 	attack dummy(attacker, defender, attack_with, defend_with, update_display);</span>
<span class='curline'><a href='../S/896.html#L1400'>attacker</a>         1400 src/actions/attack.cpp void attack_unit_and_advance(const map_location &amp;attacker, const map_location &amp;defender,</span>
<span class='curline'><a href='../S/896.html#L1404'>attacker</a>         1404 src/actions/attack.cpp 	attack_unit(attacker, defender, attack_with, defend_with, update_display);</span>
<span class='curline'><a href='../S/896.html#L1405'>attacker</a>         1405 src/actions/attack.cpp 	unit_map::const_iterator atku = resources::gameboard-&gt;units().find(attacker);</span>
<span class='curline'><a href='../S/896.html#L1407'>attacker</a>         1407 src/actions/attack.cpp 		advance_unit_at(advance_unit_params(attacker).ai_advancements(ai_advancement));</span>
<span class='curline'><a href='../S/899.html#L176'>attacker</a>          176 src/actions/attack.hpp 	int choose_attacker_weapon(const unit &amp;attacker, const unit &amp;defender,</span>
<span class='curline'><a href='../S/899.html#L182'>attacker</a>          182 src/actions/attack.hpp 	int choose_defender_weapon(const unit &amp;attacker, const unit &amp;defender,</span>
<span class='curline'><a href='../S/899.html#L196'>attacker</a>          196 src/actions/attack.hpp void attack_unit(const map_location &amp;attacker, const map_location &amp;defender,</span>
<span class='curline'><a href='../S/899.html#L200'>attacker</a>          200 src/actions/attack.hpp void attack_unit_and_advance(const map_location &amp;attacker, const map_location &amp;defender,</span>
<span class='curline'><a href='../S/233.html#L181'>attacker</a>          181 src/ai/actions.cpp 	const unit_map::const_iterator attacker = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/233.html#L184'>attacker</a>          184 src/ai/actions.cpp 	if(attacker==resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/233.html#L198'>attacker</a>          198 src/ai/actions.cpp 	if(attacker-&gt;incapacitated()) {</span>
<span class='curline'><a href='../S/233.html#L210'>attacker</a>          210 src/ai/actions.cpp 	if(!attacker-&gt;attacks_left()) {</span>
<span class='curline'><a href='../S/233.html#L216'>attacker</a>          216 src/ai/actions.cpp 	if(attacker-&gt;side()!=get_side()) {</span>
<span class='curline'><a href='../S/233.html#L229'>attacker</a>          229 src/ai/actions.cpp 		if ((attacker_weapon_&lt;0)||(attacker_weapon_ &gt;= static_cast&lt;int&gt;(attacker-&gt;attacks().size()))) {</span>
<span class='curline'><a href='../S/247.html#L1057'>attacker</a>         1057 src/ai/default/recruitment.cpp 	attack_simulation(const unit_type* attacker, const unit_type* defender,</span>
<span class='curline'><a href='../S/247.html#L1061'>attacker</a>         1061 src/ai/default/recruitment.cpp 			attacker_type(attacker),</span>
<span class='curline'><a href='../S/247.html#L1063'>attacker</a>         1063 src/ai/default/recruitment.cpp 			attacker_stats(attacker, att_weapon, true, defender, def_weapon,</span>
<span class='curline'><a href='../S/247.html#L1065'>attacker</a>         1065 src/ai/default/recruitment.cpp 			defender_stats(defender, def_weapon, false, attacker, att_weapon,</span>
<span class='curline'><a href='../S/247.html#L1093'>attacker</a>         1093 src/ai/default/recruitment.cpp 	double get_avg_hp_of_combatant(bool attacker) const {</span>
<span class='curline'><a href='../S/247.html#L1094'>attacker</a>         1094 src/ai/default/recruitment.cpp 		const combatant&amp; combatant = (attacker) ? attacker_combatant : defender_combatant;</span>
<span class='curline'><a href='../S/247.html#L1095'>attacker</a>         1095 src/ai/default/recruitment.cpp 		const unit_type* unit_type = (attacker) ? attacker_type : defender_type;</span>
<span class='curline'><a href='../S/247.html#L1113'>attacker</a>         1113 src/ai/default/recruitment.cpp 			const unit_type* const attacker, const unit_type* const defender,</span>
<span class='curline'><a href='../S/247.html#L1116'>attacker</a>         1116 src/ai/default/recruitment.cpp 	if(!attacker || !defender || !damage_to_attacker || !damage_to_defender) {</span>
<span class='curline'><a href='../S/247.html#L1120'>attacker</a>         1120 src/ai/default/recruitment.cpp 	const_attack_itors attacker_weapons = attacker-&gt;attacks();</span>
<span class='curline'><a href='../S/247.html#L1134'>attacker</a>         1134 src/ai/default/recruitment.cpp 					attacker, defender,</span>
<span class='curline'><a href='../S/247.html#L1145'>attacker</a>         1145 src/ai/default/recruitment.cpp 					attacker, defender,</span>
<span class='curline'><a href='../S/247.html#L1159'>attacker</a>         1159 src/ai/default/recruitment.cpp 	*damage_to_attacker += (attacker-&gt;hitpoints() - best_att_attack-&gt;get_avg_hp_of_attacker());</span>
<span class='curline'><a href='../S/236.html#L220'>attacker</a>          220 src/ai/default/recruitment.hpp 			const unit_type* const attacker, const unit_type* const defender,</span>
<span class='curline'><a href='../S/253.html#L1538'>attacker</a>         1538 src/ai/formula/function_table.cpp 	std::pair&lt;int, int&gt; best_melee_and_ranged_attacks(unit_adapter attacker, unit_adapter defender) const {</span>
<span class='curline'><a href='../S/253.html#L1542'>attacker</a>         1542 src/ai/formula/function_table.cpp 		for (const attack_type &amp;attack : attacker.attacks()) {</span>
<span class='curline'><a href='../S/253.html#L1562'>attacker</a>         1562 src/ai/formula/function_table.cpp 		unit_adapter attacker(u1);</span>
<span class='curline'><a href='../S/253.html#L1566'>attacker</a>         1566 src/ai/formula/function_table.cpp 		std::pair&lt;int, int&gt; best_attacker_attacks = best_melee_and_ranged_attacks(attacker, defender);</span>
<span class='curline'><a href='../S/253.html#L1567'>attacker</a>         1567 src/ai/formula/function_table.cpp 		std::pair&lt;int, int&gt; best_defender_attacks = best_melee_and_ranged_attacks(defender, attacker);</span>
<span class='curline'><a href='../S/293.html#L208'>attacker</a>          208 src/ai/lua/core.cpp 	map_location attacker = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/293.html#L230'>attacker</a>          230 src/ai/lua/core.cpp 	ai::attack_result_ptr attack_result = ai::actions::execute_attack_action(side,exec,attacker,defender,attacker_weapon,aggression,advancements);</span>
<span class='curline'><a href='../S/428.html#L51'>attacker</a>           51 src/gui/dialogs/attack_predictions.cpp attack_predictions::attack_predictions(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender)</span>
<span class='curline'><a href='../S/428.html#L52'>attacker</a>           52 src/gui/dialogs/attack_predictions.cpp 	: attacker_data_(attacker, bc.get_attacker_combatant(), bc.get_attacker_stats())</span>
<span class='curline'><a href='../S/428.html#L76'>attacker</a>           76 src/gui/dialogs/attack_predictions.cpp void attack_predictions::set_data(window&amp; window, const combatant_data&amp; attacker, const combatant_data&amp; defender)</span>
<span class='curline'><a href='../S/428.html#L79'>attacker</a>           79 src/gui/dialogs/attack_predictions.cpp 	const std::string widget_id_prefix = attacker.stats_.is_attacker ? "attacker" : "defender";</span>
<span class='curline'><a href='../S/428.html#L102'>attacker</a>          102 src/gui/dialogs/attack_predictions.cpp 	const color_t ndc_color = game_config::red_to_green(attacker.combatant_.untouched * 100);</span>
<span class='curline'><a href='../S/428.html#L104'>attacker</a>          104 src/gui/dialogs/attack_predictions.cpp 	ss &lt;&lt; font::span_color(ndc_color) &lt;&lt; get_probability_string(attacker.combatant_.untouched) &lt;&lt; "&lt;/span&gt;";</span>
<span class='curline'><a href='../S/428.html#L109'>attacker</a>          109 src/gui/dialogs/attack_predictions.cpp 	draw_hp_graph(graph_widget, attacker, defender);</span>
<span class='curline'><a href='../S/428.html#L115'>attacker</a>          115 src/gui/dialogs/attack_predictions.cpp 	if(!attacker.stats_.weapon) {</span>
<span class='curline'><a href='../S/428.html#L129'>attacker</a>          129 src/gui/dialogs/attack_predictions.cpp 	const_attack_ptr weapon = attacker.stats_.weapon;</span>
<span class='curline'><a href='../S/428.html#L130'>attacker</a>          130 src/gui/dialogs/attack_predictions.cpp 	weapon-&gt;set_specials_context(attacker.unit_.get_location(), defender.unit_.get_location(), attacker.stats_.is_attacker, defender.stats_.weapon);</span>
<span class='curline'><a href='../S/428.html#L134'>attacker</a>          134 src/gui/dialogs/attack_predictions.cpp 	unit_abilities::effect dmg_effect(dmg_specials, weapon-&gt;damage(), attacker.stats_.backstab_pos);</span>
<span class='curline'><a href='../S/428.html#L185'>attacker</a>          185 src/gui/dialogs/attack_predictions.cpp 	const int resistance_modifier = defender.unit_.damage_from(*weapon, !attacker.stats_.is_attacker, defender.unit_.get_location());</span>
<span class='curline'><a href='../S/428.html#L187'>attacker</a>          187 src/gui/dialogs/attack_predictions.cpp 		if(attacker.stats_.is_attacker) {</span>
<span class='curline'><a href='../S/428.html#L208'>attacker</a>          208 src/gui/dialogs/attack_predictions.cpp 	const unit&amp; u = attacker.unit_;</span>
<span class='curline'><a href='../S/428.html#L220'>attacker</a>          220 src/gui/dialogs/attack_predictions.cpp 	const int leadership_bonus = under_leadership(resources::gameboard-&gt;units(), attacker.unit_.get_location()).first;</span>
<span class='curline'><a href='../S/428.html#L229'>attacker</a>          229 src/gui/dialogs/attack_predictions.cpp 	if(attacker.stats_.is_slowed) {</span>
<span class='curline'><a href='../S/428.html#L239'>attacker</a>          239 src/gui/dialogs/attack_predictions.cpp 	if(attacker.stats_.damage &gt; base_damage) {</span>
<span class='curline'><a href='../S/428.html#L241'>attacker</a>          241 src/gui/dialogs/attack_predictions.cpp 	} else if(attacker.stats_.damage &lt; base_damage) {</span>
<span class='curline'><a href='../S/428.html#L245'>attacker</a>          245 src/gui/dialogs/attack_predictions.cpp 	ss &lt;&lt; font::span_color(dmg_color) &lt;&lt; attacker.stats_.damage &lt;&lt; "&lt;/span&gt;"</span>
<span class='curline'><a href='../S/428.html#L246'>attacker</a>          246 src/gui/dialogs/attack_predictions.cpp 	   &lt;&lt; font::weapon_numbers_sep    &lt;&lt; attacker.stats_.num_blows;</span>
<span class='curline'><a href='../S/428.html#L251'>attacker</a>          251 src/gui/dialogs/attack_predictions.cpp 	const color_t cth_color = game_config::red_to_green(attacker.stats_.chance_to_hit);</span>
<span class='curline'><a href='../S/428.html#L254'>attacker</a>          254 src/gui/dialogs/attack_predictions.cpp 	ss &lt;&lt; font::span_color(cth_color) &lt;&lt; attacker.stats_.chance_to_hit &lt;&lt; "%&lt;/span&gt;";</span>
<span class='curline'><a href='../S/428.html#L259'>attacker</a>          259 src/gui/dialogs/attack_predictions.cpp void attack_predictions::draw_hp_graph(drawing&amp; hp_graph, const combatant_data&amp; attacker, const combatant_data&amp; defender)</span>
<span class='curline'><a href='../S/428.html#L285'>attacker</a>          285 src/gui/dialogs/attack_predictions.cpp 	for(const auto&amp; probability : get_hitpoint_probabilities(attacker.combatant_.hp_dist)) {</span>
<span class='curline'><a href='../S/428.html#L299'>attacker</a>          299 src/gui/dialogs/attack_predictions.cpp 		else if(hp &lt; static_cast&lt;int&gt;(attacker.stats_.hp)) {</span>
<span class='curline'><a href='../S/429.html#L41'>attacker</a>           41 src/gui/dialogs/attack_predictions.hpp 	attack_predictions(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender);</span>
<span class='curline'><a href='../S/429.html#L43'>attacker</a>           43 src/gui/dialogs/attack_predictions.hpp 	static void display(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender, CVideo&amp; video)</span>
<span class='curline'><a href='../S/429.html#L45'>attacker</a>           45 src/gui/dialogs/attack_predictions.hpp 		attack_predictions(bc, attacker, defender).show(video);</span>
<span class='curline'><a href='../S/429.html#L68'>attacker</a>           68 src/gui/dialogs/attack_predictions.hpp 	void set_data(window&amp; window, const combatant_data&amp; attacker, const combatant_data&amp; defender);</span>
<span class='curline'><a href='../S/429.html#L76'>attacker</a>           76 src/gui/dialogs/attack_predictions.hpp 	void draw_hp_graph(drawing&amp; hp_graph, const combatant_data&amp; attacker, const combatant_data&amp; defender);</span>
<span class='curline'><a href='../S/460.html#L117'>attacker</a>          117 src/gui/dialogs/unit_attack.cpp 		const battle_context_unit_stats&amp; attacker = weapon.get_attacker_stats();</span>
<span class='curline'><a href='../S/460.html#L121'>attacker</a>          121 src/gui/dialogs/unit_attack.cpp 			*attacker.weapon;</span>
<span class='curline'><a href='../S/460.html#L130'>attacker</a>          130 src/gui/dialogs/unit_attack.cpp 		const color_t a_cth_color = game_config::red_to_green(attacker.chance_to_hit);</span>
<span class='curline'><a href='../S/460.html#L150'>attacker</a>          150 src/gui/dialogs/unit_attack.cpp 			&lt;&lt; attacker.damage &lt;&lt; font::weapon_numbers_sep &lt;&lt; attacker.num_blows</span>
<span class='curline'><a href='../S/460.html#L152'>attacker</a>          152 src/gui/dialogs/unit_attack.cpp 			&lt;&lt; font::span_color(a_cth_color) &lt;&lt; attacker.chance_to_hit &lt;&lt; "%&lt;/span&gt;";</span>
<span class='curline'><a href='../S/955.html#L898'>attacker</a>          898 src/mouse_events.cpp int mouse_handler::fill_weapon_choices(std::vector&lt;battle_context&gt;&amp; bc_vector, unit_map::iterator attacker, unit_map::iterator defender)</span>
<span class='curline'><a href='../S/955.html#L901'>attacker</a>          901 src/mouse_events.cpp 	for (unsigned int i = 0; i &lt; attacker-&gt;attacks().size(); i++) {</span>
<span class='curline'><a href='../S/955.html#L903'>attacker</a>          903 src/mouse_events.cpp 		if (attacker-&gt;attacks()[i].attack_weight() &gt; 0) {</span>
<span class='curline'><a href='../S/955.html#L904'>attacker</a>          904 src/mouse_events.cpp 			battle_context bc(pc_.gamestate().board_.units_, attacker-&gt;get_location(), defender-&gt;get_location(), i);</span>
<span class='curline'><a href='../S/955.html#L919'>attacker</a>          919 src/mouse_events.cpp 	unit_map::iterator attacker = board.units_.find(attacker_loc);</span>
<span class='curline'><a href='../S/955.html#L921'>attacker</a>          921 src/mouse_events.cpp 	if(!attacker || !defender) {</span>
<span class='curline'><a href='../S/955.html#L927'>attacker</a>          927 src/mouse_events.cpp 	const int best = fill_weapon_choices(bc_vector, attacker, defender);</span>
<span class='curline'><a href='../S/955.html#L933'>attacker</a>          933 src/mouse_events.cpp 	if((*attacker).attacks().empty() || all_disabled) {</span>
<span class='curline'><a href='../S/955.html#L941'>attacker</a>          941 src/mouse_events.cpp 			  attacker</span>
<span class='curline'><a href='../S/955.html#L974'>attacker</a>          974 src/mouse_events.cpp 	unit_map::iterator attacker = find_unit(attacker_loc);</span>
<span class='curline'><a href='../S/955.html#L975'>attacker</a>          975 src/mouse_events.cpp 	if(!attacker</span>
<span class='curline'><a href='../S/955.html#L976'>attacker</a>          976 src/mouse_events.cpp 			|| attacker-&gt;side() != side_num_</span>
<span class='curline'><a href='../S/955.html#L977'>attacker</a>          977 src/mouse_events.cpp 			|| attacker-&gt;incapacitated())</span>
<span class='curline'><a href='../S/955.html#L987'>attacker</a>          987 src/mouse_events.cpp 	fill_weapon_choices(bc_vector, attacker, defender);</span>
<span class='curline'><a href='../S/955.html#L997'>attacker</a>          997 src/mouse_events.cpp 	attacker-&gt;set_goto(map_location());</span>
<span class='curline'><a href='../S/955.html#L1015'>attacker</a>         1015 src/mouse_events.cpp 		attacker-&gt;type_id(), defender-&gt;type_id(), att.level,</span>
<span class='curline'><a href='../S/17.html#L112'>attacker</a>          112 src/mouse_events.hpp 	int fill_weapon_choices(std::vector&lt;battle_context&gt;&amp; bc_vector, unit_map::iterator attacker, unit_map::iterator defender);</span>
<span class='curline'><a href='../S/762.html#L844'>attacker</a>          844 src/reports.cpp static config unit_weapons(reports::context &amp; rc, const unit *attacker, const map_location &amp;attacker_pos, const unit *defender, bool show_attacker)</span>
<span class='curline'><a href='../S/762.html#L846'>attacker</a>          846 src/reports.cpp 	if (!attacker || !defender) return config();</span>
<span class='curline'><a href='../S/762.html#L848'>attacker</a>          848 src/reports.cpp 	const unit* u = show_attacker ? attacker : defender;</span>
<span class='curline'><a href='../S/762.html#L855'>attacker</a>          855 src/reports.cpp 	for (unsigned int i = 0; i &lt; attacker-&gt;attacks().size(); i++) {</span>
<span class='curline'><a href='../S/762.html#L857'>attacker</a>          857 src/reports.cpp 		if (attacker-&gt;attacks()[i].attack_weight() &gt; 0) {</span>
<span class='curline'><a href='../S/762.html#L858'>attacker</a>          858 src/reports.cpp 			battle_context weapon(rc.units(), attacker_pos, defender-&gt;get_location(), i, -1, 0.0, nullptr, attacker);</span>
<span class='curline'><a href='../S/997.html#L775'>attacker</a>          775 src/units/types.cpp int unit_type::resistance_against(const std::string&amp; damage_name, bool attacker) const</span>
<span class='curline'><a href='../S/997.html#L784'>attacker</a>          784 src/units/types.cpp 			if (!resistance_filter_matches(cfg, attacker, damage_name, 100 - resistance)) {</span>
<span class='curline'><a href='../S/997.html#L798'>attacker</a>          798 src/units/types.cpp bool unit_type::resistance_filter_matches(const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const</span>
<span class='curline'><a href='../S/997.html#L800'>attacker</a>          800 src/units/types.cpp 	if(!(cfg["active_on"].empty() || (attacker &amp;&amp; cfg["active_on"]=="offense") || (!attacker &amp;&amp; cfg["active_on"]=="defense"))) {</span>
<span class='curline'><a href='../S/1015.html#L235'>attacker</a>          235 src/units/types.hpp 	int resistance_against(const std::string&amp; damage_name, bool attacker) const;</span>
<span class='curline'><a href='../S/1015.html#L242'>attacker</a>          242 src/units/types.hpp 	bool resistance_filter_matches(const config&amp; cfg,bool attacker,const std::string&amp; damage_name, int res) const;</span>
<span class='curline'><a href='../S/990.html#L498'>attacker</a>          498 src/units/udisplay.cpp void reset_helpers(const unit *attacker,const unit *defender);</span>
<span class='curline'><a href='../S/990.html#L500'>attacker</a>          500 src/units/udisplay.cpp void unit_draw_weapon(const map_location&amp; loc, unit&amp; attacker,</span>
<span class='curline'><a href='../S/990.html#L508'>attacker</a>          508 src/units/udisplay.cpp 	attacker.set_facing(loc.get_relative_dir(defender_loc));</span>
<span class='curline'><a href='../S/990.html#L510'>attacker</a>          510 src/units/udisplay.cpp 	animator.add_animation(&amp;attacker,"draw_weapon",loc,defender_loc,0,false,"",{0,0,0},unit_animation::hit_type::HIT,attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/990.html#L591'>attacker</a>          591 src/units/udisplay.cpp 	const unit&amp; attacker = *att;</span>
<span class='curline'><a href='../S/990.html#L604'>attacker</a>          604 src/units/udisplay.cpp 	unit_ability_list leaders = attacker.get_abilities("leadership");</span>
<span class='curline'><a href='../S/990.html#L618'>attacker</a>          618 src/units/udisplay.cpp 	animator.add_animation(&amp;attacker, "attack", att-&gt;get_location(),</span>
<span class='curline'><a href='../S/990.html#L680'>attacker</a>          680 src/units/udisplay.cpp void reset_helpers(const unit *attacker,const unit *defender)</span>
<span class='curline'><a href='../S/990.html#L684'>attacker</a>          684 src/units/udisplay.cpp 	if(attacker) {</span>
<span class='curline'><a href='../S/990.html#L685'>attacker</a>          685 src/units/udisplay.cpp 		unit_ability_list leaders = attacker-&gt;get_abilities("leadership");</span>
<span class='curline'><a href='../S/1008.html#L1547'>attacker</a>         1547 src/units/unit.cpp bool unit::resistance_filter_matches(const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const</span>
<span class='curline'><a href='../S/1008.html#L1549'>attacker</a>         1549 src/units/unit.cpp 	if(!(cfg["active_on"].empty() || (attacker &amp;&amp; cfg["active_on"] == "offense") || (!attacker &amp;&amp; cfg["active_on"] == "defense"))) {</span>
<span class='curline'><a href='../S/1008.html#L1575'>attacker</a>         1575 src/units/unit.cpp int unit::resistance_against(const std::string&amp; damage_name,bool attacker,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1008.html#L1581'>attacker</a>         1581 src/units/unit.cpp 		if(!resistance_filter_matches(*i-&gt;first, attacker, damage_name, 100-res)) {</span>
<span class='curline'><a href='../S/989.html#L806'>attacker</a>          806 src/units/unit.hpp 	int damage_from(const attack_type&amp; attack, bool attacker, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/989.html#L808'>attacker</a>          808 src/units/unit.hpp 		return resistance_against(attack, attacker, loc);</span>
<span class='curline'><a href='../S/989.html#L848'>attacker</a>          848 src/units/unit.hpp 	int resistance_against(const std::string&amp; damage_name, bool attacker, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/989.html#L856'>attacker</a>          856 src/units/unit.hpp 	int resistance_against(const attack_type&amp; atk, bool attacker, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/989.html#L858'>attacker</a>          858 src/units/unit.hpp 		return resistance_against(atk.type(), attacker, loc);</span>
<span class='curline'><a href='../S/989.html#L868'>attacker</a>          868 src/units/unit.hpp 	bool resistance_filter_matches(const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const;</span>
<span class='curline'><a href='../S/1347.html#L56'>attacker</a>           56 utils/wesnoth-attack-sim.c static void strike(struct unit *attacker, struct unit *defender)</span>
<span class='curline'><a href='../S/1347.html#L58'>attacker</a>           58 utils/wesnoth-attack-sim.c 	unsigned damage = attacker-&gt;damage;</span>
<span class='curline'><a href='../S/1347.html#L60'>attacker</a>           60 utils/wesnoth-attack-sim.c 	if (!hits(attacker-&gt;hit_chance))</span>
<span class='curline'><a href='../S/1347.html#L65'>attacker</a>           65 utils/wesnoth-attack-sim.c 	if (attacker-&gt;slows &amp;&amp; !defender-&gt;slowed) {</span>
<span class='curline'><a href='../S/1347.html#L69'>attacker</a>           69 utils/wesnoth-attack-sim.c 	if (attacker-&gt;drains) {</span>
<span class='curline'><a href='../S/1347.html#L70'>attacker</a>           70 utils/wesnoth-attack-sim.c 		attacker-&gt;hp += damage/2;</span>
<span class='curline'><a href='../S/1347.html#L71'>attacker</a>           71 utils/wesnoth-attack-sim.c 		if (attacker-&gt;hp &gt; attacker-&gt;max_hp)</span>
<span class='curline'><a href='../S/1347.html#L72'>attacker</a>           72 utils/wesnoth-attack-sim.c 			attacker-&gt;hp = attacker-&gt;max_hp;</span>
<span class='curline'><a href='../S/1347.html#L423'>attacker</a>          423 utils/wesnoth-attack-sim.c 	const struct unit *def, *attacker[argc / 4 + 1];</span>
<span class='curline'><a href='../S/1347.html#L436'>attacker</a>          436 utils/wesnoth-attack-sim.c 		attacker[i] = parse_unit(&amp;argv);</span>
<span class='curline'><a href='../S/1347.html#L437'>attacker</a>          437 utils/wesnoth-attack-sim.c 		res_att[i] = (double *)calloc(sizeof(double), attacker[i]-&gt;max_hp+1);</span>
<span class='curline'><a href='../S/1347.html#L439'>attacker</a>          439 utils/wesnoth-attack-sim.c 	attacker[i] = NULL;</span>
<span class='curline'><a href='../S/1347.html#L443'>attacker</a>          443 utils/wesnoth-attack-sim.c 			 attacker, res_att, i, 10000);</span>
<span class='curline'><a href='../S/1347.html#L445'>attacker</a>          445 utils/wesnoth-attack-sim.c 	for (i = 0; attacker[i]; i++)</span>
<span class='curline'><a href='../S/1347.html#L446'>attacker</a>          446 utils/wesnoth-attack-sim.c 		draw_results(res_att[i], attacker[i], att_touched[i],</span>
</pre>
</body>
</html>
