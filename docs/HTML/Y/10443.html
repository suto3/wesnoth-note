<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>gameboard</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/893.html#L59'>gameboard</a>          59 src/actions/advancement.cpp 		const unit&amp; u = *resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L97'>gameboard</a>          97 src/actions/advancement.cpp 		unit_map::iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L98'>gameboard</a>          98 src/actions/advancement.cpp 		if (u == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/893.html#L136'>gameboard</a>         136 src/actions/advancement.cpp 		u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L139'>gameboard</a>         139 src/actions/advancement.cpp 		if (animate &amp;&amp; u != resources::gameboard-&gt;units().end() &amp;&amp; !resources::screen-&gt;video().update_locked()) {</span>
<span class='curline'><a href='../S/893.html#L172'>gameboard</a>         172 src/actions/advancement.cpp 			team t = resources::gameboard-&gt;get_team(side_num_);</span>
<span class='curline'><a href='../S/893.html#L192'>gameboard</a>         192 src/actions/advancement.cpp 					unit_map::iterator u = resources::gameboard-&gt;units().find(loc_);</span>
<span class='curline'><a href='../S/893.html#L246'>gameboard</a>         246 src/actions/advancement.cpp 		unit_map::iterator u = resources::gameboard-&gt;units().find(params.loc_);</span>
<span class='curline'><a href='../S/893.html#L257'>gameboard</a>         257 src/actions/advancement.cpp 			u = resources::gameboard-&gt;units().find(params.loc_);</span>
<span class='curline'><a href='../S/893.html#L272'>gameboard</a>         272 src/actions/advancement.cpp 		u = resources::gameboard-&gt;units().find(params.loc_);</span>
<span class='curline'><a href='../S/893.html#L316'>gameboard</a>         316 src/actions/advancement.cpp 	unit_map::unit_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L355'>gameboard</a>         355 src/actions/advancement.cpp 	resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/893.html#L356'>gameboard</a>         356 src/actions/advancement.cpp 	u = resources::gameboard-&gt;units().insert(new_unit).first;</span>
<span class='curline'><a href='../S/895.html#L124'>gameboard</a>         124 src/actions/attack.cpp 		backstab_pos = is_attacker &amp;&amp; backstab_check(u_loc, opp_loc, units, resources::gameboard-&gt;teams());</span>
<span class='curline'><a href='../S/895.html#L136'>gameboard</a>         136 src/actions/attack.cpp 			strcmp(opp.undead_variation().c_str(), "null") &amp;&amp; !resources::gameboard-&gt;map().is_village(opp_loc);</span>
<span class='curline'><a href='../S/895.html#L146'>gameboard</a>         146 src/actions/attack.cpp 			resources::gameboard-&gt;map().get_terrain(opp_loc)) + weapon-&gt;accuracy() -</span>
<span class='curline'><a href='../S/895.html#L167'>gameboard</a>         167 src/actions/attack.cpp 		damage_multiplier += combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(), u_loc, u.alignment(), u.is_fearless());</span>
<span class='curline'><a href='../S/895.html#L810'>gameboard</a>         810 src/actions/attack.cpp 		a_(attacker, attack_with, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/895.html#L811'>gameboard</a>         811 src/actions/attack.cpp 		d_(defender, defend_with, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/895.html#L812'>gameboard</a>         812 src/actions/attack.cpp 		units_(resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/895.html#L855'>gameboard</a>         855 src/actions/attack.cpp 		if(!a_.valid() || !d_.valid() || !resources::gameboard-&gt;get_team(a_.get_unit().side()).is_enemy(d_.get_unit().side())) {</span>
<span class='curline'><a href='../S/895.html#L975'>gameboard</a>         975 src/actions/attack.cpp 			unit_display::unit_attack(game_display::get_singleton(), *resources::gameboard,</span>
<span class='curline'><a href='../S/895.html#L1405'>gameboard</a>        1405 src/actions/attack.cpp 	unit_map::const_iterator atku = resources::gameboard-&gt;units().find(attacker);</span>
<span class='curline'><a href='../S/895.html#L1406'>gameboard</a>        1406 src/actions/attack.cpp 	if (atku != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/895.html#L1410'>gameboard</a>        1410 src/actions/attack.cpp 	unit_map::const_iterator defu = resources::gameboard-&gt;units().find(defender);</span>
<span class='curline'><a href='../S/895.html#L1411'>gameboard</a>        1411 src/actions/attack.cpp 	if (defu != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/903.html#L60'>gameboard</a>          60 src/actions/create.cpp 	const team &amp; current_team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/903.html#L66'>gameboard</a>          66 src/actions/create.cpp 	unit_map::const_iterator u = resources::gameboard-&gt;units().begin(),</span>
<span class='curline'><a href='../S/903.html#L67'>gameboard</a>          67 src/actions/create.cpp 			u_end = resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/903.html#L70'>gameboard</a>          70 src/actions/create.cpp 	bool allow_local = resources::gameboard-&gt;map().is_castle(recruit_loc);</span>
<span class='curline'><a href='../S/903.html#L75'>gameboard</a>          75 src/actions/create.cpp 	unit_map::const_iterator find_it = resources::gameboard-&gt;units().find(recruit_loc);</span>
<span class='curline'><a href='../S/903.html#L78'>gameboard</a>          78 src/actions/create.cpp 		     resources::gameboard-&gt;map().is_keep(recruit_loc) )</span>
<span class='curline'><a href='../S/903.html#L86'>gameboard</a>          86 src/actions/create.cpp 		else if ( find_it-&gt;is_visible_to_team(current_team, *resources::gameboard, false) )</span>
<span class='curline'><a href='../S/903.html#L132'>gameboard</a>         132 src/actions/create.cpp 		const team&amp; leader_team = resources::gameboard-&gt;get_team(leader-&gt;side());</span>
<span class='curline'><a href='../S/903.html#L172'>gameboard</a>         172 src/actions/create.cpp 	bool allow_local = resources::gameboard-&gt;map().is_castle(recall_loc);</span>
<span class='curline'><a href='../S/903.html#L177'>gameboard</a>         177 src/actions/create.cpp 	const unit_map::const_iterator find_it = resources::gameboard-&gt;units().find(recall_loc);</span>
<span class='curline'><a href='../S/903.html#L178'>gameboard</a>         178 src/actions/create.cpp 	if ( find_it != resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/903.html#L180'>gameboard</a>         180 src/actions/create.cpp 		     resources::gameboard-&gt;map().is_keep(recall_loc) )</span>
<span class='curline'><a href='../S/903.html#L187'>gameboard</a>         187 src/actions/create.cpp 		else if ( find_it-&gt;is_visible_to_team(resources::gameboard-&gt;get_team(side), *resources::gameboard, false) )</span>
<span class='curline'><a href='../S/903.html#L196'>gameboard</a>         196 src/actions/create.cpp 		unit_map::const_iterator u = resources::gameboard-&gt;units().begin(),</span>
<span class='curline'><a href='../S/903.html#L197'>gameboard</a>         197 src/actions/create.cpp 				u_end = resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/903.html#L218'>gameboard</a>         218 src/actions/create.cpp 		for(auto u = resources::gameboard-&gt;units().begin(); u != resources::gameboard-&gt;units().end(); ++u) {</span>
<span class='curline'><a href='../S/903.html#L247'>gameboard</a>         247 src/actions/create.cpp 		team&amp; recall_team = (*resources::gameboard).get_team(recaller.side());</span>
<span class='curline'><a href='../S/903.html#L256'>gameboard</a>         256 src/actions/create.cpp 		if ( !resources::gameboard-&gt;map().is_keep(recaller.get_location()) )</span>
<span class='curline'><a href='../S/903.html#L280'>gameboard</a>         280 src/actions/create.cpp 	const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L287'>gameboard</a>         287 src/actions/create.cpp 	if ( resources::gameboard-&gt;units().count(recall_location) != 0 )</span>
<span class='curline'><a href='../S/903.html#L386'>gameboard</a>         386 src/actions/create.cpp 		if ( !resources::gameboard-&gt;map().is_keep(recruiter.get_location()) )</span>
<span class='curline'><a href='../S/903.html#L410'>gameboard</a>         410 src/actions/create.cpp 	const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L418'>gameboard</a>         418 src/actions/create.cpp 	if ( resources::gameboard-&gt;units().count(recruit_location) != 0 )</span>
<span class='curline'><a href='../S/903.html#L423'>gameboard</a>         423 src/actions/create.cpp 	if ( utils::contains(resources::gameboard-&gt;get_team(side).recruits(), unit_type) )</span>
<span class='curline'><a href='../S/903.html#L539'>gameboard</a>         539 src/actions/create.cpp 		const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L567'>gameboard</a>         567 src/actions/create.cpp 			un_it = resources::gameboard-&gt;units().find(current_loc);</span>
<span class='curline'><a href='../S/903.html#L568'>gameboard</a>         568 src/actions/create.cpp 			if ( un_it == resources::gameboard-&gt;units().end() )</span>
<span class='curline'><a href='../S/903.html#L580'>gameboard</a>         580 src/actions/create.cpp 		const gamemap *map = &amp; resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/903.html#L581'>gameboard</a>         581 src/actions/create.cpp 		const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L587'>gameboard</a>         587 src/actions/create.cpp 			if (resources::gameboard-&gt;get_team(unit_itor-&gt;side()).is_enemy(new_unit.side()) &amp;&amp;</span>
<span class='curline'><a href='../S/903.html#L588'>gameboard</a>         588 src/actions/create.cpp 				unit_itor-&gt;is_visible_to_team(resources::gameboard-&gt;get_team(new_unit.side()), *resources::gameboard, false)) {</span>
<span class='curline'><a href='../S/903.html#L630'>gameboard</a>         630 src/actions/create.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().insert(u);</span>
<span class='curline'><a href='../S/903.html#L654'>gameboard</a>         654 src/actions/create.cpp 	resources::gameboard-&gt;get_team(u-&gt;side()).spend_gold(cost);</span>
<span class='curline'><a href='../S/903.html#L667'>gameboard</a>         667 src/actions/create.cpp 	if ( resources::gameboard-&gt;map().is_village(current_loc) ) {</span>
<span class='curline'><a href='../S/903.html#L668'>gameboard</a>         668 src/actions/create.cpp 		std::get&lt;1&gt;(res) = resources::gameboard-&gt;village_owner(current_loc) + 1;</span>
<span class='curline'><a href='../S/876.html#L85'>gameboard</a>          85 src/actions/heal.cpp 		const std::vector&lt;team&gt; &amp;teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/876.html#L86'>gameboard</a>          86 src/actions/heal.cpp 		unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/876.html#L94'>gameboard</a>          94 src/actions/heal.cpp 			if ( resources::gameboard-&gt;map().gives_healing(patient.get_location()) )</span>
<span class='curline'><a href='../S/876.html#L181'>gameboard</a>         181 src/actions/heal.cpp 		unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/876.html#L191'>gameboard</a>         191 src/actions/heal.cpp 			               resources::gameboard-&gt;map().gives_healing(patient.get_location()));</span>
<span class='curline'><a href='../S/876.html#L299'>gameboard</a>         299 src/actions/heal.cpp 	for (unit &amp;patient : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/876.html#L350'>gameboard</a>         350 src/actions/heal.cpp 			resources::gameboard-&gt;teams()[resources::screen-&gt;viewing_team()];</span>
<span class='curline'><a href='../S/876.html#L352'>gameboard</a>         352 src/actions/heal.cpp 		    patient.is_visible_to_team(viewing_team, *resources::gameboard, false) )</span>
<span class='curline'><a href='../S/900.html#L141'>gameboard</a>         141 src/actions/move.cpp 	std::vector&lt;team&gt; &amp;teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/900.html#L147'>gameboard</a>         147 src/actions/move.cpp 	bool not_defeated = t &amp;&amp; !resources::gameboard-&gt;team_is_defeated(*t);</span>
<span class='curline'><a href='../S/900.html#L360'>gameboard</a>         360 src/actions/move.cpp 		move_it_(resources::gameboard-&gt;units().find(*begin_)),</span>
<span class='curline'><a href='../S/900.html#L361'>gameboard</a>         361 src/actions/move.cpp 		orig_side_(( assert(move_it_ != resources::gameboard-&gt;units().end()),</span>
<span class='curline'><a href='../S/900.html#L367'>gameboard</a>         367 src/actions/move.cpp 		current_team_(&amp;resources::gameboard-&gt;get_team(current_side_)),</span>
<span class='curline'><a href='../S/900.html#L421'>gameboard</a>         421 src/actions/move.cpp 		const unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/900.html#L432'>gameboard</a>         432 src/actions/move.cpp 			     neighbor_it-&gt;invisible(adjacent[i], *resources::gameboard) )</span>
<span class='curline'><a href='../S/900.html#L452'>gameboard</a>         452 src/actions/move.cpp 		const unit_map::const_iterator blocking_unit = resources::gameboard-&gt;units().find(hex);</span>
<span class='curline'><a href='../S/900.html#L455'>gameboard</a>         455 src/actions/move.cpp 		if (blocking_unit == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/900.html#L529'>gameboard</a>         529 src/actions/move.cpp 			resources::gameboard-&gt;units().move(*move_loc_, *step_to);</span>
<span class='curline'><a href='../S/900.html#L598'>gameboard</a>         598 src/actions/move.cpp 		return !resources::gameboard-&gt;map().is_village(hex) ||</span>
<span class='curline'><a href='../S/900.html#L635'>gameboard</a>         635 src/actions/move.cpp 		const unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/900.html#L756'>gameboard</a>         756 src/actions/move.cpp 		const gamemap &amp;map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/900.html#L769'>gameboard</a>         769 src/actions/move.cpp 			if ( !move_it_-&gt;get_ability_bool("skirmisher", *start, *resources::gameboard) &amp;&amp;</span>
<span class='curline'><a href='../S/900.html#L792'>gameboard</a>         792 src/actions/move.cpp 			if (!move_it_-&gt;get_ability_bool("skirmisher", *end, *resources::gameboard) &amp;&amp;</span>
<span class='curline'><a href='../S/900.html#L800'>gameboard</a>         800 src/actions/move.cpp 		while (end != min_end  &amp;&amp;  resources::gameboard-&gt;has_visible_unit(*(end - 1), *current_team_)) {</span>
<span class='curline'><a href='../S/900.html#L820'>gameboard</a>         820 src/actions/move.cpp 		move_it_ = resources::gameboard-&gt;units().find(*move_loc_);</span>
<span class='curline'><a href='../S/900.html#L821'>gameboard</a>         821 src/actions/move.cpp 		const bool found = move_it_ != resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/900.html#L825'>gameboard</a>         825 src/actions/move.cpp 		current_team_ = &amp;resources::gameboard-&gt;get_team(current_side_);</span>
<span class='curline'><a href='../S/900.html#L894'>gameboard</a>         894 src/actions/move.cpp 		unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/900.html#L1062'>gameboard</a>        1062 src/actions/move.cpp 			spectator_-&gt;set_failed_teleport(resources::gameboard-&gt;units().find(*obstructed_));</span>
<span class='curline'><a href='../S/900.html#L1077'>gameboard</a>        1077 src/actions/move.cpp 			if ( resources::gameboard-&gt;map().is_village(final_loc) ) {</span>
<span class='curline'><a href='../S/900.html#L1079'>gameboard</a>        1079 src/actions/move.cpp 				orig_village_owner = resources::gameboard-&gt;village_owner(final_loc) + 1;</span>
<span class='curline'><a href='../S/900.html#L1281'>gameboard</a>        1281 src/actions/move.cpp 	if(resources::gameboard-&gt;units().find(steps.front()) != resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/900.html#L1283'>gameboard</a>        1283 src/actions/move.cpp 		const team &amp;current_team = resources::gameboard-&gt;teams()[</span>
<span class='curline'><a href='../S/900.html#L1284'>gameboard</a>        1284 src/actions/move.cpp 			resources::gameboard-&gt;units().find(steps.front())-&gt;side() - 1];</span>
<span class='curline'><a href='../S/894.html#L30'>gameboard</a>          30 src/actions/shroud_clearing_action.cpp 	if(resources::gameboard-&gt;map().is_village(back)) {</span>
<span class='curline'><a href='../S/894.html#L42'>gameboard</a>          42 src/actions/shroud_clearing_action.cpp 	if(resources::gameboard-&gt;map().is_village(back)) {</span>
<span class='curline'><a href='../S/897.html#L360'>gameboard</a>         360 src/actions/undo.cpp 		int last_unit_id = resources::gameboard-&gt;unit_id_manager().get_save_id();</span>
<span class='curline'><a href='../S/897.html#L367'>gameboard</a>         367 src/actions/undo.cpp 		resources::gameboard-&gt;unit_id_manager().set_save_id(last_unit_id - undoable_action-&gt;unit_id_diff);</span>
<span class='curline'><a href='../S/897.html#L443'>gameboard</a>         443 src/actions/undo.cpp 	team &amp;tm = resources::gameboard-&gt;get_team(side_);</span>
<span class='curline'><a href='../S/902.html#L85'>gameboard</a>          85 src/actions/undo_action.cpp 		assert(resources::gameboard);</span>
<span class='curline'><a href='../S/902.html#L86'>gameboard</a>          86 src/actions/undo_action.cpp 		auto iter = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/902.html#L106'>gameboard</a>         106 src/actions/undo_action.cpp 			u1.reset(new scoped_xy_unit("unit", who-&gt;get_location(), resources::gameboard-&gt;units()));</span>
<span class='curline'><a href='../S/902.html#L109'>gameboard</a>         109 src/actions/undo_action.cpp 			u2.reset(new scoped_xy_unit("unit", who-&gt;get_location(), resources::gameboard-&gt;units()));</span>
<span class='curline'><a href='../S/881.html#L40'>gameboard</a>          40 src/actions/undo_dismiss_action.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/889.html#L58'>gameboard</a>          58 src/actions/undo_move_action.cpp 	unit_map &amp;   units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/882.html#L55'>gameboard</a>          55 src/actions/undo_recall_action.cpp 	unit_map &amp;   units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/882.html#L56'>gameboard</a>          56 src/actions/undo_recall_action.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/891.html#L56'>gameboard</a>          56 src/actions/undo_recruit_action.cpp 	unit_map &amp;   units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/891.html#L57'>gameboard</a>          57 src/actions/undo_recruit_action.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/896.html#L57'>gameboard</a>          57 src/actions/unit_creator.cpp   , board_(board ? board : resources::gameboard)</span>
<span class='curline'><a href='../S/896.html#L227'>gameboard</a>         227 src/actions/unit_creator.cpp 		assert(resources::gameboard);</span>
<span class='curline'><a href='../S/901.html#L58'>gameboard</a>          58 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/901.html#L85'>gameboard</a>          85 src/actions/vision.cpp 		create_jamming_map(local_jamming, resources::gameboard-&gt;get_team(viewer.side()));</span>
<span class='curline'><a href='../S/901.html#L233'>gameboard</a>         233 src/actions/vision.cpp 	const gamemap &amp;map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/901.html#L287'>gameboard</a>         287 src/actions/vision.cpp 		unit_map::const_iterator sight_it = resources::gameboard-&gt;find_visible_unit(loc, tm);</span>
<span class='curline'><a href='../S/901.html#L434'>gameboard</a>         434 src/actions/vision.cpp 	unit_map::const_iterator find_it = resources::gameboard-&gt;units().find(viewer.underlying_id);</span>
<span class='curline'><a href='../S/901.html#L435'>gameboard</a>         435 src/actions/vision.cpp 	const map_location &amp; real_loc = find_it == resources::gameboard-&gt;units().end() ?</span>
<span class='curline'><a href='../S/901.html#L464'>gameboard</a>         464 src/actions/vision.cpp 	team &amp; viewing_team = resources::gameboard-&gt;get_team(viewer.side());</span>
<span class='curline'><a href='../S/901.html#L496'>gameboard</a>         496 src/actions/vision.cpp 	team &amp; viewing_team = resources::gameboard-&gt;get_team(viewer.side());</span>
<span class='curline'><a href='../S/901.html#L548'>gameboard</a>         548 src/actions/vision.cpp 	const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/901.html#L597'>gameboard</a>         597 src/actions/vision.cpp 	const std::vector&lt;team&gt; &amp; teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/901.html#L602'>gameboard</a>         602 src/actions/vision.cpp 		if ( !target.is_visible_to_team(teams[i], *resources::gameboard, false) )</span>
<span class='curline'><a href='../S/901.html#L633'>gameboard</a>         633 src/actions/vision.cpp 	const std::vector&lt;team&gt; &amp; teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/901.html#L649'>gameboard</a>         649 src/actions/vision.cpp 		needs_event[i] = needs_event[i] &amp;&amp; target.is_visible_to_team(teams[i], *resources::gameboard, false);</span>
<span class='curline'><a href='../S/901.html#L660'>gameboard</a>         660 src/actions/vision.cpp 	for (const unit &amp; viewer : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/901.html#L707'>gameboard</a>         707 src/actions/vision.cpp 	team &amp;tm = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/901.html#L714'>gameboard</a>         714 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/901.html#L727'>gameboard</a>         727 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/901.html#L756'>gameboard</a>         756 src/actions/vision.cpp 	team &amp;tm = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/901.html#L763'>gameboard</a>         763 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/232.html#L169'>gameboard</a>         169 src/ai/actions.cpp 	return resources::gameboard-&gt;get_team(side_);</span>
<span class='curline'><a href='../S/232.html#L181'>gameboard</a>         181 src/ai/actions.cpp 	const unit_map::const_iterator attacker = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/232.html#L182'>gameboard</a>         182 src/ai/actions.cpp 	const unit_map::const_iterator defender = resources::gameboard-&gt;units().find(defender_loc_);</span>
<span class='curline'><a href='../S/232.html#L184'>gameboard</a>         184 src/ai/actions.cpp 	if(attacker==resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/232.html#L191'>gameboard</a>         191 src/ai/actions.cpp 	if (defender==resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/232.html#L266'>gameboard</a>         266 src/ai/actions.cpp 	battle_context bc(resources::gameboard-&gt;units(), attacker_loc_,</span>
<span class='curline'><a href='../S/232.html#L277'>gameboard</a>         277 src/ai/actions.cpp 	const unit_map::const_iterator a_ = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/232.html#L278'>gameboard</a>         278 src/ai/actions.cpp 	const unit_map::const_iterator d_ = resources::gameboard-&gt;units().find(defender_loc_);</span>
<span class='curline'><a href='../S/232.html#L343'>gameboard</a>         343 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(from_);</span>
<span class='curline'><a href='../S/232.html#L344'>gameboard</a>         344 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L381'>gameboard</a>         381 src/ai/actions.cpp 	const pathfind::shortest_path_calculator calc(un, my_team, resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/232.html#L387'>gameboard</a>         387 src/ai/actions.cpp 	route_ = std::shared_ptr&lt;pathfind::plain_route&gt;( new pathfind::plain_route(pathfind::a_star_search(un.get_location(), to_, 10000.0, calc, resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports)));</span>
<span class='curline'><a href='../S/232.html#L459'>gameboard</a>         459 src/ai/actions.cpp 		unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/232.html#L469'>gameboard</a>         469 src/ai/actions.cpp 	::actions::move_unit_spectator move_spectator(resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/232.html#L470'>gameboard</a>         470 src/ai/actions.cpp 	move_spectator.set_unit(resources::gameboard-&gt;units().find(from_));</span>
<span class='curline'><a href='../S/232.html#L601'>gameboard</a>         601 src/ai/actions.cpp 	if (!resources::gameboard-&gt;map().on_board(recall_location_)){</span>
<span class='curline'><a href='../S/232.html#L606'>gameboard</a>         606 src/ai/actions.cpp 	unit_map::const_iterator unit = resources::gameboard-&gt;units().find(recall_location_);</span>
<span class='curline'><a href='../S/232.html#L607'>gameboard</a>         607 src/ai/actions.cpp 	if (unit==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L751'>gameboard</a>         751 src/ai/actions.cpp 	if (!resources::gameboard-&gt;map().on_board(recruit_location_)) {</span>
<span class='curline'><a href='../S/232.html#L756'>gameboard</a>         756 src/ai/actions.cpp 	unit_map::const_iterator unit = resources::gameboard-&gt;units().find(recruit_location_);</span>
<span class='curline'><a href='../S/232.html#L757'>gameboard</a>         757 src/ai/actions.cpp 	if (unit==resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/232.html#L830'>gameboard</a>         830 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/232.html#L831'>gameboard</a>         831 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L858'>gameboard</a>         858 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/232.html#L859'>gameboard</a>         859 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L896'>gameboard</a>         896 src/ai/actions.cpp 	unit_map::iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/275.html#L149'>gameboard</a>         149 src/ai/composite/goal.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/275.html#L260'>gameboard</a>         260 src/ai/composite/goal.cpp 	unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/275.html#L284'>gameboard</a>         284 src/ai/composite/goal.cpp 			    !u.invisible(u.get_location(), *resources::gameboard))</span>
<span class='curline'><a href='../S/285.html#L107'>gameboard</a>         107 src/ai/contexts.cpp 	return resources::gameboard-&gt;get_team(get_side());</span>
<span class='curline'><a href='../S/285.html#L111'>gameboard</a>         111 src/ai/contexts.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(attacker_loc);</span>
<span class='curline'><a href='../S/285.html#L119'>gameboard</a>         119 src/ai/contexts.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(attacker_loc);</span>
<span class='curline'><a href='../S/285.html#L256'>gameboard</a>         256 src/ai/contexts.cpp 		keeps_.init(resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/285.html#L336'>gameboard</a>         336 src/ai/contexts.cpp 	return resources::gameboard-&gt;get_team(get_side());</span>
<span class='curline'><a href='../S/285.html#L353'>gameboard</a>         353 src/ai/contexts.cpp   calculate_moves(resources::gameboard-&gt;units(),res,srcdst,dstsrc,enemy,assume_full_movement,remove_destinations);</span>
<span class='curline'><a href='../S/285.html#L379'>gameboard</a>         379 src/ai/contexts.cpp 		if (enemy &amp;&amp; un_it-&gt;invisible(un_it-&gt;get_location(), *resources::gameboard) &amp;&amp; !see_all) {</span>
<span class='curline'><a href='../S/285.html#L425'>gameboard</a>         425 src/ai/contexts.cpp 			if(!enemy &amp;&amp; resources::gameboard-&gt;map().is_village(dst)) {</span>
<span class='curline'><a href='../S/285.html#L426'>gameboard</a>         426 src/ai/contexts.cpp 				for(size_t n = 0; n != resources::gameboard-&gt;teams().size(); ++n) {</span>
<span class='curline'><a href='../S/285.html#L427'>gameboard</a>         427 src/ai/contexts.cpp 					if(resources::gameboard-&gt;teams()[n].owns_village(dst)) {</span>
<span class='curline'><a href='../S/285.html#L442'>gameboard</a>         442 src/ai/contexts.cpp 			if(src != dst &amp;&amp; (resources::gameboard-&gt;find_visible_unit(dst, current_team()) == resources::gameboard-&gt;units().end()) ) {</span>
<span class='curline'><a href='../S/285.html#L477'>gameboard</a>         477 src/ai/contexts.cpp 	const unit_map::const_iterator itor = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/285.html#L478'>gameboard</a>         478 src/ai/contexts.cpp 	if(itor == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/285.html#L500'>gameboard</a>         500 src/ai/contexts.cpp 		const int defense = itor-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;second));</span>
<span class='curline'><a href='../S/285.html#L1003'>gameboard</a>        1003 src/ai/contexts.cpp 	const unit_map::iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/285.html#L1004'>gameboard</a>        1004 src/ai/contexts.cpp 	if(leader == resources::gameboard-&gt;units().end() || leader-&gt;incapacitated()) {</span>
<span class='curline'><a href='../S/285.html#L1064'>gameboard</a>        1064 src/ai/contexts.cpp 	const gamemap&amp; map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/285.html#L1065'>gameboard</a>        1065 src/ai/contexts.cpp 	unit_map&amp; units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/285.html#L1177'>gameboard</a>        1177 src/ai/contexts.cpp 		unit_map::iterator i = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/285.html#L1233'>gameboard</a>        1233 src/ai/contexts.cpp 	if (resources::gameboard-&gt;map().is_keep(leader_location)) {</span>
<span class='curline'><a href='../S/285.html#L1249'>gameboard</a>        1249 src/ai/contexts.cpp 			if (resources::gameboard-&gt;units().count(loc) == 0) {</span>
<span class='curline'><a href='../S/239.html#L81'>gameboard</a>          81 src/ai/default/aspect_attacks.cpp 		unit_map&amp; units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/239.html#L107'>gameboard</a>         107 src/ai/default/aspect_attacks.cpp 			    !j-&gt;invisible(j-&gt;get_location(), *resources::gameboard))</span>
<span class='curline'><a href='../S/239.html#L148'>gameboard</a>         148 src/ai/default/aspect_attacks.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/239.html#L149'>gameboard</a>         149 src/ai/default/aspect_attacks.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/239.html#L150'>gameboard</a>         150 src/ai/default/aspect_attacks.cpp 	std::vector&lt;team&gt; &amp;teams_ = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/239.html#L291'>gameboard</a>         291 src/ai/default/aspect_attacks.cpp 					if (!itor-&gt;get_ability_bool("skirmisher", *resources::gameboard))</span>
<span class='curline'><a href='../S/239.html#L353'>gameboard</a>         353 src/ai/default/aspect_attacks.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/239.html#L363'>gameboard</a>         363 src/ai/default/aspect_attacks.cpp 	if(map_.gives_healing(terrain) &amp;&amp; u.get_ability_bool("regenerate", loc, *resources::gameboard) == false) {</span>
<span class='curline'><a href='../S/239.html#L368'>gameboard</a>         368 src/ai/default/aspect_attacks.cpp 		int owner = resources::gameboard-&gt;village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/239.html#L408'>gameboard</a>         408 src/ai/default/aspect_attacks.cpp 	team&amp; my_team = resources::gameboard-&gt;get_team(get_side());</span>
<span class='curline'><a href='../S/249.html#L418'>gameboard</a>         418 src/ai/default/attack.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L69'>gameboard</a>          69 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L70'>gameboard</a>          70 src/ai/default/ca.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/237.html#L88'>gameboard</a>          88 src/ai/default/ca.cpp 		const pathfind::shortest_path_calculator calc(*ui, current_team(), resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/237.html#L283'>gameboard</a>         283 src/ai/default/ca.cpp 	const unit_map::iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/237.html#L304'>gameboard</a>         304 src/ai/default/ca.cpp 	pathfind::shortest_path_calculator calc(*leader, current_team(), resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/237.html#L306'>gameboard</a>         306 src/ai/default/ca.cpp 			resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h());</span>
<span class='curline'><a href='../S/237.html#L390'>gameboard</a>         390 src/ai/default/ca.cpp 	const unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L419'>gameboard</a>         419 src/ai/default/ca.cpp 		const pathfind::shortest_path_calculator calc(*leader, current_team(), resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/237.html#L424'>gameboard</a>         424 src/ai/default/ca.cpp 		route = pathfind::a_star_search(leader-&gt;get_location(), keep, 10000.0, calc, resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/237.html#L441'>gameboard</a>         441 src/ai/default/ca.cpp 	const pathfind::shortest_path_calculator calc(*leader, current_team(), resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/237.html#L460'>gameboard</a>         460 src/ai/default/ca.cpp 	route = pathfind::a_star_search(leader-&gt;get_location(), keep, 10000.0, calc, resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/237.html#L468'>gameboard</a>         468 src/ai/default/ca.cpp 			next_hop_cost += leader-&gt;movement_cost(resources::gameboard-&gt;map().get_terrain(step));</span>
<span class='curline'><a href='../S/237.html#L482'>gameboard</a>         482 src/ai/default/ca.cpp 					resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/237.html#L530'>gameboard</a>         530 src/ai/default/ca.cpp 	unit_map::const_iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/237.html#L541'>gameboard</a>         541 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L552'>gameboard</a>         552 src/ai/default/ca.cpp 			if (resources::gameboard-&gt;find_visible_unit(i-&gt;first, current_team()) == units_.end()) {</span>
<span class='curline'><a href='../S/237.html#L578'>gameboard</a>         578 src/ai/default/ca.cpp 		if((resources::gameboard-&gt;find_visible_unit(leader_move.first , current_team()) == units_.end())</span>
<span class='curline'><a href='../S/237.html#L579'>gameboard</a>         579 src/ai/default/ca.cpp 		   &amp;&amp; resources::gameboard-&gt;map().is_village(leader_move.first)) {</span>
<span class='curline'><a href='../S/237.html#L595'>gameboard</a>         595 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L662'>gameboard</a>         662 src/ai/default/ca.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/237.html#L663'>gameboard</a>         663 src/ai/default/ca.cpp 	std::vector&lt;team&gt; &amp;teams_ = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/237.html#L726'>gameboard</a>         726 src/ai/default/ca.cpp 		const unit_map::const_iterator u = resources::gameboard-&gt;units().find(j-&gt;second);</span>
<span class='curline'><a href='../S/237.html#L727'>gameboard</a>         727 src/ai/default/ca.cpp 		if (u == resources::gameboard-&gt;units().end() || u-&gt;get_state("guardian")) {</span>
<span class='curline'><a href='../S/237.html#L1320'>gameboard</a>        1320 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L1335'>gameboard</a>        1335 src/ai/default/ca.cpp 		    !u.get_ability_bool("regenerate", *resources::gameboard))</span>
<span class='curline'><a href='../S/237.html#L1346'>gameboard</a>        1346 src/ai/default/ca.cpp 				if (resources::gameboard-&gt;map().gives_healing(dst) &amp;&amp; (units_.find(dst) == units_.end() || dst == u_it-&gt;get_location())) {</span>
<span class='curline'><a href='../S/237.html#L1398'>gameboard</a>        1398 src/ai/default/ca.cpp 	const unit_map&amp; units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L1457'>gameboard</a>        1457 src/ai/default/ca.cpp 				int best_defensive_rating = i-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;get_location()))</span>
<span class='curline'><a href='../S/237.html#L1458'>gameboard</a>        1458 src/ai/default/ca.cpp 					- (resources::gameboard-&gt;map().is_village(i-&gt;get_location()) ? 10 : 0);</span>
<span class='curline'><a href='../S/237.html#L1473'>gameboard</a>        1473 src/ai/default/ca.cpp 					const int defense = i-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(hex));</span>
<span class='curline'><a href='../S/237.html#L1483'>gameboard</a>        1483 src/ai/default/ca.cpp 					const int modified_defense = defense - (resources::gameboard-&gt;map().is_village(hex) ? 10 : 0);</span>
<span class='curline'><a href='../S/237.html#L1537'>gameboard</a>        1537 src/ai/default/ca.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc)) / 100.0;</span>
<span class='curline'><a href='../S/237.html#L1591'>gameboard</a>        1591 src/ai/default/ca.cpp 	for(team &amp;tmp_team : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/237.html#L1593'>gameboard</a>        1593 src/ai/default/ca.cpp 			std::vector&lt;unit_map::unit_iterator&gt; allied_leaders = resources::gameboard-&gt;units().find_leaders(get_side());</span>
<span class='curline'><a href='../S/237.html#L1609'>gameboard</a>        1609 src/ai/default/ca.cpp 	std::vector&lt;unit_map::unit_iterator&gt; ai_leaders = resources::gameboard-&gt;units().find_leaders(get_side());</span>
<span class='curline'><a href='../S/237.html#L1615'>gameboard</a>        1615 src/ai/default/ca.cpp 	calculate_moves(resources::gameboard-&gt;units(), possible_moves, friends_srcdst, friends_dstsrc, false, true);</span>
<span class='curline'><a href='../S/237.html#L1621'>gameboard</a>        1621 src/ai/default/ca.cpp 		if ( !resources::gameboard-&gt;map().is_keep(keep) ) {</span>
<span class='curline'><a href='../S/237.html#L1625'>gameboard</a>        1625 src/ai/default/ca.cpp 		if(!resources::gameboard-&gt;map().on_board(recruit_loc)){</span>
<span class='curline'><a href='../S/237.html#L1632'>gameboard</a>        1632 src/ai/default/ca.cpp 			const unit_map::const_iterator itor = resources::gameboard-&gt;units().find(i-&gt;first);</span>
<span class='curline'><a href='../S/237.html#L1633'>gameboard</a>        1633 src/ai/default/ca.cpp 			team &amp;leader_team = resources::gameboard-&gt;get_team(itor-&gt;side());</span>
<span class='curline'><a href='../S/237.html#L1634'>gameboard</a>        1634 src/ai/default/ca.cpp 			if(itor != resources::gameboard-&gt;units().end() &amp;&amp; itor-&gt;can_recruit() &amp;&amp; itor-&gt;side() != get_side() &amp;&amp; (leader_team.total_income() + leader_team.gold() &gt; leader_team.minimum_recruit_price())){</span>
<span class='curline'><a href='../S/237.html#L1655'>gameboard</a>        1655 src/ai/default/ca.cpp 					int tmp_def_mod = ai_leader-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;curr));</span>
<span class='curline'><a href='../S/236.html#L92'>gameboard</a>          92 src/ai/default/ca_move_to_targets.cpp 		:avoid_(context.get_avoid()), map_(resources::gameboard-&gt;map())</span>
<span class='curline'><a href='../S/236.html#L139'>gameboard</a>         139 src/ai/default/ca_move_to_targets.cpp 	unit_map::const_iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/236.html#L165'>gameboard</a>         165 src/ai/default/ca_move_to_targets.cpp 			assert(resources::gameboard-&gt;map().on_board(ittg-&gt;loc));</span>
<span class='curline'><a href='../S/236.html#L172'>gameboard</a>         172 src/ai/default/ca_move_to_targets.cpp 		assert (resources::gameboard-&gt;map().on_board(move.first)</span>
<span class='curline'><a href='../S/236.html#L173'>gameboard</a>         173 src/ai/default/ca_move_to_targets.cpp 			&amp;&amp; resources::gameboard-&gt;map().on_board(move.second));</span>
<span class='curline'><a href='../S/236.html#L276'>gameboard</a>         276 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L277'>gameboard</a>         277 src/ai/default/ca_move_to_targets.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/236.html#L632'>gameboard</a>         632 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L633'>gameboard</a>         633 src/ai/default/ca_move_to_targets.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/236.html#L645'>gameboard</a>         645 src/ai/default/ca_move_to_targets.cpp 			pathfind::shortest_path_calculator calc(*u_it, current_team(), resources::gameboard-&gt;teams(), map_);</span>
<span class='curline'><a href='../S/236.html#L681'>gameboard</a>         681 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L724'>gameboard</a>         724 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L725'>gameboard</a>         725 src/ai/default/ca_move_to_targets.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/236.html#L826'>gameboard</a>         826 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L827'>gameboard</a>         827 src/ai/default/ca_move_to_targets.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/236.html#L871'>gameboard</a>         871 src/ai/default/ca_move_to_targets.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc))/100.0;</span>
<span class='curline'><a href='../S/245.html#L72'>gameboard</a>          72 src/ai/default/contexts.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/245.html#L79'>gameboard</a>          79 src/ai/default/contexts.cpp 		if (resources::gameboard-&gt;map().is_castle(adj[n])) {</span>
<span class='curline'><a href='../S/245.html#L84'>gameboard</a>          84 src/ai/default/contexts.cpp 					&amp;&amp; u-&gt;invisible(adj[n], *resources::gameboard))</span>
<span class='curline'><a href='../S/245.html#L85'>gameboard</a>          85 src/ai/default/contexts.cpp 				|| ((&amp;resources::gameboard-&gt;get_team(u-&gt;side()) == &amp;current_team())</span>
<span class='curline'><a href='../S/245.html#L102'>gameboard</a>         102 src/ai/default/contexts.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/245.html#L112'>gameboard</a>         112 src/ai/default/contexts.cpp 	if(map_.gives_healing(terrain) &amp;&amp; u.get_ability_bool("regenerate", loc, *resources::gameboard) == false) {</span>
<span class='curline'><a href='../S/245.html#L117'>gameboard</a>         117 src/ai/default/contexts.cpp 		int owner = resources::gameboard-&gt;village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/245.html#L135'>gameboard</a>         135 src/ai/default/contexts.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/245.html#L137'>gameboard</a>         137 src/ai/default/contexts.cpp 	const gamemap &amp;map_ = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/245.html#L138'>gameboard</a>         138 src/ai/default/contexts.cpp 	std::vector&lt;team&gt; teams_ = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/245.html#L231'>gameboard</a>         231 src/ai/default/contexts.cpp 			    &amp;&amp; !u-&gt;invisible(u-&gt;get_location(), *resources::gameboard)) {</span>
<span class='curline'><a href='../S/246.html#L167'>gameboard</a>         167 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L171'>gameboard</a>         171 src/ai/default/recruitment.cpp 		if (leader == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/246.html#L181'>gameboard</a>         181 src/ai/default/recruitment.cpp 		if (resources::gameboard-&gt;map().is_keep(loc) &amp;&amp;</span>
<span class='curline'><a href='../S/246.html#L199'>gameboard</a>         199 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L200'>gameboard</a>         200 src/ai/default/recruitment.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/246.html#L210'>gameboard</a>         210 src/ai/default/recruitment.cpp 		if (!resources::gameboard-&gt;map().is_keep(keep)) {</span>
<span class='curline'><a href='../S/246.html#L603'>gameboard</a>         603 src/ai/default/recruitment.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/246.html#L678'>gameboard</a>         678 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L679'>gameboard</a>         679 src/ai/default/recruitment.cpp 	const team&amp; team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/246.html#L749'>gameboard</a>         749 src/ai/default/recruitment.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/246.html#L750'>gameboard</a>         750 src/ai/default/recruitment.cpp 	const team&amp; team = resources::gameboard-&gt;get_team(get_side());</span>
<span class='curline'><a href='../S/246.html#L783'>gameboard</a>         783 src/ai/default/recruitment.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/246.html#L784'>gameboard</a>         784 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L812'>gameboard</a>         812 src/ai/default/recruitment.cpp 	for (const team&amp; team : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/246.html#L921'>gameboard</a>         921 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L934'>gameboard</a>         934 src/ai/default/recruitment.cpp 		for (const team&amp; team : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/246.html#L1413'>gameboard</a>        1413 src/ai/default/recruitment.cpp 	const team&amp; team = resources::gameboard-&gt;get_team(get_side());</span>
<span class='curline'><a href='../S/246.html#L1421'>gameboard</a>        1421 src/ai/default/recruitment.cpp 		double upkeep = resources::gameboard-&gt;side_upkeep(get_side()) + unit_gain * i -</span>
<span class='curline'><a href='../S/246.html#L1442'>gameboard</a>        1442 src/ai/default/recruitment.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/246.html#L1445'>gameboard</a>        1445 src/ai/default/recruitment.cpp 		if (resources::gameboard-&gt;village_owner(village) == -1) {</span>
<span class='curline'><a href='../S/246.html#L1449'>gameboard</a>        1449 src/ai/default/recruitment.cpp 	return (neutral_villages / resources::gameboard-&gt;teams().size()) / 4.;</span>
<span class='curline'><a href='../S/246.html#L1457'>gameboard</a>        1457 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L1476'>gameboard</a>        1476 src/ai/default/recruitment.cpp 	for (const team&amp; team : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/246.html#L1659'>gameboard</a>        1659 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L1686'>gameboard</a>        1686 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L1709'>gameboard</a>        1709 src/ai/default/recruitment.cpp 	for (const map_location&amp; village : resources::gameboard-&gt;map().villages()) {</span>
<span class='curline'><a href='../S/246.html#L1710'>gameboard</a>        1710 src/ai/default/recruitment.cpp 		if (resources::gameboard-&gt;village_owner(village) == -1) {</span>
<span class='curline'><a href='../S/246.html#L1714'>gameboard</a>        1714 src/ai/default/recruitment.cpp 	double our_share = static_cast&lt;double&gt;(neutral_villages) / resources::gameboard-&gt;teams().size();</span>
<span class='curline'><a href='../S/255.html#L108'>gameboard</a>         108 src/ai/formula/ai.cpp 	attacks_callable(*this, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/255.html#L212'>gameboard</a>         212 src/ai/formula/ai.cpp     unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/255.html#L213'>gameboard</a>         213 src/ai/formula/ai.cpp     pathfind::shortest_path_calculator calc(*unit_it, current_team(), resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/255.html#L228'>gameboard</a>         228 src/ai/formula/ai.cpp                 if(resources::gameboard-&gt;map().on_board(adj[n]) == false) {</span>
<span class='curline'><a href='../S/255.html#L255'>gameboard</a>         255 src/ai/formula/ai.cpp             resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/255.html#L289'>gameboard</a>         289 src/ai/formula/ai.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/255.html#L372'>gameboard</a>         372 src/ai/formula/ai.cpp 		return variant(std::make_shared&lt;team_callable&gt;(resources::gameboard-&gt;get_team(get_side())));</span>
<span class='curline'><a href='../S/255.html#L381'>gameboard</a>         381 src/ai/formula/ai.cpp 		for(std::vector&lt;team&gt;::const_iterator i = resources::gameboard-&gt;teams().begin(); i != resources::gameboard-&gt;teams().end(); ++i) {</span>
<span class='curline'><a href='../S/255.html#L389'>gameboard</a>         389 src/ai/formula/ai.cpp 		for( size_t i = 0; i &lt; resources::gameboard-&gt;teams().size(); ++i) {</span>
<span class='curline'><a href='../S/255.html#L398'>gameboard</a>         398 src/ai/formula/ai.cpp 		for( size_t i = 0; i &lt; resources::gameboard-&gt;teams().size(); ++i) {</span>
<span class='curline'><a href='../S/255.html#L431'>gameboard</a>         431 src/ai/formula/ai.cpp 		for( size_t i = 0; i&lt;resources::gameboard-&gt;teams().size(); ++i)</span>
<span class='curline'><a href='../S/255.html#L436'>gameboard</a>         436 src/ai/formula/ai.cpp 			const std::set&lt;std::string&gt;&amp; recruits = resources::gameboard-&gt;teams()[i].recruits();</span>
<span class='curline'><a href='../S/255.html#L466'>gameboard</a>         466 src/ai/formula/ai.cpp 		for( size_t i = 0; i&lt;resources::gameboard-&gt;teams().size(); ++i)</span>
<span class='curline'><a href='../S/255.html#L537'>gameboard</a>         537 src/ai/formula/ai.cpp 		return variant(std::make_shared&lt;gamemap_callable&gt;(resources::gameboard-&gt;map()));</span>
<span class='curline'><a href='../S/255.html#L540'>gameboard</a>         540 src/ai/formula/ai.cpp 		return villages_from_set(resources::gameboard-&gt;map().villages());</span>
<span class='curline'><a href='../S/255.html#L544'>gameboard</a>         544 src/ai/formula/ai.cpp 		for(size_t i = 0; i&lt;resources::gameboard-&gt;teams().size(); ++i)</span>
<span class='curline'><a href='../S/255.html#L550'>gameboard</a>         550 src/ai/formula/ai.cpp 			vars[i] = villages_from_set(resources::gameboard-&gt;teams()[i].villages());</span>
<span class='curline'><a href='../S/255.html#L560'>gameboard</a>         560 src/ai/formula/ai.cpp 		return villages_from_set(resources::gameboard-&gt;map().villages(), &amp;current_team().villages());</span>
<span class='curline'><a href='../S/255.html#L605'>gameboard</a>         605 src/ai/formula/ai.cpp 		for(size_t x = 0; x != size_t(resources::gameboard-&gt;map().w()); ++x) {</span>
<span class='curline'><a href='../S/255.html#L606'>gameboard</a>         606 src/ai/formula/ai.cpp 			for(size_t y = 0; y != size_t(resources::gameboard-&gt;map().h()); ++y) {</span>
<span class='curline'><a href='../S/255.html#L608'>gameboard</a>         608 src/ai/formula/ai.cpp 				if(resources::gameboard-&gt;map().is_keep(loc)) {</span>
<span class='curline'><a href='../S/255.html#L612'>gameboard</a>         612 src/ai/formula/ai.cpp 						if(resources::gameboard-&gt;map().is_castle(adj[n])) {</span>
<span class='curline'><a href='../S/255.html#L681'>gameboard</a>         681 src/ai/formula/ai.cpp 	fai_ca-&gt;evaluate(this,resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/260.html#L163'>gameboard</a>         163 src/ai/formula/callable_objects.cpp 	bc_(resources::gameboard-&gt;units(), src, dst, weapon, -1, 1.0, nullptr,</span>
<span class='curline'><a href='../S/260.html#L164'>gameboard</a>         164 src/ai/formula/callable_objects.cpp 		&amp;*resources::gameboard-&gt;units().find(move_from))</span>
<span class='curline'><a href='../S/260.html#L256'>gameboard</a>         256 src/ai/formula/callable_objects.cpp 		for(unit_map::const_iterator i = resources::gameboard-&gt;units().begin(); i != resources::gameboard-&gt;units().end(); ++i) {</span>
<span class='curline'><a href='../S/260.html#L278'>gameboard</a>         278 src/ai/formula/callable_objects.cpp 		if (! resources::gameboard-&gt;map().on_board(adj[n]))</span>
<span class='curline'><a href='../S/260.html#L287'>gameboard</a>         287 src/ai/formula/callable_objects.cpp 		    unit-&gt;invisible(unit-&gt;get_location(), *resources::gameboard))</span>
<span class='curline'><a href='../S/260.html#L376'>gameboard</a>         376 src/ai/formula/callable_objects.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/257.html#L168'>gameboard</a>         168 src/ai/formula/candidates.cpp 			if (ai-&gt;current_team().is_enemy(i-&gt;side()) &amp;&amp; !i-&gt;incapacitated() &amp;&amp; !i-&gt;invisible(i-&gt;get_location(), *resources::gameboard)) {</span>
<span class='curline'><a href='../S/252.html#L108'>gameboard</a>         108 src/ai/formula/function_table.cpp 		const std::vector&lt;map_location&gt;&amp; villages = resources::gameboard-&gt;map().villages();</span>
<span class='curline'><a href='../S/252.html#L187'>gameboard</a>         187 src/ai/formula/function_table.cpp 		const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/252.html#L252'>gameboard</a>         252 src/ai/formula/function_table.cpp 		int w = resources::gameboard-&gt;map().w();</span>
<span class='curline'><a href='../S/252.html#L253'>gameboard</a>         253 src/ai/formula/function_table.cpp 		int h = resources::gameboard-&gt;map().h();</span>
<span class='curline'><a href='../S/252.html#L425'>gameboard</a>         425 src/ai/formula/function_table.cpp                         if (resources::gameboard-&gt;map().on_board(adj[n]) )</span>
<span class='curline'><a href='../S/252.html#L462'>gameboard</a>         462 src/ai/formula/function_table.cpp                         if (resources::gameboard-&gt;map().on_board(res[n]) )</span>
<span class='curline'><a href='../S/252.html#L536'>gameboard</a>         536 src/ai/formula/function_table.cpp                         if (resources::gameboard-&gt;map().on_board(adj[n]) &amp;&amp; visited_locs.find( adj[n] ) == visited_locs.end() ) {</span>
<span class='curline'><a href='../S/252.html#L537'>gameboard</a>         537 src/ai/formula/function_table.cpp                             if (resources::gameboard-&gt;map().get_terrain_info(adj[n]).is_keep() ||</span>
<span class='curline'><a href='../S/252.html#L538'>gameboard</a>         538 src/ai/formula/function_table.cpp                                     resources::gameboard-&gt;map().get_terrain_info(adj[n]).is_castle() ) {</span>
<span class='curline'><a href='../S/252.html#L545'>gameboard</a>         545 src/ai/formula/function_table.cpp                 if ( !resources::gameboard-&gt;map().get_terrain_info(starting_loc).is_keep() &amp;&amp;</span>
<span class='curline'><a href='../S/252.html#L546'>gameboard</a>         546 src/ai/formula/function_table.cpp                      !resources::gameboard-&gt;map().get_terrain_info(starting_loc).is_castle() )</span>
<span class='curline'><a href='../S/252.html#L598'>gameboard</a>         598 src/ai/formula/function_table.cpp 		return variant(combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(), loc, un.alignment(), un.is_fearless()));</span>
<span class='curline'><a href='../S/252.html#L650'>gameboard</a>         650 src/ai/formula/function_table.cpp 		const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/252.html#L679'>gameboard</a>         679 src/ai/formula/function_table.cpp 			w = resources::gameboard-&gt;map().w();</span>
<span class='curline'><a href='../S/252.html#L680'>gameboard</a>         680 src/ai/formula/function_table.cpp 			h = resources::gameboard-&gt;map().h();</span>
<span class='curline'><a href='../S/252.html#L712'>gameboard</a>         712 src/ai/formula/function_table.cpp 		unit_map::const_iterator un = resources::gameboard-&gt;units().begin();</span>
<span class='curline'><a href='../S/252.html#L713'>gameboard</a>         713 src/ai/formula/function_table.cpp 		unit_map::const_iterator end = resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/252.html#L742'>gameboard</a>         742 src/ai/formula/function_table.cpp 		const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/252.html#L960'>gameboard</a>         960 src/ai/formula/function_table.cpp                 unit_map::iterator unit_it = resources::gameboard-&gt;units().find(unit_loc);</span>
<span class='curline'><a href='../S/252.html#L962'>gameboard</a>         962 src/ai/formula/function_table.cpp 		if( unit_it == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/252.html#L1010'>gameboard</a>        1010 src/ai/formula/function_table.cpp                 unit_map::iterator unit_it = resources::gameboard-&gt;units().find(unit_loc);</span>
<span class='curline'><a href='../S/252.html#L1012'>gameboard</a>        1012 src/ai/formula/function_table.cpp 		if( unit_it == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/252.html#L1020'>gameboard</a>        1020 src/ai/formula/function_table.cpp 		pathfind::emergency_path_calculator em_calc(*unit_it, resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/252.html#L1022'>gameboard</a>        1022 src/ai/formula/function_table.cpp                 pathfind::plain_route route = pathfind::a_star_search(src, dst, 1000.0, em_calc, resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/252.html#L1029'>gameboard</a>        1029 src/ai/formula/function_table.cpp                     if (unit_it-&gt;movement_cost((resources::gameboard-&gt;map())[*loc_iter]) &lt; movetype::UNREACHABLE )</span>
<span class='curline'><a href='../S/252.html#L1064'>gameboard</a>        1064 src/ai/formula/function_table.cpp                 unit_map::iterator unit_it = resources::gameboard-&gt;units().find(unit_loc);</span>
<span class='curline'><a href='../S/252.html#L1066'>gameboard</a>        1066 src/ai/formula/function_table.cpp 		if( unit_it == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/252.html#L1174'>gameboard</a>        1174 src/ai/formula/function_table.cpp 		if(resources::gameboard-&gt;units().count(move_from) == 0 || resources::gameboard-&gt;units().count(dst) == 0) {</span>
<span class='curline'><a href='../S/252.html#L1288'>gameboard</a>        1288 src/ai/formula/function_table.cpp 		const unit_map::const_iterator i = resources::gameboard-&gt;units().find(loc-&gt;loc());</span>
<span class='curline'><a href='../S/252.html#L1289'>gameboard</a>        1289 src/ai/formula/function_table.cpp 		if(i != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/252.html#L1340'>gameboard</a>        1340 src/ai/formula/function_table.cpp 			unit_map::const_iterator un = resources::gameboard-&gt;units().find(range.first-&gt;second);</span>
<span class='curline'><a href='../S/252.html#L1341'>gameboard</a>        1341 src/ai/formula/function_table.cpp 			assert(un != resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/252.html#L1372'>gameboard</a>        1372 src/ai/formula/function_table.cpp                         if( un.total_movement() &lt; un.movement_cost( (resources::gameboard-&gt;map())[loc]) )</span>
<span class='curline'><a href='../S/252.html#L1375'>gameboard</a>        1375 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1379'>gameboard</a>        1379 src/ai/formula/function_table.cpp 			return variant(100 - un.defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1386'>gameboard</a>        1386 src/ai/formula/function_table.cpp 			if( un.movement() &lt; un.movement_type().movement_cost((resources::gameboard-&gt;map())[loc]) )</span>
<span class='curline'><a href='../S/252.html#L1389'>gameboard</a>        1389 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1393'>gameboard</a>        1393 src/ai/formula/function_table.cpp 			return variant(100 - un.movement_type().defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1422'>gameboard</a>        1422 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1426'>gameboard</a>        1426 src/ai/formula/function_table.cpp 			return variant(un.defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1433'>gameboard</a>        1433 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1437'>gameboard</a>        1437 src/ai/formula/function_table.cpp 			return variant(un.movement_type().defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1466'>gameboard</a>        1466 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1470'>gameboard</a>        1470 src/ai/formula/function_table.cpp 			return variant(un.movement_cost((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1477'>gameboard</a>        1477 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1481'>gameboard</a>        1481 src/ai/formula/function_table.cpp 			return variant(un.movement_type().movement_cost((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/261.html#L58'>gameboard</a>          58 src/ai/formula/stage_unit_formulas.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/292.html#L832'>gameboard</a>         832 src/ai/lua/core.cpp 		for(unit_map::const_iterator u = resources::gameboard-&gt;units().begin(); u != resources::gameboard-&gt;units().end(); ++u) {</span>
<span class='curline'><a href='../S/292.html#L861'>gameboard</a>         861 src/ai/lua/core.cpp 		for (unit_map::const_iterator u = resources::gameboard-&gt;units().begin(); u != resources::gameboard-&gt;units().end(); ++u) {</span>
<span class='curline'><a href='../S/293.html#L183'>gameboard</a>         183 src/ai/lua/engine_lua.cpp 		bound_unit_ = unit_ptr(new unit(*resources::gameboard-&gt;units().find(loc)));</span>
<span class='curline'><a href='../S/293.html#L188'>gameboard</a>         188 src/ai/lua/engine_lua.cpp 		if (resources::gameboard-&gt;units().find(bound_unit_-&gt;underlying_id()).valid())</span>
<span class='curline'><a href='../S/231.html#L49'>gameboard</a>          49 src/ai/simulated_actions.cpp 	unit_map::iterator attack_unit = resources::gameboard-&gt;units().find(attacker_loc);</span>
<span class='curline'><a href='../S/231.html#L50'>gameboard</a>          50 src/ai/simulated_actions.cpp 	unit_map::iterator defend_unit = resources::gameboard-&gt;units().find(defender_loc);</span>
<span class='curline'><a href='../S/231.html#L70'>gameboard</a>          70 src/ai/simulated_actions.cpp 		(resources::gameboard-&gt;units()).erase(attacker_loc);</span>
<span class='curline'><a href='../S/231.html#L77'>gameboard</a>          77 src/ai/simulated_actions.cpp 		(resources::gameboard-&gt;units()).erase(defender_loc);</span>
<span class='curline'><a href='../S/231.html#L100'>gameboard</a>         100 src/ai/simulated_actions.cpp 	std::pair&lt;unit_map::unit_iterator, bool&gt; unit_move = resources::gameboard-&gt;units().move(from, to);</span>
<span class='curline'><a href='../S/231.html#L115'>gameboard</a>         115 src/ai/simulated_actions.cpp 	if(resources::gameboard-&gt;map().is_village(to)){</span>
<span class='curline'><a href='../S/231.html#L125'>gameboard</a>         125 src/ai/simulated_actions.cpp 	team own_team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/231.html#L144'>gameboard</a>         144 src/ai/simulated_actions.cpp 	resources::gameboard-&gt;get_team(side).spend_gold(u-&gt;cost());</span>
<span class='curline'><a href='../S/231.html#L155'>gameboard</a>         155 src/ai/simulated_actions.cpp 	unit_map::iterator stop_unit = resources::gameboard-&gt;units().find(unit_location);</span>
<span class='curline'><a href='../S/231.html#L181'>gameboard</a>         181 src/ai/simulated_actions.cpp 	std::vector&lt;team&gt; &amp;teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/231.html#L187'>gameboard</a>         187 src/ai/simulated_actions.cpp 	bool has_leader = resources::gameboard-&gt;units().find_leader(side).valid();</span>
<span class='curline'><a href='../S/231.html#L218'>gameboard</a>         218 src/ai/simulated_actions.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().insert(new_unit);</span>
<span class='curline'><a href='../S/231.html#L222'>gameboard</a>         222 src/ai/simulated_actions.cpp 	if(resources::gameboard-&gt;map().is_village(loc)){</span>
<span class='curline'><a href='../S/231.html#L233'>gameboard</a>         233 src/ai/simulated_actions.cpp 	unit_map::iterator advance_unit = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/231.html#L264'>gameboard</a>         264 src/ai/simulated_actions.cpp 	resources::gameboard-&gt;units().replace(loc, advanced_unit);</span>
<span class='curline'><a href='../S/286.html#L47'>gameboard</a>          47 src/ai/testing.cpp 	team&amp; current_team = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/286.html#L50'>gameboard</a>          50 src/ai/testing.cpp 	int _units = resources::gameboard-&gt;side_units(side);</span>
<span class='curline'><a href='../S/286.html#L51'>gameboard</a>          51 src/ai/testing.cpp 	int _units_cost = resources::gameboard-&gt;side_units_cost(side);</span>
<span class='curline'><a href='../S/286.html#L91'>gameboard</a>          91 src/ai/testing.cpp 	for (std::vector&lt;team&gt;::const_iterator tm = resources::gameboard-&gt;teams().begin(); tm != resources::gameboard-&gt;teams().end(); ++tm) {</span>
<span class='curline'><a href='../S/286.html#L92'>gameboard</a>          92 src/ai/testing.cpp 		int side = tm-resources::gameboard-&gt;teams().begin()+1;</span>
<span class='curline'><a href='../S/286.html#L107'>gameboard</a>         107 src/ai/testing.cpp 	for (std::vector&lt;team&gt;::const_iterator tm = resources::gameboard-&gt;teams().begin(); tm != resources::gameboard-&gt;teams().end(); ++tm) {</span>
<span class='curline'><a href='../S/286.html#L108'>gameboard</a>         108 src/ai/testing.cpp 		int side = tm-resources::gameboard-&gt;teams().begin()+1;</span>
<span class='curline'><a href='../S/286.html#L110'>gameboard</a>         110 src/ai/testing.cpp 		resources::recorder-&gt;add_log_data("ai_log","end_units"+std::to_string(side),std::to_string(resources::gameboard-&gt;side_units(side)));</span>
<span class='curline'><a href='../S/831.html#L173'>gameboard</a>         173 src/game_display.cpp 	const unit *u = resources::gameboard-&gt;get_visible_unit(hex, dc_-&gt;teams()[viewing_team()], !dont_show_all_);</span>
<span class='curline'><a href='../S/831.html#L178'>gameboard</a>         178 src/game_display.cpp 		u = resources::gameboard-&gt;get_visible_unit(mouseoverHex_, dc_-&gt;teams()[viewing_team()], !dont_show_all_);</span>
<span class='curline'><a href='../S/831.html#L200'>gameboard</a>         200 src/game_display.cpp 	const unit *u = resources::gameboard-&gt;get_visible_unit(hex, dc_-&gt;teams()[viewing_team()], !dont_show_all_);</span>
<span class='curline'><a href='../S/831.html#L290'>gameboard</a>         290 src/game_display.cpp 		const unit *u = resources::gameboard-&gt;get_visible_unit(loc, dc_-&gt;teams()[viewing_team()] );</span>
<span class='curline'><a href='../S/831.html#L474'>gameboard</a>         474 src/game_display.cpp 		const unit_map::const_iterator selectedUnit = resources::gameboard-&gt;find_visible_unit(selectedHex_,dc_-&gt;teams()[currentTeam_]);</span>
<span class='curline'><a href='../S/831.html#L475'>gameboard</a>         475 src/game_display.cpp 		const unit_map::const_iterator mouseoveredUnit = resources::gameboard-&gt;find_visible_unit(mouseoverHex_,dc_-&gt;teams()[currentTeam_]);</span>
<span class='curline'><a href='../S/1057.html#L113'>gameboard</a>         113 src/game_events/action_wml.cpp 		if (!resources::gameboard-&gt;has_team(side_num)) {</span>
<span class='curline'><a href='../S/1057.html#L143'>gameboard</a>         143 src/game_events/action_wml.cpp 		const gamemap *game_map = &amp; resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/1057.html#L164'>gameboard</a>         164 src/game_events/action_wml.cpp 					resources::gameboard-&gt;get_team(fake_unit.side()),</span>
<span class='curline'><a href='../S/1057.html#L165'>gameboard</a>         165 src/game_events/action_wml.cpp 					resources::gameboard-&gt;teams(),</span>
<span class='curline'><a href='../S/1057.html#L447'>gameboard</a>         447 src/game_events/action_wml.cpp 	for(int index = 0; index &lt; int(resources::gameboard-&gt;teams().size()); ++index) {</span>
<span class='curline'><a href='../S/1057.html#L449'>gameboard</a>         449 src/game_events/action_wml.cpp 		const std::string player_id = resources::gameboard-&gt;teams()[index].save_id();</span>
<span class='curline'><a href='../S/1057.html#L451'>gameboard</a>         451 src/game_events/action_wml.cpp 		if(resources::gameboard-&gt;teams()[index].recall_list().size() &lt; 1) {</span>
<span class='curline'><a href='../S/1057.html#L457'>gameboard</a>         457 src/game_events/action_wml.cpp 		recall_list_manager &amp; avail = resources::gameboard-&gt;teams()[index].recall_list();</span>
<span class='curline'><a href='../S/1057.html#L458'>gameboard</a>         458 src/game_events/action_wml.cpp 		std::vector&lt;unit_map::unit_iterator&gt; leaders = resources::gameboard-&gt;units().find_leaders(index + 1);</span>
<span class='curline'><a href='../S/1057.html#L479'>gameboard</a>         479 src/game_events/action_wml.cpp 						if(!resources::gameboard-&gt;map().on_board(loc))</span>
<span class='curline'><a href='../S/1057.html#L481'>gameboard</a>         481 src/game_events/action_wml.cpp 						if(pass_check || (resources::gameboard-&gt;units().count(loc) &gt; 0))</span>
<span class='curline'><a href='../S/1057.html#L483'>gameboard</a>         483 src/game_events/action_wml.cpp 						if(resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/1057.html#L493'>gameboard</a>         493 src/game_events/action_wml.cpp 				if (resources::gameboard-&gt;map().on_board(cfg_loc)) {</span>
<span class='curline'><a href='../S/1057.html#L495'>gameboard</a>         495 src/game_events/action_wml.cpp 					if(pass_check || (resources::gameboard-&gt;units().count(loc) &gt; 0))</span>
<span class='curline'><a href='../S/1057.html#L498'>gameboard</a>         498 src/game_events/action_wml.cpp 					if (resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/1057.html#L567'>gameboard</a>         567 src/game_events/action_wml.cpp 	const gamemap * game_map = &amp; resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/1057.html#L602'>gameboard</a>         602 src/game_events/action_wml.cpp 	boost::optional&lt;std::string&gt; errmsg = resources::gameboard-&gt;replace_map(map);</span>
<span class='curline'><a href='../S/1057.html#L826'>gameboard</a>         826 src/game_events/action_wml.cpp 	gamemap mask_map(resources::gameboard-&gt;map().tdata(), "");</span>
<span class='curline'><a href='../S/1057.html#L852'>gameboard</a>         852 src/game_events/action_wml.cpp 	resources::gameboard-&gt;overlay_map(mask_map, cfg.get_parsed_config(), loc);</span>
<span class='curline'><a href='../S/1057.html#L910'>gameboard</a>         910 src/game_events/action_wml.cpp 	if ((side&lt;1)||(side &gt; static_cast&lt;int&gt;(resources::gameboard-&gt;teams().size()))) {</span>
<span class='curline'><a href='../S/1057.html#L911'>gameboard</a>         911 src/game_events/action_wml.cpp 		ERR_NG &lt;&lt; "wrong side in [unit] tag - no such side: "&lt;&lt;side&lt;&lt;" ( number of teams :"&lt;&lt;resources::gameboard-&gt;teams().size()&lt;&lt;")"&lt;&lt;std::endl;</span>
<span class='curline'><a href='../S/1057.html#L915'>gameboard</a>         915 src/game_events/action_wml.cpp 	team &amp;tm = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/1057.html#L917'>gameboard</a>         917 src/game_events/action_wml.cpp 	unit_creator uc(tm,resources::gameboard-&gt;map().starting_position(side));</span>
<span class='curline'><a href='../S/1071.html#L49'>gameboard</a>          49 src/game_events/conditional_wml.cpp 		if(!resources::gameboard) {</span>
<span class='curline'><a href='../S/1071.html#L56'>gameboard</a>          56 src/game_events/conditional_wml.cpp 		for(const unit &amp;i : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/1071.html#L66'>gameboard</a>          66 src/game_events/conditional_wml.cpp 			for(const team&amp; team : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/1054.html#L109'>gameboard</a>         109 src/game_events/entity_location.cpp 	if(!resources::gameboard) {</span>
<span class='curline'><a href='../S/1054.html#L113'>gameboard</a>         113 src/game_events/entity_location.cpp 		auto un_it = resources::gameboard-&gt;units().find(*this);</span>
<span class='curline'><a href='../S/1054.html#L119'>gameboard</a>         119 src/game_events/entity_location.cpp 	return resources::gameboard-&gt;units().find(id_).get_shared_ptr();</span>
<span class='curline'><a href='../S/1061.html#L198'>gameboard</a>         198 src/game_events/pump.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/1061.html#L292'>gameboard</a>         292 src/game_events/pump.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/1111.html#L122'>gameboard</a>         122 src/game_initialization/playcampaign.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/1111.html#L127'>gameboard</a>         127 src/game_initialization/playcampaign.cpp 	if(resources::gameboard-&gt;teams().size() &lt; 1){</span>
<span class='curline'><a href='../S/1111.html#L147'>gameboard</a>         147 src/game_initialization/playcampaign.cpp 	std::vector&lt;team&gt;&amp; teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/427.html#L210'>gameboard</a>         210 src/gui/dialogs/attack_predictions.cpp 	const int tod_modifier = combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(),</span>
<span class='curline'><a href='../S/427.html#L220'>gameboard</a>         220 src/gui/dialogs/attack_predictions.cpp 	const int leadership_bonus = under_leadership(resources::gameboard-&gt;units(), attacker.unit_.get_location()).first;</span>
<span class='curline'><a href='../S/425.html#L167'>gameboard</a>         167 src/gui/dialogs/unit_list.cpp 		if(!unit-&gt;invisible(unit-&gt;get_location(), *resources::gameboard, false)) {</span>
<span class='curline'><a href='../S/421.html#L125'>gameboard</a>         125 src/gui/dialogs/unit_recall.cpp 	if(!resources::gameboard) {</span>
<span class='curline'><a href='../S/421.html#L129'>gameboard</a>         129 src/gui/dialogs/unit_recall.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/421.html#L132'>gameboard</a>         132 src/gui/dialogs/unit_recall.cpp 	for(const auto&amp; team : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/421.html#L140'>gameboard</a>         140 src/gui/dialogs/unit_recall.cpp 		unit_map::const_iterator leader = resources::gameboard-&gt;units().find_leader(side_num);</span>
<span class='curline'><a href='../S/421.html#L141'>gameboard</a>         141 src/gui/dialogs/unit_recall.cpp 		if(leader != resources::gameboard-&gt;units().end() &amp;&amp; !leader-&gt;name().empty()) {</span>
<span class='curline'><a href='../S/1091.html#L294'>gameboard</a>         294 src/map/label.cpp 		for(size_t i = 1; i &lt;= resources::gameboard-&gt;teams().size(); i++) {</span>
<span class='curline'><a href='../S/918.html#L1509'>gameboard</a>        1509 src/menu_events.cpp 				resources::gameboard-&gt;teams().begin(), resources::gameboard-&gt;teams().end(), save_id_matches(side));</span>
<span class='curline'><a href='../S/918.html#L1510'>gameboard</a>        1510 src/menu_events.cpp 		if(it_t == resources::gameboard-&gt;teams().end()) {</span>
<span class='curline'><a href='../S/918.html#L1789'>gameboard</a>        1789 src/menu_events.cpp 			resources::gamedata-&gt;get_variables(), *resources::game_events, *resources::gameboard);</span>
<span class='curline'><a href='../S/754.html#L240'>gameboard</a>         240 src/minimap.cpp 				int side = (resources::gameboard ? resources::gameboard-&gt;village_owner(loc) : -1); //check needed for mp create dialog</span>
<span class='curline'><a href='../S/848.html#L58'>gameboard</a>          58 src/pathfind/pathfind.cpp 		board = resources::gameboard;</span>
<span class='curline'><a href='../S/848.html#L122'>gameboard</a>         122 src/pathfind/pathfind.cpp 	                        nullptr, &amp;resources::gameboard-&gt;get_team(leader.side()));</span>
<span class='curline'><a href='../S/848.html#L144'>gameboard</a>         144 src/pathfind/pathfind.cpp 		const unit *u = resources::gameboard-&gt;get_visible_unit(locs[i], viewing_team, see_all);</span>
<span class='curline'><a href='../S/848.html#L276'>gameboard</a>         276 src/pathfind/pathfind.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/848.html#L282'>gameboard</a>         282 src/pathfind/pathfind.cpp 		viewing_team = &amp;resources::gameboard-&gt;teams().front();</span>
<span class='curline'><a href='../S/848.html#L394'>gameboard</a>         394 src/pathfind/pathfind.cpp 				const unit *v = resources::gameboard-&gt;get_visible_unit(next_hex, *viewing_team, see_all);</span>
<span class='curline'><a href='../S/848.html#L404'>gameboard</a>         404 src/pathfind/pathfind.cpp 				     !skirmisher-&gt;get_ability_bool("skirmisher", next_hex, *resources::gameboard) ) {</span>
<span class='curline'><a href='../S/848.html#L523'>gameboard</a>         523 src/pathfind/pathfind.cpp 	std::vector&lt;team&gt; const &amp;teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/848.html#L563'>gameboard</a>         563 src/pathfind/pathfind.cpp 	team const&amp; viewing_team = resources::gameboard-&gt;teams()[resources::screen-&gt;viewing_team()];</span>
<span class='curline'><a href='../S/848.html#L587'>gameboard</a>         587 src/pathfind/pathfind.cpp 	team const&amp; viewing_team = resources::gameboard-&gt;teams()[resources::screen-&gt;viewing_team()];</span>
<span class='curline'><a href='../S/848.html#L588'>gameboard</a>         588 src/pathfind/pathfind.cpp 	const unit_map::const_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/848.html#L632'>gameboard</a>         632 src/pathfind/pathfind.cpp 	unit_map::const_iterator it = resources::gameboard-&gt;units().find(rt.steps.front());</span>
<span class='curline'><a href='../S/848.html#L633'>gameboard</a>         633 src/pathfind/pathfind.cpp 	if (it == resources::gameboard-&gt;units().end()) return marked_route();</span>
<span class='curline'><a href='../S/848.html#L638'>gameboard</a>         638 src/pathfind/pathfind.cpp 	const team&amp; unit_team = resources::gameboard-&gt;get_team(u.side());</span>
<span class='curline'><a href='../S/848.html#L647'>gameboard</a>         647 src/pathfind/pathfind.cpp 		assert(last_step || resources::gameboard-&gt;map().on_board(*(i+1)));</span>
<span class='curline'><a href='../S/848.html#L648'>gameboard</a>         648 src/pathfind/pathfind.cpp 		const int move_cost = last_step ? 0 : u.movement_cost((resources::gameboard-&gt;map())[*(i+1)]);</span>
<span class='curline'><a href='../S/848.html#L650'>gameboard</a>         650 src/pathfind/pathfind.cpp 		team const&amp; viewing_team = resources::gameboard-&gt;teams()[resources::screen-&gt;viewing_team()];</span>
<span class='curline'><a href='../S/848.html#L657'>gameboard</a>         657 src/pathfind/pathfind.cpp 			bool capture = resources::gameboard-&gt;map().is_village(*i) &amp;&amp; ( !unit_team.owns_village(*i)</span>
<span class='curline'><a href='../S/848.html#L662'>gameboard</a>         662 src/pathfind/pathfind.cpp 			bool invisible = u.invisible(*i, *resources::gameboard, false);</span>
<span class='curline'><a href='../S/848.html#L675'>gameboard</a>         675 src/pathfind/pathfind.cpp 					&amp;&amp; !u.get_ability_bool("skirmisher", *(i+1), *resources::gameboard);</span>
<span class='curline'><a href='../S/848.html#L718'>gameboard</a>         718 src/pathfind/pathfind.cpp 			resources::gameboard-&gt;get_visible_unit(loc, viewing_team_, see_all_);</span>
<span class='curline'><a href='../S/848.html#L758'>gameboard</a>         758 src/pathfind/pathfind.cpp 			&amp;&amp; !unit_.get_ability_bool("skirmisher", loc, *resources::gameboard)) {</span>
<span class='curline'><a href='../S/848.html#L849'>gameboard</a>         849 src/pathfind/pathfind.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/848.html#L864'>gameboard</a>         864 src/pathfind/pathfind.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/848.html#L874'>gameboard</a>         874 src/pathfind/pathfind.cpp 	std::vector&lt;team&gt; const &amp;teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/848.html#L919'>gameboard</a>         919 src/pathfind/pathfind.cpp 	const gamemap&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/850.html#L127'>gameboard</a>         127 src/pathfind/teleport.cpp 		scoped_xy_unit teleport_unit("teleport_unit", loc, resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/850.html#L205'>gameboard</a>         205 src/pathfind/teleport.cpp 					u = resources::gameboard-&gt;units().find(*loc);</span>
<span class='curline'><a href='../S/850.html#L207'>gameboard</a>         207 src/pathfind/teleport.cpp 					u = resources::gameboard-&gt;find_visible_unit(*loc, viewing_team);</span>
<span class='curline'><a href='../S/850.html#L209'>gameboard</a>         209 src/pathfind/teleport.cpp 				if (u != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/850.html#L270'>gameboard</a>         270 src/pathfind/teleport.cpp 	if (u.get_ability_bool("teleport", *resources::gameboard)) {</span>
<span class='curline'><a href='../S/740.html#L140'>gameboard</a>         140 src/persist_var.cpp 			if (!resources::gameboard-&gt;has_team(side)) {</span>
<span class='curline'><a href='../S/740.html#L177'>gameboard</a>         177 src/persist_var.cpp 			if (!resources::gameboard-&gt;has_team(side)) {</span>
<span class='curline'><a href='../S/740.html#L180'>gameboard</a>         180 src/persist_var.cpp 			} else if (resources::gameboard-&gt;get_team(side).is_empty()) {</span>
<span class='curline'><a href='../S/740.html#L185'>gameboard</a>         185 src/persist_var.cpp 				valid = resources::gameboard-&gt;get_team(side).is_local();</span>
<span class='curline'><a href='../S/740.html#L216'>gameboard</a>         216 src/persist_var.cpp 			if (!resources::gameboard-&gt;has_team(side)) {</span>
<span class='curline'><a href='../S/740.html#L219'>gameboard</a>         219 src/persist_var.cpp 			} else if (resources::gameboard-&gt;get_team(side).is_empty()) {</span>
<span class='curline'><a href='../S/740.html#L224'>gameboard</a>         224 src/persist_var.cpp 				valid = resources::gameboard-&gt;get_team(side).is_local();</span>
<span class='curline'><a href='../S/818.html#L117'>gameboard</a>         117 src/play_controller.cpp 	resources::gameboard = nullptr;</span>
<span class='curline'><a href='../S/818.html#L213'>gameboard</a>         213 src/play_controller.cpp 		resources::gameboard = &amp;gamestate().board_;</span>
<span class='curline'><a href='../S/818.html#L296'>gameboard</a>         296 src/play_controller.cpp 	resources::gameboard = nullptr;</span>
<span class='curline'><a href='../S/818.html#L309'>gameboard</a>         309 src/play_controller.cpp 	resources::gameboard = &amp;gamestate().board_;</span>
<span class='curline'><a href='../S/818.html#L543'>gameboard</a>         543 src/play_controller.cpp 	resources::gameboard-&gt;unit_id_manager().reset_fake();</span>
<span class='curline'><a href='../S/84.html#L214'>gameboard</a>         214 src/playsingle_controller.cpp 				resources::gameboard-&gt;teams()[i].set_local(local_players[i]);</span>
<span class='curline'><a href='../S/763.html#L175'>gameboard</a>         175 src/playturn.cpp 		if(index &gt;= resources::gameboard-&gt;teams().size()) {</span>
<span class='curline'><a href='../S/763.html#L180'>gameboard</a>         180 src/playturn.cpp 		const team &amp; tm = resources::gameboard-&gt;teams().at(index);</span>
<span class='curline'><a href='../S/763.html#L183'>gameboard</a>         183 src/playturn.cpp 		resources::gameboard-&gt;side_change_controller(side, is_local, player);</span>
<span class='curline'><a href='../S/763.html#L189'>gameboard</a>         189 src/playturn.cpp 		if (resources::gameboard-&gt;is_observer() || (resources::gameboard-&gt;teams())[resources::screen-&gt;playing_team()].is_local_human()) {</span>
<span class='curline'><a href='../S/763.html#L214'>gameboard</a>         214 src/playturn.cpp 		if (index &gt;= resources::gameboard-&gt;teams().size()) {</span>
<span class='curline'><a href='../S/763.html#L226'>gameboard</a>         226 src/playturn.cpp 			resources::gameboard-&gt;side_drop_to(side_drop, ctrl);</span>
<span class='curline'><a href='../S/763.html#L244'>gameboard</a>         244 src/playturn.cpp 		const team &amp;tm = resources::gameboard-&gt;teams()[index];</span>
<span class='curline'><a href='../S/763.html#L246'>gameboard</a>         246 src/playturn.cpp 		for (const team &amp;t : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/763.html#L303'>gameboard</a>         303 src/playturn.cpp 				resources::gameboard-&gt;side_drop_to(side_drop, team::CONTROLLER::HUMAN, team::PROXY_CONTROLLER::PROXY_IDLE);</span>
<span class='curline'><a href='../S/763.html#L322'>gameboard</a>         322 src/playturn.cpp 					resources::gameboard-&gt;side_drop_to(side_drop, team::CONTROLLER::HUMAN, team::PROXY_CONTROLLER::PROXY_AI);</span>
<span class='curline'><a href='../S/763.html#L328'>gameboard</a>         328 src/playturn.cpp 					resources::gameboard-&gt;side_drop_to(side_drop, team::CONTROLLER::HUMAN, team::PROXY_CONTROLLER::PROXY_HUMAN);</span>
<span class='curline'><a href='../S/763.html#L332'>gameboard</a>         332 src/playturn.cpp 					resources::gameboard-&gt;side_drop_to(side_drop, team::CONTROLLER::HUMAN, team::PROXY_CONTROLLER::PROXY_IDLE);</span>
<span class='curline'><a href='../S/1098.html#L208'>gameboard</a>         208 src/replay.cpp 	unit_map::const_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/1098.html#L751'>gameboard</a>         751 src/replay.cpp 			unit_map::iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/1098.html#L796'>gameboard</a>         796 src/replay.cpp 					verify(resources::gameboard-&gt;units(), cfg_verify);</span>
<span class='curline'><a href='../S/1098.html#L806'>gameboard</a>         806 src/replay.cpp 			if (tval &lt;= 0  || tval &gt; int(resources::gameboard-&gt;teams().size())) {</span>
<span class='curline'><a href='../S/1098.html#L814'>gameboard</a>         814 src/replay.cpp 				resources::gameboard-&gt;get_team(tval).set_countdown_time(val);</span>
<span class='curline'><a href='../S/1098.html#L871'>gameboard</a>         871 src/replay.cpp 			verify(resources::gameboard-&gt;units(), child);</span>
<span class='curline'><a href='../S/695.html#L20'>gameboard</a>          20 src/resources.cpp 	game_board           *gameboard = nullptr;</span>
<span class='curline'><a href='../S/677.html#L50'>gameboard</a>          50 src/resources.hpp 	extern game_board             *gameboard;</span>
<span class='curline'><a href='../S/191.html#L145'>gameboard</a>         145 src/scripting/lua_formula_bridge.cpp 			unit_map::iterator un_it = resources::gameboard-&gt;units().find(u.get_location());</span>
<span class='curline'><a href='../S/199.html#L103'>gameboard</a>         103 src/scripting/lua_team.cpp 	auto d = [&amp;](){ return resources::gameboard-&gt;calculate_team_data(t); };</span>
<span class='curline'><a href='../S/189.html#L49'>gameboard</a>          49 src/scripting/lua_unit.cpp 		return resources::gameboard-&gt;get_team(side).recall_list().find_if_matches_underlying_id(uid).get();</span>
<span class='curline'><a href='../S/189.html#L51'>gameboard</a>          51 src/scripting/lua_unit.cpp 	unit_map::unit_iterator ui = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/189.html#L59'>gameboard</a>          59 src/scripting/lua_unit.cpp 		return resources::gameboard-&gt;get_team(side).recall_list().find_if_matches_underlying_id(uid);</span>
<span class='curline'><a href='../S/189.html#L61'>gameboard</a>          61 src/scripting/lua_unit.cpp 	unit_map::unit_iterator ui = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/189.html#L73'>gameboard</a>          73 src/scripting/lua_unit.cpp 		std::pair&lt;unit_map::unit_iterator, bool&gt; res = resources::gameboard-&gt;units().replace(loc, ptr);</span>
<span class='curline'><a href='../S/189.html#L82'>gameboard</a>          82 src/scripting/lua_unit.cpp 		unit_ptr it = resources::gameboard-&gt;get_team(side).recall_list().extract_if_matches_underlying_id(uid);</span>
<span class='curline'><a href='../S/189.html#L86'>gameboard</a>          86 src/scripting/lua_unit.cpp 			uid = resources::gameboard-&gt;units().replace(loc, it).first-&gt;underlying_id();</span>
<span class='curline'><a href='../S/189.html#L92'>gameboard</a>          92 src/scripting/lua_unit.cpp 		unit_map::unit_iterator ui = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/189.html#L93'>gameboard</a>          93 src/scripting/lua_unit.cpp 		if (ui != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/189.html#L96'>gameboard</a>          96 src/scripting/lua_unit.cpp 				resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/189.html#L97'>gameboard</a>          97 src/scripting/lua_unit.cpp 				resources::gameboard-&gt;units().move(from, loc);</span>
<span class='curline'><a href='../S/1019.html#L43'>gameboard</a>          43 src/statistics.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/1019.html#L44'>gameboard</a>          44 src/statistics.cpp 	return resources::gameboard-&gt;get_team(u.side()).save_id();</span>
<span class='curline'><a href='../S/854.html#L69'>gameboard</a>          69 src/synced_commands.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(current_team_num);</span>
<span class='curline'><a href='../S/854.html#L80'>gameboard</a>          80 src/synced_commands.cpp 	else if ( resources::gameboard-&gt;units().find(from) == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/854.html#L134'>gameboard</a>         134 src/synced_commands.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(current_team_num);</span>
<span class='curline'><a href='../S/854.html#L182'>gameboard</a>         182 src/synced_commands.cpp 	unit_map::iterator u = resources::gameboard-&gt;units().find(src);</span>
<span class='curline'><a href='../S/854.html#L200'>gameboard</a>         200 src/synced_commands.cpp 	unit_map::const_iterator tgt = resources::gameboard-&gt;units().find(dst);</span>
<span class='curline'><a href='../S/854.html#L233'>gameboard</a>         233 src/synced_commands.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(current_team_num);</span>
<span class='curline'><a href='../S/854.html#L256'>gameboard</a>         256 src/synced_commands.cpp 	team &amp;current_team = resources::gameboard-&gt;get_team(current_team_num);</span>
<span class='curline'><a href='../S/854.html#L282'>gameboard</a>         282 src/synced_commands.cpp 	unit_map::iterator u = resources::gameboard-&gt;find_visible_unit(dst, current_team);</span>
<span class='curline'><a href='../S/854.html#L290'>gameboard</a>         290 src/synced_commands.cpp 	u = resources::gameboard-&gt;units().find(src);</span>
<span class='curline'><a href='../S/854.html#L407'>gameboard</a>         407 src/synced_commands.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L408'>gameboard</a>         408 src/synced_commands.cpp 	if (i == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/854.html#L417'>gameboard</a>         417 src/synced_commands.cpp 			i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L445'>gameboard</a>         445 src/synced_commands.cpp 			resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/854.html#L446'>gameboard</a>         446 src/synced_commands.cpp 			resources::gameboard-&gt;units().insert(new_u);</span>
<span class='curline'><a href='../S/854.html#L482'>gameboard</a>         482 src/synced_commands.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().replace(loc, created);</span>
<span class='curline'><a href='../S/854.html#L488'>gameboard</a>         488 src/synced_commands.cpp 	if ( resources::gameboard-&gt;map().is_village(loc) )</span>
<span class='curline'><a href='../S/854.html#L521'>gameboard</a>         521 src/synced_commands.cpp 	const unit_map::iterator i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L522'>gameboard</a>         522 src/synced_commands.cpp 	if (i != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/854.html#L534'>gameboard</a>         534 src/synced_commands.cpp 			resources::gameboard-&gt;units().erase(i);</span>
<span class='curline'><a href='../S/765.html#L241'>gameboard</a>         241 src/synced_context.cpp 	return resources::gameboard-&gt;unit_id_manager().get_save_id() - last_unit_id_;</span>
<span class='curline'><a href='../S/765.html#L386'>gameboard</a>         386 src/synced_context.cpp 	synced_context::set_last_unit_id(resources::gameboard-&gt;unit_id_manager().get_save_id());</span>
<span class='curline'><a href='../S/765.html#L443'>gameboard</a>         443 src/synced_context.cpp 		"next_unit_id", resources::gameboard-&gt;unit_id_manager().get_save_id() + 1,</span>
<span class='curline'><a href='../S/952.html#L106'>gameboard</a>         106 src/synced_user_choice.cpp 	const int max_side  = static_cast&lt;int&gt;(resources::gameboard-&gt;teams().size());</span>
<span class='curline'><a href='../S/952.html#L123'>gameboard</a>         123 src/synced_user_choice.cpp 		if( resources::gameboard-&gt;get_team(side).is_empty())</span>
<span class='curline'><a href='../S/952.html#L153'>gameboard</a>         153 src/synced_user_choice.cpp 	const int max_side  = static_cast&lt;int&gt;(resources::gameboard-&gt;teams().size());</span>
<span class='curline'><a href='../S/952.html#L189'>gameboard</a>         189 src/synced_user_choice.cpp 	is_side_null_controlled = resources::gameboard-&gt;get_team(side).is_empty();</span>
<span class='curline'><a href='../S/952.html#L205'>gameboard</a>         205 src/synced_user_choice.cpp 		while ( side &lt;= max_side  &amp;&amp;  resources::gameboard-&gt;get_team(side).is_empty() )</span>
<span class='curline'><a href='../S/952.html#L236'>gameboard</a>         236 src/synced_user_choice.cpp 	const int max_side  = static_cast&lt;int&gt;(resources::gameboard-&gt;teams().size());</span>
<span class='curline'><a href='../S/952.html#L241'>gameboard</a>         241 src/synced_user_choice.cpp 		const team&amp; t = resources::gameboard-&gt;get_team(side);</span>
<span class='curline'><a href='../S/952.html#L320'>gameboard</a>         320 src/synced_user_choice.cpp 			if(resources::gameboard-&gt;get_team(side).is_local() &amp;&amp; !resources::gameboard-&gt;get_team(side).is_idle())</span>
<span class='curline'><a href='../S/957.html#L443'>gameboard</a>         443 src/team.cpp   	if(!resources::gameboard || index &gt;= resources::gameboard-&gt;teams().size()) {</span>
<span class='curline'><a href='../S/957.html#L455'>gameboard</a>         455 src/team.cpp   	if(&amp;resources::gameboard-&gt;teams()[index] == this) {</span>
<span class='curline'><a href='../S/957.html#L461'>gameboard</a>         461 src/team.cpp   						   their_teams = utils::split(resources::gameboard-&gt;teams()[index].info_.team_name);</span>
<span class='curline'><a href='../S/957.html#L463'>gameboard</a>         463 src/team.cpp   	LOG_NGE &lt;&lt; "team " &lt;&lt; info_.side &lt;&lt; " calculates if it has enemy in team "&lt;&lt;index+1 &lt;&lt; "; our team_name ["&lt;&lt;info_.team_name&lt;&lt;"], their team_name is ["&lt;&lt;resources::gameboard-&gt;teams()[index].info_.team_name&lt;&lt;"]"&lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/957.html#L551'>gameboard</a>         551 src/team.cpp   	if(resources::gameboard) {</span>
<span class='curline'><a href='../S/957.html#L552'>gameboard</a>         552 src/team.cpp   		for(auto&amp; t : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/957.html#L569'>gameboard</a>         569 src/team.cpp   	if(!resources::gameboard)</span>
<span class='curline'><a href='../S/957.html#L572'>gameboard</a>         572 src/team.cpp   	return shroud_.shared_value(ally_shroud(resources::gameboard-&gt;teams()),loc.wml_x(),loc.wml_y());</span>
<span class='curline'><a href='../S/957.html#L583'>gameboard</a>         583 src/team.cpp   	if(!resources::gameboard)</span>
<span class='curline'><a href='../S/957.html#L586'>gameboard</a>         586 src/team.cpp   	return fog_.shared_value(ally_fog(resources::gameboard-&gt;teams()),loc.wml_x(),loc.wml_y());</span>
<span class='curline'><a href='../S/957.html#L617'>gameboard</a>         617 src/team.cpp   	const team&amp; t = resources::gameboard-&gt;teams()[index];</span>
<span class='curline'><a href='../S/957.html#L659'>gameboard</a>         659 src/team.cpp   	if(!resources::gameboard) {</span>
<span class='curline'><a href='../S/957.html#L663'>gameboard</a>         663 src/team.cpp   	if(side &lt; 1 || side &gt; int(resources::gameboard-&gt;teams().size())) {</span>
<span class='curline'><a href='../S/957.html#L844'>gameboard</a>         844 src/team.cpp   	if(resources::gameboard &amp;&amp; index &lt; resources::gameboard-&gt;teams().size()) {</span>
<span class='curline'><a href='../S/957.html#L845'>gameboard</a>         845 src/team.cpp   		const std::string side_map = resources::gameboard-&gt;teams()[index].color();</span>
<span class='curline'><a href='../S/957.html#L878'>gameboard</a>         878 src/team.cpp   	for(const team&amp; t : resources::gameboard-&gt;teams())</span>
<span class='curline'><a href='../S/856.html#L230'>gameboard</a>         230 src/tod_manager.cpp 			    itor-&gt;get_ability_bool("illuminates", *resources::gameboard) &amp;&amp;</span>
<span class='curline'><a href='../S/995.html#L199'>gameboard</a>         199 src/units/abilities.cpp 			if (affects_side(j, resources::gameboard-&gt;teams(), side(), it-&gt;side()) &amp;&amp;</span>
<span class='curline'><a href='../S/989.html#L220'>gameboard</a>         220 src/units/udisplay.cpp 	is_enemy_ =	resources::gameboard-&gt;get_team(u-&gt;side()).is_enemy(disp_-&gt;viewing_side());</span>
<span class='curline'><a href='../S/1007.html#L410'>gameboard</a>         410 src/units/unit.cpp 	set_underlying_id(resources::gameboard ? resources::gameboard-&gt;unit_id_manager() : n_unit::id_manager::global_instance());</span>
<span class='curline'><a href='../S/1007.html#L704'>gameboard</a>         704 src/units/unit.cpp 	set_underlying_id(resources::gameboard ? resources::gameboard-&gt;unit_id_manager() : n_unit::id_manager::global_instance());</span>
<span class='curline'><a href='../S/1007.html#L2110'>gameboard</a>        2110 src/units/unit.cpp 		const int recall_cost = recall_cost_ &lt; 0 ? resources::gameboard-&gt;teams().at(side_).recall_cost() : recall_cost_;</span>
<span class='curline'><a href='../S/1007.html#L2334'>gameboard</a>        2334 src/units/unit.cpp 		is_inv = (resources::gameboard ? !resources::gameboard-&gt;would_be_discovered(loc, side_,see_all) : true);</span>
<span class='curline'><a href='../S/1007.html#L2395'>gameboard</a>        2395 src/units/unit.cpp 	n_unit::id_manager&amp; ids = resources::gameboard ? resources::gameboard-&gt;unit_id_manager() : n_unit::id_manager::global_instance();</span>
<span class='curline'><a href='../S/1007.html#L2429'>gameboard</a>        2429 src/units/unit.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/1007.html#L2431'>gameboard</a>        2431 src/units/unit.cpp 		if(!resources::gameboard-&gt;units().has_unit(&amp;u_)) {</span>
<span class='curline'><a href='../S/933.html#L532'>gameboard</a>         532 src/variable.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/933.html#L534'>gameboard</a>         534 src/variable.cpp 	const std::vector&lt;team&gt;&amp; teams = resources::gameboard-&gt;teams();</span>
<span class='curline'><a href='../S/1225.html#L108'>gameboard</a>         108 src/whiteboard/action.cpp 			|| team_index_temp &gt;= static_cast&lt;int&gt;(resources::gameboard-&gt;teams().size()))</span>
<span class='curline'><a href='../S/1237.html#L140'>gameboard</a>         140 src/whiteboard/attack.cpp 	unit_map::const_iterator survivor = resources::gameboard-&gt;units().find(get_dest_hex());</span>
<span class='curline'><a href='../S/1237.html#L237'>gameboard</a>         237 src/whiteboard/attack.cpp 	if(resources::gameboard-&gt;units().find(target_hex_) == resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/1237.html#L245'>gameboard</a>         245 src/whiteboard/attack.cpp 	if(!resources::gameboard-&gt;get_team(get_unit()-&gt;side()).is_enemy(resources::gameboard-&gt;units().find(target_hex_)-&gt;side())){</span>
<span class='curline'><a href='../S/1236.html#L88'>gameboard</a>          88 src/whiteboard/highlighter.cpp 		if(resources::gameboard-&gt;get_team(it-&gt;side()).get_side_actions()-&gt;unit_has_actions(*it)) {</span>
<span class='curline'><a href='../S/1236.html#L191'>gameboard</a>         191 src/whiteboard/highlighter.cpp 		side_actions&amp; sa = *resources::gameboard-&gt;teams().at(move-&gt;team_index()).get_side_actions().get();</span>
<span class='curline'><a href='../S/1236.html#L369'>gameboard</a>         369 src/whiteboard/highlighter.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/1236.html#L370'>gameboard</a>         370 src/whiteboard/highlighter.cpp 	return resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/1233.html#L81'>gameboard</a>          81 src/whiteboard/manager.cpp 		net_buffer_(resources::gameboard-&gt;teams().size()),</span>
<span class='curline'><a href='../S/1233.html#L82'>gameboard</a>          82 src/whiteboard/manager.cpp 		team_plans_hidden_(resources::gameboard-&gt;teams().size()),</span>
<span class='curline'><a href='../S/1233.html#L148'>gameboard</a>         148 src/whiteboard/manager.cpp 					|| resources::gameboard == nullptr</span>
<span class='curline'><a href='../S/1233.html#L150'>gameboard</a>         150 src/whiteboard/manager.cpp 					|| resources::gameboard-&gt;is_observer()</span>
<span class='curline'><a href='../S/1233.html#L332'>gameboard</a>         332 src/whiteboard/manager.cpp 	side_actions_ptr side_actions = resources::gameboard-&gt;teams().at(action-&gt;team_index()).get_side_actions();</span>
<span class='curline'><a href='../S/1233.html#L348'>gameboard</a>         348 src/whiteboard/manager.cpp 	for(team&amp; t : resources::gameboard-&gt;teams()){</span>
<span class='curline'><a href='../S/1233.html#L357'>gameboard</a>         357 src/whiteboard/manager.cpp 	if(!resources::gameboard-&gt;teams().at(team_index).is_local_human())</span>
<span class='curline'><a href='../S/1233.html#L361'>gameboard</a>         361 src/whiteboard/manager.cpp 		for(team&amp; t : resources::gameboard-&gt;teams())</span>
<span class='curline'><a href='../S/1233.html#L403'>gameboard</a>         403 src/whiteboard/manager.cpp 		size_t num_teams = resources::gameboard-&gt;teams().size();</span>
<span class='curline'><a href='../S/1233.html#L406'>gameboard</a>         406 src/whiteboard/manager.cpp 			team&amp; local_team = resources::gameboard-&gt;teams().at(i);</span>
<span class='curline'><a href='../S/1233.html#L523'>gameboard</a>         523 src/whiteboard/manager.cpp 			unit_map::iterator unit_iter = resources::gameboard-&gt;units().find(unit_id);</span>
<span class='curline'><a href='../S/1233.html#L534'>gameboard</a>         534 src/whiteboard/manager.cpp 		unit_map::iterator unit_iter = resources::gameboard-&gt;units().find(unit_id);</span>
<span class='curline'><a href='../S/1233.html#L557'>gameboard</a>         557 src/whiteboard/manager.cpp 		for (team&amp; t : resources::gameboard-&gt;teams())</span>
<span class='curline'><a href='../S/1233.html#L574'>gameboard</a>         574 src/whiteboard/manager.cpp 		hex_has_unit = resources::gameboard-&gt;units().find(selected_hex) != resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/1233.html#L613'>gameboard</a>         613 src/whiteboard/manager.cpp 		wb_cfg["to_sides"] = resources::gameboard-&gt;teams().at(team_index).allied_human_teams();</span>
<span class='curline'><a href='../S/1233.html#L631'>gameboard</a>         631 src/whiteboard/manager.cpp 		team&amp; team_from = resources::gameboard-&gt;get_team(wb_cfg["side"]);</span>
<span class='curline'><a href='../S/1233.html#L797'>gameboard</a>         797 src/whiteboard/manager.cpp 	return resources::gameboard-&gt;units().find(temp_move_unit_underlying_id_);</span>
<span class='curline'><a href='../S/1233.html#L1054'>gameboard</a>        1054 src/whiteboard/manager.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/1233.html#L1061'>gameboard</a>        1061 src/whiteboard/manager.cpp 	assert(resources::gameboard);</span>
<span class='curline'><a href='../S/1233.html#L1070'>gameboard</a>        1070 src/whiteboard/manager.cpp 	return resources::gameboard-&gt;get_team(side).get_side_actions()-&gt;get_gold_spent();</span>
<span class='curline'><a href='../S/1233.html#L1087'>gameboard</a>        1087 src/whiteboard/manager.cpp 	for(team &amp;t : resources::gameboard-&gt;teams())</span>
<span class='curline'><a href='../S/1233.html#L1152'>gameboard</a>        1152 src/whiteboard/manager.cpp 	mapbuilder_.reset(new mapbuilder(resources::gameboard-&gt;units()));</span>
<span class='curline'><a href='../S/1244.html#L59'>gameboard</a>          59 src/whiteboard/mapbuilder.cpp 	for (team&amp; t : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/1244.html#L65'>gameboard</a>          65 src/whiteboard/mapbuilder.cpp 	for (unit&amp; u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/1244.html#L71'>gameboard</a>          71 src/whiteboard/mapbuilder.cpp 		if(!on_current_side &amp;&amp; !u.is_visible_to_team(resources::gameboard-&gt;teams()[viewer_team()], *resources::gameboard, false)) {</span>
<span class='curline'><a href='../S/1244.html#L72'>gameboard</a>          72 src/whiteboard/mapbuilder.cpp 			removers_.push_back(new temporary_unit_remover(resources::gameboard-&gt;units(), u.get_location()));</span>
<span class='curline'><a href='../S/1244.html#L99'>gameboard</a>          99 src/whiteboard/mapbuilder.cpp 		for (team &amp;side : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/1242.html#L103'>gameboard</a>         103 src/whiteboard/move.cpp 	unit_map::iterator unit_itor = resources::gameboard-&gt;units().find(cfg["unit_"]);</span>
<span class='curline'><a href='../S/1242.html#L104'>gameboard</a>         104 src/whiteboard/move.cpp 	if(unit_itor == resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/1242.html#L163'>gameboard</a>         163 src/whiteboard/move.cpp 	side_actions_ptr side_actions = resources::gameboard-&gt;teams().at(team_index()).get_side_actions();</span>
<span class='curline'><a href='../S/1242.html#L240'>gameboard</a>         240 src/whiteboard/move.cpp 	unit_map::const_iterator unit_it = resources::gameboard-&gt;units().find(final_location);</span>
<span class='curline'><a href='../S/1242.html#L248'>gameboard</a>         248 src/whiteboard/move.cpp 	else if ( unit_it == resources::gameboard-&gt;units().end()  ||  unit_it-&gt;id() != unit_id_ )</span>
<span class='curline'><a href='../S/1242.html#L289'>gameboard</a>         289 src/whiteboard/move.cpp 	unit_map::iterator itor = resources::gameboard-&gt;units().find(unit_underlying_id_);</span>
<span class='curline'><a href='../S/1242.html#L319'>gameboard</a>         319 src/whiteboard/move.cpp 						resources::gameboard-&gt;teams().at(team_index()),</span>
<span class='curline'><a href='../S/1242.html#L320'>gameboard</a>         320 src/whiteboard/move.cpp 						resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/1242.html#L322'>gameboard</a>         322 src/whiteboard/move.cpp 						dest_hex, 10000, path_calc, resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h());</span>
<span class='curline'><a href='../S/1242.html#L374'>gameboard</a>         374 src/whiteboard/move.cpp 			unit_map::iterator unit_it = resources::gameboard-&gt;units().find(get_dest_hex());</span>
<span class='curline'><a href='../S/1242.html#L375'>gameboard</a>         375 src/whiteboard/move.cpp 			assert(unit_it != resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/1242.html#L462'>gameboard</a>         462 src/whiteboard/move.cpp 	unit_it = resources::gameboard-&gt;units().find(get_source_hex());</span>
<span class='curline'><a href='../S/1242.html#L463'>gameboard</a>         463 src/whiteboard/move.cpp 	if(unit_it == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1242.html#L474'>gameboard</a>         474 src/whiteboard/move.cpp 	if(get_route().steps.size() &gt;= 2 &amp;&amp; resources::gameboard-&gt;get_visible_unit(get_dest_hex(),resources::gameboard-&gt;teams().at(viewer_team())) != nullptr) {</span>
<span class='curline'><a href='../S/1235.html#L77'>gameboard</a>          77 src/whiteboard/recall.cpp 	for(const unit_const_ptr &amp; recall_unit : resources::gameboard-&gt;teams().at(team_index()).recall_list())</span>
<span class='curline'><a href='../S/1235.html#L117'>gameboard</a>         117 src/whiteboard/recall.cpp 	team &amp; current_team = resources::gameboard-&gt;teams().at(team_index());</span>
<span class='curline'><a href='../S/1235.html#L149'>gameboard</a>         149 src/whiteboard/recall.cpp 	unit_ptr it = resources::gameboard-&gt;teams().at(team_index()).recall_list().extract_if_matches_id(temp_unit_-&gt;id());</span>
<span class='curline'><a href='../S/1235.html#L153'>gameboard</a>         153 src/whiteboard/recall.cpp 	int cost = resources::gameboard-&gt;teams().at(team_index()).recall_cost();</span>
<span class='curline'><a href='../S/1235.html#L162'>gameboard</a>         162 src/whiteboard/recall.cpp 	resources::gameboard-&gt;teams().at(team_index()).get_side_actions()-&gt;change_gold_spent_by(cost);</span>
<span class='curline'><a href='../S/1235.html#L173'>gameboard</a>         173 src/whiteboard/recall.cpp 	resources::gameboard-&gt;teams().at(team_index()).recall_list().add(temp_unit_);</span>
<span class='curline'><a href='../S/1235.html#L187'>gameboard</a>         187 src/whiteboard/recall.cpp 			number_text &lt;&lt; font::unicode_minus &lt;&lt; resources::gameboard-&gt;teams().at(team_index()).recall_cost();</span>
<span class='curline'><a href='../S/1235.html#L207'>gameboard</a>         207 src/whiteboard/recall.cpp 	if(resources::gameboard-&gt;units().find(recall_hex_) != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1235.html#L211'>gameboard</a>         211 src/whiteboard/recall.cpp 	if( !resources::gameboard-&gt;teams()[team_index()].recall_list().find_if_matches_id(temp_unit_-&gt;id()) ) {</span>
<span class='curline'><a href='../S/1235.html#L215'>gameboard</a>         215 src/whiteboard/recall.cpp 	if(resources::gameboard-&gt;teams()[team_index()].recall_cost() &gt; resources::gameboard-&gt;teams()[team_index()].gold()) {</span>
<span class='curline'><a href='../S/1223.html#L112'>gameboard</a>         112 src/whiteboard/recruit.cpp 	resources::gameboard-&gt;teams().at(team_index()).get_side_actions()-&gt;change_gold_spent_by(-cost_);</span>
<span class='curline'><a href='../S/1223.html#L116'>gameboard</a>         116 src/whiteboard/recruit.cpp 		resources::gameboard-&gt;teams().at(team_index()).get_side_actions()-&gt;change_gold_spent_by(cost_);</span>
<span class='curline'><a href='../S/1223.html#L130'>gameboard</a>         130 src/whiteboard/recruit.cpp 	resources::gameboard-&gt;teams().at(team_index()).get_side_actions()-&gt;change_gold_spent_by(cost_);</span>
<span class='curline'><a href='../S/1223.html#L185'>gameboard</a>         185 src/whiteboard/recruit.cpp 	if(resources::gameboard-&gt;units().find(recruit_hex_) != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1223.html#L190'>gameboard</a>         190 src/whiteboard/recruit.cpp 	const std::set&lt;std::string&gt;&amp; recruits = resources::gameboard-&gt;teams()[team_index()].recruits();</span>
<span class='curline'><a href='../S/1223.html#L195'>gameboard</a>         195 src/whiteboard/recruit.cpp 	if(temp_unit_-&gt;cost() &gt; resources::gameboard-&gt;teams()[team_index()].gold()) {</span>
<span class='curline'><a href='../S/1222.html#L76'>gameboard</a>          76 src/whiteboard/suppose_dead.cpp 	unit_map::iterator unit_itor = resources::gameboard-&gt;units().find(cfg["unit_"]);</span>
<span class='curline'><a href='../S/1222.html#L77'>gameboard</a>          77 src/whiteboard/suppose_dead.cpp 	if(unit_itor == resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/1222.html#L100'>gameboard</a>         100 src/whiteboard/suppose_dead.cpp 	unit_map::iterator itor = resources::gameboard-&gt;units().find(unit_underlying_id_);</span>
<span class='curline'><a href='../S/1222.html#L129'>gameboard</a>         129 src/whiteboard/suppose_dead.cpp 	unit_map::iterator unit_it = resources::gameboard-&gt;units().find(loc_);</span>
<span class='curline'><a href='../S/1222.html#L130'>gameboard</a>         130 src/whiteboard/suppose_dead.cpp 	assert(unit_it == resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/1222.html#L161'>gameboard</a>         161 src/whiteboard/suppose_dead.cpp 	unit_map::const_iterator unit_it = resources::gameboard-&gt;units().find(get_source_hex());</span>
<span class='curline'><a href='../S/1222.html#L162'>gameboard</a>         162 src/whiteboard/suppose_dead.cpp 	if(unit_it == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1234.html#L53'>gameboard</a>          53 src/whiteboard/utility.cpp 			resources::gameboard-&gt;teams()[resources::screen-&gt;viewing_team()].get_side_actions();</span>
<span class='curline'><a href='../S/1234.html#L60'>gameboard</a>          60 src/whiteboard/utility.cpp 			resources::gameboard-&gt;get_team(resources::controller-&gt;current_side()).get_side_actions();</span>
<span class='curline'><a href='../S/1234.html#L67'>gameboard</a>          67 src/whiteboard/utility.cpp 	assert(resources::gameboard-&gt;map().is_keep(leader.get_location()));</span>
<span class='curline'><a href='../S/1234.html#L68'>gameboard</a>          68 src/whiteboard/utility.cpp 	for (unit_map::const_iterator unit = resources::gameboard-&gt;units().begin(); unit != resources::gameboard-&gt;units().end(); unit++)</span>
<span class='curline'><a href='../S/1234.html#L81'>gameboard</a>          81 src/whiteboard/utility.cpp 	if ( !resources::gameboard-&gt;map().is_castle(hex) )</span>
<span class='curline'><a href='../S/1234.html#L84'>gameboard</a>          84 src/whiteboard/utility.cpp 	for(unit&amp; u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/1234.html#L101'>gameboard</a>         101 src/whiteboard/utility.cpp 	return resources::gameboard-&gt;get_visible_unit(hex, resources::gameboard-&gt;get_team(viewer_side), false);</span>
<span class='curline'><a href='../S/1234.html#L118'>gameboard</a>         118 src/whiteboard/utility.cpp 	team const&amp; u_team = resources::gameboard-&gt;get_team(u.side());</span>
<span class='curline'><a href='../S/1234.html#L120'>gameboard</a>         120 src/whiteboard/utility.cpp 	if ( (resources::gameboard-&gt;map().is_village(dest) &amp;&amp; !u_team.owns_village(dest))</span>
<span class='curline'><a href='../S/1234.html#L125'>gameboard</a>         125 src/whiteboard/utility.cpp 	gamemap const&amp; map = resources::gameboard-&gt;map();</span>
<span class='curline'><a href='../S/1234.html#L156'>gameboard</a>         156 src/whiteboard/utility.cpp 	for (team&amp; t : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/1234.html#L174'>gameboard</a>         174 src/whiteboard/utility.cpp 		for(team &amp;side : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/1234.html#L191'>gameboard</a>         191 src/whiteboard/utility.cpp 	for(team &amp;side : resources::gameboard-&gt;teams()) {</span>
<span class='curline'><a href='../S/1234.html#L212'>gameboard</a>         212 src/whiteboard/utility.cpp 	return resources::gameboard-&gt;get_team(target.side()).get_side_actions()-&gt;actions_of(target);</span>
</pre>
</body>
</html>
