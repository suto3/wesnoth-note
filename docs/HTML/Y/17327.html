<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ref_unit</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/311.html#L100'>ref_unit</a>          100 src/terrain/filter.cpp bool terrain_filter::match_internal(const map_location&amp; loc, const unit* ref_unit, const bool ignore_xy) const</span>
<span class='curline'><a href='../S/311.html#L333'>ref_unit</a>          333 src/terrain/filter.cpp 			if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L334'>ref_unit</a>          334 src/terrain/filter.cpp 				std::shared_ptr&lt;wfl::unit_callable&gt; ref(new wfl::unit_callable(*ref_unit));</span>
<span class='curline'><a href='../S/311.html#L363'>ref_unit</a>          363 src/terrain/filter.cpp bool terrain_filter::match_impl(const map_location&amp; loc, const unit* ref_unit) const</span>
<span class='curline'><a href='../S/311.html#L372'>ref_unit</a>          372 src/terrain/filter.cpp 	if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L373'>ref_unit</a>          373 src/terrain/filter.cpp 		if(fc_-&gt;get_disp_context().map().on_board(ref_unit-&gt;get_location())) {</span>
<span class='curline'><a href='../S/311.html#L374'>ref_unit</a>          374 src/terrain/filter.cpp 			ref_unit_var.reset(new scoped_xy_unit("teleport_unit", ref_unit-&gt;get_location(), fc_-&gt;get_disp_context().units()));</span>
<span class='curline'><a href='../S/311.html#L391'>ref_unit</a>          391 src/terrain/filter.cpp 		if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L392'>ref_unit</a>          392 src/terrain/filter.cpp 			get_tiles_radius(fc_-&gt;get_disp_context().map(), loc_vec, radius, hexes, false, filter_with_unit(r_filter, *ref_unit));</span>
<span class='curline'><a href='../S/311.html#L403'>ref_unit</a>          403 src/terrain/filter.cpp 		bool matches = match_internal(*i, ref_unit, false);</span>
<span class='curline'><a href='../S/311.html#L416'>ref_unit</a>          416 src/terrain/filter.cpp 				matches = matches &amp;&amp; terrain_filter(cond_cfg, *this).match_impl(*i, ref_unit);</span>
<span class='curline'><a href='../S/311.html#L421'>ref_unit</a>          421 src/terrain/filter.cpp 				matches = matches || terrain_filter(cond_cfg, *this).match_impl(*i, ref_unit);</span>
<span class='curline'><a href='../S/311.html#L426'>ref_unit</a>          426 src/terrain/filter.cpp 				matches = matches &amp;&amp; !terrain_filter(cond_cfg, *this).match_impl(*i, ref_unit);</span>
<span class='curline'><a href='../S/311.html#L507'>ref_unit</a>          507 src/terrain/filter.cpp void terrain_filter::get_locs_impl(std::set&lt;map_location&gt;&amp; locs, const unit* ref_unit, bool with_border) const</span>
<span class='curline'><a href='../S/311.html#L510'>ref_unit</a>          510 src/terrain/filter.cpp 	if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L511'>ref_unit</a>          511 src/terrain/filter.cpp 		if(fc_-&gt;get_disp_context().map().on_board(ref_unit-&gt;get_location())) {</span>
<span class='curline'><a href='../S/311.html#L512'>ref_unit</a>          512 src/terrain/filter.cpp 			ref_unit_var.reset(new scoped_xy_unit("teleport_unit", ref_unit-&gt;get_location(), fc_-&gt;get_disp_context().units()));</span>
<span class='curline'><a href='../S/311.html#L583'>ref_unit</a>          583 src/terrain/filter.cpp 		if(match_internal(*loc_itor, ref_unit, true)) {</span>
<span class='curline'><a href='../S/307.html#L50'>ref_unit</a>           50 src/terrain/filter.hpp 	bool match(const map_location&amp; loc, const unit&amp; ref_unit) const {</span>
<span class='curline'><a href='../S/307.html#L51'>ref_unit</a>           51 src/terrain/filter.hpp 		return match_impl(loc, &amp;ref_unit);</span>
<span class='curline'><a href='../S/307.html#L67'>ref_unit</a>           67 src/terrain/filter.hpp 	void get_locations(std::set&lt;map_location&gt;&amp; locs, const unit&amp; ref_unit, bool with_border=false) const {</span>
<span class='curline'><a href='../S/307.html#L68'>ref_unit</a>           68 src/terrain/filter.hpp 		return get_locs_impl(locs, &amp;ref_unit, with_border);</span>
<span class='curline'><a href='../S/307.html#L77'>ref_unit</a>           77 src/terrain/filter.hpp 	bool match_impl(const map_location&amp; loc, const unit* ref_unit) const;</span>
<span class='curline'><a href='../S/307.html#L78'>ref_unit</a>           78 src/terrain/filter.hpp 	void get_locs_impl(std::set&lt;map_location&gt;&amp; locs, const unit* ref_unit, bool with_border) const;</span>
<span class='curline'><a href='../S/307.html#L79'>ref_unit</a>           79 src/terrain/filter.hpp 	bool match_internal(const map_location&amp; loc, const unit* ref_unit, const bool ignore_xy) const;</span>
</pre>
</body>
</html>
