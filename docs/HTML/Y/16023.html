<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>patient</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/876.html#L44'>patient</a>            44 src/actions/heal.cpp 		heal_unit(unit &amp;patient, const std::vector&lt;unit *&gt; &amp;treaters, int healing,</span>
<span class='curline'><a href='../S/876.html#L46'>patient</a>            46 src/actions/heal.cpp 			healed(patient),</span>
<span class='curline'><a href='../S/876.html#L82'>patient</a>            82 src/actions/heal.cpp 	POISON_STATUS poison_progress(int side, const unit &amp; patient,</span>
<span class='curline'><a href='../S/876.html#L91'>patient</a>            91 src/actions/heal.cpp 		if ( patient.side() == side )</span>
<span class='curline'><a href='../S/876.html#L94'>patient</a>            94 src/actions/heal.cpp 			if ( resources::gameboard-&gt;map().gives_healing(patient.get_location()) )</span>
<span class='curline'><a href='../S/876.html#L98'>patient</a>            98 src/actions/heal.cpp 			for (const unit_ability &amp; regen : patient.get_abilities("regenerate"))</span>
<span class='curline'><a href='../S/876.html#L110'>patient</a>           110 src/actions/heal.cpp 		for (const unit_ability &amp; heal : patient.get_abilities("heals"))</span>
<span class='curline'><a href='../S/876.html#L179'>patient</a>           179 src/actions/heal.cpp 	int heal_amount(int side, const unit &amp; patient, std::vector&lt;unit *&gt; &amp; healers)</span>
<span class='curline'><a href='../S/876.html#L187'>patient</a>           187 src/actions/heal.cpp 		if ( patient.side() == side )</span>
<span class='curline'><a href='../S/876.html#L191'>patient</a>           191 src/actions/heal.cpp 			               resources::gameboard-&gt;map().gives_healing(patient.get_location()));</span>
<span class='curline'><a href='../S/876.html#L194'>patient</a>           194 src/actions/heal.cpp 			unit_ability_list regen_list = patient.get_abilities("regenerate");</span>
<span class='curline'><a href='../S/876.html#L200'>patient</a>           200 src/actions/heal.cpp 		unit_ability_list heal_list = patient.get_abilities("heals");</span>
<span class='curline'><a href='../S/876.html#L233'>patient</a>           233 src/actions/heal.cpp 	void do_heal(unit &amp;patient, int amount, bool cure_poison)</span>
<span class='curline'><a href='../S/876.html#L236'>patient</a>           236 src/actions/heal.cpp 			patient.set_state(unit::STATE_POISONED, false);</span>
<span class='curline'><a href='../S/876.html#L238'>patient</a>           238 src/actions/heal.cpp 			patient.heal(amount);</span>
<span class='curline'><a href='../S/876.html#L240'>patient</a>           240 src/actions/heal.cpp 			patient.take_hit(-amount);</span>
<span class='curline'><a href='../S/876.html#L299'>patient</a>           299 src/actions/heal.cpp 	for (unit &amp;patient : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/876.html#L301'>patient</a>           301 src/actions/heal.cpp 		if ( patient.get_state("unhealable") || patient.incapacitated() ) {</span>
<span class='curline'><a href='../S/876.html#L302'>patient</a>           302 src/actions/heal.cpp 			if ( patient.side() == side )</span>
<span class='curline'><a href='../S/876.html#L303'>patient</a>           303 src/actions/heal.cpp 				patient.set_resting(true);</span>
<span class='curline'><a href='../S/876.html#L307'>patient</a>           307 src/actions/heal.cpp 		DBG_NG &lt;&lt; "found healable unit at (" &lt;&lt; patient.get_location() &lt;&lt; ")\n";</span>
<span class='curline'><a href='../S/876.html#L315'>patient</a>           315 src/actions/heal.cpp 		if ( patient.side() == side ) {</span>
<span class='curline'><a href='../S/876.html#L316'>patient</a>           316 src/actions/heal.cpp 			if ( patient.resting() || patient.is_healthy() )</span>
<span class='curline'><a href='../S/876.html#L318'>patient</a>           318 src/actions/heal.cpp 			patient.set_resting(true);</span>
<span class='curline'><a href='../S/876.html#L322'>patient</a>           322 src/actions/heal.cpp 		if ( !patient.get_state(unit::STATE_POISONED) ) {</span>
<span class='curline'><a href='../S/876.html#L323'>patient</a>           323 src/actions/heal.cpp 			healing += heal_amount(side, patient, healers);</span>
<span class='curline'><a href='../S/876.html#L326'>patient</a>           326 src/actions/heal.cpp 			curing = poison_progress(side, patient, healers);</span>
<span class='curline'><a href='../S/876.html#L329'>patient</a>           329 src/actions/heal.cpp 			if ( curing == POISON_NORMAL  &amp;&amp;  patient.side() == side )</span>
<span class='curline'><a href='../S/876.html#L334'>patient</a>           334 src/actions/heal.cpp 		int max_heal = std::max(0, patient.max_hitpoints() - patient.hitpoints());</span>
<span class='curline'><a href='../S/876.html#L335'>patient</a>           335 src/actions/heal.cpp 		int min_heal = std::min(0, 1 - patient.hitpoints());</span>
<span class='curline'><a href='../S/876.html#L352'>patient</a>           352 src/actions/heal.cpp 		    patient.is_visible_to_team(viewing_team, *resources::gameboard, false) )</span>
<span class='curline'><a href='../S/876.html#L354'>patient</a>           354 src/actions/heal.cpp 			unit_list.push_front(heal_unit(patient, healers, healing, curing == POISON_CURE));</span>
<span class='curline'><a href='../S/876.html#L359'>patient</a>           359 src/actions/heal.cpp 			do_heal(patient, healing, curing == POISON_CURE);</span>
</pre>
</body>
</html>
