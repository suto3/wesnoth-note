<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>defender_info</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4371.html#L116'>defender_info</a>     116 data/ai/lua/battle_calcs.lua     local defender_info = battle_calcs.unit_attack_info(defender, cache)</span>
<span class='curline'><a href='../S/4371.html#L122'>defender_info</a>     122 data/ai/lua/battle_calcs.lua     local att_multiplier = defender_info.resist_mod[attacker_info.attacks[att_weapon].type] or 1</span>
<span class='curline'><a href='../S/4371.html#L131'>defender_info</a>     131 data/ai/lua/battle_calcs.lua         def_damage = defender_info.attacks[def_weapon].damage</span>
<span class='curline'><a href='../S/4371.html#L134'>defender_info</a>     134 data/ai/lua/battle_calcs.lua         def_multiplier = attacker_info.resist_mod[defender_info.attacks[def_weapon].type] or 1</span>
<span class='curline'><a href='../S/4371.html#L137'>defender_info</a>     137 data/ai/lua/battle_calcs.lua         def_multiplier = def_multiplier * AH.get_unit_time_of_day_bonus(defender_info.alignment, def_lawful_bonus)</span>
<span class='curline'><a href='../S/4371.html#L167'>defender_info</a>     167 data/ai/lua/battle_calcs.lua             def_attack = defender_info.attacks[def_weapon]</span>
<span class='curline'><a href='../S/4371.html#L171'>defender_info</a>     171 data/ai/lua/battle_calcs.lua     return att_damage, def_damage, attacker_info.attacks[att_weapon], defender_info.attacks[def_weapon]</span>
<span class='curline'><a href='../S/4371.html#L202'>defender_info</a>     202 data/ai/lua/battle_calcs.lua     local defender_info = battle_calcs.unit_attack_info(defender, cache)</span>
<span class='curline'><a href='../S/4371.html#L209'>defender_info</a>     209 data/ai/lua/battle_calcs.lua         for def_weapon_number,def_weapon in ipairs(defender_info.attacks) do</span>
<span class='curline'><a href='../S/4308.html#L243'>defender_info</a>     243 data/ai/micro_ais/cas/ca_fast_attack_utils.lua function ca_fast_attack_utils.damage_rating_unit(attacker_info, defender_info, att_stat, def_stat, is_village, cfg)</span>
<span class='curline'><a href='../S/4308.html#L295'>defender_info</a>     295 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local defender_level = defender_info.level</span>
<span class='curline'><a href='../S/4308.html#L325'>defender_info</a>     325 data/ai/micro_ais/cas/ca_fast_attack_utils.lua function ca_fast_attack_utils.attack_rating(attacker_infos, defender_info, dsts, att_stats, def_stat, gamedata, cfg)</span>
<span class='curline'><a href='../S/4308.html#L361'>defender_info</a>     361 data/ai/micro_ais/cas/ca_fast_attack_utils.lua             attacker_info, defender_info, att_stats[i], def_stat, attacker_on_village, cfg</span>
<span class='curline'><a href='../S/4308.html#L367'>defender_info</a>     367 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local defender_x, defender_y = defender_info.x, defender_info.y</span>
<span class='curline'><a href='../S/4308.html#L370'>defender_info</a>     370 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         defender_info, attacker_infos[1], def_stat, att_stats[1], defender_on_village, cfg</span>
<span class='curline'><a href='../S/4308.html#L380'>defender_info</a>     380 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     local defender_starting_damage_fraction = defender_info.max_hitpoints - defender_info.hitpoints</span>
<span class='curline'><a href='../S/4308.html#L390'>defender_info</a>     390 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     extra_rating = extra_rating / defender_info.max_hitpoints</span>
<span class='curline'><a href='../S/4308.html#L398'>defender_info</a>     398 data/ai/micro_ais/cas/ca_fast_attack_utils.lua             ca_fast_attack_utils.get_unit_copy(defender_info.id, gamedata),</span>
<span class='curline'><a href='../S/4308.html#L431'>defender_info</a>     431 data/ai/micro_ais/cas/ca_fast_attack_utils.lua function ca_fast_attack_utils.battle_outcome(attacker_copy, defender_proxy, dst, attacker_info, defender_info, gamedata, move_cache)</span>
<span class='curline'><a href='../S/4308.html#L447'>defender_info</a>     447 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id]</span>
<span class='curline'><a href='../S/4308.html#L448'>defender_info</a>     448 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense]</span>
<span class='curline'><a href='../S/4308.html#L449'>defender_info</a>     449 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense]</span>
<span class='curline'><a href='../S/4308.html#L450'>defender_info</a>     450 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints]</span>
<span class='curline'><a href='../S/4308.html#L451'>defender_info</a>     451 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         and move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints]</span>
<span class='curline'><a href='../S/4308.html#L453'>defender_info</a>     453 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         return move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints].att_stat,</span>
<span class='curline'><a href='../S/4308.html#L454'>defender_info</a>     454 data/ai/micro_ais/cas/ca_fast_attack_utils.lua             move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints].def_stat</span>
<span class='curline'><a href='../S/4308.html#L496'>defender_info</a>     496 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id]) then</span>
<span class='curline'><a href='../S/4308.html#L497'>defender_info</a>     497 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id] = {}</span>
<span class='curline'><a href='../S/4308.html#L499'>defender_info</a>     499 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id][attacker_defense]) then</span>
<span class='curline'><a href='../S/4308.html#L500'>defender_info</a>     500 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id][attacker_defense] = {}</span>
<span class='curline'><a href='../S/4308.html#L502'>defender_info</a>     502 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense]) then</span>
<span class='curline'><a href='../S/4308.html#L503'>defender_info</a>     503 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense] = {}</span>
<span class='curline'><a href='../S/4308.html#L505'>defender_info</a>     505 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     if (not move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints]) then</span>
<span class='curline'><a href='../S/4308.html#L506'>defender_info</a>     506 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints] = {}</span>
<span class='curline'><a href='../S/4308.html#L509'>defender_info</a>     509 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     move_cache[attacker_info.id][defender_info.id][attacker_defense][defender_defense][attacker_info.hitpoints][defender_info.hitpoints]</span>
</pre>
</body>
</html>
