<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>uit</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/992.html#L87'>uit</a>                87 src/units/map.cpp 	umap::iterator uit(i-&gt;second);</span>
<span class='curline'><a href='../S/992.html#L89'>uit</a>                89 src/units/map.cpp 	if(src == dst){ return std::make_pair(make_unit_iterator(uit), true);}</span>
<span class='curline'><a href='../S/992.html#L92'>uit</a>                92 src/units/map.cpp 	unit_ptr p = uit-&gt;second.unit;</span>
<span class='curline'><a href='../S/992.html#L93'>uit</a>                93 src/units/map.cpp 	if(!p){ return std::make_pair(make_unit_iterator(uit), false);}</span>
<span class='curline'><a href='../S/992.html#L99'>uit</a>                99 src/units/map.cpp 	std::pair&lt;lmap::iterator,bool&gt; res = lmap_.emplace(dst, uit);</span>
<span class='curline'><a href='../S/992.html#L104'>uit</a>               104 src/units/map.cpp 		lmap_.emplace(src, uit);</span>
<span class='curline'><a href='../S/992.html#L105'>uit</a>               105 src/units/map.cpp 		return std::make_pair(make_unit_iterator(uit), false);</span>
<span class='curline'><a href='../S/992.html#L110'>uit</a>               110 src/units/map.cpp 	return std::make_pair(make_unit_iterator(uit), true);</span>
<span class='curline'><a href='../S/992.html#L252'>uit</a>               252 src/units/map.cpp 	umap::iterator uit(i-&gt;second);</span>
<span class='curline'><a href='../S/992.html#L254'>uit</a>               254 src/units/map.cpp 	unit_ptr u = uit-&gt;second.unit;</span>
<span class='curline'><a href='../S/992.html#L260'>uit</a>               260 src/units/map.cpp 	assert(uit-&gt;first == uit-&gt;second.unit-&gt;underlying_id());</span>
<span class='curline'><a href='../S/992.html#L261'>uit</a>               261 src/units/map.cpp 	if(uit-&gt;second.ref_count == 0){</span>
<span class='curline'><a href='../S/992.html#L262'>uit</a>               262 src/units/map.cpp 		umap_.erase(uit);</span>
<span class='curline'><a href='../S/992.html#L265'>uit</a>               265 src/units/map.cpp 		uit-&gt;second.unit.reset();</span>
<span class='curline'><a href='../S/992.html#L338'>uit</a>               338 src/units/map.cpp 	umap::const_iterator uit(umap_.begin());</span>
<span class='curline'><a href='../S/992.html#L339'>uit</a>               339 src/units/map.cpp 	for(; uit != umap_.end(); ++uit){</span>
<span class='curline'><a href='../S/992.html#L340'>uit</a>               340 src/units/map.cpp 		if(uit-&gt;second.ref_count &lt; 0){</span>
<span class='curline'><a href='../S/992.html#L342'>uit</a>               342 src/units/map.cpp 			ERR_NG &lt;&lt; "unit_map pod ref_count &lt;0 is " &lt;&lt; uit-&gt;second.ref_count&lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/992.html#L344'>uit</a>               344 src/units/map.cpp 		if(uit-&gt;second.unit){</span>
<span class='curline'><a href='../S/992.html#L345'>uit</a>               345 src/units/map.cpp 			uit-&gt;second.unit-&gt;id(); //crash if bad pointer</span>
<span class='curline'><a href='../S/992.html#L347'>uit</a>               347 src/units/map.cpp 		if(uit-&gt;first &lt;= 0){</span>
<span class='curline'><a href='../S/992.html#L349'>uit</a>               349 src/units/map.cpp 			ERR_NG &lt;&lt; "unit_map umap uid &lt;=0 is " &lt;&lt; uit-&gt;first &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/992.html#L351'>uit</a>               351 src/units/map.cpp 		if(!uit-&gt;second.unit &amp;&amp; uit-&gt;second.ref_count == 0 ){</span>
<span class='curline'><a href='../S/992.html#L355'>uit</a>               355 src/units/map.cpp 		if(uit-&gt;second.unit &amp;&amp; uit-&gt;second.unit-&gt;underlying_id() != uit-&gt;first){</span>
<span class='curline'><a href='../S/992.html#L357'>uit</a>               357 src/units/map.cpp 			ERR_NG &lt;&lt; "unit_map umap uid("&lt;&lt;uit-&gt;first&lt;&lt;") != underlying_id()["&lt;&lt; uit-&gt;second.unit-&gt;underlying_id()&lt;&lt; "]" &lt;&lt; std::endl;</span>
</pre>
</body>
</html>
