<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>hunter</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4302.html#L7'>hunter</a>              7 data/ai/micro_ais/cas/ca_hunter.lua local function hunter_attack_weakest_adj_enemy(ai, hunter)</span>
<span class='curline'><a href='../S/4302.html#L14'>hunter</a>             14 data/ai/micro_ais/cas/ca_hunter.lua     if (hunter.attacks_left == 0) then return 'no_attack' end</span>
<span class='curline'><a href='../S/4302.html#L17'>hunter</a>             17 data/ai/micro_ais/cas/ca_hunter.lua     for xa,ya in H.adjacent_tiles(hunter.x, hunter.y) do</span>
<span class='curline'><a href='../S/4302.html#L27'>hunter</a>             27 data/ai/micro_ais/cas/ca_hunter.lua         AH.checked_attack(ai, hunter, target)</span>
<span class='curline'><a href='../S/4302.html#L40'>hunter</a>             40 data/ai/micro_ais/cas/ca_hunter.lua     local hunter = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4302.html#L44'>hunter</a>             44 data/ai/micro_ais/cas/ca_hunter.lua     return hunter</span>
<span class='curline'><a href='../S/4302.html#L59'>hunter</a>             59 data/ai/micro_ais/cas/ca_hunter.lua     local hunter = get_hunter(cfg)</span>
<span class='curline'><a href='../S/4302.html#L60'>hunter</a>             60 data/ai/micro_ais/cas/ca_hunter.lua     local hunter_vars = MAIUV.get_mai_unit_variables(hunter, cfg.ai_id)</span>
<span class='curline'><a href='../S/4302.html#L68'>hunter</a>             68 data/ai/micro_ais/cas/ca_hunter.lua             locs = AH.get_passable_locations((H.get_child(cfg, "filter_location") or {}), hunter)</span>
<span class='curline'><a href='../S/4302.html#L72'>hunter</a>             72 data/ai/micro_ais/cas/ca_hunter.lua             MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4302.html#L75'>hunter</a>             75 data/ai/micro_ais/cas/ca_hunter.lua         local reach_map = AH.get_reachable_unocc(hunter)</span>
<span class='curline'><a href='../S/4302.html#L98'>hunter</a>             98 data/ai/micro_ais/cas/ca_hunter.lua         if (best_hex[1] ~= hunter.x) or (best_hex[2] ~= hunter.y) then</span>
<span class='curline'><a href='../S/4302.html#L99'>hunter</a>             99 data/ai/micro_ais/cas/ca_hunter.lua             AH.checked_move(ai, hunter, best_hex[1], best_hex[2])  -- partial move only</span>
<span class='curline'><a href='../S/4302.html#L100'>hunter</a>            100 data/ai/micro_ais/cas/ca_hunter.lua             if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L102'>hunter</a>            102 data/ai/micro_ais/cas/ca_hunter.lua             AH.checked_stopunit_moves(ai, hunter)</span>
<span class='curline'><a href='../S/4302.html#L103'>hunter</a>            103 data/ai/micro_ais/cas/ca_hunter.lua             if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L105'>hunter</a>            105 data/ai/micro_ais/cas/ca_hunter.lua             MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4302.html#L109'>hunter</a>            109 data/ai/micro_ais/cas/ca_hunter.lua         if (hunter.x == hunter_vars.goal_x) and (hunter.y == hunter_vars.goal_y) then</span>
<span class='curline'><a href='../S/4302.html#L111'>hunter</a>            111 data/ai/micro_ais/cas/ca_hunter.lua             MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4302.html#L115'>hunter</a>            115 data/ai/micro_ais/cas/ca_hunter.lua         local attack_status = hunter_attack_weakest_adj_enemy(ai, hunter)</span>
<span class='curline'><a href='../S/4302.html#L118'>hunter</a>            118 data/ai/micro_ais/cas/ca_hunter.lua         if hunter and hunter.valid and (attack_status == 'killed') then</span>
<span class='curline'><a href='../S/4302.html#L121'>hunter</a>            121 data/ai/micro_ais/cas/ca_hunter.lua             MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4302.html#L124'>hunter</a>            124 data/ai/micro_ais/cas/ca_hunter.lua                 W.message { speaker = hunter.id, message = 'Now that I have eaten, I will go back home.' }</span>
<span class='curline'><a href='../S/4302.html#L133'>hunter</a>            133 data/ai/micro_ais/cas/ca_hunter.lua         goto_x, goto_y = wesnoth.find_vacant_tile(cfg.home_x, cfg.home_y, hunter)</span>
<span class='curline'><a href='../S/4302.html#L135'>hunter</a>            135 data/ai/micro_ais/cas/ca_hunter.lua         local next_hop = AH.next_hop(hunter, goto_x, goto_y)</span>
<span class='curline'><a href='../S/4302.html#L137'>hunter</a>            137 data/ai/micro_ais/cas/ca_hunter.lua             AH.movefull_stopunit(ai, hunter, next_hop)</span>
<span class='curline'><a href='../S/4302.html#L138'>hunter</a>            138 data/ai/micro_ais/cas/ca_hunter.lua             if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L141'>hunter</a>            141 data/ai/micro_ais/cas/ca_hunter.lua             if (M.distance_between(cfg.home_x, cfg.home_y, hunter.x, hunter.y) == 1) then</span>
<span class='curline'><a href='../S/4302.html#L145'>hunter</a>            145 data/ai/micro_ais/cas/ca_hunter.lua                         W.message { speaker = hunter.id, message = 'Get out of my home!' }</span>
<span class='curline'><a href='../S/4302.html#L148'>hunter</a>            148 data/ai/micro_ais/cas/ca_hunter.lua                     AH.checked_attack(ai, hunter, enemy)</span>
<span class='curline'><a href='../S/4302.html#L149'>hunter</a>            149 data/ai/micro_ais/cas/ca_hunter.lua                     if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L155'>hunter</a>            155 data/ai/micro_ais/cas/ca_hunter.lua         hunter_attack_weakest_adj_enemy(ai, hunter)</span>
<span class='curline'><a href='../S/4302.html#L156'>hunter</a>            156 data/ai/micro_ais/cas/ca_hunter.lua         if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L159'>hunter</a>            159 data/ai/micro_ais/cas/ca_hunter.lua         if (hunter.x == cfg.home_x) and (hunter.y == cfg.home_y) then</span>
<span class='curline'><a href='../S/4302.html#L162'>hunter</a>            162 data/ai/micro_ais/cas/ca_hunter.lua             MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4302.html#L165'>hunter</a>            165 data/ai/micro_ais/cas/ca_hunter.lua                 W.message { speaker = hunter.id, message = 'I made it home - resting now until the end of Turn ' .. hunter_vars.resting_until .. ' or until fully healed.' }</span>
<span class='curline'><a href='../S/4302.html#L174'>hunter</a>            174 data/ai/micro_ais/cas/ca_hunter.lua         AH.checked_stopunit_moves(ai, hunter)</span>
<span class='curline'><a href='../S/4302.html#L175'>hunter</a>            175 data/ai/micro_ais/cas/ca_hunter.lua         if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L178'>hunter</a>            178 data/ai/micro_ais/cas/ca_hunter.lua         hunter_attack_weakest_adj_enemy(ai, hunter)</span>
<span class='curline'><a href='../S/4302.html#L179'>hunter</a>            179 data/ai/micro_ais/cas/ca_hunter.lua         if (not hunter) or (not hunter.valid) then return end</span>
<span class='curline'><a href='../S/4302.html#L182'>hunter</a>            182 data/ai/micro_ais/cas/ca_hunter.lua         if (hunter.hitpoints &gt;= hunter.max_hitpoints) and (hunter_vars.resting_until &lt;= wesnoth.current.turn) then</span>
<span class='curline'><a href='../S/4302.html#L185'>hunter</a>            185 data/ai/micro_ais/cas/ca_hunter.lua             MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4302.html#L188'>hunter</a>            188 data/ai/micro_ais/cas/ca_hunter.lua                 W.message { speaker = hunter.id, message = 'I am done resting. It is time to go hunting again next turn.' }</span>
<span class='curline'><a href='../S/4302.html#L197'>hunter</a>            197 data/ai/micro_ais/cas/ca_hunter.lua     MAIUV.set_mai_unit_variables(hunter, cfg.ai_id, hunter_vars)</span>
<span class='curline'><a href='../S/4270.html#L122'>hunter</a>            122 data/ai/micro_ais/mai-defs/animals.lua function wesnoth.micro_ais.hunter(cfg)</span>
</pre>
</body>
</html>
