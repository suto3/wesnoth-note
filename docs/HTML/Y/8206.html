<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>d_stats_</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/898.html#L747'>d_stats_</a>          747 src/actions/attack.cpp 		const battle_context_unit_stats *d_stats_;</span>
<span class='curline'><a href='../S/898.html#L804'>d_stats_</a>          804 src/actions/attack.cpp 		d_stats_(nullptr),</span>
<span class='curline'><a href='../S/898.html#L834'>d_stats_</a>          834 src/actions/attack.cpp 		if(d_stats_-&gt;weapon != nullptr &amp;&amp; d_.valid()) {</span>
<span class='curline'><a href='../S/898.html#L835'>d_stats_</a>          835 src/actions/attack.cpp 			d_stats_-&gt;weapon-&gt;write(d_weapon_cfg);</span>
<span class='curline'><a href='../S/898.html#L881'>d_stats_</a>          881 src/actions/attack.cpp 			const_cast&lt;battle_context_unit_stats*&gt;(d_stats_)-&gt;weapon =</span>
<span class='curline'><a href='../S/898.html#L890'>d_stats_</a>          890 src/actions/attack.cpp 		d_stats_ = &amp;bc_-&gt;get_defender_stats();</span>
<span class='curline'><a href='../S/898.html#L892'>d_stats_</a>          892 src/actions/attack.cpp 		d_.cth_ = d_stats_-&gt;chance_to_hit;</span>
<span class='curline'><a href='../S/898.html#L894'>d_stats_</a>          894 src/actions/attack.cpp 		d_.damage_ = d_stats_-&gt;damage;</span>
<span class='curline'><a href='../S/898.html#L903'>d_stats_</a>          903 src/actions/attack.cpp 			*&amp;attacker_stats = *(attacker_turn ? &amp;a_stats_ : &amp;d_stats_),</span>
<span class='curline'><a href='../S/898.html#L904'>d_stats_</a>          904 src/actions/attack.cpp 			*&amp;defender_stats = *(attacker_turn ? &amp;d_stats_ : &amp;a_stats_);</span>
<span class='curline'><a href='../S/898.html#L1220'>d_stats_</a>         1220 src/actions/attack.cpp 		d_stats_ = &amp;bc_-&gt;get_defender_stats();</span>
<span class='curline'><a href='../S/898.html#L1224'>d_stats_</a>         1224 src/actions/attack.cpp 		if(d_stats_-&gt;weapon) {</span>
<span class='curline'><a href='../S/898.html#L1225'>d_stats_</a>         1225 src/actions/attack.cpp 			d_.weap_id_ = d_stats_-&gt;weapon-&gt;id();</span>
<span class='curline'><a href='../S/898.html#L1236'>d_stats_</a>         1236 src/actions/attack.cpp 		statistics::attack_context attack_stats(a_.get_unit(), d_.get_unit(), a_stats_-&gt;chance_to_hit, d_stats_-&gt;chance_to_hit);</span>
<span class='curline'><a href='../S/898.html#L1239'>d_stats_</a>         1239 src/actions/attack.cpp 		d_.orig_attacks_ = d_stats_-&gt;num_blows;</span>
<span class='curline'><a href='../S/898.html#L1245'>d_stats_</a>         1245 src/actions/attack.cpp 		bool defender_strikes_first = (d_stats_-&gt;firststrike &amp;&amp; !a_stats_-&gt;firststrike);</span>
<span class='curline'><a href='../S/898.html#L1246'>d_stats_</a>         1246 src/actions/attack.cpp 		unsigned int rounds = std::max&lt;unsigned int&gt;(a_stats_-&gt;rounds, d_stats_-&gt;rounds) - 1;</span>
<span class='curline'><a href='../S/898.html#L1252'>d_stats_</a>         1252 src/actions/attack.cpp 			      (d_stats_-&gt;weapon ? d_stats_-&gt;weapon-&gt;name() : "none") &lt;&lt; " " &lt;&lt;</span>
<span class='curline'><a href='../S/898.html#L1253'>d_stats_</a>         1253 src/actions/attack.cpp 			      d_stats_-&gt;damage &lt;&lt; "-" &lt;&lt; d_stats_-&gt;num_blows &lt;&lt;</span>
<span class='curline'><a href='../S/898.html#L1254'>d_stats_</a>         1254 src/actions/attack.cpp 			      "(" &lt;&lt; d_stats_-&gt;chance_to_hit &lt;&lt; "%)" &lt;&lt;</span>
<span class='curline'><a href='../S/898.html#L1258'>d_stats_</a>         1258 src/actions/attack.cpp 		unit_display::unit_draw_weapon(a_.loc_,a_.get_unit(),a_stats_-&gt;weapon,d_stats_-&gt;weapon,d_.loc_,&amp;d_.get_unit());</span>
<span class='curline'><a href='../S/898.html#L1289'>d_stats_</a>         1289 src/actions/attack.cpp 				defender_strikes_first = (d_stats_-&gt;firststrike &amp;&amp; ! a_stats_-&gt;firststrike);</span>
<span class='curline'><a href='../S/898.html#L1322'>d_stats_</a>         1322 src/actions/attack.cpp 				d_stats_-&gt;weapon,d_.loc_,d_.valid()?&amp;d_.get_unit():nullptr);</span>
</pre>
</body>
</html>
