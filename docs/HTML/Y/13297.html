<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>lo</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1220.html#L310'>lo</a>                310 src/lua/ltablib.cpp static IdxT partition (lua_State *L, IdxT lo, IdxT up) {</span>
<span class='curline'><a href='../S/1220.html#L311'>lo</a>                311 src/lua/ltablib.cpp   IdxT i = lo;  /* will be incremented before first use */</span>
<span class='curline'><a href='../S/1220.html#L346'>lo</a>                346 src/lua/ltablib.cpp static IdxT choosePivot (IdxT lo, IdxT up, unsigned int rnd) {</span>
<span class='curline'><a href='../S/1220.html#L347'>lo</a>                347 src/lua/ltablib.cpp   IdxT r4 = (up - lo) / 4;  /* range/4 */</span>
<span class='curline'><a href='../S/1220.html#L348'>lo</a>                348 src/lua/ltablib.cpp   IdxT p = rnd % (r4 * 2) + (lo + r4);</span>
<span class='curline'><a href='../S/1220.html#L349'>lo</a>                349 src/lua/ltablib.cpp   lua_assert(lo + r4 &lt;= p &amp;&amp; p &lt;= up - r4);</span>
<span class='curline'><a href='../S/1220.html#L357'>lo</a>                357 src/lua/ltablib.cpp static void auxsort (lua_State *L, IdxT lo, IdxT up,</span>
<span class='curline'><a href='../S/1220.html#L359'>lo</a>                359 src/lua/ltablib.cpp   while (lo &lt; up) {  /* loop for tail recursion */</span>
<span class='curline'><a href='../S/1220.html#L363'>lo</a>                363 src/lua/ltablib.cpp     lua_geti(L, 1, lo);</span>
<span class='curline'><a href='../S/1220.html#L366'>lo</a>                366 src/lua/ltablib.cpp       set2(L, lo, up);  /* swap a[lo] - a[up] */</span>
<span class='curline'><a href='../S/1220.html#L369'>lo</a>                369 src/lua/ltablib.cpp     if (up - lo == 1)  /* only 2 elements? */</span>
<span class='curline'><a href='../S/1220.html#L371'>lo</a>                371 src/lua/ltablib.cpp     if (up - lo &lt; RANLIMIT || rnd == 0)  /* small interval or no randomize? */</span>
<span class='curline'><a href='../S/1220.html#L372'>lo</a>                372 src/lua/ltablib.cpp       p = (lo + up)/2;  /* middle element is a good pivot */</span>
<span class='curline'><a href='../S/1220.html#L374'>lo</a>                374 src/lua/ltablib.cpp       p = choosePivot(lo, up, rnd);</span>
<span class='curline'><a href='../S/1220.html#L376'>lo</a>                376 src/lua/ltablib.cpp     lua_geti(L, 1, lo);</span>
<span class='curline'><a href='../S/1220.html#L378'>lo</a>                378 src/lua/ltablib.cpp       set2(L, p, lo);  /* swap a[p] - a[lo] */</span>
<span class='curline'><a href='../S/1220.html#L387'>lo</a>                387 src/lua/ltablib.cpp     if (up - lo == 2)  /* only 3 elements? */</span>
<span class='curline'><a href='../S/1220.html#L393'>lo</a>                393 src/lua/ltablib.cpp     p = partition(L, lo, up);</span>
<span class='curline'><a href='../S/1220.html#L395'>lo</a>                395 src/lua/ltablib.cpp     if (p - lo &lt; up - p) {  /* lower interval is smaller? */</span>
<span class='curline'><a href='../S/1220.html#L396'>lo</a>                396 src/lua/ltablib.cpp       auxsort(L, lo, p - 1, rnd);  /* call recursively for lower interval */</span>
<span class='curline'><a href='../S/1220.html#L397'>lo</a>                397 src/lua/ltablib.cpp       n = p - lo;  /* size of smaller interval */</span>
<span class='curline'><a href='../S/1220.html#L398'>lo</a>                398 src/lua/ltablib.cpp       lo = p + 1;  /* tail call for [p + 1 .. up] (upper interval) */</span>
<span class='curline'><a href='../S/1220.html#L405'>lo</a>                405 src/lua/ltablib.cpp     if ((up - lo) / 128 &gt; n) /* partition too imbalanced? */</span>
</pre>
</body>
</html>
