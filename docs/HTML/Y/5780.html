<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>att_hit_prob</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4371.html#L514'>att_hit_prob</a>      514 data/ai/lua/battle_calcs.lua     local att_hit_prob, def_hit_prob = 0.8, 0.4  -- probability of landing a hit attacker/defender</span>
<span class='curline'><a href='../S/4371.html#L550'>att_hit_prob</a>      550 data/ai/lua/battle_calcs.lua                        prob = prob * (1 - att_hit_prob) ^ exp.am</span>
<span class='curline'><a href='../S/4371.html#L554'>att_hit_prob</a>      554 data/ai/lua/battle_calcs.lua                         prob = prob * att_hit_prob ^ exp.ah</span>
<span class='curline'><a href='../S/4371.html#L580'>att_hit_prob</a>      580 data/ai/lua/battle_calcs.lua function battle_calcs.hp_distribution(coeffs, att_hit_prob, def_hit_prob, starting_hp, damage, opp_attack)</span>
<span class='curline'><a href='../S/4371.html#L599'>att_hit_prob</a>      599 data/ai/lua/battle_calcs.lua                 if exp.am then prob = prob * (1 - att_hit_prob) ^ exp.am end</span>
<span class='curline'><a href='../S/4371.html#L600'>att_hit_prob</a>      600 data/ai/lua/battle_calcs.lua                 if exp.ah then prob = prob * att_hit_prob ^ exp.ah end</span>
<span class='curline'><a href='../S/4371.html#L683'>att_hit_prob</a>      683 data/ai/lua/battle_calcs.lua     local att_hit_prob = wesnoth.unit_defense(defender, wesnoth.get_terrain(defender.x, defender.y)) / 100.</span>
<span class='curline'><a href='../S/4371.html#L687'>att_hit_prob</a>      687 data/ai/lua/battle_calcs.lua     if att_attack.magical then att_hit_prob = 0.7 end</span>
<span class='curline'><a href='../S/4371.html#L691'>att_hit_prob</a>      691 data/ai/lua/battle_calcs.lua     if att_attack.marksman and (att_hit_prob &lt; 0.6) then</span>
<span class='curline'><a href='../S/4371.html#L692'>att_hit_prob</a>      692 data/ai/lua/battle_calcs.lua         att_hit_prob = 0.6</span>
<span class='curline'><a href='../S/4371.html#L707'>att_hit_prob</a>      707 data/ai/lua/battle_calcs.lua     local att_stats = battle_calcs.hp_distribution(att_coeffs, att_hit_prob, def_hit_prob, attacker.hitpoints, def_damage, def_attack)</span>
<span class='curline'><a href='../S/4371.html#L708'>att_hit_prob</a>      708 data/ai/lua/battle_calcs.lua     local def_stats = battle_calcs.hp_distribution(def_coeffs, att_hit_prob, def_hit_prob, defender.hitpoints, att_damage, att_attack)</span>
</pre>
</body>
</html>
