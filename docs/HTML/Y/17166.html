<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ref_unit</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/311.html#L101'>ref_unit</a>          101 src/terrain/filter.cpp bool terrain_filter::match_internal(const map_location&amp; loc, const unit* ref_unit, const bool ignore_xy) const</span>
<span class='curline'><a href='../S/311.html#L332'>ref_unit</a>          332 src/terrain/filter.cpp 			if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L333'>ref_unit</a>          333 src/terrain/filter.cpp 				std::shared_ptr&lt;wfl::unit_callable&gt; ref(new wfl::unit_callable(*ref_unit));</span>
<span class='curline'><a href='../S/311.html#L362'>ref_unit</a>          362 src/terrain/filter.cpp bool terrain_filter::match_impl(const map_location&amp; loc, const unit* ref_unit) const</span>
<span class='curline'><a href='../S/311.html#L371'>ref_unit</a>          371 src/terrain/filter.cpp 	if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L372'>ref_unit</a>          372 src/terrain/filter.cpp 		if(fc_-&gt;get_disp_context().map().on_board(ref_unit-&gt;get_location())) {</span>
<span class='curline'><a href='../S/311.html#L373'>ref_unit</a>          373 src/terrain/filter.cpp 			ref_unit_var.reset(new scoped_xy_unit("teleport_unit", ref_unit-&gt;get_location(), fc_-&gt;get_disp_context().units()));</span>
<span class='curline'><a href='../S/311.html#L390'>ref_unit</a>          390 src/terrain/filter.cpp 		if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L391'>ref_unit</a>          391 src/terrain/filter.cpp 			get_tiles_radius(fc_-&gt;get_disp_context().map(), loc_vec, radius, hexes, false, filter_with_unit(r_filter, *ref_unit));</span>
<span class='curline'><a href='../S/311.html#L402'>ref_unit</a>          402 src/terrain/filter.cpp 		bool matches = match_internal(*i, ref_unit, false);</span>
<span class='curline'><a href='../S/311.html#L415'>ref_unit</a>          415 src/terrain/filter.cpp 				matches = matches &amp;&amp; terrain_filter(cond_cfg, *this).match_impl(*i, ref_unit);</span>
<span class='curline'><a href='../S/311.html#L420'>ref_unit</a>          420 src/terrain/filter.cpp 				matches = matches || terrain_filter(cond_cfg, *this).match_impl(*i, ref_unit);</span>
<span class='curline'><a href='../S/311.html#L425'>ref_unit</a>          425 src/terrain/filter.cpp 				matches = matches &amp;&amp; !terrain_filter(cond_cfg, *this).match_impl(*i, ref_unit);</span>
<span class='curline'><a href='../S/311.html#L506'>ref_unit</a>          506 src/terrain/filter.cpp void terrain_filter::get_locs_impl(std::set&lt;map_location&gt;&amp; locs, const unit* ref_unit, bool with_border) const</span>
<span class='curline'><a href='../S/311.html#L509'>ref_unit</a>          509 src/terrain/filter.cpp 	if(ref_unit) {</span>
<span class='curline'><a href='../S/311.html#L510'>ref_unit</a>          510 src/terrain/filter.cpp 		if(fc_-&gt;get_disp_context().map().on_board(ref_unit-&gt;get_location())) {</span>
<span class='curline'><a href='../S/311.html#L511'>ref_unit</a>          511 src/terrain/filter.cpp 			ref_unit_var.reset(new scoped_xy_unit("teleport_unit", ref_unit-&gt;get_location(), fc_-&gt;get_disp_context().units()));</span>
<span class='curline'><a href='../S/311.html#L582'>ref_unit</a>          582 src/terrain/filter.cpp 		if(match_internal(*loc_itor, ref_unit, true)) {</span>
<span class='curline'><a href='../S/307.html#L52'>ref_unit</a>           52 src/terrain/filter.hpp 	bool match(const map_location&amp; loc, const unit&amp; ref_unit) const {</span>
<span class='curline'><a href='../S/307.html#L53'>ref_unit</a>           53 src/terrain/filter.hpp 		return match_impl(loc, &amp;ref_unit);</span>
<span class='curline'><a href='../S/307.html#L70'>ref_unit</a>           70 src/terrain/filter.hpp 	void get_locations(std::set&lt;map_location&gt;&amp; locs, const unit&amp; ref_unit, bool with_border=false) const {</span>
<span class='curline'><a href='../S/307.html#L71'>ref_unit</a>           71 src/terrain/filter.hpp 		return get_locs_impl(locs, &amp;ref_unit, with_border);</span>
<span class='curline'><a href='../S/307.html#L85'>ref_unit</a>           85 src/terrain/filter.hpp 	bool match_impl(const map_location&amp; loc, const unit* ref_unit) const;</span>
<span class='curline'><a href='../S/307.html#L86'>ref_unit</a>           86 src/terrain/filter.hpp 	void get_locs_impl(std::set&lt;map_location&gt;&amp; locs, const unit* ref_unit, bool with_border) const;</span>
<span class='curline'><a href='../S/307.html#L87'>ref_unit</a>           87 src/terrain/filter.hpp 	bool match_internal(const map_location&amp; loc, const unit* ref_unit, const bool ignore_xy) const;</span>
</pre>
</body>
</html>
