<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>data/ai/micro_ais/scenarios/patrols.cfg</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5666.html'>data</a>/<a href='../files/5667.html'>ai</a>/<a href='../files/5672.html'>micro_ais</a>/<a href='../files/5676.html'>scenarios</a>/patrols.cfg</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 #textdomain wesnoth-ai
<a id='L2' name='L2'></a>   2 
<a id='L3' name='L3'></a>   3 [test]
<a id='L4' name='L4'></a>   4     <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=patrols
<a id='L5' name='L5'></a>   5     <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>= _ "Patrols"
<a id='L6' name='L6'></a>   6     <a href='../D/11409.html' title='Multiple defined in 2 places.'>next_scenario</a>=micro_ai_test
<a id='L7' name='L7'></a>   7 
<a id='L8' name='L8'></a>   8     <a href='../D/10794.html' title='Multiple defined in 2 places.'>map_data</a>="{multiplayer/maps/2p_Sullas_Ruins.map}"
<a id='L9' name='L9'></a>   9 
<a id='L10' name='L10'></a>  10     <em class='brace'>{</em>DEFAULT_SCHEDULE<em class='brace'>}</em>
<a id='L11' name='L11'></a>  11     <a href='../S/794.html#L560' title='Defined at 560 in src/preferences/game.cpp.'>turns</a>=-1
<a id='L12' name='L12'></a>  12     <a href='../Y/21719.html' title='Multiple used in 175 places.'>victory_when_enemies_defeated</a>=no
<a id='L13' name='L13'></a>  13 
<a id='L14' name='L14'></a>  14     [side]
<a id='L15' name='L15'></a>  15         <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L16' name='L16'></a>  16         <a href='../D/4912.html' title='Multiple defined in 7 places.'>controller</a>=human
<a id='L17' name='L17'></a>  17         <a href='../Y/19592.html' title='Multiple used in 27 places.'>suppress_end_turn_confirmation</a>=yes
<a id='L18' name='L18'></a>  18         <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Gertburt
<a id='L19' name='L19'></a>  19         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>= _ "Gertburt"
<a id='L20' name='L20'></a>  20         <a href='../S/997.html#L341' title='Defined at 341 in src/units/unit.hpp.'>unrenamable</a>=yes
<a id='L21' name='L21'></a>  21         <a href='../D/15500.html' title='Multiple defined in 27 places.'>type</a>=Outlaw
<a id='L22' name='L22'></a>  22         <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=13,8
<a id='L23' name='L23'></a>  23 
<a id='L24' name='L24'></a>  24         <a href='../S/1083.html#L343' title='Defined at 343 in src/team.hpp.'>persistent</a>=no
<a id='L25' name='L25'></a>  25 
<a id='L26' name='L26'></a>  26         <a href='../D/15040.html' title='Multiple defined in 4 places.'>team_name</a>=bandits
<a id='L27' name='L27'></a>  27         <a href='../D/15920.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Bandits"
<a id='L28' name='L28'></a>  28         <a href='../D/12555.html' title='Multiple defined in 5 places.'>recruit</a>=Ruffian,Footpad,Thug,Poacher
<a id='L29' name='L29'></a>  29 
<a id='L30' name='L30'></a>  30         <a href='../D/8279.html' title='Multiple defined in 3 places.'>gold</a>=200
<a id='L31' name='L31'></a>  31     [/side]
<a id='L32' name='L32'></a>  32 
<a id='L33' name='L33'></a>  33     # Patrol AI
<a id='L34' name='L34'></a>  34     [side]
<a id='L35' name='L35'></a>  35         <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L36' name='L36'></a>  36         <a href='../D/4912.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L37' name='L37'></a>  37         <a href='../S/1083.html#L335' title='Defined at 335 in src/team.hpp.'>no_leader</a>=yes
<a id='L38' name='L38'></a>  38         <a href='../S/1083.html#L343' title='Defined at 343 in src/team.hpp.'>persistent</a>=no
<a id='L39' name='L39'></a>  39 
<a id='L40' name='L40'></a>  40         <a href='../D/15040.html' title='Multiple defined in 4 places.'>team_name</a>=Konrad
<a id='L41' name='L41'></a>  41         <a href='../D/15920.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "team_name^Konrad"
<a id='L42' name='L42'></a>  42 
<a id='L43' name='L43'></a>  43         <a href='../D/8279.html' title='Multiple defined in 3 places.'>gold</a>=0
<a id='L44' name='L44'></a>  44         <a href='../S/1130.html#L204' title='Defined at 204 in src/game_initialization/connect_engine.hpp.'>income</a>=-2
<a id='L45' name='L45'></a>  45     [/side]
<a id='L46' name='L46'></a>  46 
<a id='L47' name='L47'></a>  47     # Urudin's side
<a id='L48' name='L48'></a>  48     # This is taken almost literally from 'Ka'lian under Attack' in 'Legend of Wesmere'
<a id='L49' name='L49'></a>  49     [side]
<a id='L50' name='L50'></a>  50         <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L51' name='L51'></a>  51         <a href='../D/4912.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L52' name='L52'></a>  52         <a href='../S/1083.html#L335' title='Defined at 335 in src/team.hpp.'>no_leader</a>=yes
<a id='L53' name='L53'></a>  53         <a href='../S/1083.html#L343' title='Defined at 343 in src/team.hpp.'>persistent</a>=no
<a id='L54' name='L54'></a>  54         <a href='../D/15040.html' title='Multiple defined in 4 places.'>team_name</a>=Urudin
<a id='L55' name='L55'></a>  55         # wmllint: local spellings Urudin
<a id='L56' name='L56'></a>  56         <a href='../D/15920.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "team_name^Urudin"
<a id='L57' name='L57'></a>  57         <a href='../D/8279.html' title='Multiple defined in 3 places.'>gold</a>=0
<a id='L58' name='L58'></a>  58         <a href='../D/12555.html' title='Multiple defined in 5 places.'>recruit</a>=""
<a id='L59' name='L59'></a>  59         [ai]
<a id='L60' name='L60'></a>  60             [engine]
<a id='L61' name='L61'></a>  61                 <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=lua
<a id='L62' name='L62'></a>  62                 <a href='../Y/7639.html' title='Multiple used in 165 places.'>code</a>= &lt;&lt;
<a id='L63' name='L63'></a>  63                     <strong class='reserved'>return</strong> <a href='../Y/21976.html' title='Multiple used in 2622 places.'>wesnoth</a>.<a href='../Y/17614.html' title='Multiple used in 267 places.'>require</a>("ai/micro_ais/engines/urudin_engine.lua").<a href='../D/8881.html' title='Multiple defined in 41 places.'>init</a>(<a href='../D/3114.html' title='Multiple defined in 87 places.'>ai</a>)
<a id='L64' name='L64'></a>  64                 &gt;&gt;
<a id='L65' name='L65'></a>  65             [/engine]
<a id='L66' name='L66'></a>  66             [stage]
<a id='L67' name='L67'></a>  67                 <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=leader_retreat
<a id='L68' name='L68'></a>  68                 <a href='../D/5926.html' title='Multiple defined in 3 places.'>engine</a>=lua
<a id='L69' name='L69'></a>  69                 <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=leader_retreat
<a id='L70' name='L70'></a>  70                 #retreat on &gt; half HP lost  or turn&gt;=3
<a id='L71' name='L71'></a>  71                 <a href='../Y/7639.html' title='Multiple used in 165 places.'>code</a>="(...):retreat()"
<a id='L72' name='L72'></a>  72             [/stage]
<a id='L73' name='L73'></a>  73             [stage]
<a id='L74' name='L74'></a>  74                 <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=ai_default_rca::candidate_action_evaluation_loop
<a id='L75' name='L75'></a>  75                 <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=simple_main_loop
<a id='L76' name='L76'></a>  76                 <em class='brace'>{</em>AI_CA_COMBAT<em class='brace'>}</em>
<a id='L77' name='L77'></a>  77                 <em class='brace'>{</em>AI_CA_SIMPLE_MOVE_TO_TARGETS<em class='brace'>}</em>
<a id='L78' name='L78'></a>  78             [/stage]
<a id='L79' name='L79'></a>  79         [/ai]
<a id='L80' name='L80'></a>  80     [/side]
<a id='L81' name='L81'></a>  81 
<a id='L82' name='L82'></a>  82     # Put all the patrol units and labels/items out there
<a id='L83' name='L83'></a>  83     [event]
<a id='L84' name='L84'></a>  84         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=prestart
<a id='L85' name='L85'></a>  85 
<a id='L86' name='L86'></a>  86         <em class='brace'>{</em>VARIABLE scenario_name patrols<em class='brace'>}</em>
<a id='L87' name='L87'></a>  87 
<a id='L88' name='L88'></a>  88         [unit]
<a id='L89' name='L89'></a>  89             <a href='../D/15500.html' title='Multiple defined in 27 places.'>type</a>=Spearman
<a id='L90' name='L90'></a>  90             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L91' name='L91'></a>  91             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Konrad
<a id='L92' name='L92'></a>  92             <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>= _ "Konrad"
<a id='L93' name='L93'></a>  93             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=5,7
<a id='L94' name='L94'></a>  94             <a href='../Y/17104.html' title='Multiple used in 377 places.'>random_traits</a>=no
<a id='L95' name='L95'></a>  95         [/unit]
<a id='L96' name='L96'></a>  96         [unit]
<a id='L97' name='L97'></a>  97             <a href='../D/15500.html' title='Multiple defined in 27 places.'>type</a>=Longbowman
<a id='L98' name='L98'></a>  98             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L99' name='L99'></a>  99             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=patrol1
<a id='L100' name='L100'></a> 100             <a href='../Y/17104.html' title='Multiple used in 377 places.'>random_traits</a>=no
<a id='L101' name='L101'></a> 101             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=14,12
<a id='L102' name='L102'></a> 102         [/unit]
<a id='L103' name='L103'></a> 103         [unit]
<a id='L104' name='L104'></a> 104             <a href='../D/15500.html' title='Multiple defined in 27 places.'>type</a>=Swordsman
<a id='L105' name='L105'></a> 105             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L106' name='L106'></a> 106             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=patrol2
<a id='L107' name='L107'></a> 107             <a href='../Y/17104.html' title='Multiple used in 377 places.'>random_traits</a>=no
<a id='L108' name='L108'></a> 108             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=17,12
<a id='L109' name='L109'></a> 109         [/unit]
<a id='L110' name='L110'></a> 110 
<a id='L111' name='L111'></a> 111         [unit]
<a id='L112' name='L112'></a> 112             <a href='../D/15500.html' title='Multiple defined in 27 places.'>type</a>="Orcish Slayer"
<a id='L113' name='L113'></a> 113             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Urudin
<a id='L114' name='L114'></a> 114             <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>= _ "Urudin"
<a id='L115' name='L115'></a> 115             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L116' name='L116'></a> 116             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=22,4
<a id='L117' name='L117'></a> 117         [/unit]
<a id='L118' name='L118'></a> 118 
<a id='L119' name='L119'></a> 119         [micro_ai]
<a id='L120' name='L120'></a> 120             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L121' name='L121'></a> 121             <a href='../Y/5520.html' title='Multiple used in 74 places.'>ai_type</a>=patrol
<a id='L122' name='L122'></a> 122             <a href='../D/2765.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L123' name='L123'></a> 123 
<a id='L124' name='L124'></a> 124             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Konrad
<a id='L125' name='L125'></a> 125             <a href='../Y/6984.html' title='Multiple used in 78 places.'>ca_score</a>=300000
<a id='L126' name='L126'></a> 126             <a href='../Y/21936.html' title='Multiple used in 20 places.'>waypoint_x</a>=9,24,25
<a id='L127' name='L127'></a> 127             <a href='../Y/21937.html' title='Multiple used in 17 places.'>waypoint_y</a>=21,23,15
<a id='L128' name='L128'></a> 128             <a href='../Y/15737.html' title='Multiple used in 7 places.'>one_time_only</a>=yes
<a id='L129' name='L129'></a> 129             <a href='../D/3454.html' title='Multiple defined in 3 places.'>attack</a>=Gertburt
<a id='L130' name='L130'></a> 130         [/micro_ai]
<a id='L131' name='L131'></a> 131 
<a id='L132' name='L132'></a> 132         [micro_ai]
<a id='L133' name='L133'></a> 133             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L134' name='L134'></a> 134             <a href='../Y/5520.html' title='Multiple used in 74 places.'>ai_type</a>=patrol
<a id='L135' name='L135'></a> 135             <a href='../D/2765.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L136' name='L136'></a> 136 
<a id='L137' name='L137'></a> 137             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=patrol1
<a id='L138' name='L138'></a> 138             <a href='../Y/6984.html' title='Multiple used in 78 places.'>ca_score</a>=299999
<a id='L139' name='L139'></a> 139             <a href='../Y/21936.html' title='Multiple used in 20 places.'>waypoint_x</a>=14,22,22,14,14
<a id='L140' name='L140'></a> 140             <a href='../Y/21937.html' title='Multiple used in 17 places.'>waypoint_y</a>=12,12,18,19,12
<a id='L141' name='L141'></a> 141             <a href='../Y/15990.html' title='Multiple used in 2 places.'>out_and_back</a>=yes
<a id='L142' name='L142'></a> 142         [/micro_ai]
<a id='L143' name='L143'></a> 143 
<a id='L144' name='L144'></a> 144         [micro_ai]
<a id='L145' name='L145'></a> 145             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L146' name='L146'></a> 146             <a href='../Y/5520.html' title='Multiple used in 74 places.'>ai_type</a>=patrol
<a id='L147' name='L147'></a> 147             <a href='../D/2765.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L148' name='L148'></a> 148 
<a id='L149' name='L149'></a> 149             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=patrol2
<a id='L150' name='L150'></a> 150             <a href='../Y/6984.html' title='Multiple used in 78 places.'>ca_score</a>=299998
<a id='L151' name='L151'></a> 151             <a href='../Y/21936.html' title='Multiple used in 20 places.'>waypoint_x</a>=14,14,22,22
<a id='L152' name='L152'></a> 152             <a href='../Y/21937.html' title='Multiple used in 17 places.'>waypoint_y</a>=12,19,18,12
<a id='L153' name='L153'></a> 153             <a href='../D/3454.html' title='Multiple defined in 3 places.'>attack</a>=xxxx # don't attack anybody
<a id='L154' name='L154'></a> 154         [/micro_ai]
<a id='L155' name='L155'></a> 155 
<a id='L156' name='L156'></a> 156         [unit]
<a id='L157' name='L157'></a> 157             <a href='../D/15500.html' title='Multiple defined in 27 places.'>type</a>=Javelineer
<a id='L158' name='L158'></a> 158             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L159' name='L159'></a> 159             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=guard1
<a id='L160' name='L160'></a> 160             <a href='../Y/17104.html' title='Multiple used in 377 places.'>random_traits</a>=no
<a id='L161' name='L161'></a> 161             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=25,27
<a id='L162' name='L162'></a> 162         [/unit]
<a id='L163' name='L163'></a> 163 
<a id='L164' name='L164'></a> 164         [micro_ai]
<a id='L165' name='L165'></a> 165             <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L166' name='L166'></a> 166             <a href='../Y/5520.html' title='Multiple used in 74 places.'>ai_type</a>=zone_guardian
<a id='L167' name='L167'></a> 167             <a href='../D/2765.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L168' name='L168'></a> 168 
<a id='L169' name='L169'></a> 169             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=guard1
<a id='L170' name='L170'></a> 170             <a href='../Y/6984.html' title='Multiple used in 78 places.'>ca_score</a>=299997
<a id='L171' name='L171'></a> 171             [filter_location]
<a id='L172' name='L172'></a> 172                 <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=10-26,26-28
<a id='L173' name='L173'></a> 173             [/filter_location]
<a id='L174' name='L174'></a> 174         [/micro_ai]
<a id='L175' name='L175'></a> 175 
<a id='L176' name='L176'></a> 176         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 11 4<em class='brace'>}</em>
<a id='L177' name='L177'></a> 177         <em class='brace'>{</em>SET_LABEL 11 4 _"End Scenario"<em class='brace'>}</em>
<a id='L178' name='L178'></a> 178 
<a id='L179' name='L179'></a> 179         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 9 21<em class='brace'>}</em>
<a id='L180' name='L180'></a> 180         <em class='brace'>{</em>SET_LABEL 9 21 _"Konrad Waypoint 1"<em class='brace'>}</em>
<a id='L181' name='L181'></a> 181         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 24 23<em class='brace'>}</em>
<a id='L182' name='L182'></a> 182         <em class='brace'>{</em>SET_LABEL 24 23 _"Konrad Waypoint 2"<em class='brace'>}</em>
<a id='L183' name='L183'></a> 183         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 25 15<em class='brace'>}</em>
<a id='L184' name='L184'></a> 184         <em class='brace'>{</em>SET_LABEL 25 15 _"Konrad Final Waypoint"<em class='brace'>}</em>
<a id='L185' name='L185'></a> 185 
<a id='L186' name='L186'></a> 186         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 14 12<em class='brace'>}</em>
<a id='L187' name='L187'></a> 187         <em class='brace'>{</em>SET_LABEL 14 12 _"Patrol Waypoint 1"<em class='brace'>}</em>
<a id='L188' name='L188'></a> 188         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 14 19<em class='brace'>}</em>
<a id='L189' name='L189'></a> 189         <em class='brace'>{</em>SET_LABEL 14 19 _"Patrol Waypoint 2"<em class='brace'>}</em>
<a id='L190' name='L190'></a> 190         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 22 18<em class='brace'>}</em>
<a id='L191' name='L191'></a> 191         <em class='brace'>{</em>SET_LABEL 22 18 _"Patrol Waypoint 3"<em class='brace'>}</em>
<a id='L192' name='L192'></a> 192         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 22 12<em class='brace'>}</em>
<a id='L193' name='L193'></a> 193         <em class='brace'>{</em>SET_LABEL 22 12 _"Patrol Waypoint 4"<em class='brace'>}</em>
<a id='L194' name='L194'></a> 194 
<a id='L195' name='L195'></a> 195         <em class='brace'>{</em>PLACE_IMAGE "scenery/signpost.png" 33 8<em class='brace'>}</em>
<a id='L196' name='L196'></a> 196         <em class='brace'>{</em>SET_LABEL 33 8 _"Urudin retreats here"<em class='brace'>}</em>
<a id='L197' name='L197'></a> 197     [/event]
<a id='L198' name='L198'></a> 198 
<a id='L199' name='L199'></a> 199     [event]
<a id='L200' name='L200'></a> 200         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=start
<a id='L201' name='L201'></a> 201 
<a id='L202' name='L202'></a> 202         <em class='brace'>{</em>STORE_UNIT_VAR <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Konrad profile profile<em class='brace'>}</em>
<a id='L203' name='L203'></a> 203         # wmllint: unbalanced-on
<a id='L204' name='L204'></a> 204         <em class='brace'>{</em>MESSAGE Konrad "$profile~FL()~RIGHT()" "" _"Hello!  I'm a Konrad impostor. We are going to demonstrate the Patrol AI to you in this scenario.
<a id='L205' name='L205'></a> 205 
<a id='L206' name='L206'></a> 206 I am heading <strong class='reserved'>for</strong> the keep east of the central mountain via a couple waypoints in the south. I will stay there once I get there. By contrast, those two fellas in the center are perpetually circling the mountain, one of them always in the same direction, the other changing directions after every lap.
<a id='L207' name='L207'></a> 207 
<a id='L208' name='L208'></a> 208 All of this is implemented by use of the Patrol [micro_ai] tag."}
<a id='L209' name='L209'></a> 209         # wmllint: unbalanced-off
<a id='L210' name='L210'></a> 210         <em class='brace'>{</em>CLEAR_VARIABLE profile<em class='brace'>}</em>
<a id='L211' name='L211'></a> 211         <em class='brace'>{</em>MESSAGE guard1 "" "" _"By contrast, I am a zone guardian patrolling, in a way, the southernmost part of the map.  This AI is implemented via the Guardian [micro_ai] tag.  It is here mostly to demonstrate how to set up different Micro AIs for the same side.  For more details on different types of guardian AIs, there is a separate test scenario specializing on those."<em class='brace'>}</em>
<a id='L212' name='L212'></a> 212         <em class='brace'>{</em>MESSAGE Urudin "" "" _"And I am Urudin. I will attack my enemies for a few turns, but will retreat toward the right edge of the map if my hitpoints are below half of maximum or by Turn 5, whatever happens first.
<a id='L213' name='L213'></a> 213 
<a id='L214' name='L214'></a> 214 This is an AI separate from the Patrols of Side 2."}
<a id='L215' name='L215'></a> 215 
<a id='L216' name='L216'></a> 216         # wmllint: unbalanced-on
<a id='L217' name='L217'></a> 217         <em class='brace'>{</em>MESSAGE narrator "wesnoth-icon.png" _"Notes" _"You, as the player, are in charge of Gertburt's bandits in this scenario. You can either simply watch the patrols move around, or you can move units into their way. The three patrol units are instructed to behave differently when facing enemy units:
<a id='L218' name='L218'></a> 218 
<a id='L219' name='L219'></a> 219 Konrad only attacks Gertburt, or any enemy unit that blocks his final waypoint.
<a id='L220' name='L220'></a> 220 
<a id='L221' name='L221'></a> 221 The Swordsman never attacks at all.
<a id='L222' name='L222'></a> 222 
<a id='L223' name='L223'></a> 223 The Longbowman attacks any enemy unit he ends up next to at the end of his move.
<a id='L224' name='L224'></a> 224 
<a id='L225' name='L225'></a> 225 They all have in common, however, that getting to their next waypoint takes priority over attacking. They will thus prefer to move around enemies rather than straight <strong class='reserved'>for</strong> them. Also, <strong class='reserved'>if</strong> a waypoint is occupied by a unit they are not instructed to attack, they will (eventually) abandon that waypoint once they get close enough and move on to the next one.
<a id='L226' name='L226'></a> 226 
<a id='L227' name='L227'></a> 227 The Patrol AI controlling all Side 2 units is coded as a Micro AI. A Micro AI can be added and adapted to the need of a scenario easily using only WML and the [micro_ai] tag. Check out the &lt;span <a href='../D/4618.html' title='Multiple defined in 5 places.'>color</a>='#00A000'&gt;Micro AI wiki page&lt;/span&gt; at http:<em class='comment'>//wiki.wesnoth.org/Micro_AIs for more information."}</em>
<a id='L228' name='L228'></a> 228         # wmllint: unbalanced-off
<a id='L229' name='L229'></a> 229 
<a id='L230' name='L230'></a> 230         [objectives]
<a id='L231' name='L231'></a> 231             <a href='../S/936.html#L188' title='Defined at 188 in src/save_index.cpp.'>summary</a>= _ "Watch the patrols, attack them etc."
<a id='L232' name='L232'></a> 232             [objective]
<a id='L233' name='L233'></a> 233                 <a href='../D/5414.html' title='Multiple defined in 14 places.'>description</a>= _ "Defeat all enemy units"
<a id='L234' name='L234'></a> 234                 <a href='../Y/7833.html' title='Multiple used in 1335 places.'>condition</a>=win
<a id='L235' name='L235'></a> 235             [/objective]
<a id='L236' name='L236'></a> 236             [objective]
<a id='L237' name='L237'></a> 237                 <a href='../D/5414.html' title='Multiple defined in 14 places.'>description</a>= _ "Move Gertburt to the signpost"
<a id='L238' name='L238'></a> 238                 <a href='../Y/7833.html' title='Multiple used in 1335 places.'>condition</a>=win
<a id='L239' name='L239'></a> 239             [/objective]
<a id='L240' name='L240'></a> 240             [objective]
<a id='L241' name='L241'></a> 241                 <a href='../D/5414.html' title='Multiple defined in 14 places.'>description</a>= _ "Death of Gertburt"
<a id='L242' name='L242'></a> 242                 <a href='../Y/7833.html' title='Multiple used in 1335 places.'>condition</a>=lose
<a id='L243' name='L243'></a> 243             [/objective]
<a id='L244' name='L244'></a> 244         [/objectives]
<a id='L245' name='L245'></a> 245     [/event]
<a id='L246' name='L246'></a> 246 
<a id='L247' name='L247'></a> 247     # When Konrad gets to the end of his route, display a message
<a id='L248' name='L248'></a> 248     [event]
<a id='L249' name='L249'></a> 249         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=moveto
<a id='L250' name='L250'></a> 250         <a href='../Y/10249.html' title='Multiple used in 594 places.'>first_time_only</a>=no
<a id='L251' name='L251'></a> 251         [filter]
<a id='L252' name='L252'></a> 252             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Konrad
<a id='L253' name='L253'></a> 253             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=25,15
<a id='L254' name='L254'></a> 254         [/filter]
<a id='L255' name='L255'></a> 255 
<a id='L256' name='L256'></a> 256         <em class='brace'>{</em>MESSAGE Konrad "" "" _"Well, that was fun!  I'll just hang out here now and watch those two guys walk and walk and ..."<em class='brace'>}</em>
<a id='L257' name='L257'></a> 257     [/event]
<a id='L258' name='L258'></a> 258 
<a id='L259' name='L259'></a> 259     # The events finishing the scenario
<a id='L260' name='L260'></a> 260     [event]
<a id='L261' name='L261'></a> 261         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=die
<a id='L262' name='L262'></a> 262         <a href='../Y/10249.html' title='Multiple used in 594 places.'>first_time_only</a>=no
<a id='L263' name='L263'></a> 263 
<a id='L264' name='L264'></a> 264         [<strong class='reserved'>if</strong>]
<a id='L265' name='L265'></a> 265             [not]
<a id='L266' name='L266'></a> 266                 [have_unit]
<a id='L267' name='L267'></a> 267                     <a href='../D/14488.html' title='Multiple defined in 3 places.'>side</a>=2,3
<a id='L268' name='L268'></a> 268                 [/have_unit]
<a id='L269' name='L269'></a> 269             [/not]
<a id='L270' name='L270'></a> 270             [then]
<a id='L271' name='L271'></a> 271                 [kill]
<a id='L272' name='L272'></a> 272                     <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=$unit.id
<a id='L273' name='L273'></a> 273                 [/kill]
<a id='L274' name='L274'></a> 274 
<a id='L275' name='L275'></a> 275                 [fire_event]
<a id='L276' name='L276'></a> 276                     <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=end_scenario
<a id='L277' name='L277'></a> 277                 [/fire_event]
<a id='L278' name='L278'></a> 278             [/then]
<a id='L279' name='L279'></a> 279         [/<strong class='reserved'>if</strong>]
<a id='L280' name='L280'></a> 280     [/event]
<a id='L281' name='L281'></a> 281 
<a id='L282' name='L282'></a> 282     [event]
<a id='L283' name='L283'></a> 283         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=moveto
<a id='L284' name='L284'></a> 284         [filter]
<a id='L285' name='L285'></a> 285             <a href='../D/8683.html' title='Multiple defined in 22 places.'>id</a>=Gertburt
<a id='L286' name='L286'></a> 286             <a href='../D/16644.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16659.html' title='Multiple defined in 8 places.'>y</a>=11,4
<a id='L287' name='L287'></a> 287         [/filter]
<a id='L288' name='L288'></a> 288 
<a id='L289' name='L289'></a> 289         [fire_event]
<a id='L290' name='L290'></a> 290             <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=end_scenario
<a id='L291' name='L291'></a> 291         [/fire_event]
<a id='L292' name='L292'></a> 292     [/event]
<a id='L293' name='L293'></a> 293 
<a id='L294' name='L294'></a> 294     [event]
<a id='L295' name='L295'></a> 295         <a href='../D/11323.html' title='Multiple defined in 24 places.'>name</a>=end_scenario
<a id='L296' name='L296'></a> 296 
<a id='L297' name='L297'></a> 297         <em class='brace'>{</em>MESSAGE Gertburt "" "" _"Let's go home, chaps."<em class='brace'>}</em>
<a id='L298' name='L298'></a> 298 
<a id='L299' name='L299'></a> 299         [endlevel]
<a id='L300' name='L300'></a> 300             <a href='../D/12976.html' title='Multiple defined in 10 places.'>result</a>=victory
<a id='L301' name='L301'></a> 301             <a href='../Y/6598.html' title='Multiple used in 668 places.'>bonus</a>=no
<a id='L302' name='L302'></a> 302             <a href='../S/1083.html#L349' title='Defined at 349 in src/team.hpp.'>carryover_percentage</a>=0
<a id='L303' name='L303'></a> 303             <a href='../Y/7145.html' title='Multiple used in 128 places.'>carryover_report</a>=no
<a id='L304' name='L304'></a> 304             <a href='../Y/13274.html' title='Multiple used in 111 places.'>linger_mode</a>=no
<a id='L305' name='L305'></a> 305         [/endlevel]
<a id='L306' name='L306'></a> 306     [/event]
<a id='L307' name='L307'></a> 307 [/test]
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
