<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>data/campaigns/Secrets_of_the_Ancients/scenarios/18_Abandoned_Outpost.cfg</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5641.html'>data</a>/<a href='../files/5655.html'>campaigns</a>/<a href='../files/5706.html'>Secrets_of_the_Ancients</a>/<a href='../files/5707.html'>scenarios</a>/18_Abandoned_Outpost.cfg</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 #textdomain wesnoth-sota
<a id='L2' name='L2'></a>   2 
<a id='L3' name='L3'></a>   3 # Liches are now available to the player. All the stored units from the DA line need to
<a id='L4' name='L4'></a>   4 # have that option added to their unit trees. Since all dark sorcerers have been leveling
<a id='L5' name='L5'></a>   5 # into necromancers until this point, a menu option is included to turn them into liches
<a id='L6' name='L6'></a>   6 # too.
<a id='L7' name='L7'></a>   7 
<a id='L8' name='L8'></a>   8 # The spiders nearest to the player start with no movement points, and get one added
<a id='L9' name='L9'></a>   9 # each turn <strong class='reserved'>for</strong> the first few turns. That keeps the spiders from swarming the player
<a id='L10' name='L10'></a>  10 # immediately, and lets the battle happen in the middle of the map. For difficulty
<a id='L11' name='L11'></a>  11 # levels other than hard, a few changes are made to the map that make the scenario
<a id='L12' name='L12'></a>  12 # a bit easier.
<a id='L13' name='L13'></a>  13 
<a id='L14' name='L14'></a>  14 # The spiderweb terrain can be applied anywhere, but will be invisible <strong class='reserved'>if</strong> it is not used
<a id='L15' name='L15'></a>  15 # with specific shapes of corners or chasms. This limited the amount of artwork needed.
<a id='L16' name='L16'></a>  16 
<a id='L17' name='L17'></a>  17 [scenario]
<a id='L18' name='L18'></a>  18     <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>= _ "Abandoned Outpost"
<a id='L19' name='L19'></a>  19     <a href='../D/10780.html' title='Multiple defined in 2 places.'>map_data</a>="{campaigns/Secrets_of_the_Ancients/maps/18_Abandoned_Outpost.map}"
<a id='L20' name='L20'></a>  20 
<a id='L21' name='L21'></a>  21     <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=18_Abandoned_Outpost
<a id='L22' name='L22'></a>  22     <a href='../D/11396.html' title='Multiple defined in 2 places.'>next_scenario</a>=19_Lava_and_Stone
<a id='L23' name='L23'></a>  23     <a href='../Y/21680.html' title='Multiple used in 175 places.'>victory_when_enemies_defeated</a>=no
<a id='L24' name='L24'></a>  24 
<a id='L25' name='L25'></a>  25     [story]
<a id='L26' name='L26'></a>  26         [part]
<a id='L27' name='L27'></a>  27             [background_layer]
<a id='L28' name='L28'></a>  28                 <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=story/book.png
<a id='L29' name='L29'></a>  29                 <a href='../D/13298.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L30' name='L30'></a>  30             [/background_layer]
<a id='L31' name='L31'></a>  31             <a href='../Y/19359.html' title='Multiple used in 724 places.'>story</a>= _ "9 VI, 23 YW
<a id='L32' name='L32'></a>  32 
<a id='L33' name='L33'></a>  33 To become a lich, one must first die. The spells of necromancy bind the spirit, but only once it has been unbound from the body. To become a lich, the mage must make the necessary incantations with his dying breaths. He thus binds his own spirit in much the same way he binds the spirits of others.... An altar serves to hold his soul in the physical plane <strong class='reserved'>long</strong> enough to make the transition, and a suitable object must be found to hold the consciousness <strong class='reserved'>for</strong> one crucial moment when the body expires."
<a id='L34' name='L34'></a>  34         [/part]
<a id='L35' name='L35'></a>  35         [part]
<a id='L36' name='L36'></a>  36             [background_layer]
<a id='L37' name='L37'></a>  37                 <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=portraits/undead/lich.png
<a id='L38' name='L38'></a>  38                 <a href='../D/13298.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L39' name='L39'></a>  39             [/background_layer]
<a id='L40' name='L40'></a>  40             <a href='../Y/19359.html' title='Multiple used in 724 places.'>story</a>= _ "13 VI, 23 YW
<a id='L41' name='L41'></a>  41 
<a id='L42' name='L42'></a>  42 So, Ras-Tabahn is now undead. In the beginning, his health was not much improved, and he complained of being cold. His life force was weak, but he was able to absorb life from the rats infesting the ancient castle. Now he is more strong and vigorous than I have ever seen him. This is despite the fact that his flesh is starting to rot away, a process that causes him no discomfort. Nor can he smell it any more than I can. If all continues to go well, I will make the transition soon myself."
<a id='L43' name='L43'></a>  43         [/part]
<a id='L44' name='L44'></a>  44         [part]
<a id='L45' name='L45'></a>  45             [background_layer]
<a id='L46' name='L46'></a>  46                 <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=portraits/ardonna-lich.png
<a id='L47' name='L47'></a>  47                 <a href='../D/13298.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L48' name='L48'></a>  48             [/background_layer]
<a id='L49' name='L49'></a>  49             <a href='../Y/19359.html' title='Multiple used in 724 places.'>story</a>= _ "17 VI, 23 YW
<a id='L50' name='L50'></a>  50 
<a id='L51' name='L51'></a>  51 Now the process is complete <strong class='reserved'>for</strong> both of us. I posted a guard so nothing could happen to me in my weakened state, and nothing did. I am restored. I don’t feel much different, but I suppose I look a fright. Ah well, it can’t be helped. But my primary goal is achieved! I cannot die! I suppose I could be broken apart like a skeleton or maybe burned, but I <strong class='reserved'>do</strong> not have to fear these unlikely events: I have the awesome powers of the spirit realm flowing through me, and can protect myself quite adequately! My next goal is to share my knowledge with the world so that &lt;i&gt;no one&lt;/i&gt; need die."
<a id='L52' name='L52'></a>  52         [/part]
<a id='L53' name='L53'></a>  53     [/story]
<a id='L54' name='L54'></a>  54 
<a id='L55' name='L55'></a>  55     <em class='brace'>{</em>UNDERGROUND<em class='brace'>}</em>
<a id='L56' name='L56'></a>  56     <em class='brace'>{</em>DEFAULT_MUSIC_PLAYLIST<em class='brace'>}</em>
<a id='L57' name='L57'></a>  57     <em class='brace'>{</em>TURNS 32 29 25<em class='brace'>}</em>
<a id='L58' name='L58'></a>  58 
<a id='L59' name='L59'></a>  59     [side]
<a id='L60' name='L60'></a>  60         <em class='brace'>{</em>SIDE_1_BOTH<em class='brace'>}</em>
<a id='L61' name='L61'></a>  61         <em class='brace'>{</em>GOLD 230 190 110<em class='brace'>}</em>
<a id='L62' name='L62'></a>  62         <a href='../S/795.html#L550' title='Defined at 550 in src/preferences/game.cpp.'>shroud</a>=yes
<a id='L63' name='L63'></a>  63     [/side]
<a id='L64' name='L64'></a>  64 
<a id='L65' name='L65'></a>  65     [side]
<a id='L66' name='L66'></a>  66         <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L67' name='L67'></a>  67         <a href='../D/4908.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L68' name='L68'></a>  68         <a href='../D/15904.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Spiders"
<a id='L69' name='L69'></a>  69         <a href='../D/15024.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L70' name='L70'></a>  70         <a href='../S/1083.html#L335' title='Defined at 335 in src/team.hpp.'>no_leader</a>=yes
<a id='L71' name='L71'></a>  71         <a href='../D/8269.html' title='Multiple defined in 3 places.'>gold</a>=0
<a id='L72' name='L72'></a>  72         <a href='../D/8575.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L73' name='L73'></a>  73     [/side]
<a id='L74' name='L74'></a>  74 
<a id='L75' name='L75'></a>  75 <em class='sharp'>    #</em> *************************** PRESTART ***************************
<a id='L76' name='L76'></a>  76     [event]
<a id='L77' name='L77'></a>  77         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=prestart
<a id='L78' name='L78'></a>  78 
<a id='L79' name='L79'></a>  79         [objectives]
<a id='L80' name='L80'></a>  80             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L81' name='L81'></a>  81             [objective]
<a id='L82' name='L82'></a>  82                 <a href='../D/5409.html' title='Multiple defined in 14 places.'>description</a>= _ "Move Ardryn-Na and Ras-Tabahn to the west end of the cave"
<a id='L83' name='L83'></a>  83                 <a href='../Y/7805.html' title='Multiple used in 1329 places.'>condition</a>=win
<a id='L84' name='L84'></a>  84             [/objective]
<a id='L85' name='L85'></a>  85             <em class='brace'>{</em>ALTERNATIVE_OBJECTIVE ( _ "Kill every enemy unit")<em class='brace'>}</em>
<a id='L86' name='L86'></a>  86 
<a id='L87' name='L87'></a>  87             <em class='brace'>{</em>HOW_TO_LOSE_WITH_BOTH<em class='brace'>}</em>
<a id='L88' name='L88'></a>  88 
<a id='L89' name='L89'></a>  89             [gold_carryover]
<a id='L90' name='L90'></a>  90                 <a href='../Y/6570.html' title='Multiple used in 668 places.'>bonus</a>=yes
<a id='L91' name='L91'></a>  91                 <a href='../S/1083.html#L349' title='Defined at 349 in src/team.hpp.'>carryover_percentage</a>=40
<a id='L92' name='L92'></a>  92             [/gold_carryover]
<a id='L93' name='L93'></a>  93 
<a id='L94' name='L94'></a>  94             [note]
<a id='L95' name='L95'></a>  95                 <a href='../D/5409.html' title='Multiple defined in 14 places.'>description</a>= _ "To turn a necromancer into a lich, right-click on it while it is in a castle."
<a id='L96' name='L96'></a>  96             [/note]
<a id='L97' name='L97'></a>  97         [/objectives]
<a id='L98' name='L98'></a>  98 
<a id='L99' name='L99'></a>  99         # There is now a menu option to turn necromancers into liches.
<a id='L100' name='L100'></a> 100         [set_menu_item]
<a id='L101' name='L101'></a> 101             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=lichify
<a id='L102' name='L102'></a> 102             <a href='../D/5409.html' title='Multiple defined in 14 places.'>description</a>= _ "Make Into a Lich"
<a id='L103' name='L103'></a> 103             <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=units/icons/icon-lich.png
<a id='L104' name='L104'></a> 104             [show_if]
<a id='L105' name='L105'></a> 105                 [have_unit]
<a id='L106' name='L106'></a> 106                     <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>=$x1
<a id='L107' name='L107'></a> 107                     <a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=$y1
<a id='L108' name='L108'></a> 108                     <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L109' name='L109'></a> 109                     <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Necromancer, Necromancer SotA
<a id='L110' name='L110'></a> 110                 [/have_unit]
<a id='L111' name='L111'></a> 111             [/show_if]
<a id='L112' name='L112'></a> 112             [command]
<a id='L113' name='L113'></a> 113                 [<strong class='reserved'>if</strong>]
<a id='L114' name='L114'></a> 114                     [have_location]
<a id='L115' name='L115'></a> 115                         <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>=$x1
<a id='L116' name='L116'></a> 116                         <a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=$y1
<a id='L117' name='L117'></a> 117                         <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=C*^*,K*^*,*^K*,*^C*  # castles and keeps
<a id='L118' name='L118'></a> 118                     [/have_location]
<a id='L119' name='L119'></a> 119                     [then]
<a id='L120' name='L120'></a> 120                         [fire_event]
<a id='L121' name='L121'></a> 121                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=lichify  # See: sota-utils.cfg
<a id='L122' name='L122'></a> 122                             [primary_unit]
<a id='L123' name='L123'></a> 123                                 <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>=$x1
<a id='L124' name='L124'></a> 124                                 <a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=$y1
<a id='L125' name='L125'></a> 125                             [/primary_unit]
<a id='L126' name='L126'></a> 126                         [/fire_event]
<a id='L127' name='L127'></a> 127                     [/then]
<a id='L128' name='L128'></a> 128                     [<strong class='reserved'>else</strong>]
<a id='L129' name='L129'></a> 129                         [message]
<a id='L130' name='L130'></a> 130                             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=narrator
<a id='L131' name='L131'></a> 131                             <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=logo.png
<a id='L132' name='L132'></a> 132                             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "You can only do this in a castle."
<a id='L133' name='L133'></a> 133                         [/message]
<a id='L134' name='L134'></a> 134                     [/<strong class='reserved'>else</strong>]
<a id='L135' name='L135'></a> 135                 [/<strong class='reserved'>if</strong>]
<a id='L136' name='L136'></a> 136             [/command]
<a id='L137' name='L137'></a> 137         [/set_menu_item]
<a id='L138' name='L138'></a> 138 
<a id='L139' name='L139'></a> 139         # From now on, newly recruited DAs need to be able to eventually advance to
<a id='L140' name='L140'></a> 140         # liches like normal. We will stop using the custom units in the recruit list.
<a id='L141' name='L141'></a> 141         [disallow_recruit]
<a id='L142' name='L142'></a> 142             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L143' name='L143'></a> 143             <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Dark Adept SotA
<a id='L144' name='L144'></a> 144         [/disallow_recruit]
<a id='L145' name='L145'></a> 145         [allow_recruit]
<a id='L146' name='L146'></a> 146             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L147' name='L147'></a> 147             <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Dark Adept
<a id='L148' name='L148'></a> 148         [/allow_recruit]
<a id='L149' name='L149'></a> 149 
<a id='L150' name='L150'></a> 150         # This section changes all *existing* units so that they have liches in their
<a id='L151' name='L151'></a> 151         # advancement trees. As of 1.12 at least, [modify_unit] doesn't apply to
<a id='L152' name='L152'></a> 152         # the recall list, so we have to <strong class='reserved'>do</strong> it the <strong class='reserved'>long</strong> way.
<a id='L153' name='L153'></a> 153         [store_unit]
<a id='L154' name='L154'></a> 154             [filter]
<a id='L155' name='L155'></a> 155                 <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Dark Adept SotA, Dark Sorcerer SotA
<a id='L156' name='L156'></a> 156             [/filter]
<a id='L157' name='L157'></a> 157             <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=DA  # Even though it might actually be a DS.
<a id='L158' name='L158'></a> 158         [/store_unit]
<a id='L159' name='L159'></a> 159 
<a id='L160' name='L160'></a> 160         [<strong class='reserved'>for</strong>]
<a id='L161' name='L161'></a> 161             <a href='../Y/5830.html' title='Multiple used in 180 places.'>array</a>=DA
<a id='L162' name='L162'></a> 162             <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=i
<a id='L163' name='L163'></a> 163             [<strong class='reserved'>do</strong>]
<a id='L164' name='L164'></a> 164                 [<strong class='reserved'>if</strong>]
<a id='L165' name='L165'></a> 165                     [variable]
<a id='L166' name='L166'></a> 166                         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=DA[$i].type
<a id='L167' name='L167'></a> 167                         <a href='../D/5967.html' title='Multiple defined in 10 places.'>equals</a>=Dark Adept SotA
<a id='L168' name='L168'></a> 168                     [/variable]
<a id='L169' name='L169'></a> 169                     [then]
<a id='L170' name='L170'></a> 170                         [set_variable]
<a id='L171' name='L171'></a> 171                             # Custom DA's will advance to normal dark sorcerers
<a id='L172' name='L172'></a> 172                             # which will fix them.
<a id='L173' name='L173'></a> 173                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=DA[$i].advances_to
<a id='L174' name='L174'></a> 174                             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Dark Sorcerer
<a id='L175' name='L175'></a> 175                         [/set_variable]
<a id='L176' name='L176'></a> 176                     [/then]
<a id='L177' name='L177'></a> 177                     [<strong class='reserved'>else</strong>]
<a id='L178' name='L178'></a> 178                         [set_variable]
<a id='L179' name='L179'></a> 179                             # Custom DS's just get the other advancement added.
<a id='L180' name='L180'></a> 180                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=DA[$i].advances_to
<a id='L181' name='L181'></a> 181                             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Necromancer,Lich
<a id='L182' name='L182'></a> 182                         [/set_variable]
<a id='L183' name='L183'></a> 183                     [/<strong class='reserved'>else</strong>]
<a id='L184' name='L184'></a> 184                 [/<strong class='reserved'>if</strong>]
<a id='L185' name='L185'></a> 185                 [unstore_unit]
<a id='L186' name='L186'></a> 186                     <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=DA[$i]
<a id='L187' name='L187'></a> 187                 [/unstore_unit]
<a id='L188' name='L188'></a> 188             [/<strong class='reserved'>do</strong>]
<a id='L189' name='L189'></a> 189         [/<strong class='reserved'>for</strong>]
<a id='L190' name='L190'></a> 190 
<a id='L191' name='L191'></a> 191         [clear_variable]
<a id='L192' name='L192'></a> 192             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=DA
<a id='L193' name='L193'></a> 193         [/clear_variable]
<a id='L194' name='L194'></a> 194 
<a id='L195' name='L195'></a> 195         # We need to change all existing bats to normal types instead of SotA types
<a id='L196' name='L196'></a> 196         # so they are drawn above terrains. SotA bats were necessary <strong class='reserved'>for</strong> the ship
<a id='L197' name='L197'></a> 197         # where they were drawn behind the rigging, but <strong class='reserved'>for</strong> the spiderwebs in this
<a id='L198' name='L198'></a> 198         # scenario, normal bats look a lot better. First, we'll make sure newly
<a id='L199' name='L199'></a> 199         # recruited ones will be correct:
<a id='L200' name='L200'></a> 200         [disallow_recruit]
<a id='L201' name='L201'></a> 201             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L202' name='L202'></a> 202             <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Vampire Bat SotA
<a id='L203' name='L203'></a> 203         [/disallow_recruit]
<a id='L204' name='L204'></a> 204         [allow_recruit]
<a id='L205' name='L205'></a> 205             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L206' name='L206'></a> 206             <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Vampire Bat
<a id='L207' name='L207'></a> 207         [/allow_recruit]
<a id='L208' name='L208'></a> 208 
<a id='L209' name='L209'></a> 209         # Now, all the bats on the recall list get copied, except <strong class='reserved'>for</strong> the type.
<a id='L210' name='L210'></a> 210         [store_unit]
<a id='L211' name='L211'></a> 211             [filter]
<a id='L212' name='L212'></a> 212                 <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Vampire Bat SotA, Blood Bat SotA, Dread Bat SotA
<a id='L213' name='L213'></a> 213             [/filter]
<a id='L214' name='L214'></a> 214             <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=bats
<a id='L215' name='L215'></a> 215             <a href='../S/1449.html#L364' title='Defined at 364 in utils/umc_dev/org.wesnoth/src/org/wesnoth/utils/ExternalToolInvoker.java.'>kill</a>=yes
<a id='L216' name='L216'></a> 216         [/store_unit]
<a id='L217' name='L217'></a> 217 
<a id='L218' name='L218'></a> 218         [<strong class='reserved'>for</strong>]
<a id='L219' name='L219'></a> 219             <a href='../Y/5830.html' title='Multiple used in 180 places.'>array</a>=bats
<a id='L220' name='L220'></a> 220             <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=i
<a id='L221' name='L221'></a> 221             [<strong class='reserved'>do</strong>]
<a id='L222' name='L222'></a> 222                 # Get the new type:
<a id='L223' name='L223'></a> 223                 [<strong class='reserved'>switch</strong>]
<a id='L224' name='L224'></a> 224                     <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=bats[$i].type
<a id='L225' name='L225'></a> 225                     [<strong class='reserved'>case</strong>]
<a id='L226' name='L226'></a> 226                         <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Vampire Bat SotA
<a id='L227' name='L227'></a> 227                         [set_variable]
<a id='L228' name='L228'></a> 228                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=new_type
<a id='L229' name='L229'></a> 229                             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Vampire Bat
<a id='L230' name='L230'></a> 230                         [/set_variable]
<a id='L231' name='L231'></a> 231                     [/<strong class='reserved'>case</strong>]
<a id='L232' name='L232'></a> 232                     [<strong class='reserved'>case</strong>]
<a id='L233' name='L233'></a> 233                         <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Blood Bat SotA
<a id='L234' name='L234'></a> 234                         [set_variable]
<a id='L235' name='L235'></a> 235                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=new_type
<a id='L236' name='L236'></a> 236                             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Blood Bat
<a id='L237' name='L237'></a> 237                         [/set_variable]
<a id='L238' name='L238'></a> 238                     [/<strong class='reserved'>case</strong>]
<a id='L239' name='L239'></a> 239                     [<strong class='reserved'>case</strong>]
<a id='L240' name='L240'></a> 240                         <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Dread Bat SotA
<a id='L241' name='L241'></a> 241                         [set_variable]
<a id='L242' name='L242'></a> 242                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=new_type
<a id='L243' name='L243'></a> 243                             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=Dread Bat
<a id='L244' name='L244'></a> 244                         [/set_variable]
<a id='L245' name='L245'></a> 245                     [/<strong class='reserved'>case</strong>]
<a id='L246' name='L246'></a> 246                 [/<strong class='reserved'>switch</strong>]
<a id='L247' name='L247'></a> 247 
<a id='L248' name='L248'></a> 248                 # Create a new bat with the same attributes as the old one:
<a id='L249' name='L249'></a> 249                 [unit]
<a id='L250' name='L250'></a> 250                     <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=$new_type
<a id='L251' name='L251'></a> 251                     <a href='../S/997.html#L418' title='Defined at 418 in src/units/unit.hpp.'>max_experience</a>=$bats[$i].max_experience
<a id='L252' name='L252'></a> 252                     <a href='../S/997.html#L400' title='Defined at 400 in src/units/unit.hpp.'>max_hitpoints</a>=$bats[$i].max_hitpoints
<a id='L253' name='L253'></a> 253                     <a href='../S/997.html#L412' title='Defined at 412 in src/units/unit.hpp.'>experience</a>=$bats[$i].experience
<a id='L254' name='L254'></a> 254                     <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=$bats[$i].name
<a id='L255' name='L255'></a> 255                     <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=$bats[$i].id
<a id='L256' name='L256'></a> 256                     <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L257' name='L257'></a> 257                     <a href='../D/11928.html' title='Multiple defined in 4 places.'>placement</a>=recall  # The only place they can be at the moment.
<a id='L258' name='L258'></a> 258                     [modifications]
<a id='L259' name='L259'></a> 259                         [insert_tag]
<a id='L260' name='L260'></a> 260                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=trait
<a id='L261' name='L261'></a> 261                             <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=bats[$i].modifications.trait[0]
<a id='L262' name='L262'></a> 262                         [/insert_tag]
<a id='L263' name='L263'></a> 263                         [insert_tag]
<a id='L264' name='L264'></a> 264                             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=trait
<a id='L265' name='L265'></a> 265                             <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=bats[$i].modifications.trait[1]
<a id='L266' name='L266'></a> 266                         [/insert_tag]
<a id='L267' name='L267'></a> 267                     [/modifications]
<a id='L268' name='L268'></a> 268                 [/unit]
<a id='L269' name='L269'></a> 269             [/<strong class='reserved'>do</strong>]
<a id='L270' name='L270'></a> 270         [/<strong class='reserved'>for</strong>]
<a id='L271' name='L271'></a> 271 
<a id='L272' name='L272'></a> 272         [clear_variable]
<a id='L273' name='L273'></a> 273             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=bats, new_type
<a id='L274' name='L274'></a> 274         [/clear_variable]
<a id='L275' name='L275'></a> 275 
<a id='L276' name='L276'></a> 276 <em class='sharp'>#ifndef</em> HARD
<a id='L277' name='L277'></a> 277         [terrain]
<a id='L278' name='L278'></a> 278             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=28,7
<a id='L279' name='L279'></a> 279             <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=Xu
<a id='L280' name='L280'></a> 280         [/terrain]
<a id='L281' name='L281'></a> 281         [terrain]
<a id='L282' name='L282'></a> 282             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>=25
<a id='L283' name='L283'></a> 283             <a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=10-11
<a id='L284' name='L284'></a> 284             <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=Rb
<a id='L285' name='L285'></a> 285         [/terrain]
<a id='L286' name='L286'></a> 286         [terrain]
<a id='L287' name='L287'></a> 287             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=32,7
<a id='L288' name='L288'></a> 288             <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=Qxu
<a id='L289' name='L289'></a> 289         [/terrain]
<a id='L290' name='L290'></a> 290 <em class='sharp'>#endif</em>
<a id='L291' name='L291'></a> 291 
<a id='L292' name='L292'></a> 292         # The value of spider_number is *not* the number of spiders, but this variable does
<a id='L293' name='L293'></a> 293         # help determine how many spiders get placed. See the repeats below.
<a id='L294' name='L294'></a> 294 <em class='sharp'>#ifdef</em> EASY
<a id='L295' name='L295'></a> 295         [set_variable]
<a id='L296' name='L296'></a> 296             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=spider_number
<a id='L297' name='L297'></a> 297             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=4
<a id='L298' name='L298'></a> 298         [/set_variable]
<a id='L299' name='L299'></a> 299 <em class='sharp'>#endif</em>
<a id='L300' name='L300'></a> 300 <em class='sharp'>#ifdef</em> NORMAL
<a id='L301' name='L301'></a> 301         [set_variable]
<a id='L302' name='L302'></a> 302             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=spider_number
<a id='L303' name='L303'></a> 303             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=5
<a id='L304' name='L304'></a> 304         [/set_variable]
<a id='L305' name='L305'></a> 305 <em class='sharp'>#endif</em>
<a id='L306' name='L306'></a> 306 <em class='sharp'>#ifdef</em> HARD
<a id='L307' name='L307'></a> 307         [set_variable]
<a id='L308' name='L308'></a> 308             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=spider_number
<a id='L309' name='L309'></a> 309             <a href='../D/15967.html' title='Multiple defined in 19 places.'>value</a>=6
<a id='L310' name='L310'></a> 310         [/set_variable]
<a id='L311' name='L311'></a> 311 <em class='sharp'>#endif</em>
<a id='L312' name='L312'></a> 312 
<a id='L313' name='L313'></a> 313         [repeat]
<a id='L314' name='L314'></a> 314             <a href='../D/15237.html' title='Multiple defined in 2 places.'>times</a>="$($spider_number+5)"
<a id='L315' name='L315'></a> 315             [<strong class='reserved'>do</strong>]
<a id='L316' name='L316'></a> 316                 [unit]
<a id='L317' name='L317'></a> 317                     <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=23,7
<a id='L318' name='L318'></a> 318                     <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Giant Spider
<a id='L319' name='L319'></a> 319                     <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L320' name='L320'></a> 320                     <a href='../D/11928.html' title='Multiple defined in 4 places.'>placement</a>=map_passable
<a id='L321' name='L321'></a> 321                 [/unit]
<a id='L322' name='L322'></a> 322             [/<strong class='reserved'>do</strong>]
<a id='L323' name='L323'></a> 323         [/repeat]
<a id='L324' name='L324'></a> 324 
<a id='L325' name='L325'></a> 325         [repeat]
<a id='L326' name='L326'></a> 326             <a href='../D/15237.html' title='Multiple defined in 2 places.'>times</a>=5
<a id='L327' name='L327'></a> 327             [<strong class='reserved'>do</strong>]
<a id='L328' name='L328'></a> 328                 [unit]
<a id='L329' name='L329'></a> 329                     <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=9,8
<a id='L330' name='L330'></a> 330                     <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Giant Spider
<a id='L331' name='L331'></a> 331                     <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L332' name='L332'></a> 332                     <a href='../D/11928.html' title='Multiple defined in 4 places.'>placement</a>=map_passable
<a id='L333' name='L333'></a> 333                     <a href='../Y/5489.html' title='Multiple used in 278 places.'>ai_special</a>=guardian
<a id='L334' name='L334'></a> 334                 [/unit]
<a id='L335' name='L335'></a> 335             [/<strong class='reserved'>do</strong>]
<a id='L336' name='L336'></a> 336         [/repeat]
<a id='L337' name='L337'></a> 337         [repeat]
<a id='L338' name='L338'></a> 338             <a href='../D/15237.html' title='Multiple defined in 2 places.'>times</a>=$spider_number
<a id='L339' name='L339'></a> 339             [<strong class='reserved'>do</strong>]
<a id='L340' name='L340'></a> 340                 [unit]
<a id='L341' name='L341'></a> 341                     <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=9,10
<a id='L342' name='L342'></a> 342                     <a href='../D/15484.html' title='Multiple defined in 27 places.'>type</a>=Giant Spider
<a id='L343' name='L343'></a> 343                     <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L344' name='L344'></a> 344                     <a href='../D/11928.html' title='Multiple defined in 4 places.'>placement</a>=map_passable
<a id='L345' name='L345'></a> 345                     <a href='../Y/5489.html' title='Multiple used in 278 places.'>ai_special</a>=guardian
<a id='L346' name='L346'></a> 346                 [/unit]
<a id='L347' name='L347'></a> 347             [/<strong class='reserved'>do</strong>]
<a id='L348' name='L348'></a> 348         [/repeat]
<a id='L349' name='L349'></a> 349 
<a id='L350' name='L350'></a> 350         [clear_variable]
<a id='L351' name='L351'></a> 351             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=spider_number
<a id='L352' name='L352'></a> 352         [/clear_variable]
<a id='L353' name='L353'></a> 353 
<a id='L354' name='L354'></a> 354         # We aren't using the normal macro for the following recalls because it
<a id='L355' name='L355'></a> 355         # doesn't specify locations, and that's important this time.
<a id='L356' name='L356'></a> 356         [recall]
<a id='L357' name='L357'></a> 357             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Ras-Tabahn
<a id='L358' name='L358'></a> 358             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=44,11
<a id='L359' name='L359'></a> 359         [/recall]
<a id='L360' name='L360'></a> 360         [recall]
<a id='L361' name='L361'></a> 361             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Carcyn
<a id='L362' name='L362'></a> 362             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=44,11
<a id='L363' name='L363'></a> 363         [/recall]
<a id='L364' name='L364'></a> 364         # Only one Shynal will be recalled.
<a id='L365' name='L365'></a> 365         [recall]
<a id='L366' name='L366'></a> 366             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Shynal
<a id='L367' name='L367'></a> 367             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=44,11
<a id='L368' name='L368'></a> 368         [/recall]
<a id='L369' name='L369'></a> 369         [recall]
<a id='L370' name='L370'></a> 370             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Corpse Shynal
<a id='L371' name='L371'></a> 371             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=44,11
<a id='L372' name='L372'></a> 372         [/recall]
<a id='L373' name='L373'></a> 373         [recall]
<a id='L374' name='L374'></a> 374             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Bone Captain
<a id='L375' name='L375'></a> 375             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=39,9
<a id='L376' name='L376'></a> 376         [/recall]
<a id='L377' name='L377'></a> 377         [recall]
<a id='L378' name='L378'></a> 378             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Vendraxis
<a id='L379' name='L379'></a> 379             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=39,10
<a id='L380' name='L380'></a> 380         [/recall]
<a id='L381' name='L381'></a> 381 
<a id='L382' name='L382'></a> 382         # This map is just a larger version of the previous one, and that one had
<a id='L383' name='L383'></a> 383         # a lot of its shroud removed. These tags cause the same hexes to be revealed
<a id='L384' name='L384'></a> 384         # on this map as well.
<a id='L385' name='L385'></a> 385         [remove_shroud]
<a id='L386' name='L386'></a> 386             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=51,4
<a id='L387' name='L387'></a> 387             <a href='../Y/17037.html' title='Multiple used in 317 places.'>radius</a>=3
<a id='L388' name='L388'></a> 388         [/remove_shroud]
<a id='L389' name='L389'></a> 389         [remove_shroud]
<a id='L390' name='L390'></a> 390             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=48,6
<a id='L391' name='L391'></a> 391             <a href='../Y/17037.html' title='Multiple used in 317 places.'>radius</a>=4
<a id='L392' name='L392'></a> 392         [/remove_shroud]
<a id='L393' name='L393'></a> 393         [remove_shroud]
<a id='L394' name='L394'></a> 394             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=45,8
<a id='L395' name='L395'></a> 395             <a href='../Y/17037.html' title='Multiple used in 317 places.'>radius</a>=5
<a id='L396' name='L396'></a> 396         [/remove_shroud]
<a id='L397' name='L397'></a> 397         [remove_shroud]
<a id='L398' name='L398'></a> 398             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=44,4
<a id='L399' name='L399'></a> 399             <a href='../Y/17037.html' title='Multiple used in 317 places.'>radius</a>=2
<a id='L400' name='L400'></a> 400         [/remove_shroud]
<a id='L401' name='L401'></a> 401 
<a id='L402' name='L402'></a> 402         # The experience of either leader could be enough to level it into an ancient
<a id='L403' name='L403'></a> 403         # lich, but that won't happen automatically. Modifying a unit *does* cause it
<a id='L404' name='L404'></a> 404         # to advance though, so we will modify them both just in <strong class='reserved'>case</strong>.
<a id='L405' name='L405'></a> 405         [modify_unit]
<a id='L406' name='L406'></a> 406             [filter]
<a id='L407' name='L407'></a> 407                 <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Ardonna
<a id='L408' name='L408'></a> 408                 [or]
<a id='L409' name='L409'></a> 409                     <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Ras-Tabahn
<a id='L410' name='L410'></a> 410                 [/or]
<a id='L411' name='L411'></a> 411             [/filter]
<a id='L412' name='L412'></a> 412         [/modify_unit]
<a id='L413' name='L413'></a> 413 
<a id='L414' name='L414'></a> 414         # Update the profile in <strong class='reserved'>case</strong> Ardonna didn't level here.
<a id='L415' name='L415'></a> 415         [fire_event]
<a id='L416' name='L416'></a> 416             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=ardonna_profile
<a id='L417' name='L417'></a> 417         [/fire_event]
<a id='L418' name='L418'></a> 418 
<a id='L419' name='L419'></a> 419         # For some reason, the handling of Ardonna (and not Ras-Tabahn) causes her
<a id='L420' name='L420'></a> 420         # to not have full mp at the start of the scenario, so fix that.
<a id='L421' name='L421'></a> 421         [heal_unit]
<a id='L422' name='L422'></a> 422             [filter]
<a id='L423' name='L423'></a> 423                 <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Ardonna
<a id='L424' name='L424'></a> 424             [/filter]
<a id='L425' name='L425'></a> 425             <a href='../Y/14542.html' title='Multiple used in 236 places.'>moves</a>=full
<a id='L426' name='L426'></a> 426         [/heal_unit]
<a id='L427' name='L427'></a> 427 
<a id='L428' name='L428'></a> 428         # This image needs to look the same as the one in the previous scenario.
<a id='L429' name='L429'></a> 429         [item]
<a id='L430' name='L430'></a> 430             <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=items/altar-sacrifice.png~NO_TOD_SHIFT()
<a id='L431' name='L431'></a> 431             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=45,7
<a id='L432' name='L432'></a> 432         [/item]
<a id='L433' name='L433'></a> 433     [/event]
<a id='L434' name='L434'></a> 434 
<a id='L435' name='L435'></a> 435 <em class='sharp'>    #</em> *************************** PLAY ***************************
<a id='L436' name='L436'></a> 436 
<a id='L437' name='L437'></a> 437     # The closest group of spiders can't be allowed to move the full amount during the first
<a id='L438' name='L438'></a> 438     # turns, or they would immediately block the tunnel and make the scenario boring. We
<a id='L439' name='L439'></a> 439     # need to increase their movement gradually, so we will make their movement points be
<a id='L440' name='L440'></a> 440     # one less than the turn number. We change their movement points with an object instead
<a id='L441' name='L441'></a> 441     # of [modify_unit] so the correct distance they can move will be visible to the player.
<a id='L442' name='L442'></a> 442 <em class='sharp'>#define</em> CHANGE_SPIDER_MOVES MOVES
<a id='L443' name='L443'></a> 443     [store_unit]
<a id='L444' name='L444'></a> 444         [filter]
<a id='L445' name='L445'></a> 445             # The far group of spiders won't move because they are guardians.
<a id='L446' name='L446'></a> 446             # So, store only the closest group:
<a id='L447' name='L447'></a> 447             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>=20-40
<a id='L448' name='L448'></a> 448             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L449' name='L449'></a> 449         [/filter]
<a id='L450' name='L450'></a> 450         <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=spiders
<a id='L451' name='L451'></a> 451     [/store_unit]
<a id='L452' name='L452'></a> 452 
<a id='L453' name='L453'></a> 453     [<strong class='reserved'>for</strong>]
<a id='L454' name='L454'></a> 454         <a href='../Y/5830.html' title='Multiple used in 180 places.'>array</a>=spiders
<a id='L455' name='L455'></a> 455         <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=i
<a id='L456' name='L456'></a> 456         [<strong class='reserved'>do</strong>]
<a id='L457' name='L457'></a> 457             [object]
<a id='L458' name='L458'></a> 458                 [filter]
<a id='L459' name='L459'></a> 459                     <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=$spiders[$i].id
<a id='L460' name='L460'></a> 460                 [/filter]
<a id='L461' name='L461'></a> 461                 [effect]
<a id='L462' name='L462'></a> 462                     <a href='../Y/5785.html' title='Multiple used in 427 places.'>apply_to</a>=movement
<a id='L463' name='L463'></a> 463                     <a href='../D/13534.html' title='Multiple defined in 12 places.'>set</a>=<em class='brace'>{</em>MOVES<em class='brace'>}</em>
<a id='L464' name='L464'></a> 464                 [/effect]
<a id='L465' name='L465'></a> 465                 <a href='../Y/18804.html' title='Multiple used in 100 places.'>silent</a>=yes
<a id='L466' name='L466'></a> 466                 <a href='../D/5772.html' title='Multiple defined in 4 places.'>duration</a>=turn
<a id='L467' name='L467'></a> 467             [/object]
<a id='L468' name='L468'></a> 468         [/<strong class='reserved'>do</strong>]
<a id='L469' name='L469'></a> 469     [/<strong class='reserved'>for</strong>]
<a id='L470' name='L470'></a> 470 
<a id='L471' name='L471'></a> 471     [clear_variable]
<a id='L472' name='L472'></a> 472         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=spiders
<a id='L473' name='L473'></a> 473     [/clear_variable]
<a id='L474' name='L474'></a> 474 #enddef
<a id='L475' name='L475'></a> 475 
<a id='L476' name='L476'></a> 476     # This event needs to happen on the refresh <strong class='reserved'>for</strong> *both* sides so the player can see
<a id='L477' name='L477'></a> 477     # the results during their turn. This event will be removed at a later turn.
<a id='L478' name='L478'></a> 478     [event]
<a id='L479' name='L479'></a> 479         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=side 1 turn refresh,side 2 turn refresh
<a id='L480' name='L480'></a> 480         <a href='../Y/10217.html' title='Multiple used in 594 places.'>first_time_only</a>=no
<a id='L481' name='L481'></a> 481         <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=spider_move_restrictions
<a id='L482' name='L482'></a> 482         <em class='brace'>{</em>CHANGE_SPIDER_MOVES ("$($turn_number - 1)")<em class='brace'>}</em>
<a id='L483' name='L483'></a> 483     [/event]
<a id='L484' name='L484'></a> 484 
<a id='L485' name='L485'></a> 485     [event]
<a id='L486' name='L486'></a> 486         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=side 1 turn 5
<a id='L487' name='L487'></a> 487         [event]
<a id='L488' name='L488'></a> 488             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=spider_move_restrictions
<a id='L489' name='L489'></a> 489             <a href='../D/12673.html' title='Multiple defined in 8 places.'>remove</a>=yes
<a id='L490' name='L490'></a> 490         [/event]
<a id='L491' name='L491'></a> 491         <em class='brace'>{</em>CHANGE_SPIDER_MOVES 6<em class='brace'>}</em>
<a id='L492' name='L492'></a> 492     [/event]
<a id='L493' name='L493'></a> 493 
<a id='L494' name='L494'></a> 494     # This moves one leader out of the cave. If it's the first one, they get
<a id='L495' name='L495'></a> 495     # refreshed and stored. If it's the second one, the scenario ends.
<a id='L496' name='L496'></a> 496     [event]
<a id='L497' name='L497'></a> 497         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=moveto
<a id='L498' name='L498'></a> 498         <a href='../Y/10217.html' title='Multiple used in 594 places.'>first_time_only</a>=no
<a id='L499' name='L499'></a> 499         [filter]
<a id='L500' name='L500'></a> 500             <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Ardonna
<a id='L501' name='L501'></a> 501             <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=1,10
<a id='L502' name='L502'></a> 502             [or]
<a id='L503' name='L503'></a> 503                 <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Ras-Tabahn
<a id='L504' name='L504'></a> 504                 <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=1,10
<a id='L505' name='L505'></a> 505             [/or]
<a id='L506' name='L506'></a> 506         [/filter]
<a id='L507' name='L507'></a> 507         [<strong class='reserved'>if</strong>]
<a id='L508' name='L508'></a> 508             [variable]
<a id='L509' name='L509'></a> 509                 <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=leader_gone.length
<a id='L510' name='L510'></a> 510                 <a href='../D/5967.html' title='Multiple defined in 10 places.'>equals</a>=1
<a id='L511' name='L511'></a> 511             [/variable]
<a id='L512' name='L512'></a> 512             [then]
<a id='L513' name='L513'></a> 513                 [hide_unit]
<a id='L514' name='L514'></a> 514                     <a href='../Y/7099.html' title='Multiple used in 1427 places.'>canrecruit</a>=yes
<a id='L515' name='L515'></a> 515                 [/hide_unit]
<a id='L516' name='L516'></a> 516                 [fire_event]
<a id='L517' name='L517'></a> 517                     <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=end_scenario
<a id='L518' name='L518'></a> 518                 [/fire_event]
<a id='L519' name='L519'></a> 519             [/then]
<a id='L520' name='L520'></a> 520             [<strong class='reserved'>else</strong>]
<a id='L521' name='L521'></a> 521                 [heal_unit]
<a id='L522' name='L522'></a> 522                     [filter]
<a id='L523' name='L523'></a> 523                         <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L524' name='L524'></a> 524                     [/filter]
<a id='L525' name='L525'></a> 525                     <a href='../Y/5695.html' title='Multiple used in 256 places.'>amount</a>=full
<a id='L526' name='L526'></a> 526                     <a href='../Y/17680.html' title='Multiple used in 11 places.'>restore_statuses</a>=yes
<a id='L527' name='L527'></a> 527                 [/heal_unit]
<a id='L528' name='L528'></a> 528                 [store_unit]
<a id='L529' name='L529'></a> 529                     [filter]
<a id='L530' name='L530'></a> 530                         <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=1,10
<a id='L531' name='L531'></a> 531                     [/filter]
<a id='L532' name='L532'></a> 532                     <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=leader_gone
<a id='L533' name='L533'></a> 533                     <a href='../S/1449.html#L364' title='Defined at 364 in utils/umc_dev/org.wesnoth/src/org/wesnoth/utils/ExternalToolInvoker.java.'>kill</a>=yes
<a id='L534' name='L534'></a> 534                 [/store_unit]
<a id='L535' name='L535'></a> 535                 # The [set_variables] are to refresh this leader since they won't
<a id='L536' name='L536'></a> 536                 # be on the map at the end to be refreshed automatically.
<a id='L537' name='L537'></a> 537                 [set_variables]
<a id='L538' name='L538'></a> 538                     <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=leader_gone
<a id='L539' name='L539'></a> 539                     <a href='../D/11077.html' title='Multiple defined in 2 places.'>mode</a>=merge
<a id='L540' name='L540'></a> 540                     [value]
<a id='L541' name='L541'></a> 541                         <a href='../D/16628.html' title='Multiple defined in 2 places.'>x</a>=recall
<a id='L542' name='L542'></a> 542                         <a href='../D/16643.html' title='Multiple defined in 8 places.'>y</a>=recall
<a id='L543' name='L543'></a> 543                     [/value]
<a id='L544' name='L544'></a> 544                 [/set_variables]
<a id='L545' name='L545'></a> 545                 # The leader can't be unstored to the recall list yet, or the
<a id='L546' name='L546'></a> 546                 # other leader would be able to recall them. We'll do it just
<a id='L547' name='L547'></a> 547                 # before [endlevel].
<a id='L548' name='L548'></a> 548             [/<strong class='reserved'>else</strong>]
<a id='L549' name='L549'></a> 549         [/<strong class='reserved'>if</strong>]
<a id='L550' name='L550'></a> 550     [/event]
<a id='L551' name='L551'></a> 551 
<a id='L552' name='L552'></a> 552 <em class='sharp'>    #</em> *************************** ENDING / OPENING ***************************
<a id='L553' name='L553'></a> 553     [event]
<a id='L554' name='L554'></a> 554         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=start
<a id='L555' name='L555'></a> 555         [message]
<a id='L556' name='L556'></a> 556             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=narrator
<a id='L557' name='L557'></a> 557             <a href='../D/8702.html' title='Multiple defined in 19 places.'>image</a>=portraits/undead/lich.png~SCALE(93, 93)
<a id='L558' name='L558'></a> 558             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "You can now advance dark sorcerers to liches! For the rest of the campaign, you can also right-click on an existing necromancer to turn it into a lich as long as it is in a castle. If the necromancer has gained enough experience, it will immediately level into an ancient lich!"
<a id='L559' name='L559'></a> 559         [/message]
<a id='L560' name='L560'></a> 560 
<a id='L561' name='L561'></a> 561         [message]
<a id='L562' name='L562'></a> 562             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Ardonna
<a id='L563' name='L563'></a> 563             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "We have conquered death! Let us bring the news back to Wesnoth. We should to let them know that nobody ever need die again."
<a id='L564' name='L564'></a> 564         [/message]
<a id='L565' name='L565'></a> 565         [message]
<a id='L566' name='L566'></a> 566             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Ras-Tabahn
<a id='L567' name='L567'></a> 567             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "I was planning to go that direction myself, so I have no objection. But, let us not go over those wretched mountain passes again. These tunnels should connect to the realm of Knalga and take us there directly."
<a id='L568' name='L568'></a> 568         [/message]
<a id='L569' name='L569'></a> 569         [message]
<a id='L570' name='L570'></a> 570             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Ardonna
<a id='L571' name='L571'></a> 571             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "Why would the Dwarvish empire abandon an outpost like this?"
<a id='L572' name='L572'></a> 572         [/message]
<a id='L573' name='L573'></a> 573         [message]
<a id='L574' name='L574'></a> 574             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Ras-Tabahn
<a id='L575' name='L575'></a> 575             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "We may find out. We should proceed cautiously."
<a id='L576' name='L576'></a> 576         [/message]
<a id='L577' name='L577'></a> 577     [/event]
<a id='L578' name='L578'></a> 578 
<a id='L579' name='L579'></a> 579     [event]
<a id='L580' name='L580'></a> 580         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=sighted
<a id='L581' name='L581'></a> 581         [filter]
<a id='L582' name='L582'></a> 582             <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L583' name='L583'></a> 583         [/filter]
<a id='L584' name='L584'></a> 584         [<strong class='reserved'>if</strong>]
<a id='L585' name='L585'></a> 585             [have_unit]
<a id='L586' name='L586'></a> 586                 <a href='../D/8671.html' title='Multiple defined in 22 places.'>id</a>=Vendraxis
<a id='L587' name='L587'></a> 587             [/have_unit]
<a id='L588' name='L588'></a> 588             [then]
<a id='L589' name='L589'></a> 589                 [message]
<a id='L590' name='L590'></a> 590                     <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Vendraxis
<a id='L591' name='L591'></a> 591                     <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "Giant spidersss! That explainsss the cobwebsss everywhere."  #no spellcheck
<a id='L592' name='L592'></a> 592                 [/message]
<a id='L593' name='L593'></a> 593             [/then]
<a id='L594' name='L594'></a> 594             [<strong class='reserved'>else</strong>]
<a id='L595' name='L595'></a> 595                 [message]
<a id='L596' name='L596'></a> 596                     <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Ardonna
<a id='L597' name='L597'></a> 597                     <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "Giant spiders! That explains the cobwebs everywhere."
<a id='L598' name='L598'></a> 598                 [/message]
<a id='L599' name='L599'></a> 599             [/<strong class='reserved'>else</strong>]
<a id='L600' name='L600'></a> 600         [/<strong class='reserved'>if</strong>]
<a id='L601' name='L601'></a> 601         [message]
<a id='L602' name='L602'></a> 602             <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Ardonna
<a id='L603' name='L603'></a> 603             <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "They are not moving much. Hopefully they continue to stay sleepy."
<a id='L604' name='L604'></a> 604         [/message]
<a id='L605' name='L605'></a> 605         [event]
<a id='L606' name='L606'></a> 606             <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=side 2 turn 3
<a id='L607' name='L607'></a> 607             [message]
<a id='L608' name='L608'></a> 608                 <a href='../Y/19054.html' title='Multiple used in 8911 places.'>speaker</a>=Shynal
<a id='L609' name='L609'></a> 609                 <a href='../D/10972.html' title='Multiple defined in 7 places.'>message</a>= _ "They’re waking up now. Watch out."
<a id='L610' name='L610'></a> 610             [/message]
<a id='L611' name='L611'></a> 611         [/event]
<a id='L612' name='L612'></a> 612     [/event]
<a id='L613' name='L613'></a> 613 
<a id='L614' name='L614'></a> 614     [event]
<a id='L615' name='L615'></a> 615         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=die
<a id='L616' name='L616'></a> 616         <a href='../Y/10217.html' title='Multiple used in 594 places.'>first_time_only</a>=no
<a id='L617' name='L617'></a> 617         [<strong class='reserved'>if</strong>]
<a id='L618' name='L618'></a> 618             [not]
<a id='L619' name='L619'></a> 619                 [have_unit]
<a id='L620' name='L620'></a> 620                     <a href='../D/14472.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L621' name='L621'></a> 621                 [/have_unit]
<a id='L622' name='L622'></a> 622             [/not]
<a id='L623' name='L623'></a> 623             [then]
<a id='L624' name='L624'></a> 624                 [fire_event]
<a id='L625' name='L625'></a> 625                     <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=end_scenario
<a id='L626' name='L626'></a> 626                 [/fire_event]
<a id='L627' name='L627'></a> 627             [/then]
<a id='L628' name='L628'></a> 628         [/<strong class='reserved'>if</strong>]
<a id='L629' name='L629'></a> 629     [/event]
<a id='L630' name='L630'></a> 630 
<a id='L631' name='L631'></a> 631     [event]
<a id='L632' name='L632'></a> 632         <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=end_scenario
<a id='L633' name='L633'></a> 633 
<a id='L634' name='L634'></a> 634         # If one of the leaders left the map and is stored, bring it back now:
<a id='L635' name='L635'></a> 635         [<strong class='reserved'>if</strong>]
<a id='L636' name='L636'></a> 636             [variable]
<a id='L637' name='L637'></a> 637                 <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=leader_gone.length
<a id='L638' name='L638'></a> 638                 <a href='../D/5967.html' title='Multiple defined in 10 places.'>equals</a>=1
<a id='L639' name='L639'></a> 639             [/variable]
<a id='L640' name='L640'></a> 640             [then]
<a id='L641' name='L641'></a> 641                 [unstore_unit]
<a id='L642' name='L642'></a> 642                     <a href='../Y/21581.html' title='Multiple used in 992 places.'>variable</a>=leader_gone
<a id='L643' name='L643'></a> 643                 [/unstore_unit]
<a id='L644' name='L644'></a> 644                 [clear_variable]
<a id='L645' name='L645'></a> 645                     <a href='../D/11310.html' title='Multiple defined in 24 places.'>name</a>=leader_gone
<a id='L646' name='L646'></a> 646                 [/clear_variable]
<a id='L647' name='L647'></a> 647             [/then]
<a id='L648' name='L648'></a> 648         [/<strong class='reserved'>if</strong>]
<a id='L649' name='L649'></a> 649 
<a id='L650' name='L650'></a> 650         [endlevel]
<a id='L651' name='L651'></a> 651             <a href='../D/12959.html' title='Multiple defined in 10 places.'>result</a>=victory
<a id='L652' name='L652'></a> 652             <a href='../Y/6570.html' title='Multiple used in 668 places.'>bonus</a>=yes
<a id='L653' name='L653'></a> 653             <em class='brace'>{</em>NEW_GOLD_CARRYOVER 40<em class='brace'>}</em>
<a id='L654' name='L654'></a> 654         [/endlevel]
<a id='L655' name='L655'></a> 655     [/event]
<a id='L656' name='L656'></a> 656 
<a id='L657' name='L657'></a> 657     <em class='brace'>{</em>TURN_INTO_A_LICH<em class='brace'>}</em>
<a id='L658' name='L658'></a> 658     <em class='brace'>{</em>HERO_DEATHS<em class='brace'>}</em>
<a id='L659' name='L659'></a> 659     <em class='brace'>{</em>MANAGE_PROFILE<em class='brace'>}</em>
<a id='L660' name='L660'></a> 660     <em class='brace'>{</em>KIDS_ADVANCE<em class='brace'>}</em>
<a id='L661' name='L661'></a> 661 
<a id='L662' name='L662'></a> 662 <em class='sharp'>#undef</em> CHANGE_SPIDER_MOVES
<a id='L663' name='L663'></a> 663 [/scenario]
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
