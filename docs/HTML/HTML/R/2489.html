<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>a_</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/901.html#L849'>a_</a>                849 src/actions/attack.cpp 	unit_info a_, d_;</span>
<span class='curline'><a href='../S/901.html#L910'>a_</a>                910 src/actions/attack.cpp 	, a_(attacker, attack_with, resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/901.html#L928'>a_</a>                928 src/actions/attack.cpp 	if(a_stats_-&gt;weapon != nullptr &amp;&amp; a_.valid()) {</span>
<span class='curline'><a href='../S/901.html#L946'>a_</a>                946 src/actions/attack.cpp 		resources::game_events-&gt;pump().fire(n, a_.loc_, d_.loc_, ev_data);</span>
<span class='curline'><a href='../S/901.html#L953'>a_</a>                953 src/actions/attack.cpp 		game_events::entity_location(a_.loc_, a_.id_),</span>
<span class='curline'><a href='../S/901.html#L960'>a_</a>                960 src/actions/attack.cpp 	if(!a_.valid() || !d_.valid()</span>
<span class='curline'><a href='../S/901.html#L961'>a_</a>                961 src/actions/attack.cpp 		|| !resources::gameboard-&gt;get_team(a_.get_unit().side()).is_enemy(d_.get_unit().side())</span>
<span class='curline'><a href='../S/901.html#L978'>a_</a>                978 src/actions/attack.cpp 	if(a_.valid()) {</span>
<span class='curline'><a href='../S/901.html#L979'>a_</a>                979 src/actions/attack.cpp 		refresh_weapon_index(a_.weapon_, a_.weap_id_, a_.get_unit().attacks());</span>
<span class='curline'><a href='../S/901.html#L986'>a_</a>                986 src/actions/attack.cpp 	if(!a_.valid() || !d_.valid()) {</span>
<span class='curline'><a href='../S/901.html#L989'>a_</a>                989 src/actions/attack.cpp 				= a_.valid() &amp;&amp; a_.weapon_ &gt;= 0 ? a_.get_unit().attacks()[a_.weapon_].shared_from_this() : nullptr;</span>
<span class='curline'><a href='../S/901.html#L997'>a_</a>                997 src/actions/attack.cpp 	bc_.reset(new battle_context(units_, a_.loc_, d_.loc_, a_.weapon_, d_.weapon_));</span>
<span class='curline'><a href='../S/901.html#L1002'>a_</a>               1002 src/actions/attack.cpp 	a_.cth_ = a_stats_-&gt;chance_to_hit;</span>
<span class='curline'><a href='../S/901.html#L1004'>a_</a>               1004 src/actions/attack.cpp 	a_.damage_ = a_stats_-&gt;damage;</span>
<span class='curline'><a href='../S/901.html#L1010'>a_</a>               1010 src/actions/attack.cpp 	unit_info&amp; attacker = attacker_turn ? a_ : d_;</span>
<span class='curline'><a href='../S/901.html#L1011'>a_</a>               1011 src/actions/attack.cpp 	unit_info&amp; defender = attacker_turn ? d_ : a_;</span>
<span class='curline'><a href='../S/901.html#L1130'>a_</a>               1130 src/actions/attack.cpp 		errbuf_ &lt;&lt; "SYNC: In attack " &lt;&lt; a_.dump() &lt;&lt; " vs " &lt;&lt; d_.dump() &lt;&lt; ": the data source says the "</span>
<span class='curline'><a href='../S/901.html#L1337'>a_</a>               1337 src/actions/attack.cpp 	if(!a_.valid() || !d_.valid()) {</span>
<span class='curline'><a href='../S/901.html#L1342'>a_</a>               1342 src/actions/attack.cpp 	if(a_.weapon_ &lt; 0) {</span>
<span class='curline'><a href='../S/901.html#L1343'>a_</a>               1343 src/actions/attack.cpp 		a_.get_unit().set_attacks(a_.get_unit().attacks_left() - 1);</span>
<span class='curline'><a href='../S/901.html#L1344'>a_</a>               1344 src/actions/attack.cpp 		a_.get_unit().set_movement(-1, true);</span>
<span class='curline'><a href='../S/901.html#L1348'>a_</a>               1348 src/actions/attack.cpp 	a_.get_unit().set_facing(a_.loc_.get_relative_dir(d_.loc_));</span>
<span class='curline'><a href='../S/901.html#L1349'>a_</a>               1349 src/actions/attack.cpp 	d_.get_unit().set_facing(d_.loc_.get_relative_dir(a_.loc_));</span>
<span class='curline'><a href='../S/901.html#L1351'>a_</a>               1351 src/actions/attack.cpp 	a_.get_unit().set_attacks(a_.get_unit().attacks_left() - 1);</span>
<span class='curline'><a href='../S/901.html#L1353'>a_</a>               1353 src/actions/attack.cpp 	VALIDATE(a_.weapon_ &lt; static_cast&lt;int&gt;(a_.get_unit().attacks().size()),</span>
<span class='curline'><a href='../S/901.html#L1356'>a_</a>               1356 src/actions/attack.cpp 	a_.get_unit().set_movement(a_.get_unit().movement_left() - a_.get_unit().attacks()[a_.weapon_].movement_used(), true);</span>
<span class='curline'><a href='../S/901.html#L1357'>a_</a>               1357 src/actions/attack.cpp 	a_.get_unit().set_state(unit::STATE_NOT_MOVED, false);</span>
<span class='curline'><a href='../S/901.html#L1358'>a_</a>               1358 src/actions/attack.cpp 	a_.get_unit().set_resting(false);</span>
<span class='curline'><a href='../S/901.html#L1362'>a_</a>               1362 src/actions/attack.cpp 	a_.get_unit().set_state(unit::STATE_UNCOVERED, true);</span>
<span class='curline'><a href='../S/901.html#L1364'>a_</a>               1364 src/actions/attack.cpp 	bc_.reset(new battle_context(units_, a_.loc_, d_.loc_, a_.weapon_, d_.weapon_));</span>
<span class='curline'><a href='../S/901.html#L1370'>a_</a>               1370 src/actions/attack.cpp 		a_.weap_id_ = a_stats_-&gt;weapon-&gt;id();</span>
<span class='curline'><a href='../S/901.html#L1387'>a_</a>               1387 src/actions/attack.cpp 			a_.get_unit(), d_.get_unit(), a_stats_-&gt;chance_to_hit, d_stats_-&gt;chance_to_hit);</span>
<span class='curline'><a href='../S/901.html#L1389'>a_</a>               1389 src/actions/attack.cpp 	a_.orig_attacks_ = a_stats_-&gt;num_blows;</span>
<span class='curline'><a href='../S/901.html#L1391'>a_</a>               1391 src/actions/attack.cpp 	a_.n_attacks_ = a_.orig_attacks_;</span>
<span class='curline'><a href='../S/901.html#L1393'>a_</a>               1393 src/actions/attack.cpp 	a_.xp_ = d_.get_unit().level();</span>
<span class='curline'><a href='../S/901.html#L1394'>a_</a>               1394 src/actions/attack.cpp 	d_.xp_ = a_.get_unit().level();</span>
<span class='curline'><a href='../S/901.html#L1400'>a_</a>               1400 src/actions/attack.cpp 	LOG_NG &lt;&lt; "Fight: (" &lt;&lt; a_.loc_ &lt;&lt; ") vs (" &lt;&lt; d_.loc_ &lt;&lt; ") ATT: " &lt;&lt; a_stats_-&gt;weapon-&gt;name() &lt;&lt; " "</span>
<span class='curline'><a href='../S/901.html#L1407'>a_</a>               1407 src/actions/attack.cpp 	unit_display::unit_draw_weapon(a_.loc_, a_.get_unit(), a_stats_-&gt;weapon, d_stats_-&gt;weapon, d_.loc_, &amp;d_.get_unit());</span>
<span class='curline'><a href='../S/901.html#L1413'>a_</a>               1413 src/actions/attack.cpp 		if(a_.n_attacks_ &gt; 0 &amp;&amp; !defender_strikes_first) {</span>
<span class='curline'><a href='../S/901.html#L1433'>a_</a>               1433 src/actions/attack.cpp 		if(rounds &gt; 0 &amp;&amp; d_.n_attacks_ == 0 &amp;&amp; a_.n_attacks_ == 0) {</span>
<span class='curline'><a href='../S/901.html#L1434'>a_</a>               1434 src/actions/attack.cpp 			a_.n_attacks_ = a_.orig_attacks_;</span>
<span class='curline'><a href='../S/901.html#L1440'>a_</a>               1440 src/actions/attack.cpp 		if(a_.n_attacks_ &lt;= 0 &amp;&amp; d_.n_attacks_ &lt;= 0) {</span>
<span class='curline'><a href='../S/901.html#L1456'>a_</a>               1456 src/actions/attack.cpp 	if(a_.valid()) {</span>
<span class='curline'><a href='../S/901.html#L1457'>a_</a>               1457 src/actions/attack.cpp 		unit&amp; u = a_.get_unit();</span>
<span class='curline'><a href='../S/901.html#L1459'>a_</a>               1459 src/actions/attack.cpp 		u.set_experience(u.experience() + a_.xp_);</span>
<span class='curline'><a href='../S/901.html#L1468'>a_</a>               1468 src/actions/attack.cpp 	unit_display::unit_sheath_weapon(a_.loc_, a_.valid() ? &amp;a_.get_unit() : nullptr, a_stats_-&gt;weapon, d_stats_-&gt;weapon,</span>
<span class='curline'><a href='../S/901.html#L1473'>a_</a>               1473 src/actions/attack.cpp 		resources::screen-&gt;invalidate(a_.loc_);</span>
<span class='curline'><a href='../S/901.html#L1491'>a_</a>               1491 src/actions/attack.cpp 	errbuf_ &lt;&lt; "SYNC: In attack " &lt;&lt; a_.dump() &lt;&lt; " vs " &lt;&lt; d_.dump()</span>
<span class='curline'><a href='../S/901.html#L1507'>a_</a>               1507 src/actions/attack.cpp 		errbuf_ &lt;&lt; "SYNC: In attack " &lt;&lt; a_.dump() &lt;&lt; " vs " &lt;&lt; d_.dump()</span>
<span class='curline'><a href='../S/901.html#L1515'>a_</a>               1515 src/actions/attack.cpp 		errbuf_ &lt;&lt; "SYNC: In attack " &lt;&lt; a_.dump() &lt;&lt; " vs " &lt;&lt; d_.dump() &lt;&lt; ": the data source says the hit was "</span>
<span class='curline'><a href='../S/901.html#L1524'>a_</a>               1524 src/actions/attack.cpp 		errbuf_ &lt;&lt; "SYNC: In attack " &lt;&lt; a_.dump() &lt;&lt; " vs " &lt;&lt; d_.dump() &lt;&lt; ": the data source says the hit did "</span>
<span class='curline'><a href='../S/233.html#L277'>a_</a>                277 src/ai/actions.cpp 	const unit_map::const_iterator a_ = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/233.html#L293'>a_</a>                293 src/ai/actions.cpp 		resources::recorder-&gt;add_synced_command("attack", replay_helper::get_attack(attacker_loc_, defender_loc_, attacker_weapon, defender_weapon, a_-&gt;type_id(),</span>
<span class='curline'><a href='../S/233.html#L294'>a_</a>                294 src/ai/actions.cpp 			d_-&gt;type_id(), a_-&gt;level(), d_-&gt;level(), resources::tod_manager-&gt;turn(),</span>
<span class='curline'><a href='../S/777.html#L851'>a_</a>                851 src/formula/function.cpp 	mutable variant a_, b_;</span>
<span class='curline'><a href='../S/777.html#L854'>a_</a>                854 src/formula/function.cpp 			return a_;</span>
<span class='curline'><a href='../S/777.html#L869'>a_</a>                869 src/formula/function.cpp 		a_(),</span>
<span class='curline'><a href='../S/777.html#L874'>a_</a>                874 src/formula/function.cpp 		a_ = a;</span>
<span class='curline'><a href='../S/977.html#L581'>a_</a>                581 src/image_modifications.cpp 	return blend_surface(src, static_cast&lt;double&gt;(a_), color_t(r_, g_, b_));</span>
<span class='curline'><a href='../S/830.html#L551'>a_</a>                551 src/image_modifications.hpp 	float get_a() const { return a_; }</span>
<span class='curline'><a href='../S/830.html#L555'>a_</a>                555 src/image_modifications.hpp 	float a_;</span>
</pre>
</body>
</html>
