<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>attacker</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4411.html#L194'>attacker</a>          194 data/ai/lua/ai_helper.lua function ai_helper.checked_attack(ai, attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4411.html#L195'>attacker</a>          195 data/ai/lua/ai_helper.lua     local check = ai.check_attack(attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4411.html#L198'>attacker</a>          198 data/ai/lua/ai_helper.lua         ai.stopunit_attacks(attacker)</span>
<span class='curline'><a href='../S/4411.html#L199'>attacker</a>          199 data/ai/lua/ai_helper.lua         ai_helper.checked_action_error('ai.attack from ' .. attacker.x .. ',' .. attacker.y .. ' to ' .. defender.x .. ',' .. defender.y, check.status .. ' (' .. check.result .. ')')</span>
<span class='curline'><a href='../S/4411.html#L203'>attacker</a>          203 data/ai/lua/ai_helper.lua     return ai.attack(attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4413.html#L87'>attacker</a>           87 data/ai/lua/battle_calcs.lua function battle_calcs.strike_damage(attacker, defender, att_weapon, def_weapon, dst, cache)</span>
<span class='curline'><a href='../S/4413.html#L105'>attacker</a>          105 data/ai/lua/battle_calcs.lua     local cind = 'SD-' .. attacker.id .. attacker.max_hitpoints .. attacker.side</span>
<span class='curline'><a href='../S/4413.html#L115'>attacker</a>          115 data/ai/lua/battle_calcs.lua     local attacker_info = battle_calcs.unit_attack_info(attacker, cache)</span>
<span class='curline'><a href='../S/4413.html#L174'>attacker</a>          174 data/ai/lua/battle_calcs.lua function battle_calcs.best_weapons(attacker, defender, dst, cache)</span>
<span class='curline'><a href='../S/4413.html#L192'>attacker</a>          192 data/ai/lua/battle_calcs.lua     local cind = 'BW-' .. attacker.id .. attacker.max_hitpoints .. attacker.side</span>
<span class='curline'><a href='../S/4413.html#L201'>attacker</a>          201 data/ai/lua/battle_calcs.lua     local attacker_info = battle_calcs.unit_attack_info(attacker, cache)</span>
<span class='curline'><a href='../S/4413.html#L207'>attacker</a>          207 data/ai/lua/battle_calcs.lua         local att_damage = battle_calcs.strike_damage(attacker, defender, att_weapon_number, 0, { dst[1], dst[2] }, cache)</span>
<span class='curline'><a href='../S/4413.html#L211'>attacker</a>          211 data/ai/lua/battle_calcs.lua                 local def_damage = battle_calcs.strike_damage(defender, attacker, def_weapon_number, 0, { defender.x, defender.y }, cache)</span>
<span class='curline'><a href='../S/4413.html#L639'>attacker</a>          639 data/ai/lua/battle_calcs.lua function battle_calcs.battle_outcome(attacker, defender, cfg, cache)</span>
<span class='curline'><a href='../S/4413.html#L649'>attacker</a>          649 data/ai/lua/battle_calcs.lua     local dst = cfg.dst or { attacker.x, attacker.y }</span>
<span class='curline'><a href='../S/4413.html#L653'>attacker</a>          653 data/ai/lua/battle_calcs.lua         att_weapon, def_weapon = battle_calcs.best_weapons(attacker, defender, dst, cache)</span>
<span class='curline'><a href='../S/4413.html#L661'>attacker</a>          661 data/ai/lua/battle_calcs.lua         battle_calcs.strike_damage(attacker, defender, att_weapon, def_weapon, { dst[1], dst[2] }, cache)</span>
<span class='curline'><a href='../S/4413.html#L670'>attacker</a>          670 data/ai/lua/battle_calcs.lua         att_strikes = math.floor(att_strikes * attacker.hitpoints / attacker.max_hitpoints)</span>
<span class='curline'><a href='../S/4413.html#L677'>attacker</a>          677 data/ai/lua/battle_calcs.lua     local att_max_hits = math.floor((attacker.hitpoints - 1) / def_damage)</span>
<span class='curline'><a href='../S/4413.html#L684'>attacker</a>          684 data/ai/lua/battle_calcs.lua     local def_hit_prob = wesnoth.unit_defense(attacker, wesnoth.get_terrain(dst[1], dst[2])) / 100.</span>
<span class='curline'><a href='../S/4413.html#L707'>attacker</a>          707 data/ai/lua/battle_calcs.lua     local att_stats = battle_calcs.hp_distribution(att_coeffs, att_hit_prob, def_hit_prob, attacker.hitpoints, def_damage, def_attack)</span>
<span class='curline'><a href='../S/4413.html#L729'>attacker</a>          729 data/ai/lua/battle_calcs.lua function battle_calcs.simulate_combat_loc(attacker, dst, defender, weapon)</span>
<span class='curline'><a href='../S/4413.html#L734'>attacker</a>          734 data/ai/lua/battle_calcs.lua     local attacker_dst = wesnoth.copy_unit(attacker)</span>
<span class='curline'><a href='../S/4413.html#L744'>attacker</a>          744 data/ai/lua/battle_calcs.lua function battle_calcs.attack_rating(attacker, defender, dst, cfg, cache)</span>
<span class='curline'><a href='../S/4413.html#L790'>attacker</a>          790 data/ai/lua/battle_calcs.lua         att_stats,def_stats = battle_calcs.battle_outcome(attacker, defender, battle_cfg, cache)</span>
<span class='curline'><a href='../S/4413.html#L797'>attacker</a>          797 data/ai/lua/battle_calcs.lua     local leader = wesnoth.get_units { side = attacker.side, canrecruit = 'yes' }[1]</span>
<span class='curline'><a href='../S/4413.html#L805'>attacker</a>          805 data/ai/lua/battle_calcs.lua     local damage = attacker.hitpoints - att_stats.average_hp</span>
<span class='curline'><a href='../S/4413.html#L832'>attacker</a>          832 data/ai/lua/battle_calcs.lua     local value_fraction = - damage / attacker.max_hitpoints</span>
<span class='curline'><a href='../S/4413.html#L841'>attacker</a>          841 data/ai/lua/battle_calcs.lua     if (attacker.max_experience - attacker.experience &lt;= defender_level) then</span>
<span class='curline'><a href='../S/4413.html#L844'>attacker</a>          844 data/ai/lua/battle_calcs.lua         if (attacker.max_experience - attacker.experience &lt;= defender_level * 8) then</span>
<span class='curline'><a href='../S/4413.html#L852'>attacker</a>          852 data/ai/lua/battle_calcs.lua     local attacker_value = wesnoth.unit_types[attacker.type].cost</span>
<span class='curline'><a href='../S/4413.html#L855'>attacker</a>          855 data/ai/lua/battle_calcs.lua     local xp_bonus = attacker.experience / attacker.max_experience</span>
<span class='curline'><a href='../S/4413.html#L889'>attacker</a>          889 data/ai/lua/battle_calcs.lua     local attacker_level = wesnoth.unit_types[attacker.type].level</span>
<span class='curline'><a href='../S/4413.html#L920'>attacker</a>          920 data/ai/lua/battle_calcs.lua         defender_value = defender_value * (1. + 10. / attacker.max_hitpoints)</span>
<span class='curline'><a href='../S/4413.html#L949'>attacker</a>          949 data/ai/lua/battle_calcs.lua     if (dst[1] ~= attacker.x) or (dst[2] ~= attacker.y) then</span>
<span class='curline'><a href='../S/4413.html#L992'>attacker</a>          992 data/ai/lua/battle_calcs.lua     for i,attacker in ipairs(tmp_attackers) do</span>
<span class='curline'><a href='../S/4413.html#L994'>attacker</a>          994 data/ai/lua/battle_calcs.lua         local att_ind = attacker.x * 1000 + attacker.y</span>
<span class='curline'><a href='../S/4413.html#L1002'>attacker</a>         1002 data/ai/lua/battle_calcs.lua                 battle_calcs.attack_rating(attacker, defender, tmp_dsts[i], {}, cache )</span>
<span class='curline'><a href='../S/4413.html#L1032'>attacker</a>         1032 data/ai/lua/battle_calcs.lua             if AH.has_weapon_special(attacker, "slow") then</span>
<span class='curline'><a href='../S/4416.html#L137'>attacker</a>          137 data/ai/lua/ca_high_xp_attack.lua                 local attacker = units[i_a]</span>
<span class='curline'><a href='../S/4416.html#L141'>attacker</a>          141 data/ai/lua/ca_high_xp_attack.lua                     if reaches:get(attacker.x, attacker.y) then</span>
<span class='curline'><a href='../S/4416.html#L142'>attacker</a>          142 data/ai/lua/ca_high_xp_attack.lua                         reach = reaches:get(attacker.x, attacker.y)</span>
<span class='curline'><a href='../S/4416.html#L144'>attacker</a>          144 data/ai/lua/ca_high_xp_attack.lua                         reach = wesnoth.find_reach(attacker)</span>
<span class='curline'><a href='../S/4416.html#L145'>attacker</a>          145 data/ai/lua/ca_high_xp_attack.lua                         reaches:insert(attacker.x, attacker.y, reach)</span>
<span class='curline'><a href='../S/4416.html#L153'>attacker</a>          153 data/ai/lua/ca_high_xp_attack.lua                                 src = { x = attacker.x, y = attacker.y }</span>
<span class='curline'><a href='../S/4416.html#L162'>attacker</a>          162 data/ai/lua/ca_high_xp_attack.lua                     if (attacker.id == occupied) then</span>
<span class='curline'><a href='../S/4416.html#L166'>attacker</a>          166 data/ai/lua/ca_high_xp_attack.lua                             src = { x = attacker.x, y = attacker.y }</span>
<span class='curline'><a href='../S/4416.html#L215'>attacker</a>          215 data/ai/lua/ca_high_xp_attack.lua                 local attacker = units[attack_info.ind_attacker]</span>
<span class='curline'><a href='../S/4416.html#L217'>attacker</a>          217 data/ai/lua/ca_high_xp_attack.lua                 if attacker_copies:get(attacker.x, attacker.y) then</span>
<span class='curline'><a href='../S/4416.html#L218'>attacker</a>          218 data/ai/lua/ca_high_xp_attack.lua                     attacker_copy = attacker_copies:get(attacker.x, attacker.y)</span>
<span class='curline'><a href='../S/4416.html#L220'>attacker</a>          220 data/ai/lua/ca_high_xp_attack.lua                     attacker_copy = wesnoth.copy_unit(attacker)</span>
<span class='curline'><a href='../S/4416.html#L221'>attacker</a>          221 data/ai/lua/ca_high_xp_attack.lua                     attacker_copies:insert(attacker.x, attacker.y, attacker_copy)</span>
<span class='curline'><a href='../S/4415.html#L106'>attacker</a>          106 data/ai/lua/generic_recruit_engine.lua             local function get_best_attack(attacker, defender, defender_defense, attacker_defense, can_poison)</span>
<span class='curline'><a href='../S/4415.html#L124'>attacker</a>          124 data/ai/lua/generic_recruit_engine.lua                 for attack in H.child_range(wesnoth.unit_types[attacker.type].__cfg, "attack") do</span>
<span class='curline'><a href='../S/4415.html#L201'>attacker</a>          201 data/ai/lua/generic_recruit_engine.lua                                 if H.get_child(special, 'drains') and drainable(attacker) then</span>
<span class='curline'><a href='../S/4415.html#L204'>attacker</a>          204 data/ai/lua/generic_recruit_engine.lua                                     local attacker_resistance = wesnoth.unit_resistance(attacker, defender_attack.type)</span>
<span class='curline'><a href='../S/4408.html#L439'>attacker</a>          439 data/ai/lua/generic_rush_engine.lua                 local attacker = wesnoth.get_unit(a.src.x, a.src.y)</span>
<span class='curline'><a href='../S/4408.html#L449'>attacker</a>          449 data/ai/lua/generic_rush_engine.lua                 local about_to_level = defender.max_experience - defender.experience &lt;= (wesnoth.unit_types[attacker.type].level * 2)</span>
<span class='curline'><a href='../S/4408.html#L466'>attacker</a>          466 data/ai/lua/generic_rush_engine.lua                     local attack_defense = 100 - wesnoth.unit_defense(attacker, wesnoth.get_terrain(a.dst.x, a.dst.y))</span>
<span class='curline'><a href='../S/4408.html#L490'>attacker</a>          490 data/ai/lua/generic_rush_engine.lua             local attacker = wesnoth.get_unit(self.data.attack.src.x, self.data.attack.src.y)</span>
<span class='curline'><a href='../S/4408.html#L492'>attacker</a>          492 data/ai/lua/generic_rush_engine.lua             local is_poisoner, poison_weapon = AH.has_weapon_special(attacker, "poison")</span>
<span class='curline'><a href='../S/4408.html#L495'>attacker</a>          495 data/ai/lua/generic_rush_engine.lua             if AH.show_messages() then W.message { speaker = attacker.id, message = 'Poison attack' } end</span>
<span class='curline'><a href='../S/4408.html#L497'>attacker</a>          497 data/ai/lua/generic_rush_engine.lua             AH.robust_move_and_attack(ai, attacker, self.data.attack.dst, self.data.attack.target, { weapon = poison_weapon })</span>
<span class='curline'><a href='../S/4363.html#L15'>attacker</a>           15 data/ai/micro_ais/cas/ca_bottleneck_attack.lua     for _,attacker in ipairs(attackers) do</span>
<span class='curline'><a href='../S/4363.html#L16'>attacker</a>           16 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         local targets = AH.get_attackable_enemies { { "filter_adjacent", { id = attacker.id } } }</span>
<span class='curline'><a href='../S/4363.html#L19'>attacker</a>           19 data/ai/micro_ais/cas/ca_bottleneck_attack.lua             for n_weapon,weapon in ipairs(attacker.attacks) do</span>
<span class='curline'><a href='../S/4363.html#L20'>attacker</a>           20 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                 local att_stats, def_stats = wesnoth.simulate_combat(attacker, n_weapon, target)</span>
<span class='curline'><a href='../S/4363.html#L26'>attacker</a>           26 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                 if (att_stats.hp_chance[attacker.hitpoints] == 1)</span>
<span class='curline'><a href='../S/4363.html#L35'>attacker</a>           35 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                         rating = rating + (attacker.experience - attacker.max_experience) / 10.</span>
<span class='curline'><a href='../S/4363.html#L37'>attacker</a>           37 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                         rating = rating - (attacker.experience - attacker.max_experience) / 10.</span>
<span class='curline'><a href='../S/4363.html#L43'>attacker</a>           43 data/ai/micro_ais/cas/ca_bottleneck_attack.lua                     best_attacker, best_target, best_weapon = attacker, target, n_weapon</span>
<span class='curline'><a href='../S/4327.html#L35'>attacker</a>           35 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local min_dist, attacker, target = 9e99</span>
<span class='curline'><a href='../S/4327.html#L40'>attacker</a>           40 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua                 min_dist, attacker, target = dist, tusker, enemy</span>
<span class='curline'><a href='../S/4327.html#L53'>attacker</a>           53 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local best_hex = AH.find_best_move(attacker, function(x, y)</span>
<span class='curline'><a href='../S/4327.html#L62'>attacker</a>           62 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     AH.robust_move_and_attack(ai, attacker, best_hex, target)</span>
<span class='curline'><a href='../S/4329.html#L39'>attacker</a>           39 data/ai/micro_ais/cas/ca_simple_attack.lua             local attacker = wesnoth.get_unit(att.src.x, att.src.y)</span>
<span class='curline'><a href='../S/4329.html#L43'>attacker</a>           43 data/ai/micro_ais/cas/ca_simple_attack.lua             local rating = BC.attack_rating(attacker, enemy, dst)</span>
<span class='curline'><a href='../S/4365.html#L127'>attacker</a>          127 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                 local attacker = wesnoth.get_unit(best_attack.src.x, best_attack.src.y)</span>
<span class='curline'><a href='../S/4365.html#L130'>attacker</a>          130 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                 AH.robust_move_and_attack(ai, attacker, best_attack.dst, defender)</span>
<span class='curline'><a href='../S/4365.html#L133'>attacker</a>          133 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                     if attacker and attacker.valid then</span>
<span class='curline'><a href='../S/4365.html#L134'>attacker</a>          134 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                         if cfg.show_pack_number then WMPF.put_label(attacker.x, attacker.y, pack_number) end</span>
<span class='curline'><a href='../S/4372.html#L19'>attacker</a>           19 data/ai/micro_ais/engines/priority_target_engine.lua             for _,attacker in ipairs(attackers) do</span>
<span class='curline'><a href='../S/4372.html#L24'>attacker</a>           24 data/ai/micro_ais/engines/priority_target_engine.lua                     { "filter", { id = attacker.id } },</span>
<span class='curline'><a href='../S/4372.html#L30'>attacker</a>           30 data/ai/micro_ais/engines/priority_target_engine.lua                             { "filter", { { "not", { id = attacker.id } } } }</span>
<span class='curline'><a href='../S/5029.html#L22'>attacker</a>           22 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua         local attacker = wesnoth.get_unit(att.src.x, att.src.y)</span>
<span class='curline'><a href='../S/5029.html#L25'>attacker</a>           25 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua         local attacker_dst = wesnoth.copy_unit(attacker)</span>
<span class='curline'><a href='../S/5029.html#L33'>attacker</a>           33 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua             local attacker_damage = attacker.hitpoints - att_stats.average_hp</span>
<span class='curline'><a href='../S/5029.html#L40'>attacker</a>           40 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua             rating = rating + attacker.hitpoints / 10.</span>
<span class='curline'><a href='../S/1797.html#L93'>attacker</a>           93 doc/design/gui2/unit_attack.cpp 		const battle_context::unit_stats&amp; attacker =</span>
<span class='curline'><a href='../S/1797.html#L99'>attacker</a>           99 doc/design/gui2/unit_attack.cpp 		const attack_type&amp; attacker_weapon = attack_type(*attacker.weapon);</span>
<span class='curline'><a href='../S/901.html#L363'>attacker</a>          363 src/actions/attack.cpp 	const unit&amp; attacker = attacker_ptr ? *attacker_ptr : *units.find(attacker_loc);</span>
<span class='curline'><a href='../S/901.html#L368'>attacker</a>          368 src/actions/attack.cpp 	   attacker.attacks().size() == 1 &amp;&amp;</span>
<span class='curline'><a href='../S/901.html#L369'>attacker</a>          369 src/actions/attack.cpp 	   attacker.attacks()[0].attack_weight() &gt; 0 &amp;&amp;</span>
<span class='curline'><a href='../S/901.html#L370'>attacker</a>          370 src/actions/attack.cpp 	  !attacker.attacks()[0].get_special_bool("disable", true)</span>
<span class='curline'><a href='../S/901.html#L377'>attacker</a>          377 src/actions/attack.cpp 			attacker, defender, units, attacker_loc, defender_loc, harm_weight, &amp;defender_weapon, prev_def</span>
<span class='curline'><a href='../S/901.html#L381'>attacker</a>          381 src/actions/attack.cpp 			attacker, defender, attacker_weapon, units, attacker_loc, defender_loc, prev_def</span>
<span class='curline'><a href='../S/901.html#L391'>attacker</a>          391 src/actions/attack.cpp 			VALIDATE(attacker_weapon &lt; static_cast&lt;int&gt;(attacker.attacks().size()),</span>
<span class='curline'><a href='../S/901.html#L394'>attacker</a>          394 src/actions/attack.cpp 			adef = attacker.attacks()[attacker_weapon].shared_from_this();</span>
<span class='curline'><a href='../S/901.html#L407'>attacker</a>          407 src/actions/attack.cpp 				attacker, attacker_loc, attacker_weapon, true, defender, defender_loc, ddef, units));</span>
<span class='curline'><a href='../S/901.html#L409'>attacker</a>          409 src/actions/attack.cpp 				defender, defender_loc, defender_weapon, false, attacker, attacker_loc, adef, units));</span>
<span class='curline'><a href='../S/901.html#L537'>attacker</a>          537 src/actions/attack.cpp int battle_context::choose_attacker_weapon(const unit&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L551'>attacker</a>          551 src/actions/attack.cpp 	for(i = 0; i &lt; attacker.attacks().size(); ++i) {</span>
<span class='curline'><a href='../S/901.html#L552'>attacker</a>          552 src/actions/attack.cpp 		const attack_type&amp; att = attacker.attacks()[i];</span>
<span class='curline'><a href='../S/901.html#L565'>attacker</a>          565 src/actions/attack.cpp 				= choose_defender_weapon(attacker, defender, choices[0], units, attacker_loc, defender_loc, prev_def);</span>
<span class='curline'><a href='../S/901.html#L569'>attacker</a>          569 src/actions/attack.cpp 				attacker, attacker_loc, choices[0], true, defender, defender_loc, def_weapon, units));</span>
<span class='curline'><a href='../S/901.html#L575'>attacker</a>          575 src/actions/attack.cpp 		const attack_type&amp; att = attacker.attacks()[choices[0]];</span>
<span class='curline'><a href='../S/901.html#L577'>attacker</a>          577 src/actions/attack.cpp 				defender, defender_loc, *defender_weapon, false, attacker, attacker_loc, att.shared_from_this(), units));</span>
<span class='curline'><a href='../S/901.html#L590'>attacker</a>          590 src/actions/attack.cpp 		const attack_type&amp; att = attacker.attacks()[choices[i]];</span>
<span class='curline'><a href='../S/901.html#L593'>attacker</a>          593 src/actions/attack.cpp 			choose_defender_weapon(attacker, defender, choices[i], units, attacker_loc, defender_loc, prev_def);</span>
<span class='curline'><a href='../S/901.html#L604'>attacker</a>          604 src/actions/attack.cpp 					attacker, attacker_loc, choices[i], true, defender, defender_loc, def, units));</span>
<span class='curline'><a href='../S/901.html#L611'>attacker</a>          611 src/actions/attack.cpp 					defender, defender_loc, def_weapon, false, attacker, attacker_loc, att.shared_from_this(), units));</span>
<span class='curline'><a href='../S/901.html#L653'>attacker</a>          653 src/actions/attack.cpp int battle_context::choose_defender_weapon(const unit&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L661'>attacker</a>          661 src/actions/attack.cpp 	VALIDATE(attacker_weapon &lt; attacker.attacks().size(), _("An invalid attacker weapon got selected."));</span>
<span class='curline'><a href='../S/901.html#L663'>attacker</a>          663 src/actions/attack.cpp 	const attack_type&amp; att = attacker.attacks()[attacker_weapon];</span>
<span class='curline'><a href='../S/901.html#L683'>attacker</a>          683 src/actions/attack.cpp 				defender, defender_loc, choices[0], false, attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/901.html#L701'>attacker</a>          701 src/actions/attack.cpp 				const battle_context_unit_stats def_stats(defender, defender_loc, choices[i], false, attacker,</span>
<span class='curline'><a href='../S/901.html#L724'>attacker</a>          724 src/actions/attack.cpp 				attacker, attacker_loc, attacker_weapon, true, defender, defender_loc, def.shared_from_this(), units));</span>
<span class='curline'><a href='../S/901.html#L727'>attacker</a>          727 src/actions/attack.cpp 				defender, defender_loc, choices[i], false, attacker, attacker_loc, att.shared_from_this(), units));</span>
<span class='curline'><a href='../S/901.html#L793'>attacker</a>          793 src/actions/attack.cpp 	attack(const map_location&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L897'>attacker</a>          897 src/actions/attack.cpp attack::attack(const map_location&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L910'>attacker</a>          910 src/actions/attack.cpp 	, a_(attacker, attack_with, resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/901.html#L1010'>attacker</a>         1010 src/actions/attack.cpp 	unit_info&amp; attacker = attacker_turn ? a_ : d_;</span>
<span class='curline'><a href='../S/901.html#L1022'>attacker</a>         1022 src/actions/attack.cpp 	bool hits = (ran_num &lt; attacker.cth_);</span>
<span class='curline'><a href='../S/901.html#L1026'>attacker</a>         1026 src/actions/attack.cpp 		damage = attacker.damage_;</span>
<span class='curline'><a href='../S/901.html#L1032'>attacker</a>         1032 src/actions/attack.cpp 	const config local_results {"chance", attacker.cth_, "hits", hits, "damage", damage};</span>
<span class='curline'><a href='../S/901.html#L1038'>attacker</a>         1038 src/actions/attack.cpp 		check_replay_attack_result(hits, ran_num, damage, replay_results, attacker);</span>
<span class='curline'><a href='../S/901.html#L1042'>attacker</a>         1042 src/actions/attack.cpp 	int damage_done = std::min&lt;int&gt;(defender.get_unit().hitpoints(), attacker.damage_);</span>
<span class='curline'><a href='../S/901.html#L1045'>attacker</a>         1045 src/actions/attack.cpp 	double expected_damage = damage_done * attacker.cth_ * 0.01;</span>
<span class='curline'><a href='../S/901.html#L1059'>attacker</a>         1059 src/actions/attack.cpp 			std::min&lt;int&gt;(drains_damage, attacker.get_unit().max_hitpoints() - attacker.get_unit().hitpoints());</span>
<span class='curline'><a href='../S/901.html#L1062'>attacker</a>         1062 src/actions/attack.cpp 		drains_damage = std::max&lt;int&gt;(drains_damage, 1 - attacker.get_unit().hitpoints());</span>
<span class='curline'><a href='../S/901.html#L1095'>attacker</a>         1095 src/actions/attack.cpp 			attacker.loc_, defender.loc_,</span>
<span class='curline'><a href='../S/901.html#L1166'>attacker</a>         1166 src/actions/attack.cpp 		attacker.get_unit().heal(drains_damage);</span>
<span class='curline'><a href='../S/901.html#L1168'>attacker</a>         1168 src/actions/attack.cpp 		attacker_dies = attacker.get_unit().take_hit(-drains_damage);</span>
<span class='curline'><a href='../S/901.html#L1172'>attacker</a>         1172 src/actions/attack.cpp 		unit_killed(attacker, defender, attacker_stats, defender_stats, false);</span>
<span class='curline'><a href='../S/901.html#L1177'>attacker</a>         1177 src/actions/attack.cpp 		unit_killed(defender, attacker, defender_stats, attacker_stats, true);</span>
<span class='curline'><a href='../S/901.html#L1205'>attacker</a>         1205 src/actions/attack.cpp 			attacker.n_attacks_ = 0;</span>
<span class='curline'><a href='../S/901.html#L1207'>attacker</a>         1207 src/actions/attack.cpp 			resources::game_events-&gt;pump().fire("petrified", defender.loc_, attacker.loc_);</span>
<span class='curline'><a href='../S/901.html#L1218'>attacker</a>         1218 src/actions/attack.cpp 	--attacker.n_attacks_;</span>
<span class='curline'><a href='../S/901.html#L1222'>attacker</a>         1222 src/actions/attack.cpp void attack::unit_killed(unit_info&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L1228'>attacker</a>         1228 src/actions/attack.cpp 	attacker.xp_ = game_config::kill_xp(defender.get_unit().level());</span>
<span class='curline'><a href='../S/901.html#L1231'>attacker</a>         1231 src/actions/attack.cpp 	resources::screen-&gt;invalidate(attacker.loc_);</span>
<span class='curline'><a href='../S/901.html#L1234'>attacker</a>         1234 src/actions/attack.cpp 	game_events::entity_location attacker_loc(attacker.loc_, attacker.id_);</span>
<span class='curline'><a href='../S/901.html#L1243'>attacker</a>         1243 src/actions/attack.cpp 	config a_weapon_cfg = attacker_stats-&gt;weapon &amp;&amp; attacker.valid() ? attacker_stats-&gt;weapon-&gt;to_config() : config();</span>
<span class='curline'><a href='../S/901.html#L1265'>attacker</a>         1265 src/actions/attack.cpp 	if(!attacker.valid()) {</span>
<span class='curline'><a href='../S/901.html#L1278'>attacker</a>         1278 src/actions/attack.cpp 			attacker.loc_,</span>
<span class='curline'><a href='../S/901.html#L1279'>attacker</a>         1279 src/actions/attack.cpp 			&amp;attacker.get_unit()</span>
<span class='curline'><a href='../S/901.html#L1295'>attacker</a>         1295 src/actions/attack.cpp 	if(attacker.valid() &amp;&amp; attacker_stats-&gt;plagues &amp;&amp; !drain_killed) {</span>
<span class='curline'><a href='../S/901.html#L1301'>attacker</a>         1301 src/actions/attack.cpp 			unit_ptr newunit(new unit(*reanimator, attacker.get_unit().side(), true, unit_race::MALE));</span>
<span class='curline'><a href='../S/901.html#L1304'>attacker</a>         1304 src/actions/attack.cpp 			newunit-&gt;set_facing(map_location::get_opposite_dir(attacker.get_unit().facing()));</span>
<span class='curline'><a href='../S/901.html#L1485'>attacker</a>         1485 src/actions/attack.cpp 		bool&amp; hits, int ran_num, int&amp; damage, config replay_results, unit_info&amp; attacker)</span>
<span class='curline'><a href='../S/901.html#L1495'>attacker</a>         1495 src/actions/attack.cpp 	&lt;&lt; " chance to hit in calculated:  " &lt;&lt; attacker.cth_</span>
<span class='curline'><a href='../S/901.html#L1497'>attacker</a>         1497 src/actions/attack.cpp 	&lt;&lt; " chance to hit in calculated:  " &lt;&lt; attacker.cth_</span>
<span class='curline'><a href='../S/901.html#L1500'>attacker</a>         1500 src/actions/attack.cpp 	attacker.cth_ = results_chance;</span>
<span class='curline'><a href='../S/901.html#L1507'>attacker</a>         1507 src/actions/attack.cpp 	if(results_chance != attacker.cth_) {</span>
<span class='curline'><a href='../S/901.html#L1510'>attacker</a>         1510 src/actions/attack.cpp 				&lt;&lt; "; Calculation: " &lt;&lt; attacker.cth_ &lt;&lt; " (over-riding game calculations with data source results)\n";</span>
<span class='curline'><a href='../S/901.html#L1511'>attacker</a>         1511 src/actions/attack.cpp 		attacker.cth_ = results_chance;</span>
<span class='curline'><a href='../S/901.html#L1539'>attacker</a>         1539 src/actions/attack.cpp void attack_unit(const map_location&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L1545'>attacker</a>         1545 src/actions/attack.cpp 	attack dummy(attacker, defender, attack_with, defend_with, update_display);</span>
<span class='curline'><a href='../S/901.html#L1549'>attacker</a>         1549 src/actions/attack.cpp void attack_unit_and_advance(const map_location&amp; attacker,</span>
<span class='curline'><a href='../S/901.html#L1556'>attacker</a>         1556 src/actions/attack.cpp 	attack_unit(attacker, defender, attack_with, defend_with, update_display);</span>
<span class='curline'><a href='../S/901.html#L1558'>attacker</a>         1558 src/actions/attack.cpp 	unit_map::const_iterator atku = resources::gameboard-&gt;units().find(attacker);</span>
<span class='curline'><a href='../S/901.html#L1560'>attacker</a>         1560 src/actions/attack.cpp 		advance_unit_at(advance_unit_params(attacker).ai_advancements(ai_advancement));</span>
<span class='curline'><a href='../S/904.html#L221'>attacker</a>          221 src/actions/attack.hpp 	int choose_attacker_weapon(const unit&amp; attacker,</span>
<span class='curline'><a href='../S/904.html#L230'>attacker</a>          230 src/actions/attack.hpp 	int choose_defender_weapon(const unit&amp; attacker,</span>
<span class='curline'><a href='../S/904.html#L248'>attacker</a>          248 src/actions/attack.hpp void attack_unit(const map_location&amp; attacker,</span>
<span class='curline'><a href='../S/904.html#L255'>attacker</a>          255 src/actions/attack.hpp void attack_unit_and_advance(const map_location&amp; attacker,</span>
<span class='curline'><a href='../S/233.html#L181'>attacker</a>          181 src/ai/actions.cpp 	const unit_map::const_iterator attacker = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/233.html#L184'>attacker</a>          184 src/ai/actions.cpp 	if(attacker==resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/233.html#L198'>attacker</a>          198 src/ai/actions.cpp 	if(attacker-&gt;incapacitated()) {</span>
<span class='curline'><a href='../S/233.html#L210'>attacker</a>          210 src/ai/actions.cpp 	if(!attacker-&gt;attacks_left()) {</span>
<span class='curline'><a href='../S/233.html#L216'>attacker</a>          216 src/ai/actions.cpp 	if(attacker-&gt;side()!=get_side()) {</span>
<span class='curline'><a href='../S/233.html#L229'>attacker</a>          229 src/ai/actions.cpp 		if ((attacker_weapon_&lt;0)||(attacker_weapon_ &gt;= static_cast&lt;int&gt;(attacker-&gt;attacks().size()))) {</span>
<span class='curline'><a href='../S/247.html#L1057'>attacker</a>         1057 src/ai/default/recruitment.cpp 	attack_simulation(const unit_type* attacker, const unit_type* defender,</span>
<span class='curline'><a href='../S/247.html#L1061'>attacker</a>         1061 src/ai/default/recruitment.cpp 			attacker_type(attacker),</span>
<span class='curline'><a href='../S/247.html#L1063'>attacker</a>         1063 src/ai/default/recruitment.cpp 			attacker_stats(attacker, att_weapon, true, defender, def_weapon,</span>
<span class='curline'><a href='../S/247.html#L1065'>attacker</a>         1065 src/ai/default/recruitment.cpp 			defender_stats(defender, def_weapon, false, attacker, att_weapon,</span>
<span class='curline'><a href='../S/247.html#L1093'>attacker</a>         1093 src/ai/default/recruitment.cpp 	double get_avg_hp_of_combatant(bool attacker) const {</span>
<span class='curline'><a href='../S/247.html#L1094'>attacker</a>         1094 src/ai/default/recruitment.cpp 		const combatant&amp; combatant = (attacker) ? attacker_combatant : defender_combatant;</span>
<span class='curline'><a href='../S/247.html#L1095'>attacker</a>         1095 src/ai/default/recruitment.cpp 		const unit_type* unit_type = (attacker) ? attacker_type : defender_type;</span>
<span class='curline'><a href='../S/247.html#L1113'>attacker</a>         1113 src/ai/default/recruitment.cpp 			const unit_type* const attacker, const unit_type* const defender,</span>
<span class='curline'><a href='../S/247.html#L1116'>attacker</a>         1116 src/ai/default/recruitment.cpp 	if(!attacker || !defender || !damage_to_attacker || !damage_to_defender) {</span>
<span class='curline'><a href='../S/247.html#L1120'>attacker</a>         1120 src/ai/default/recruitment.cpp 	const_attack_itors attacker_weapons = attacker-&gt;attacks();</span>
<span class='curline'><a href='../S/247.html#L1134'>attacker</a>         1134 src/ai/default/recruitment.cpp 					attacker, defender,</span>
<span class='curline'><a href='../S/247.html#L1145'>attacker</a>         1145 src/ai/default/recruitment.cpp 					attacker, defender,</span>
<span class='curline'><a href='../S/247.html#L1159'>attacker</a>         1159 src/ai/default/recruitment.cpp 	*damage_to_attacker += (attacker-&gt;hitpoints() - best_att_attack-&gt;get_avg_hp_of_attacker());</span>
<span class='curline'><a href='../S/236.html#L220'>attacker</a>          220 src/ai/default/recruitment.hpp 			const unit_type* const attacker, const unit_type* const defender,</span>
<span class='curline'><a href='../S/253.html#L1300'>attacker</a>         1300 src/ai/formula/function_table.cpp 	std::pair&lt;int, int&gt; best_melee_and_ranged_attacks(unit_adapter attacker, unit_adapter defender) const {</span>
<span class='curline'><a href='../S/253.html#L1304'>attacker</a>         1304 src/ai/formula/function_table.cpp 		for (const attack_type &amp;attack : attacker.attacks()) {</span>
<span class='curline'><a href='../S/253.html#L1324'>attacker</a>         1324 src/ai/formula/function_table.cpp 		unit_adapter attacker(u1);</span>
<span class='curline'><a href='../S/253.html#L1328'>attacker</a>         1328 src/ai/formula/function_table.cpp 		std::pair&lt;int, int&gt; best_attacker_attacks = best_melee_and_ranged_attacks(attacker, defender);</span>
<span class='curline'><a href='../S/253.html#L1329'>attacker</a>         1329 src/ai/formula/function_table.cpp 		std::pair&lt;int, int&gt; best_defender_attacks = best_melee_and_ranged_attacks(defender, attacker);</span>
<span class='curline'><a href='../S/293.html#L208'>attacker</a>          208 src/ai/lua/core.cpp 	map_location attacker = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/293.html#L230'>attacker</a>          230 src/ai/lua/core.cpp 	ai::attack_result_ptr attack_result = ai::actions::execute_attack_action(side,exec,attacker,defender,attacker_weapon,aggression,advancements);</span>
<span class='curline'><a href='../S/427.html#L51'>attacker</a>           51 src/gui/dialogs/attack_predictions.cpp attack_predictions::attack_predictions(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender)</span>
<span class='curline'><a href='../S/427.html#L52'>attacker</a>           52 src/gui/dialogs/attack_predictions.cpp 	: attacker_data_(attacker, bc.get_attacker_combatant(), bc.get_attacker_stats())</span>
<span class='curline'><a href='../S/427.html#L76'>attacker</a>           76 src/gui/dialogs/attack_predictions.cpp void attack_predictions::set_data(window&amp; window, const combatant_data&amp; attacker, const combatant_data&amp; defender)</span>
<span class='curline'><a href='../S/427.html#L79'>attacker</a>           79 src/gui/dialogs/attack_predictions.cpp 	const std::string widget_id_prefix = attacker.stats_.is_attacker ? "attacker" : "defender";</span>
<span class='curline'><a href='../S/427.html#L102'>attacker</a>          102 src/gui/dialogs/attack_predictions.cpp 	const color_t ndc_color = game_config::red_to_green(attacker.combatant_.untouched * 100);</span>
<span class='curline'><a href='../S/427.html#L104'>attacker</a>          104 src/gui/dialogs/attack_predictions.cpp 	ss &lt;&lt; font::span_color(ndc_color) &lt;&lt; get_probability_string(attacker.combatant_.untouched) &lt;&lt; "&lt;/span&gt;";</span>
<span class='curline'><a href='../S/427.html#L109'>attacker</a>          109 src/gui/dialogs/attack_predictions.cpp 	draw_hp_graph(graph_widget, attacker, defender);</span>
<span class='curline'><a href='../S/427.html#L115'>attacker</a>          115 src/gui/dialogs/attack_predictions.cpp 	if(!attacker.stats_.weapon) {</span>
<span class='curline'><a href='../S/427.html#L129'>attacker</a>          129 src/gui/dialogs/attack_predictions.cpp 	const_attack_ptr weapon = attacker.stats_.weapon;</span>
<span class='curline'><a href='../S/427.html#L130'>attacker</a>          130 src/gui/dialogs/attack_predictions.cpp 	weapon-&gt;set_specials_context(attacker.unit_.get_location(), defender.unit_.get_location(), attacker.stats_.is_attacker, defender.stats_.weapon);</span>
<span class='curline'><a href='../S/427.html#L134'>attacker</a>          134 src/gui/dialogs/attack_predictions.cpp 	unit_abilities::effect dmg_effect(dmg_specials, weapon-&gt;damage(), attacker.stats_.backstab_pos);</span>
<span class='curline'><a href='../S/427.html#L185'>attacker</a>          185 src/gui/dialogs/attack_predictions.cpp 	const int resistance_modifier = defender.unit_.damage_from(*weapon, !attacker.stats_.is_attacker, defender.unit_.get_location());</span>
<span class='curline'><a href='../S/427.html#L187'>attacker</a>          187 src/gui/dialogs/attack_predictions.cpp 		if(attacker.stats_.is_attacker) {</span>
<span class='curline'><a href='../S/427.html#L208'>attacker</a>          208 src/gui/dialogs/attack_predictions.cpp 	const unit&amp; u = attacker.unit_;</span>
<span class='curline'><a href='../S/427.html#L220'>attacker</a>          220 src/gui/dialogs/attack_predictions.cpp 	const int leadership_bonus = under_leadership(resources::gameboard-&gt;units(), attacker.unit_.get_location()).first;</span>
<span class='curline'><a href='../S/427.html#L229'>attacker</a>          229 src/gui/dialogs/attack_predictions.cpp 	if(attacker.stats_.is_slowed) {</span>
<span class='curline'><a href='../S/427.html#L239'>attacker</a>          239 src/gui/dialogs/attack_predictions.cpp 	if(attacker.stats_.damage &gt; base_damage) {</span>
<span class='curline'><a href='../S/427.html#L241'>attacker</a>          241 src/gui/dialogs/attack_predictions.cpp 	} else if(attacker.stats_.damage &lt; base_damage) {</span>
<span class='curline'><a href='../S/427.html#L245'>attacker</a>          245 src/gui/dialogs/attack_predictions.cpp 	ss &lt;&lt; font::span_color(dmg_color) &lt;&lt; attacker.stats_.damage &lt;&lt; "&lt;/span&gt;"</span>
<span class='curline'><a href='../S/427.html#L246'>attacker</a>          246 src/gui/dialogs/attack_predictions.cpp 	   &lt;&lt; font::weapon_numbers_sep    &lt;&lt; attacker.stats_.num_blows;</span>
<span class='curline'><a href='../S/427.html#L251'>attacker</a>          251 src/gui/dialogs/attack_predictions.cpp 	const color_t cth_color = game_config::red_to_green(attacker.stats_.chance_to_hit);</span>
<span class='curline'><a href='../S/427.html#L254'>attacker</a>          254 src/gui/dialogs/attack_predictions.cpp 	ss &lt;&lt; font::span_color(cth_color) &lt;&lt; attacker.stats_.chance_to_hit &lt;&lt; "%&lt;/span&gt;";</span>
<span class='curline'><a href='../S/427.html#L259'>attacker</a>          259 src/gui/dialogs/attack_predictions.cpp void attack_predictions::draw_hp_graph(drawing&amp; hp_graph, const combatant_data&amp; attacker, const combatant_data&amp; defender)</span>
<span class='curline'><a href='../S/427.html#L285'>attacker</a>          285 src/gui/dialogs/attack_predictions.cpp 	for(const auto&amp; probability : get_hitpoint_probabilities(attacker.combatant_.hp_dist)) {</span>
<span class='curline'><a href='../S/427.html#L299'>attacker</a>          299 src/gui/dialogs/attack_predictions.cpp 		else if(hp &lt; static_cast&lt;int&gt;(attacker.stats_.hp)) {</span>
<span class='curline'><a href='../S/428.html#L41'>attacker</a>           41 src/gui/dialogs/attack_predictions.hpp 	attack_predictions(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender);</span>
<span class='curline'><a href='../S/428.html#L43'>attacker</a>           43 src/gui/dialogs/attack_predictions.hpp 	static void display(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender, CVideo&amp; video)</span>
<span class='curline'><a href='../S/428.html#L45'>attacker</a>           45 src/gui/dialogs/attack_predictions.hpp 		attack_predictions(bc, attacker, defender).show(video);</span>
<span class='curline'><a href='../S/428.html#L68'>attacker</a>           68 src/gui/dialogs/attack_predictions.hpp 	void set_data(window&amp; window, const combatant_data&amp; attacker, const combatant_data&amp; defender);</span>
<span class='curline'><a href='../S/428.html#L76'>attacker</a>           76 src/gui/dialogs/attack_predictions.hpp 	void draw_hp_graph(drawing&amp; hp_graph, const combatant_data&amp; attacker, const combatant_data&amp; defender);</span>
<span class='curline'><a href='../S/459.html#L117'>attacker</a>          117 src/gui/dialogs/unit_attack.cpp 		const battle_context_unit_stats&amp; attacker = weapon.get_attacker_stats();</span>
<span class='curline'><a href='../S/459.html#L121'>attacker</a>          121 src/gui/dialogs/unit_attack.cpp 			*attacker.weapon;</span>
<span class='curline'><a href='../S/459.html#L130'>attacker</a>          130 src/gui/dialogs/unit_attack.cpp 		const color_t a_cth_color = game_config::red_to_green(attacker.chance_to_hit);</span>
<span class='curline'><a href='../S/459.html#L150'>attacker</a>          150 src/gui/dialogs/unit_attack.cpp 			&lt;&lt; attacker.damage &lt;&lt; font::weapon_numbers_sep &lt;&lt; attacker.num_blows</span>
<span class='curline'><a href='../S/459.html#L152'>attacker</a>          152 src/gui/dialogs/unit_attack.cpp 			&lt;&lt; font::span_color(a_cth_color) &lt;&lt; attacker.chance_to_hit &lt;&lt; "%&lt;/span&gt;";</span>
<span class='curline'><a href='../S/962.html#L961'>attacker</a>          961 src/mouse_events.cpp 		std::vector&lt;battle_context&gt;&amp; bc_vector, unit_map::iterator attacker, unit_map::iterator defender)</span>
<span class='curline'><a href='../S/962.html#L964'>attacker</a>          964 src/mouse_events.cpp 	for(unsigned int i = 0; i &lt; attacker-&gt;attacks().size(); i++) {</span>
<span class='curline'><a href='../S/962.html#L966'>attacker</a>          966 src/mouse_events.cpp 		if(attacker-&gt;attacks()[i].attack_weight() &gt; 0) {</span>
<span class='curline'><a href='../S/962.html#L967'>attacker</a>          967 src/mouse_events.cpp 			battle_context bc(pc_.gamestate().board_.units_, attacker-&gt;get_location(), defender-&gt;get_location(), i);</span>
<span class='curline'><a href='../S/962.html#L985'>attacker</a>          985 src/mouse_events.cpp 	unit_map::iterator attacker = board.units_.find(attacker_loc);</span>
<span class='curline'><a href='../S/962.html#L988'>attacker</a>          988 src/mouse_events.cpp 	if(!attacker || !defender) {</span>
<span class='curline'><a href='../S/962.html#L994'>attacker</a>          994 src/mouse_events.cpp 	const int best = fill_weapon_choices(bc_vector, attacker, defender);</span>
<span class='curline'><a href='../S/962.html#L1000'>attacker</a>         1000 src/mouse_events.cpp 	if((*attacker).attacks().empty() || all_disabled) {</span>
<span class='curline'><a href='../S/962.html#L1006'>attacker</a>         1006 src/mouse_events.cpp 	gui2::dialogs::unit_attack dlg(attacker, defender, bc_vector, best);</span>
<span class='curline'><a href='../S/962.html#L1034'>attacker</a>         1034 src/mouse_events.cpp 	unit_map::iterator attacker = find_unit(attacker_loc);</span>
<span class='curline'><a href='../S/962.html#L1035'>attacker</a>         1035 src/mouse_events.cpp 	if(!attacker || attacker-&gt;side() != side_num_ || attacker-&gt;incapacitated()) {</span>
<span class='curline'><a href='../S/962.html#L1045'>attacker</a>         1045 src/mouse_events.cpp 	fill_weapon_choices(bc_vector, attacker, defender);</span>
<span class='curline'><a href='../S/962.html#L1055'>attacker</a>         1055 src/mouse_events.cpp 	attacker-&gt;set_goto(map_location());</span>
<span class='curline'><a href='../S/962.html#L1080'>attacker</a>         1080 src/mouse_events.cpp 			attacker-&gt;type_id(),</span>
<span class='curline'><a href='../S/17.html#L137'>attacker</a>          137 src/mouse_events.hpp 	int fill_weapon_choices(std::vector&lt;battle_context&gt;&amp; bc_vector, unit_map::iterator attacker, unit_map::iterator defender);</span>
<span class='curline'><a href='../S/762.html#L844'>attacker</a>          844 src/reports.cpp static config unit_weapons(reports::context &amp; rc, const unit *attacker, const map_location &amp;attacker_pos, const unit *defender, bool show_attacker)</span>
<span class='curline'><a href='../S/762.html#L846'>attacker</a>          846 src/reports.cpp 	if (!attacker || !defender) return config();</span>
<span class='curline'><a href='../S/762.html#L848'>attacker</a>          848 src/reports.cpp 	const unit* u = show_attacker ? attacker : defender;</span>
<span class='curline'><a href='../S/762.html#L855'>attacker</a>          855 src/reports.cpp 	for (unsigned int i = 0; i &lt; attacker-&gt;attacks().size(); i++) {</span>
<span class='curline'><a href='../S/762.html#L857'>attacker</a>          857 src/reports.cpp 		if (attacker-&gt;attacks()[i].attack_weight() &gt; 0) {</span>
<span class='curline'><a href='../S/762.html#L858'>attacker</a>          858 src/reports.cpp 			battle_context weapon(rc.units(), attacker_pos, defender-&gt;get_location(), i, -1, 0.0, nullptr, attacker);</span>
<span class='curline'><a href='../S/1005.html#L841'>attacker</a>          841 src/units/types.cpp int unit_type::resistance_against(const std::string&amp; damage_name, bool attacker) const</span>
<span class='curline'><a href='../S/1005.html#L852'>attacker</a>          852 src/units/types.cpp 			if(!resistance_filter_matches(cfg, attacker, damage_name, 100 - resistance)) {</span>
<span class='curline'><a href='../S/1005.html#L873'>attacker</a>          873 src/units/types.cpp 		const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const</span>
<span class='curline'><a href='../S/1005.html#L876'>attacker</a>          876 src/units/types.cpp 		(attacker  &amp;&amp; cfg["active_on"] == "offense") ||</span>
<span class='curline'><a href='../S/1005.html#L877'>attacker</a>          877 src/units/types.cpp 		(!attacker &amp;&amp; cfg["active_on"] == "defense"))</span>
<span class='curline'><a href='../S/1023.html#L258'>attacker</a>          258 src/units/types.hpp 	int resistance_against(const std::string&amp; damage_name, bool attacker) const;</span>
<span class='curline'><a href='../S/1023.html#L265'>attacker</a>          265 src/units/types.hpp 	bool resistance_filter_matches(const config&amp; cfg,bool attacker,const std::string&amp; damage_name, int res) const;</span>
<span class='curline'><a href='../S/998.html#L507'>attacker</a>          507 src/units/udisplay.cpp void reset_helpers(const unit *attacker,const unit *defender);</span>
<span class='curline'><a href='../S/998.html#L509'>attacker</a>          509 src/units/udisplay.cpp void unit_draw_weapon(const map_location&amp; loc, unit&amp; attacker,</span>
<span class='curline'><a href='../S/998.html#L517'>attacker</a>          517 src/units/udisplay.cpp 	attacker.set_facing(loc.get_relative_dir(defender_loc));</span>
<span class='curline'><a href='../S/998.html#L519'>attacker</a>          519 src/units/udisplay.cpp 	animator.add_animation(&amp;attacker,"draw_weapon",loc,defender_loc,0,false,"",{0,0,0},unit_animation::hit_type::HIT,attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/998.html#L600'>attacker</a>          600 src/units/udisplay.cpp 	const unit&amp; attacker = *att;</span>
<span class='curline'><a href='../S/998.html#L613'>attacker</a>          613 src/units/udisplay.cpp 	unit_ability_list leaders = attacker.get_abilities("leadership");</span>
<span class='curline'><a href='../S/998.html#L627'>attacker</a>          627 src/units/udisplay.cpp 	animator.add_animation(&amp;attacker, "attack", att-&gt;get_location(),</span>
<span class='curline'><a href='../S/998.html#L689'>attacker</a>          689 src/units/udisplay.cpp void reset_helpers(const unit *attacker,const unit *defender)</span>
<span class='curline'><a href='../S/998.html#L693'>attacker</a>          693 src/units/udisplay.cpp 	if(attacker) {</span>
<span class='curline'><a href='../S/998.html#L694'>attacker</a>          694 src/units/udisplay.cpp 		unit_ability_list leaders = attacker-&gt;get_abilities("leadership");</span>
<span class='curline'><a href='../S/1016.html#L1550'>attacker</a>         1550 src/units/unit.cpp bool unit::resistance_filter_matches(const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const</span>
<span class='curline'><a href='../S/1016.html#L1552'>attacker</a>         1552 src/units/unit.cpp 	if(!(cfg["active_on"].empty() || (attacker &amp;&amp; cfg["active_on"] == "offense") || (!attacker &amp;&amp; cfg["active_on"] == "defense"))) {</span>
<span class='curline'><a href='../S/1016.html#L1578'>attacker</a>         1578 src/units/unit.cpp int unit::resistance_against(const std::string&amp; damage_name,bool attacker,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1016.html#L1584'>attacker</a>         1584 src/units/unit.cpp 		if(!resistance_filter_matches(*i-&gt;first, attacker, damage_name, 100-res)) {</span>
<span class='curline'><a href='../S/997.html#L829'>attacker</a>          829 src/units/unit.hpp 	int damage_from(const attack_type&amp; attack, bool attacker, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/997.html#L831'>attacker</a>          831 src/units/unit.hpp 		return resistance_against(attack, attacker, loc);</span>
<span class='curline'><a href='../S/997.html#L871'>attacker</a>          871 src/units/unit.hpp 	int resistance_against(const std::string&amp; damage_name, bool attacker, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/997.html#L879'>attacker</a>          879 src/units/unit.hpp 	int resistance_against(const attack_type&amp; atk, bool attacker, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/997.html#L881'>attacker</a>          881 src/units/unit.hpp 		return resistance_against(atk.type(), attacker, loc);</span>
<span class='curline'><a href='../S/997.html#L891'>attacker</a>          891 src/units/unit.hpp 	bool resistance_filter_matches(const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const;</span>
<span class='curline'><a href='../S/1354.html#L56'>attacker</a>           56 utils/wesnoth-attack-sim.c static void strike(struct unit *attacker, struct unit *defender)</span>
<span class='curline'><a href='../S/1354.html#L58'>attacker</a>           58 utils/wesnoth-attack-sim.c 	unsigned damage = attacker-&gt;damage;</span>
<span class='curline'><a href='../S/1354.html#L60'>attacker</a>           60 utils/wesnoth-attack-sim.c 	if (!hits(attacker-&gt;hit_chance))</span>
<span class='curline'><a href='../S/1354.html#L65'>attacker</a>           65 utils/wesnoth-attack-sim.c 	if (attacker-&gt;slows &amp;&amp; !defender-&gt;slowed) {</span>
<span class='curline'><a href='../S/1354.html#L69'>attacker</a>           69 utils/wesnoth-attack-sim.c 	if (attacker-&gt;drains) {</span>
<span class='curline'><a href='../S/1354.html#L70'>attacker</a>           70 utils/wesnoth-attack-sim.c 		attacker-&gt;hp += damage/2;</span>
<span class='curline'><a href='../S/1354.html#L71'>attacker</a>           71 utils/wesnoth-attack-sim.c 		if (attacker-&gt;hp &gt; attacker-&gt;max_hp)</span>
<span class='curline'><a href='../S/1354.html#L72'>attacker</a>           72 utils/wesnoth-attack-sim.c 			attacker-&gt;hp = attacker-&gt;max_hp;</span>
<span class='curline'><a href='../S/1354.html#L423'>attacker</a>          423 utils/wesnoth-attack-sim.c 	const struct unit *def, *attacker[argc / 4 + 1];</span>
<span class='curline'><a href='../S/1354.html#L436'>attacker</a>          436 utils/wesnoth-attack-sim.c 		attacker[i] = parse_unit(&amp;argv);</span>
<span class='curline'><a href='../S/1354.html#L437'>attacker</a>          437 utils/wesnoth-attack-sim.c 		res_att[i] = (double *)calloc(sizeof(double), attacker[i]-&gt;max_hp+1);</span>
<span class='curline'><a href='../S/1354.html#L439'>attacker</a>          439 utils/wesnoth-attack-sim.c 	attacker[i] = NULL;</span>
<span class='curline'><a href='../S/1354.html#L443'>attacker</a>          443 utils/wesnoth-attack-sim.c 			 attacker, res_att, i, 10000);</span>
<span class='curline'><a href='../S/1354.html#L445'>attacker</a>          445 utils/wesnoth-attack-sim.c 	for (i = 0; attacker[i]; i++)</span>
<span class='curline'><a href='../S/1354.html#L446'>attacker</a>          446 utils/wesnoth-attack-sim.c 		draw_results(res_att[i], attacker[i], att_touched[i],</span>
</pre>
</body>
</html>
