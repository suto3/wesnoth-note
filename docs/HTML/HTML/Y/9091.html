<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>drains_damage</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/901.html#L1053'>drains_damage</a>    1053 src/actions/attack.cpp 	int drains_damage = 0;</span>
<span class='curline'><a href='../S/901.html#L1055'>drains_damage</a>    1055 src/actions/attack.cpp 		drains_damage = damage_done * attacker_stats-&gt;drain_percent / 100 + attacker_stats-&gt;drain_constant;</span>
<span class='curline'><a href='../S/901.html#L1058'>drains_damage</a>    1058 src/actions/attack.cpp 		drains_damage =</span>
<span class='curline'><a href='../S/901.html#L1059'>drains_damage</a>    1059 src/actions/attack.cpp 			std::min&lt;int&gt;(drains_damage, attacker.get_unit().max_hitpoints() - attacker.get_unit().hitpoints());</span>
<span class='curline'><a href='../S/901.html#L1062'>drains_damage</a>    1062 src/actions/attack.cpp 		drains_damage = std::max&lt;int&gt;(drains_damage, 1 - attacker.get_unit().hitpoints());</span>
<span class='curline'><a href='../S/901.html#L1098'>drains_damage</a>    1098 src/actions/attack.cpp 			abs_n, float_text.str(), drains_damage, "",</span>
<span class='curline'><a href='../S/901.html#L1111'>drains_damage</a>    1111 src/actions/attack.cpp 			: statistics::attack_context::MISSES, damage_done, drains_damage</span>
<span class='curline'><a href='../S/901.html#L1118'>drains_damage</a>    1118 src/actions/attack.cpp 			: statistics::attack_context::MISSES, damage_done, drains_damage</span>
<span class='curline'><a href='../S/901.html#L1165'>drains_damage</a>    1165 src/actions/attack.cpp 	if(drains_damage &gt; 0) {</span>
<span class='curline'><a href='../S/901.html#L1166'>drains_damage</a>    1166 src/actions/attack.cpp 		attacker.get_unit().heal(drains_damage);</span>
<span class='curline'><a href='../S/901.html#L1167'>drains_damage</a>    1167 src/actions/attack.cpp 	} else if(drains_damage &lt; 0) {</span>
<span class='curline'><a href='../S/901.html#L1168'>drains_damage</a>    1168 src/actions/attack.cpp 		attacker_dies = attacker.get_unit().take_hit(-drains_damage);</span>
</pre>
</body>
</html>
