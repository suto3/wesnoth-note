<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ut</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/5531.html#L262'>ut</a>                262 data/lua/wml-tags.lua 	local ut = wesnoth.unit_types[u.type]</span>
<span class='curline'><a href='../S/5531.html#L265'>ut</a>                265 data/lua/wml-tags.lua 	local best_adv = ut.cost</span>
<span class='curline'><a href='../S/5531.html#L266'>ut</a>                266 data/lua/wml-tags.lua 	for w in utils.split(ut.__cfg.advances_to) do</span>
<span class='curline'><a href='../S/5531.html#L270'>ut</a>                270 data/lua/wml-tags.lua 	wesnoth.set_variable("cost", ut.cost)</span>
<span class='curline'><a href='../S/5531.html#L274'>ut</a>                274 data/lua/wml-tags.lua 	wesnoth.set_variable("recall_cost", ut.recall_cost)</span>
<span class='curline'><a href='../S/5531.html#L275'>ut</a>                275 data/lua/wml-tags.lua 	wesnoth.set_variable("unit_worth", math.floor(math.max(ut.cost * hp, best_adv * xp)))</span>
<span class='curline'><a href='../S/4105.html#L1045'>ut</a>               1045 data/scenario-test.cfg             local ut = wesnoth.unit_types[types[i]].__cfg</span>
<span class='curline'><a href='../S/4105.html#L1046'>ut</a>               1046 data/scenario-test.cfg             local profile = string.gsub(ut.profile, "([^/]+)$", "transparent/%1")</span>
<span class='curline'><a href='../S/4105.html#L1053'>ut</a>               1053 data/scenario-test.cfg             local ut = wesnoth.unit_types[v].__cfg</span>
<span class='curline'><a href='../S/4105.html#L1054'>ut</a>               1054 data/scenario-test.cfg             wesnoth.set_dialog_value(ut.name, "the_list", i, "the_label")</span>
<span class='curline'><a href='../S/4105.html#L1055'>ut</a>               1055 data/scenario-test.cfg             wesnoth.set_dialog_value(ut.image, "the_list", i, "the_icon")</span>
<span class='curline'><a href='../S/256.html#L416'>ut</a>                416 src/ai/formula/ai.cpp 			const unit_type *ut = unit_types.find(*i);</span>
<span class='curline'><a href='../S/256.html#L417'>ut</a>                417 src/ai/formula/ai.cpp 			if (ut)</span>
<span class='curline'><a href='../S/256.html#L419'>ut</a>                419 src/ai/formula/ai.cpp 				vars.emplace_back(std::make_shared&lt;unit_type_callable&gt;(*ut));</span>
<span class='curline'><a href='../S/256.html#L442'>ut</a>                442 src/ai/formula/ai.cpp 				const unit_type *ut = unit_types.find(*str_it);</span>
<span class='curline'><a href='../S/256.html#L443'>ut</a>                443 src/ai/formula/ai.cpp 				if (ut)</span>
<span class='curline'><a href='../S/256.html#L445'>ut</a>                445 src/ai/formula/ai.cpp 					tmp[i].emplace_back(std::make_shared&lt;unit_type_callable&gt;(*ut));</span>
<span class='curline'><a href='../S/48.html#L122'>ut</a>                122 src/editor/action/mouse/mouse_action_unit.cpp 	const unit_type &amp;ut = *new_unit_type;</span>
<span class='curline'><a href='../S/48.html#L123'>ut</a>                123 src/editor/action/mouse/mouse_action_unit.cpp 	unit_race::GENDER gender = ut.genders().front();</span>
<span class='curline'><a href='../S/48.html#L125'>ut</a>                125 src/editor/action/mouse/mouse_action_unit.cpp 	unit new_unit(ut, disp.viewing_side(), true, gender);</span>
<span class='curline'><a href='../S/772.html#L90'>ut</a>                 90 src/formula/function_gamestate.cpp 		const unit_type *ut = unit_types.find(type);</span>
<span class='curline'><a href='../S/772.html#L91'>ut</a>                 91 src/formula/function_gamestate.cpp 		if(ut) {</span>
<span class='curline'><a href='../S/772.html#L92'>ut</a>                 92 src/formula/function_gamestate.cpp 			return variant(std::make_shared&lt;unit_type_callable&gt;(*ut));</span>
<span class='curline'><a href='../S/743.html#L329'>ut</a>                329 src/game_board.cpp 	for(const t_translation::terrain_code &amp;ut : map_-&gt;underlying_union_terrain(loc)) {</span>
<span class='curline'><a href='../S/743.html#L330'>ut</a>                330 src/game_board.cpp 		preferences::encountered_terrains().insert(ut);</span>
<span class='curline'><a href='../S/1066.html#L119'>ut</a>                119 src/game_events/action_wml.cpp 		const unit_type *ut = unit_types.find(type);</span>
<span class='curline'><a href='../S/1066.html#L120'>ut</a>                120 src/game_events/action_wml.cpp 		if (!ut) return fake_unit_ptr();</span>
<span class='curline'><a href='../S/1066.html#L121'>ut</a>                121 src/game_events/action_wml.cpp 		fake_unit_ptr fake = fake_unit_ptr(unit_ptr(new unit(*ut, side_num, false, gender)));</span>
<span class='curline'><a href='../S/363.html#L194'>ut</a>                194 src/gui/dialogs/multiplayer/faction_select.cpp 	if(const unit_type* ut = unit_types.find(flg_manager_.current_leader())) {</span>
<span class='curline'><a href='../S/363.html#L195'>ut</a>                195 src/gui/dialogs/multiplayer/faction_select.cpp 		const unit_type&amp; utg = ut-&gt;get_gender_unit_type(flg_manager_.current_gender());</span>
<span class='curline'><a href='../S/366.html#L361'>ut</a>                361 src/gui/dialogs/multiplayer/mp_join_game.cpp 		if(const unit_type* ut = unit_types.find(leader_type)) {</span>
<span class='curline'><a href='../S/366.html#L362'>ut</a>                362 src/gui/dialogs/multiplayer/mp_join_game.cpp 			const unit_type&amp; type = ut-&gt;get_gender_unit_type(leader_gender);</span>
<span class='curline'><a href='../S/370.html#L412'>ut</a>                412 src/gui/dialogs/multiplayer/mp_staging.cpp 	if(const unit_type* ut = unit_types.find(current_leader)) {</span>
<span class='curline'><a href='../S/370.html#L413'>ut</a>                413 src/gui/dialogs/multiplayer/mp_staging.cpp 		const unit_type&amp; type = ut-&gt;get_gender_unit_type(current_gender);</span>
<span class='curline'><a href='../S/559.html#L534'>ut</a>                534 src/gui/widgets/unit_preview_pane.cpp 		const unit_type* ut = unit_types.find(current_type_);</span>
<span class='curline'><a href='../S/559.html#L535'>ut</a>                535 src/gui/widgets/unit_preview_pane.cpp 		if(ut != nullptr) {</span>
<span class='curline'><a href='../S/559.html#L536'>ut</a>                536 src/gui/widgets/unit_preview_pane.cpp 			help::show_unit_description((*get_window()).video(), *ut);</span>
<span class='curline'><a href='../S/926.html#L669'>ut</a>                669 src/menu_events.cpp 	const unit_type&amp; ut = *utp;</span>
<span class='curline'><a href='../S/926.html#L675'>ut</a>                675 src/menu_events.cpp 	if(ut.genders().end() == std::find(ut.genders().begin(), ut.genders().end(), gender)) {</span>
<span class='curline'><a href='../S/926.html#L676'>ut</a>                676 src/menu_events.cpp 		gender = ut.genders().front();</span>
<span class='curline'><a href='../S/926.html#L1868'>ut</a>               1868 src/menu_events.cpp 		const unit_type* ut = unit_types.find(get_data());</span>
<span class='curline'><a href='../S/926.html#L1869'>ut</a>               1869 src/menu_events.cpp 		if(!ut) {</span>
<span class='curline'><a href='../S/926.html#L1875'>ut</a>               1875 src/menu_events.cpp 		create_and_place(*menu_handler_.gui_, menu_handler_.map(), menu_handler_.units(), loc, *ut);</span>
<span class='curline'><a href='../S/852.html#L901'>ut</a>                901 src/pathfind/pathfind.cpp void full_cost_map::add_unit(const map_location&amp; origin, const unit_type* const ut, int side)</span>
<span class='curline'><a href='../S/852.html#L903'>ut</a>                903 src/pathfind/pathfind.cpp 	if (!ut) {</span>
<span class='curline'><a href='../S/852.html#L906'>ut</a>                906 src/pathfind/pathfind.cpp 	unit u(*ut, side, false);</span>
<span class='curline'><a href='../S/185.html#L1928'>ut</a>               1928 src/scripting/game_lua_kernel.cpp 		const unit_type* ut = unit_types.find(std::get&lt;2&gt;(fu));</span>
<span class='curline'><a href='../S/185.html#L1929'>ut</a>               1929 src/scripting/game_lua_kernel.cpp 		cost_map.add_unit(std::get&lt;0&gt;(fu), ut, std::get&lt;1&gt;(fu));</span>
<span class='curline'><a href='../S/184.html#L552'>ut</a>                552 src/scripting/lua_gui2.cpp 		if(const unit_type* ut = luaW_tounittype(L, 1)) {</span>
<span class='curline'><a href='../S/184.html#L553'>ut</a>                553 src/scripting/lua_gui2.cpp 			unit_preview_pane-&gt;set_displayed_type(*ut);</span>
<span class='curline'><a href='../S/210.html#L125'>ut</a>                125 src/scripting/lua_unit_attacks.cpp 	const unit_type* ut = luaW_tounittype(L, -1);</span>
<span class='curline'><a href='../S/210.html#L130'>ut</a>                130 src/scripting/lua_unit_attacks.cpp 	} else if(ut) {</span>
<span class='curline'><a href='../S/210.html#L131'>ut</a>                131 src/scripting/lua_unit_attacks.cpp 		const_attack_ptr atk = lua_isnumber(L, 2) ? find_attack(ut, luaL_checkinteger(L, 2) - 1) : find_attack(ut, luaL_checkstring(L, 2));</span>
<span class='curline'><a href='../S/210.html#L153'>ut</a>                153 src/scripting/lua_unit_attacks.cpp 	const unit_type* ut = luaW_tounittype(L, -1);</span>
<span class='curline'><a href='../S/210.html#L154'>ut</a>                154 src/scripting/lua_unit_attacks.cpp 	if(ut) {</span>
<span class='curline'><a href='../S/210.html#L205'>ut</a>                205 src/scripting/lua_unit_attacks.cpp 	const unit_type* ut = luaW_tounittype(L, -1);</span>
<span class='curline'><a href='../S/210.html#L206'>ut</a>                206 src/scripting/lua_unit_attacks.cpp 	if(!u &amp;&amp; !ut) {</span>
<span class='curline'><a href='../S/210.html#L209'>ut</a>                209 src/scripting/lua_unit_attacks.cpp 	lua_pushinteger(L, (u ? u-&gt;attacks() : ut-&gt;attacks()).size());</span>
<span class='curline'><a href='../S/170.html#L44'>ut</a>                 44 src/scripting/lua_unit_type.cpp 	const unit_type&amp; ut = luaW_checkunittype(L, 1);</span>
<span class='curline'><a href='../S/170.html#L48'>ut</a>                 48 src/scripting/lua_unit_type.cpp 	return_tstring_attrib("name", ut.type_name());</span>
<span class='curline'><a href='../S/170.html#L49'>ut</a>                 49 src/scripting/lua_unit_type.cpp 	return_string_attrib("id", ut.id());</span>
<span class='curline'><a href='../S/170.html#L50'>ut</a>                 50 src/scripting/lua_unit_type.cpp 	return_string_attrib("alignment", ut.alignment().to_string());</span>
<span class='curline'><a href='../S/170.html#L51'>ut</a>                 51 src/scripting/lua_unit_type.cpp 	return_string_attrib("race", ut.race_id());</span>
<span class='curline'><a href='../S/170.html#L52'>ut</a>                 52 src/scripting/lua_unit_type.cpp 	return_string_attrib("image", ut.image());</span>
<span class='curline'><a href='../S/170.html#L53'>ut</a>                 53 src/scripting/lua_unit_type.cpp 	return_string_attrib("icon", ut.icon());</span>
<span class='curline'><a href='../S/170.html#L54'>ut</a>                 54 src/scripting/lua_unit_type.cpp 	return_int_attrib("max_hitpoints", ut.hitpoints());</span>
<span class='curline'><a href='../S/170.html#L55'>ut</a>                 55 src/scripting/lua_unit_type.cpp 	return_int_attrib("max_moves", ut.movement());</span>
<span class='curline'><a href='../S/170.html#L56'>ut</a>                 56 src/scripting/lua_unit_type.cpp 	return_int_attrib("max_experience", ut.experience_needed());</span>
<span class='curline'><a href='../S/170.html#L57'>ut</a>                 57 src/scripting/lua_unit_type.cpp 	return_int_attrib("cost", ut.cost());</span>
<span class='curline'><a href='../S/170.html#L58'>ut</a>                 58 src/scripting/lua_unit_type.cpp 	return_int_attrib("level", ut.level());</span>
<span class='curline'><a href='../S/170.html#L59'>ut</a>                 59 src/scripting/lua_unit_type.cpp 	return_int_attrib("recall_cost", ut.recall_cost());</span>
<span class='curline'><a href='../S/170.html#L60'>ut</a>                 60 src/scripting/lua_unit_type.cpp 	return_cfgref_attrib("__cfg", ut.get_cfg());</span>
<span class='curline'><a href='../S/170.html#L63'>ut</a>                 63 src/scripting/lua_unit_type.cpp 		for (const config&amp; trait : ut.possible_traits()) {</span>
<span class='curline'><a href='../S/170.html#L72'>ut</a>                 72 src/scripting/lua_unit_type.cpp 		lua_push(L, ut.get_ability_list());</span>
<span class='curline'><a href='../S/170.html#L81'>ut</a>                 81 src/scripting/lua_unit_type.cpp 		*new(L) const unit_type* = &amp;ut;</span>
<span class='curline'><a href='../S/170.html#L102'>ut</a>                102 src/scripting/lua_unit_type.cpp 	const unit_type* ut;</span>
<span class='curline'><a href='../S/170.html#L105'>ut</a>                105 src/scripting/lua_unit_type.cpp 			ut = &amp;base-&gt;get_gender_unit_type(id);</span>
<span class='curline'><a href='../S/170.html#L107'>ut</a>                107 src/scripting/lua_unit_type.cpp 			ut = &amp;base-&gt;get_variation(id);</span>
<span class='curline'><a href='../S/170.html#L110'>ut</a>                110 src/scripting/lua_unit_type.cpp 		ut = unit_types.find(id);</span>
<span class='curline'><a href='../S/170.html#L112'>ut</a>                112 src/scripting/lua_unit_type.cpp 	if(ut) {</span>
<span class='curline'><a href='../S/170.html#L113'>ut</a>                113 src/scripting/lua_unit_type.cpp 		luaW_pushunittype(L, *ut);</span>
<span class='curline'><a href='../S/170.html#L229'>ut</a>                229 src/scripting/lua_unit_type.cpp void luaW_pushunittype(lua_State *L, const unit_type&amp; ut)</span>
<span class='curline'><a href='../S/170.html#L231'>ut</a>                231 src/scripting/lua_unit_type.cpp 	*static_cast&lt;const unit_type**&gt;(lua_newuserdata(L, sizeof(unit_type*))) = &amp;ut;</span>
<span class='curline'><a href='../S/965.html#L427'>ut</a>                427 src/team.cpp   			const unit_type *ut = unit_types.find(recruit);</span>
<span class='curline'><a href='../S/965.html#L428'>ut</a>                428 src/team.cpp   			if(!ut)</span>
<span class='curline'><a href='../S/965.html#L431'>ut</a>                431 src/team.cpp   				if(ut-&gt;cost() &lt; min)</span>
<span class='curline'><a href='../S/965.html#L432'>ut</a>                432 src/team.cpp   					min = ut-&gt;cost();</span>
<span class='curline'><a href='../S/1019.html#L294'>ut</a>                294 src/units/filter.cpp 					if(const unit_type* ut = unit_types.find(type)) {</span>
<span class='curline'><a href='../S/1019.html#L295'>ut</a>                295 src/units/filter.cpp 						const auto&amp; tree = ut-&gt;advancement_tree();</span>
<span class='curline'><a href='../S/1005.html#L340'>ut</a>                340 src/units/types.cpp 		variations_map::iterator ut;</span>
<span class='curline'><a href='../S/1005.html#L342'>ut</a>                342 src/units/types.cpp 		std::tie(ut, success) = variations_.emplace(var_id, unit_type(var_cfg, id_));</span>
<span class='curline'><a href='../S/1005.html#L345'>ut</a>                345 src/units/types.cpp 			ut-&gt;second.debug_id_ = debug_id_ + " [" + var_id + "]";</span>
<span class='curline'><a href='../S/1005.html#L346'>ut</a>                346 src/units/types.cpp 			ut-&gt;second.base_id_ = base_id_; // In case this is not id_.</span>
<span class='curline'><a href='../S/1005.html#L347'>ut</a>                347 src/units/types.cpp 			ut-&gt;second.build_help_index(mv_types, races, traits);</span>
<span class='curline'><a href='../S/1005.html#L654'>ut</a>                654 src/units/types.cpp 	const unit_type* ut = unit_types.find(id);</span>
<span class='curline'><a href='../S/1005.html#L655'>ut</a>                655 src/units/types.cpp 	if(!ut) {</span>
<span class='curline'><a href='../S/1005.html#L659'>ut</a>                659 src/units/types.cpp 	for(const std::string&amp; adv : ut-&gt;advances_to()) {</span>
<span class='curline'><a href='../S/1005.html#L680'>ut</a>                680 src/units/types.cpp 	for(const unit_type_data::unit_type_map::value_type&amp; ut : unit_types.types()) {</span>
<span class='curline'><a href='../S/1005.html#L681'>ut</a>                681 src/units/types.cpp 		for(const std::string&amp; adv : ut.second.advances_to()) {</span>
<span class='curline'><a href='../S/1005.html#L683'>ut</a>                683 src/units/types.cpp 				adv_from.push_back(ut.second.id());</span>
<span class='curline'><a href='../S/1005.html#L714'>ut</a>                714 src/units/types.cpp 			const std::string&amp; ut = effect["unit_type"];</span>
<span class='curline'><a href='../S/1005.html#L716'>ut</a>                716 src/units/types.cpp 			if(!ut.empty()) {</span>
<span class='curline'><a href='../S/1005.html#L717'>ut</a>                717 src/units/types.cpp 				const std::vector&lt;std::string&gt;&amp; types = utils::split(ut);</span>
<span class='curline'><a href='../S/1005.html#L1212'>ut</a>               1212 src/units/types.cpp 	for(config&amp; ut : cfg.child_range("unit_type")) {</span>
<span class='curline'><a href='../S/1005.html#L1213'>ut</a>               1213 src/units/types.cpp 		if(ut.has_child("base_unit")) {</span>
<span class='curline'><a href='../S/1005.html#L1216'>ut</a>               1216 src/units/types.cpp 			const std::string id = ut["id"];</span>
<span class='curline'><a href='../S/1005.html#L1219'>ut</a>               1219 src/units/types.cpp 				apply_base_unit(ut, cfg, base_tree);</span>
<span class='curline'><a href='../S/1005.html#L1227'>ut</a>               1227 src/units/types.cpp 	for(config&amp; ut : cfg.child_range("unit_type")) {</span>
<span class='curline'><a href='../S/1005.html#L1228'>ut</a>               1228 src/units/types.cpp 		std::string id = ut["id"];</span>
<span class='curline'><a href='../S/1005.html#L1232'>ut</a>               1232 src/units/types.cpp 			ERR_CF &lt;&lt; "[unit_type] with empty id=, ignoring:\n" &lt;&lt; ut.debug();</span>
<span class='curline'><a href='../S/1005.html#L1237'>ut</a>               1237 src/units/types.cpp 		if(config&amp; male_cfg = ut.child("male")) {</span>
<span class='curline'><a href='../S/1005.html#L1238'>ut</a>               1238 src/units/types.cpp 			fill_unit_sub_type(male_cfg, ut, true);</span>
<span class='curline'><a href='../S/1005.html#L1242'>ut</a>               1242 src/units/types.cpp 		if(config&amp; female_cfg = ut.child("female")) {</span>
<span class='curline'><a href='../S/1005.html#L1243'>ut</a>               1243 src/units/types.cpp 			fill_unit_sub_type(female_cfg, ut, true);</span>
<span class='curline'><a href='../S/1005.html#L1248'>ut</a>               1248 src/units/types.cpp 		handle_variations(ut);</span>
<span class='curline'><a href='../S/1005.html#L1251'>ut</a>               1251 src/units/types.cpp 		if(types_.emplace(id, unit_type(ut)).second) {</span>
<span class='curline'><a href='../S/1005.html#L1285'>ut</a>               1285 src/units/types.cpp 		for(unit_type_map::const_iterator ut = types_.begin(); ut != types_.end(); ut++) {</span>
<span class='curline'><a href='../S/1005.html#L1286'>ut</a>               1286 src/units/types.cpp 			DBG_UT &lt;&lt; "Known unit_types: key = '" &lt;&lt; ut-&gt;first &lt;&lt; "', id = '" &lt;&lt; ut-&gt;second.log_id() &lt;&lt; "'\n";</span>
<span class='curline'><a href='../S/1005.html#L1365'>ut</a>               1365 src/units/types.cpp 		unit_type_map::iterator ut = types_.find(t_id);</span>
<span class='curline'><a href='../S/1005.html#L1367'>ut</a>               1367 src/units/types.cpp 		if(ut != types_.end()) {</span>
<span class='curline'><a href='../S/1005.html#L1368'>ut</a>               1368 src/units/types.cpp 			std::set&lt;std::string&gt; adv_tree = ut-&gt;second.advancement_tree();</span>
<span class='curline'><a href='../S/1023.html#L355'>ut</a>                355 src/units/types.hpp 	void build_unit_type(const unit_type &amp; ut, unit_type::BUILD_STATUS status) const</span>
<span class='curline'><a href='../S/1023.html#L356'>ut</a>                356 src/units/types.hpp 	{ ut.build(status, movement_types_, races_, unit_cfg_-&gt;child_range("trait")); }</span>
</pre>
</body>
</html>
