<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>AH</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4413.html#L2'>AH</a>                  2 data/ai/lua/battle_calcs.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4413.html#L125'>AH</a>                125 data/ai/lua/battle_calcs.lua     att_multiplier = att_multiplier * AH.get_unit_time_of_day_bonus(attacker_info.alignment, att_lawful_bonus)</span>
<span class='curline'><a href='../S/4413.html#L137'>AH</a>                137 data/ai/lua/battle_calcs.lua         def_multiplier = def_multiplier * AH.get_unit_time_of_day_bonus(defender_info.alignment, def_lawful_bonus)</span>
<span class='curline'><a href='../S/4413.html#L288'>AH</a>                288 data/ai/lua/battle_calcs.lua         local tmp_hmc = AH.table_copy(hit_miss_counts)</span>
<span class='curline'><a href='../S/4413.html#L408'>AH</a>                408 data/ai/lua/battle_calcs.lua                         local tmp_exp = AH.table_copy(exp)</span>
<span class='curline'><a href='../S/4413.html#L469'>AH</a>                469 data/ai/lua/battle_calcs.lua                         local tmp_exp = AH.table_copy(exp)</span>
<span class='curline'><a href='../S/4413.html#L1032'>AH</a>               1032 data/ai/lua/battle_calcs.lua             if AH.has_weapon_special(attacker, "slow") then</span>
<span class='curline'><a href='../S/4413.html#L1529'>AH</a>               1529 data/ai/lua/battle_calcs.lua                     path, cost = AH.find_path_with_shroud(unit, xa, ya)</span>
<span class='curline'><a href='../S/4416.html#L2'>AH</a>                  2 data/ai/lua/ca_high_xp_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4416.html#L55'>AH</a>                 55 data/ai/lua/ca_high_xp_attack.lua         if AH.is_attackable_enemy(enemy) then</span>
<span class='curline'><a href='../S/4416.html#L100'>AH</a>                100 data/ai/lua/ca_high_xp_attack.lua                 if AH.is_visible_unit(wesnoth.current.side, unit_in_way) then</span>
<span class='curline'><a href='../S/4416.html#L117'>AH</a>                117 data/ai/lua/ca_high_xp_attack.lua                             if (not AH.is_visible_unit(wesnoth.current.side, uiw_uiw)) then</span>
<span class='curline'><a href='../S/4416.html#L294'>AH</a>                294 data/ai/lua/ca_high_xp_attack.lua     AH.robust_move_and_attack(ai, data.XP_attack.src, data.XP_attack.dst, data.XP_attack.target, { weapon = data.XP_attack.attack_num })</span>
<span class='curline'><a href='../S/4415.html#L28'>AH</a>                 28 data/ai/lua/generic_recruit_engine.lua         local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4415.html#L34'>AH</a>                 34 data/ai/lua/generic_recruit_engine.lua                 AH.print_ts_delta(turn_start_time, ...)</span>
<span class='curline'><a href='../S/4415.html#L36'>AH</a>                 36 data/ai/lua/generic_recruit_engine.lua                 AH.print_ts(...)</span>
<span class='curline'><a href='../S/4415.html#L324'>AH</a>                324 data/ai/lua/generic_recruit_engine.lua             my_units = AH.get_live_units {</span>
<span class='curline'><a href='../S/4415.html#L327'>AH</a>                327 data/ai/lua/generic_recruit_engine.lua             enemies = AH.get_live_units {</span>
<span class='curline'><a href='../S/4415.html#L351'>AH</a>                351 data/ai/lua/generic_recruit_engine.lua             local cheapest_unit_cost = AH.get_cheapest_recruit_cost()</span>
<span class='curline'><a href='../S/4415.html#L361'>AH</a>                361 data/ai/lua/generic_recruit_engine.lua                 if (not AH.is_visible_unit(wesnoth.current.side, unit)) then</span>
<span class='curline'><a href='../S/4415.html#L393'>AH</a>                393 data/ai/lua/generic_recruit_engine.lua             local enemies = AH.get_live_units {</span>
<span class='curline'><a href='../S/4415.html#L433'>AH</a>                433 data/ai/lua/generic_recruit_engine.lua             if AH.print_eval() then print_time('     - Evaluating recruit_rushers CA:') end</span>
<span class='curline'><a href='../S/4415.html#L441'>AH</a>                441 data/ai/lua/generic_recruit_engine.lua             if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4415.html#L446'>AH</a>                446 data/ai/lua/generic_recruit_engine.lua             if AH.show_messages() then W.message { speaker = 'narrator', message = 'Recruiting' } end</span>
<span class='curline'><a href='../S/4415.html#L465'>AH</a>                465 data/ai/lua/generic_recruit_engine.lua                 recruit_count[recruit_id] = #(AH.get_live_units { side = wesnoth.current.side, type = recruit_id, canrecruit = 'no' })</span>
<span class='curline'><a href='../S/4415.html#L562'>AH</a>                562 data/ai/lua/generic_recruit_engine.lua                 AH.checked_recruit(ai, recruit_type, recruit_data.recruit.best_hex[1], recruit_data.recruit.best_hex[2])</span>
<span class='curline'><a href='../S/4415.html#L619'>AH</a>                619 data/ai/lua/generic_recruit_engine.lua                 local enemy_leaders = AH.get_attackable_enemies { canrecruit = 'yes' }</span>
<span class='curline'><a href='../S/4415.html#L620'>AH</a>                620 data/ai/lua/generic_recruit_engine.lua                 local closest_enemy_distance, closest_enemy_location = AH.get_closest_enemy()</span>
<span class='curline'><a href='../S/4415.html#L625'>AH</a>                625 data/ai/lua/generic_recruit_engine.lua                     if (not AH.is_visible_unit(wesnoth.current.side, unit)) then</span>
<span class='curline'><a href='../S/4415.html#L639'>AH</a>                639 data/ai/lua/generic_recruit_engine.lua             if AH.print_eval() then</span>
<span class='curline'><a href='../S/4415.html#L657'>AH</a>                657 data/ai/lua/generic_recruit_engine.lua                 distance_to_enemy, enemy_location = AH.get_closest_enemy(target_hex, wesnoth.current.side, { viewing_side = 0 })</span>
<span class='curline'><a href='../S/4415.html#L659'>AH</a>                659 data/ai/lua/generic_recruit_engine.lua                 distance_to_enemy, enemy_location = AH.get_closest_enemy(best_hex, wesnoth.current.side, { viewing_side = 0 })</span>
<span class='curline'><a href='../S/4415.html#L722'>AH</a>                722 data/ai/lua/generic_recruit_engine.lua                 local damage_bonus = AH.get_unit_time_of_day_bonus(recruit_unit.__cfg.alignment, lawful_bonus)</span>
<span class='curline'><a href='../S/4415.html#L787'>AH</a>                787 data/ai/lua/generic_recruit_engine.lua                 if AH.print_eval() then</span>
<span class='curline'><a href='../S/4415.html#L800'>AH</a>                800 data/ai/lua/generic_recruit_engine.lua             local healers = #AH.get_live_units {</span>
<span class='curline'><a href='../S/4415.html#L805'>AH</a>                805 data/ai/lua/generic_recruit_engine.lua             local healable = #AH.get_live_units {</span>
<span class='curline'><a href='../S/4415.html#L821'>AH</a>                821 data/ai/lua/generic_recruit_engine.lua             local locsx, locsy = AH.split_location_list_to_strings(data.castle.locs)</span>
<span class='curline'><a href='../S/4415.html#L843'>AH</a>                843 data/ai/lua/generic_recruit_engine.lua             local hex, target, shortest_distance = {}, {}, AH.no_path</span>
<span class='curline'><a href='../S/4415.html#L891'>AH</a>                891 data/ai/lua/generic_recruit_engine.lua                 local village_best_hex, village_shortest_distance = {}, AH.no_path</span>
<span class='curline'><a href='../S/4415.html#L907'>AH</a>                907 data/ai/lua/generic_recruit_engine.lua                         or (distance == village_shortest_distance and distance &lt; AH.no_path</span>
<span class='curline'><a href='../S/4408.html#L11'>AH</a>                 11 data/ai/lua/generic_rush_engine.lua         local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4408.html#L20'>AH</a>                 20 data/ai/lua/generic_rush_engine.lua                 AH.print_ts_delta(generic_rush.data.turn_start_time, ...)</span>
<span class='curline'><a href='../S/4408.html#L22'>AH</a>                 22 data/ai/lua/generic_rush_engine.lua                 AH.print_ts(...)</span>
<span class='curline'><a href='../S/4408.html#L36'>AH</a>                 36 data/ai/lua/generic_rush_engine.lua             AH.print_ts(' Beginning of Turn ' .. wesnoth.current.turn .. ' (' .. tod.name ..') stats')</span>
<span class='curline'><a href='../S/4408.html#L41'>AH</a>                 41 data/ai/lua/generic_rush_engine.lua                 local units = AH.get_live_units { side = s.side }</span>
<span class='curline'><a href='../S/4408.html#L74'>AH</a>                 74 data/ai/lua/generic_rush_engine.lua             local potential_enemy_leaders = AH.get_live_units { canrecruit = 'yes',</span>
<span class='curline'><a href='../S/4408.html#L80'>AH</a>                 80 data/ai/lua/generic_rush_engine.lua                 if cost &lt; AH.no_path then</span>
<span class='curline'><a href='../S/4408.html#L90'>AH</a>                 90 data/ai/lua/generic_rush_engine.lua             if AH.print_eval() then print_time('     - Evaluating castle_switch CA:') end</span>
<span class='curline'><a href='../S/4408.html#L105'>AH</a>                105 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L109'>AH</a>                109 data/ai/lua/generic_rush_engine.lua             local cheapest_unit_cost = AH.get_cheapest_recruit_cost()</span>
<span class='curline'><a href='../S/4408.html#L113'>AH</a>                113 data/ai/lua/generic_rush_engine.lua                 local next_hop = AH.next_hop(leader, self.data.leader_target[1], self.data.leader_target[2])</span>
<span class='curline'><a href='../S/4408.html#L141'>AH</a>                141 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L194'>AH</a>                194 data/ai/lua/generic_rush_engine.lua                 local next_hop = AH.next_hop(leader, best_loc[1], best_loc[2])</span>
<span class='curline'><a href='../S/4408.html#L235'>AH</a>                235 data/ai/lua/generic_rush_engine.lua                         if (not AH.is_visible_unit(wesnoth.current.side, unit)) then</span>
<span class='curline'><a href='../S/4408.html#L247'>AH</a>                247 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L251'>AH</a>                251 data/ai/lua/generic_rush_engine.lua             if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L258'>AH</a>                258 data/ai/lua/generic_rush_engine.lua             if AH.print_exec() then print_time('   Executing castle_switch CA') end</span>
<span class='curline'><a href='../S/4408.html#L259'>AH</a>                259 data/ai/lua/generic_rush_engine.lua             if AH.show_messages() then W.message { speaker = leader.id, message = 'Switching castles' } end</span>
<span class='curline'><a href='../S/4408.html#L261'>AH</a>                261 data/ai/lua/generic_rush_engine.lua             AH.checked_move(ai, leader, self.data.leader_target[1], self.data.leader_target[2])</span>
<span class='curline'><a href='../S/4408.html#L269'>AH</a>                269 data/ai/lua/generic_rush_engine.lua             if AH.print_eval() then print_time('     - Evaluating grab_villages CA:') end</span>
<span class='curline'><a href='../S/4408.html#L276'>AH</a>                276 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L280'>AH</a>                280 data/ai/lua/generic_rush_engine.lua             local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4408.html#L285'>AH</a>                285 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L328'>AH</a>                328 data/ai/lua/generic_rush_engine.lua                 local enemy_distance_from_village = AH.get_closest_enemy(v)</span>
<span class='curline'><a href='../S/4408.html#L336'>AH</a>                336 data/ai/lua/generic_rush_engine.lua                     if AH.is_visible_unit(wesnoth.current.side, unit_in_way) and ((unit_in_way ~= u)) then</span>
<span class='curline'><a href='../S/4408.html#L361'>AH</a>                361 data/ai/lua/generic_rush_engine.lua                                 local enemy_distance_from_unit = AH.get_closest_enemy({u.x, u.y})</span>
<span class='curline'><a href='../S/4408.html#L385'>AH</a>                385 data/ai/lua/generic_rush_engine.lua                     if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L388'>AH</a>                388 data/ai/lua/generic_rush_engine.lua                     if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L392'>AH</a>                392 data/ai/lua/generic_rush_engine.lua             if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L397'>AH</a>                397 data/ai/lua/generic_rush_engine.lua             if AH.print_exec() then print_time('   Executing grab_villages CA') end</span>
<span class='curline'><a href='../S/4408.html#L398'>AH</a>                398 data/ai/lua/generic_rush_engine.lua             if AH.show_messages() then W.message { speaker = self.data.unit.id, message = 'Grab villages' } end</span>
<span class='curline'><a href='../S/4408.html#L400'>AH</a>                400 data/ai/lua/generic_rush_engine.lua             AH.movefull_stopunit(ai, self.data.unit, self.data.village)</span>
<span class='curline'><a href='../S/4408.html#L408'>AH</a>                408 data/ai/lua/generic_rush_engine.lua             if AH.print_eval() then print_time('     - Evaluating spread_poison CA:') end</span>
<span class='curline'><a href='../S/4408.html#L412'>AH</a>                412 data/ai/lua/generic_rush_engine.lua             local poisoners = AH.get_live_units { side = wesnoth.current.side,</span>
<span class='curline'><a href='../S/4408.html#L425'>AH</a>                425 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L429'>AH</a>                429 data/ai/lua/generic_rush_engine.lua             local attacks = AH.get_attacks(poisoners)</span>
<span class='curline'><a href='../S/4408.html#L432'>AH</a>                432 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L482'>AH</a>                482 data/ai/lua/generic_rush_engine.lua                 if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L485'>AH</a>                485 data/ai/lua/generic_rush_engine.lua             if AH.print_eval() then AH.done_eval_messages(start_time, ca_name) end</span>
<span class='curline'><a href='../S/4408.html#L492'>AH</a>                492 data/ai/lua/generic_rush_engine.lua             local is_poisoner, poison_weapon = AH.has_weapon_special(attacker, "poison")</span>
<span class='curline'><a href='../S/4408.html#L494'>AH</a>                494 data/ai/lua/generic_rush_engine.lua             if AH.print_exec() then print_time('   Executing spread_poison CA') end</span>
<span class='curline'><a href='../S/4408.html#L495'>AH</a>                495 data/ai/lua/generic_rush_engine.lua             if AH.show_messages() then W.message { speaker = attacker.id, message = 'Poison attack' } end</span>
<span class='curline'><a href='../S/4408.html#L497'>AH</a>                497 data/ai/lua/generic_rush_engine.lua             AH.robust_move_and_attack(ai, attacker, self.data.attack.dst, self.data.attack.target, { weapon = poison_weapon })</span>
<span class='curline'><a href='../S/4408.html#L541'>AH</a>                541 data/ai/lua/generic_rush_engine.lua             AH.robust_move_and_attack(ai, self.data.retreat_unit, self.data.retreat_loc)</span>
<span class='curline'><a href='../S/4408.html#L589'>AH</a>                589 data/ai/lua/generic_rush_engine.lua             local target, best_cost = nil, AH.no_path</span>
<span class='curline'><a href='../S/4408.html#L602'>AH</a>                602 data/ai/lua/generic_rush_engine.lua                 local dest = AH.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4408.html#L603'>AH</a>                603 data/ai/lua/generic_rush_engine.lua                 AH.checked_move(ai, unit, dest[1], dest[2])</span>
<span class='curline'><a href='../S/4410.html#L3'>AH</a>                  3 data/ai/lua/move_to_any_target.lua         local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4410.html#L22'>AH</a>                 22 data/ai/lua/move_to_any_target.lua                 local distance, target = AH.get_closest_enemy({u.x, u.y})</span>
<span class='curline'><a href='../S/4410.html#L27'>AH</a>                 27 data/ai/lua/move_to_any_target.lua                     destination = AH.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4410.html#L47'>AH</a>                 47 data/ai/lua/move_to_any_target.lua             AH.checked_move(ai, self.data.unit, self.data.destination[1], self.data.destination[2])</span>
<span class='curline'><a href='../S/4412.html#L6'>AH</a>                  6 data/ai/lua/retreat.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4412.html#L77'>AH</a>                 77 data/ai/lua/retreat.lua     local possible_healers = AH.get_live_units {</span>
<span class='curline'><a href='../S/4412.html#L112'>AH</a>                112 data/ai/lua/retreat.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4412.html#L152'>AH</a>                152 data/ai/lua/retreat.lua             if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way))</span>
<span class='curline'><a href='../S/4357.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_assassin_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4357.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_assassin_move.lua     local units = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4357.html#L56'>AH</a>                 56 data/ai/micro_ais/cas/ca_assassin_move.lua     local enemies = AH.get_visible_units(wesnoth.current.side, {</span>
<span class='curline'><a href='../S/4357.html#L152'>AH</a>                152 data/ai/micro_ais/cas/ca_assassin_move.lua         local sub_path, sub_cost = AH.find_path_with_shroud(unit, path[i][1], path[i][2])</span>
<span class='curline'><a href='../S/4357.html#L155'>AH</a>                155 data/ai/micro_ais/cas/ca_assassin_move.lua             if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4357.html#L164'>AH</a>                164 data/ai/micro_ais/cas/ca_assassin_move.lua         AH.checked_move_full(ai, unit, farthest_hex[1], farthest_hex[2])</span>
<span class='curline'><a href='../S/4357.html#L166'>AH</a>                166 data/ai/micro_ais/cas/ca_assassin_move.lua         AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4364.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_big_animals.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4364.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_big_animals.lua     local big_animals = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4364.html#L30'>AH</a>                 30 data/ai/micro_ais/cas/ca_big_animals.lua         local enemies_to_be_avoided = AH.get_attackable_enemies(avoid_tag)</span>
<span class='curline'><a href='../S/4364.html#L44'>AH</a>                 44 data/ai/micro_ais/cas/ca_big_animals.lua         local locs = AH.get_passable_locations(H.get_child(cfg, "filter_location") or {})</span>
<span class='curline'><a href='../S/4364.html#L51'>AH</a>                 51 data/ai/micro_ais/cas/ca_big_animals.lua     local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4364.html#L69'>AH</a>                 69 data/ai/micro_ais/cas/ca_big_animals.lua             if AH.is_attackable_enemy(enemy) then</span>
<span class='curline'><a href='../S/4364.html#L84'>AH</a>                 84 data/ai/micro_ais/cas/ca_big_animals.lua         AH.checked_move(ai, unit, best_hex[1], best_hex[2])  -- Partial move only</span>
<span class='curline'><a href='../S/4364.html#L87'>AH</a>                 87 data/ai/micro_ais/cas/ca_big_animals.lua         AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4364.html#L101'>AH</a>                101 data/ai/micro_ais/cas/ca_big_animals.lua         if AH.is_attackable_enemy(enemy) then</span>
<span class='curline'><a href='../S/4364.html#L109'>AH</a>                109 data/ai/micro_ais/cas/ca_big_animals.lua         AH.checked_attack(ai, unit, target)</span>
<span class='curline'><a href='../S/4363.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_bottleneck_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4363.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_bottleneck_attack.lua     local attackers = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4363.html#L16'>AH</a>                 16 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         local targets = AH.get_attackable_enemies { { "filter_adjacent", { id = attacker.id } } }</span>
<span class='curline'><a href='../S/4363.html#L64'>AH</a>                 64 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         local units = AH.get_units_with_attacks { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4363.html#L66'>AH</a>                 66 data/ai/micro_ais/cas/ca_bottleneck_attack.lua             AH.checked_stopunit_attacks(ai, unit)</span>
<span class='curline'><a href='../S/4363.html#L69'>AH</a>                 69 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         AH.checked_attack(ai, data.BD_attacker, data.BD_target, data.BD_weapon)</span>
<span class='curline'><a href='../S/4356.html#L3'>AH</a>                  3 data/ai/micro_ais/cas/ca_bottleneck_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4356.html#L30'>AH</a>                 30 data/ai/micro_ais/cas/ca_bottleneck_move.lua                     local path, cost = AH.find_path_with_shroud(dummy_unit, xm, ym, { ignore_units = true })</span>
<span class='curline'><a href='../S/4356.html#L39'>AH</a>                 39 data/ai/micro_ais/cas/ca_bottleneck_move.lua                     local path, cost = AH.find_path_with_shroud(dummy_unit, xm, ym, { ignore_units = true })</span>
<span class='curline'><a href='../S/4356.html#L189'>AH</a>                189 data/ai/micro_ais/cas/ca_bottleneck_move.lua     local all_units = AH.get_visible_units(wesnoth.current.side)</span>
<span class='curline'><a href='../S/4356.html#L228'>AH</a>                228 data/ai/micro_ais/cas/ca_bottleneck_move.lua         units = AH.get_units_with_moves { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4356.html#L230'>AH</a>                230 data/ai/micro_ais/cas/ca_bottleneck_move.lua         units = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }</span>
<span class='curline'><a href='../S/4356.html#L301'>AH</a>                301 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local has_leadership = AH.has_ability(unit, "leadership")</span>
<span class='curline'><a href='../S/4356.html#L313'>AH</a>                313 data/ai/micro_ais/cas/ca_bottleneck_move.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4356.html#L319'>AH</a>                319 data/ai/micro_ais/cas/ca_bottleneck_move.lua                 if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4356.html#L335'>AH</a>                335 data/ai/micro_ais/cas/ca_bottleneck_move.lua     local allies = AH.get_visible_units(wesnoth.current.side, {</span>
<span class='curline'><a href='../S/4356.html#L347'>AH</a>                347 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local has_leadership = AH.has_ability(unit, "leadership")</span>
<span class='curline'><a href='../S/4356.html#L437'>AH</a>                437 data/ai/micro_ais/cas/ca_bottleneck_move.lua         if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4356.html#L459'>AH</a>                459 data/ai/micro_ais/cas/ca_bottleneck_move.lua             units = AH.get_units_with_moves { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4356.html#L461'>AH</a>                461 data/ai/micro_ais/cas/ca_bottleneck_move.lua             units = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }</span>
<span class='curline'><a href='../S/4356.html#L465'>AH</a>                465 data/ai/micro_ais/cas/ca_bottleneck_move.lua             AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4356.html#L470'>AH</a>                470 data/ai/micro_ais/cas/ca_bottleneck_move.lua         AH.robust_move_and_attack(ai, data.BD_unit, data.BD_hex, data.BD_level_up_defender, cfg)</span>
<span class='curline'><a href='../S/4353.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_coward.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4353.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_coward.lua     local coward = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4353.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_coward.lua     local enemies = AH.get_live_units {</span>
<span class='curline'><a href='../S/4353.html#L36'>AH</a>                 36 data/ai/micro_ais/cas/ca_coward.lua         AH.checked_stopunit_all(ai, coward)</span>
<span class='curline'><a href='../S/4353.html#L43'>AH</a>                 43 data/ai/micro_ais/cas/ca_coward.lua         if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way))</span>
<span class='curline'><a href='../S/4353.html#L61'>AH</a>                 61 data/ai/micro_ais/cas/ca_coward.lua     local best_pos = AH.filter(reach, function(tmp) return tmp[3] &gt; reach[1][3] * 2 end)</span>
<span class='curline'><a href='../S/4353.html#L66'>AH</a>                 66 data/ai/micro_ais/cas/ca_coward.lua         local dist_seek = AH.generalized_distance(pos[1], pos[2], cfg.seek_x, cfg.seek_y)</span>
<span class='curline'><a href='../S/4353.html#L67'>AH</a>                 67 data/ai/micro_ais/cas/ca_coward.lua         local dist_avoid = AH.generalized_distance(pos[1], pos[2], cfg.avoid_x, cfg.avoid_y)</span>
<span class='curline'><a href='../S/4353.html#L75'>AH</a>                 75 data/ai/micro_ais/cas/ca_coward.lua     local best_overall = AH.filter(best_pos, function(tmp) return tmp[4] == best_pos[1][4] end)</span>
<span class='curline'><a href='../S/4353.html#L86'>AH</a>                 86 data/ai/micro_ais/cas/ca_coward.lua     AH.movefull_stopunit(ai, coward, best_hex[1], best_hex[2])</span>
<span class='curline'><a href='../S/4353.html#L104'>AH</a>                104 data/ai/micro_ais/cas/ca_coward.lua             AH.checked_attack(ai, coward, best_target)</span>
<span class='curline'><a href='../S/4353.html#L109'>AH</a>                109 data/ai/micro_ais/cas/ca_coward.lua     AH.checked_stopunit_all(ai, coward)</span>
<span class='curline'><a href='../S/4350.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_fast_attack_utils.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4350.html#L75'>AH</a>                 75 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     for _,unit_proxy in ipairs(AH.get_live_units { canrecruit = 'yes' }) do</span>
<span class='curline'><a href='../S/4350.html#L115'>AH</a>                115 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         tod_bonus = AH.get_unit_time_of_day_bonus(unit_cfg.alignment, wesnoth.get_time_of_day().lawful_bonus),</span>
<span class='curline'><a href='../S/4335.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_fast_combat.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4335.html#L33'>AH</a>                 33 data/ai/micro_ais/cas/ca_fast_combat.lua             data.fast_combat_units = AH.get_live_units(</span>
<span class='curline'><a href='../S/4335.html#L39'>AH</a>                 39 data/ai/micro_ais/cas/ca_fast_combat.lua         enemies = AH.get_live_units(</span>
<span class='curline'><a href='../S/4335.html#L61'>AH</a>                 61 data/ai/micro_ais/cas/ca_fast_combat.lua         local hidden_enemies = AH.get_live_units {</span>
<span class='curline'><a href='../S/4335.html#L86'>AH</a>                 86 data/ai/micro_ais/cas/ca_fast_combat.lua             local attacks = AH.get_attacks({ unit }, { include_occupied = cfg.include_occupied_attack_hexes, viewing_side = viewing_side })</span>
<span class='curline'><a href='../S/4335.html#L134'>AH</a>                134 data/ai/micro_ais/cas/ca_fast_combat.lua     AH.robust_move_and_attack(ai, data.fast_combat_units[data.fast_combat_unit_i], data.fast_dst, data.fast_target)</span>
<span class='curline'><a href='../S/4325.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_fast_combat_leader.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4325.html#L36'>AH</a>                 36 data/ai/micro_ais/cas/ca_fast_combat_leader.lua         leader = AH.get_live_units(</span>
<span class='curline'><a href='../S/4325.html#L40'>AH</a>                 40 data/ai/micro_ais/cas/ca_fast_combat_leader.lua         enemies = AH.get_live_units(</span>
<span class='curline'><a href='../S/4325.html#L53'>AH</a>                 53 data/ai/micro_ais/cas/ca_fast_combat_leader.lua         local hidden_enemies = AH.get_live_units {</span>
<span class='curline'><a href='../S/4325.html#L75'>AH</a>                 75 data/ai/micro_ais/cas/ca_fast_combat_leader.lua     local enemies = AH.get_live_units {</span>
<span class='curline'><a href='../S/4325.html#L120'>AH</a>                120 data/ai/micro_ais/cas/ca_fast_combat_leader.lua     local attacks = AH.get_attacks({ leader }, { include_occupied = cfg.include_occupied_attack_hexes, viewing_side = viewing_side })</span>
<span class='curline'><a href='../S/4325.html#L189'>AH</a>                189 data/ai/micro_ais/cas/ca_fast_combat_leader.lua     AH.robust_move_and_attack(ai, data.leader, data.fast_dst, data.fast_target)</span>
<span class='curline'><a href='../S/4354.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_fast_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4354.html#L8'>AH</a>                  8 data/ai/micro_ais/cas/ca_fast_move.lua     local unit = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }[1]</span>
<span class='curline'><a href='../S/4354.html#L21'>AH</a>                 21 data/ai/micro_ais/cas/ca_fast_move.lua     local all_units_MP = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }</span>
<span class='curline'><a href='../S/4354.html#L103'>AH</a>                103 data/ai/micro_ais/cas/ca_fast_move.lua     local enemy_leaders = AH.get_attackable_enemies { canrecruit = 'yes' }</span>
<span class='curline'><a href='../S/4354.html#L150'>AH</a>                150 data/ai/micro_ais/cas/ca_fast_move.lua                     AH.find_path_with_shroud(</span>
<span class='curline'><a href='../S/4354.html#L175'>AH</a>                175 data/ai/micro_ais/cas/ca_fast_move.lua             local path = AH.find_path_with_shroud(unit, goal.x, goal.y, { ignore_units = true })</span>
<span class='curline'><a href='../S/4354.html#L181'>AH</a>                181 data/ai/micro_ais/cas/ca_fast_move.lua                 local _, sub_cost = AH.find_path_with_shroud(unit, path[i][1], path[i][2], { ignore_units = true })</span>
<span class='curline'><a href='../S/4354.html#L211'>AH</a>                211 data/ai/micro_ais/cas/ca_fast_move.lua                         if (unit_in_way == unit) or (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4354.html#L216'>AH</a>                216 data/ai/micro_ais/cas/ca_fast_move.lua                             local reach = AH.get_reachable_unocc(unit_in_way)</span>
<span class='curline'><a href='../S/4354.html#L257'>AH</a>                257 data/ai/micro_ais/cas/ca_fast_move.lua                     local _,cost = AH.find_path_with_shroud(unit, short_goal[1], short_goal[2])</span>
<span class='curline'><a href='../S/4354.html#L272'>AH</a>                272 data/ai/micro_ais/cas/ca_fast_move.lua                 local move_result = AH.robust_move_and_attack(ai, unit, best_hex, nil, { dx = dx, dy = dy })</span>
<span class='curline'><a href='../S/4328.html#L3'>AH</a>                  3 data/ai/micro_ais/cas/ca_forest_animals_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4328.html#L11'>AH</a>                 11 data/ai/micro_ais/cas/ca_forest_animals_move.lua     local forest_animals = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4328.html#L44'>AH</a>                 44 data/ai/micro_ais/cas/ca_forest_animals_move.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4328.html#L77'>AH</a>                 77 data/ai/micro_ais/cas/ca_forest_animals_move.lua         local reach = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4328.html#L98'>AH</a>                 98 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 AH.checked_move(ai, unit, reachable_wander_terrain[rand][1], reachable_wander_terrain[rand][2])</span>
<span class='curline'><a href='../S/4328.html#L111'>AH</a>                111 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 local next_hop = AH.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4328.html#L115'>AH</a>                115 data/ai/micro_ais/cas/ca_forest_animals_move.lua                     AH.checked_move(ai, unit, next_hop[1], next_hop[2])</span>
<span class='curline'><a href='../S/4328.html#L124'>AH</a>                124 data/ai/micro_ais/cas/ca_forest_animals_move.lua         enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4328.html#L138'>AH</a>                138 data/ai/micro_ais/cas/ca_forest_animals_move.lua         local farthest_hex = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4328.html#L155'>AH</a>                155 data/ai/micro_ais/cas/ca_forest_animals_move.lua         AH.movefull_stopunit(ai, unit, farthest_hex)</span>
<span class='curline'><a href='../S/4328.html#L167'>AH</a>                167 data/ai/micro_ais/cas/ca_forest_animals_move.lua     if unit and unit.valid then AH.checked_stopunit_all(ai, unit) end</span>
<span class='curline'><a href='../S/4345.html#L3'>AH</a>                  3 data/ai/micro_ais/cas/ca_forest_animals_new_rabbit.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4345.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_forest_animals_new_rabbit.lua         local enemies = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4327.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4327.html#L5'>AH</a>                  5 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local tuskers = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4327.html#L13'>AH</a>                 13 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local adjacent_enemies = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4327.html#L53'>AH</a>                 53 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     local best_hex = AH.find_best_move(attacker, function(x, y)</span>
<span class='curline'><a href='../S/4327.html#L62'>AH</a>                 62 data/ai/micro_ais/cas/ca_forest_animals_tusker_attack.lua     AH.robust_move_and_attack(ai, attacker, best_hex, target)</span>
<span class='curline'><a href='../S/4340.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_forest_animals_tusklet_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4340.html#L5'>AH</a>                  5 data/ai/micro_ais/cas/ca_forest_animals_tusklet_move.lua     local tusklets = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4340.html#L44'>AH</a>                 44 data/ai/micro_ais/cas/ca_forest_animals_tusklet_move.lua     local best_hex = AH.find_best_move(tusklet, function(x, y)</span>
<span class='curline'><a href='../S/4340.html#L48'>AH</a>                 48 data/ai/micro_ais/cas/ca_forest_animals_tusklet_move.lua     AH.movefull_stopunit(ai, tusklet, best_hex)</span>
<span class='curline'><a href='../S/4340.html#L51'>AH</a>                 51 data/ai/micro_ais/cas/ca_forest_animals_tusklet_move.lua     if tusklet and tusklet.valid then AH.checked_stopunit_all(ai, tusklet) end</span>
<span class='curline'><a href='../S/4338.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_goto.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4338.html#L63'>AH</a>                 63 data/ai/micro_ais/cas/ca_goto.lua     local all_units = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4338.html#L97'>AH</a>                 97 data/ai/micro_ais/cas/ca_goto.lua         local enemies = AH.get_visible_units(wesnoth.current.side, {</span>
<span class='curline'><a href='../S/4338.html#L126'>AH</a>                126 data/ai/micro_ais/cas/ca_goto.lua                 local hex, _, rating = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4338.html#L156'>AH</a>                156 data/ai/micro_ais/cas/ca_goto.lua                     path, cost = AH.find_path_with_shroud(unit, loc[1], loc[2], { ignore_units = cfg.ignore_units })</span>
<span class='curline'><a href='../S/4338.html#L197'>AH</a>                197 data/ai/micro_ais/cas/ca_goto.lua         best_path = AH.find_path_with_shroud(best_unit, closest_hex[1], closest_hex[2])</span>
<span class='curline'><a href='../S/4338.html#L203'>AH</a>                203 data/ai/micro_ais/cas/ca_goto.lua         local sub_path, sub_cost = AH.find_path_with_shroud(best_unit, best_path[i][1], best_path[i][2], cfg)</span>
<span class='curline'><a href='../S/4338.html#L206'>AH</a>                206 data/ai/micro_ais/cas/ca_goto.lua             if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4338.html#L215'>AH</a>                215 data/ai/micro_ais/cas/ca_goto.lua         AH.checked_move_full(ai, best_unit, closest_hex[1], closest_hex[2])</span>
<span class='curline'><a href='../S/4338.html#L217'>AH</a>                217 data/ai/micro_ais/cas/ca_goto.lua         AH.checked_stopunit_moves(ai, best_unit)</span>
<span class='curline'><a href='../S/4355.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_hang_out.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4355.html#L9'>AH</a>                  9 data/ai/micro_ais/cas/ca_hang_out.lua     local units = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4355.html#L94'>AH</a>                 94 data/ai/micro_ais/cas/ca_hang_out.lua             local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4355.html#L130'>AH</a>                130 data/ai/micro_ais/cas/ca_hang_out.lua             AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4355.html#L137'>AH</a>                137 data/ai/micro_ais/cas/ca_hang_out.lua         AH.checked_move(ai, best_unit, best_hex[1], best_hex[2])</span>
<span class='curline'><a href='../S/4359.html#L3'>AH</a>                  3 data/ai/micro_ais/cas/ca_healer_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4359.html#L60'>AH</a>                 60 data/ai/micro_ais/cas/ca_healer_move.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4359.html#L128'>AH</a>                128 data/ai/micro_ais/cas/ca_healer_move.lua     AH.robust_move_and_attack(ai, best_healer, best_hex)</span>
<span class='curline'><a href='../S/4339.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4339.html#L14'>AH</a>                 14 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua     local dogs = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4339.html#L22'>AH</a>                 22 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua     local enemies = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4339.html#L55'>AH</a>                 55 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua             local reach_map = AH.get_reachable_unocc(dog)</span>
<span class='curline'><a href='../S/4339.html#L77'>AH</a>                 77 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua         AH.robust_move_and_attack(ai, best_dog, best_hex, best_enemy)</span>
<span class='curline'><a href='../S/4339.html#L108'>AH</a>                108 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua         local reach_map = AH.get_reachable_unocc(dog)</span>
<span class='curline'><a href='../S/4339.html#L128'>AH</a>                128 data/ai/micro_ais/cas/ca_herding_attack_close_enemy.lua     AH.movefull_stopunit(ai, best_dog, best_hex)</span>
<span class='curline'><a href='../S/4326.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_dog_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4326.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_herding_dog_move.lua     local dogs = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4326.html#L35'>AH</a>                 35 data/ai/micro_ais/cas/ca_herding_dog_move.lua     local best_hex = AH.find_best_move(dog, function(x, y)</span>
<span class='curline'><a href='../S/4326.html#L50'>AH</a>                 50 data/ai/micro_ais/cas/ca_herding_dog_move.lua     AH.movefull_stopunit(ai, dog, best_hex)</span>
<span class='curline'><a href='../S/4348.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_dog_stopmove.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4348.html#L5'>AH</a>                  5 data/ai/micro_ais/cas/ca_herding_dog_stopmove.lua     local dogs = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4348.html#L26'>AH</a>                 26 data/ai/micro_ais/cas/ca_herding_dog_stopmove.lua     AH.checked_stopunit_moves(ai, dog)</span>
<span class='curline'><a href='../S/4332.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_herd_sheep.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4332.html#L8'>AH</a>                  8 data/ai/micro_ais/cas/ca_herding_herd_sheep.lua     local dogs = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4332.html#L55'>AH</a>                 55 data/ai/micro_ais/cas/ca_herding_herd_sheep.lua             local reach_map = AH.get_reachable_unocc(dog)</span>
<span class='curline'><a href='../S/4332.html#L78'>AH</a>                 78 data/ai/micro_ais/cas/ca_herding_herd_sheep.lua         AH.checked_stopunit_moves(ai, best_dog)</span>
<span class='curline'><a href='../S/4332.html#L80'>AH</a>                 80 data/ai/micro_ais/cas/ca_herding_herd_sheep.lua         AH.checked_move(ai, best_dog, best_hex[1], best_hex[2])  -- partial move only!</span>
<span class='curline'><a href='../S/4331.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_sheep_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4331.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_herding_sheep_move.lua     local sheep = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4331.html#L26'>AH</a>                 26 data/ai/micro_ais/cas/ca_herding_sheep_move.lua     local reach_map = AH.get_reachable_unocc(sheep)</span>
<span class='curline'><a href='../S/4331.html#L47'>AH</a>                 47 data/ai/micro_ais/cas/ca_herding_sheep_move.lua     local dogs = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4331.html#L52'>AH</a>                 52 data/ai/micro_ais/cas/ca_herding_sheep_move.lua         AH.movefull_stopunit(ai, sheep, x, y)</span>
<span class='curline'><a href='../S/4331.html#L54'>AH</a>                 54 data/ai/micro_ais/cas/ca_herding_sheep_move.lua         AH.checked_move(ai, sheep, x, y)</span>
<span class='curline'><a href='../S/4334.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_sheep_runs_dog.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4334.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_herding_sheep_runs_dog.lua     local sheep = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4334.html#L37'>AH</a>                 37 data/ai/micro_ais/cas/ca_herding_sheep_runs_dog.lua     local best_hex = AH.find_best_move(sheep, function(x, y)</span>
<span class='curline'><a href='../S/4334.html#L41'>AH</a>                 41 data/ai/micro_ais/cas/ca_herding_sheep_runs_dog.lua     AH.movefull_stopunit(ai, sheep, best_hex)</span>
<span class='curline'><a href='../S/4370.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_herding_sheep_runs_enemy.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4370.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_herding_sheep_runs_enemy.lua     local sheep = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4370.html#L12'>AH</a>                 12 data/ai/micro_ais/cas/ca_herding_sheep_runs_enemy.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4370.html#L43'>AH</a>                 43 data/ai/micro_ais/cas/ca_herding_sheep_runs_enemy.lua     local best_hex = AH.find_best_move(sheep, function(x, y)</span>
<span class='curline'><a href='../S/4370.html#L51'>AH</a>                 51 data/ai/micro_ais/cas/ca_herding_sheep_runs_enemy.lua     AH.movefull_stopunit(ai, sheep, best_hex)</span>
<span class='curline'><a href='../S/4344.html#L3'>AH</a>                  3 data/ai/micro_ais/cas/ca_hunter.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4344.html#L19'>AH</a>                 19 data/ai/micro_ais/cas/ca_hunter.lua         if AH.is_attackable_enemy(enemy) then</span>
<span class='curline'><a href='../S/4344.html#L27'>AH</a>                 27 data/ai/micro_ais/cas/ca_hunter.lua         AH.checked_attack(ai, hunter, target)</span>
<span class='curline'><a href='../S/4344.html#L40'>AH</a>                 40 data/ai/micro_ais/cas/ca_hunter.lua     local hunter = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4344.html#L68'>AH</a>                 68 data/ai/micro_ais/cas/ca_hunter.lua             locs = AH.get_passable_locations((H.get_child(cfg, "filter_location") or {}), hunter)</span>
<span class='curline'><a href='../S/4344.html#L75'>AH</a>                 75 data/ai/micro_ais/cas/ca_hunter.lua         local reach_map = AH.get_reachable_unocc(hunter)</span>
<span class='curline'><a href='../S/4344.html#L87'>AH</a>                 87 data/ai/micro_ais/cas/ca_hunter.lua                 if AH.is_attackable_enemy(enemy) then</span>
<span class='curline'><a href='../S/4344.html#L99'>AH</a>                 99 data/ai/micro_ais/cas/ca_hunter.lua             AH.checked_move(ai, hunter, best_hex[1], best_hex[2])  -- partial move only</span>
<span class='curline'><a href='../S/4344.html#L102'>AH</a>                102 data/ai/micro_ais/cas/ca_hunter.lua             AH.checked_stopunit_moves(ai, hunter)</span>
<span class='curline'><a href='../S/4344.html#L135'>AH</a>                135 data/ai/micro_ais/cas/ca_hunter.lua         local next_hop = AH.next_hop(hunter, goto_x, goto_y)</span>
<span class='curline'><a href='../S/4344.html#L137'>AH</a>                137 data/ai/micro_ais/cas/ca_hunter.lua             AH.movefull_stopunit(ai, hunter, next_hop)</span>
<span class='curline'><a href='../S/4344.html#L143'>AH</a>                143 data/ai/micro_ais/cas/ca_hunter.lua                 if AH.is_attackable_enemy(enemy) then</span>
<span class='curline'><a href='../S/4344.html#L148'>AH</a>                148 data/ai/micro_ais/cas/ca_hunter.lua                     AH.checked_attack(ai, hunter, enemy)</span>
<span class='curline'><a href='../S/4344.html#L174'>AH</a>                174 data/ai/micro_ais/cas/ca_hunter.lua         AH.checked_stopunit_moves(ai, hunter)</span>
<span class='curline'><a href='../S/4346.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_lurkers.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4346.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_lurkers.lua     local lurker = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4346.html#L23'>AH</a>                 23 data/ai/micro_ais/cas/ca_lurkers.lua     local targets = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4346.html#L39'>AH</a>                 39 data/ai/micro_ais/cas/ca_lurkers.lua         local occ_hex = AH.get_visible_units(wesnoth.current.side, {</span>
<span class='curline'><a href='../S/4346.html#L59'>AH</a>                 59 data/ai/micro_ais/cas/ca_lurkers.lua             AH.robust_move_and_attack(ai, lurker, dst[rand], target)</span>
<span class='curline'><a href='../S/4346.html#L75'>AH</a>                 75 data/ai/micro_ais/cas/ca_lurkers.lua             local occ_hex = AH.get_visible_units(wesnoth.current.side, {</span>
<span class='curline'><a href='../S/4346.html#L85'>AH</a>                 85 data/ai/micro_ais/cas/ca_lurkers.lua             AH.movefull_stopunit(ai, lurker, dst[rand])</span>
<span class='curline'><a href='../S/4346.html#L91'>AH</a>                 91 data/ai/micro_ais/cas/ca_lurkers.lua     AH.checked_stopunit_all(ai, lurker)</span>
<span class='curline'><a href='../S/4323.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_messenger_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4323.html#L13'>AH</a>                 13 data/ai/micro_ais/cas/ca_messenger_attack.lua     local path, cost = AH.find_path_with_shroud(messenger, goal_x, goal_y, { ignore_units = true })</span>
<span class='curline'><a href='../S/4323.html#L22'>AH</a>                 22 data/ai/micro_ais/cas/ca_messenger_attack.lua     if AH.is_attackable_enemy(enemy) then return enemy end</span>
<span class='curline'><a href='../S/4323.html#L26'>AH</a>                 26 data/ai/micro_ais/cas/ca_messenger_attack.lua         local sub_path, sub_cost = AH.find_path_with_shroud(messenger, path[i][1], path[i][2], { ignore_units = true })</span>
<span class='curline'><a href='../S/4323.html#L30'>AH</a>                 30 data/ai/micro_ais/cas/ca_messenger_attack.lua                 if AH.is_attackable_enemy(enemy) then return enemy end</span>
<span class='curline'><a href='../S/4323.html#L49'>AH</a>                 49 data/ai/micro_ais/cas/ca_messenger_attack.lua     local units = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4323.html#L56'>AH</a>                 56 data/ai/micro_ais/cas/ca_messenger_attack.lua     local attacks = AH.get_attacks(units, { simulate_combat = true })</span>
<span class='curline'><a href='../S/4323.html#L111'>AH</a>                111 data/ai/micro_ais/cas/ca_messenger_attack.lua     AH.robust_move_and_attack(ai, best_attack.src, best_attack.dst, best_attack.target)</span>
<span class='curline'><a href='../S/4366.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_messenger_escort_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4366.html#L10'>AH</a>                 10 data/ai/micro_ais/cas/ca_messenger_escort_move.lua     local escorts = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4366.html#L36'>AH</a>                 36 data/ai/micro_ais/cas/ca_messenger_escort_move.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4366.html#L42'>AH</a>                 42 data/ai/micro_ais/cas/ca_messenger_escort_move.lua         local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4366.html#L87'>AH</a>                 87 data/ai/micro_ais/cas/ca_messenger_escort_move.lua     AH.movefull_stopunit(ai, best_unit, best_hex)</span>
<span class='curline'><a href='../S/4360.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_messenger_f_next_waypoint.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4360.html#L17'>AH</a>                 17 data/ai/micro_ais/cas/ca_messenger_f_next_waypoint.lua     local waypoint_x = AH.split(cfg.waypoint_x, ",")</span>
<span class='curline'><a href='../S/4360.html#L18'>AH</a>                 18 data/ai/micro_ais/cas/ca_messenger_f_next_waypoint.lua     local waypoint_y = AH.split(cfg.waypoint_y, ",")</span>
<span class='curline'><a href='../S/4347.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_messenger_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4347.html#L20'>AH</a>                 20 data/ai/micro_ais/cas/ca_messenger_move.lua         local wp = AH.get_closest_location(</span>
<span class='curline'><a href='../S/4347.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_messenger_move.lua     local next_hop = AH.next_hop(messenger, x, y, { ignore_own_units = true } )</span>
<span class='curline'><a href='../S/4347.html#L32'>AH</a>                 32 data/ai/micro_ais/cas/ca_messenger_move.lua     local path = AH.find_path_with_shroud(messenger, x, y, { ignore_units = 'yes' })</span>
<span class='curline'><a href='../S/4347.html#L35'>AH</a>                 35 data/ai/micro_ais/cas/ca_messenger_move.lua         local sub_path, sub_cost = AH.find_path_with_shroud(messenger, step[1], step[2])</span>
<span class='curline'><a href='../S/4347.html#L40'>AH</a>                 40 data/ai/micro_ais/cas/ca_messenger_move.lua             if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4347.html#L45'>AH</a>                 45 data/ai/micro_ais/cas/ca_messenger_move.lua                 local reach = AH.get_reachable_unocc(unit_in_way)</span>
<span class='curline'><a href='../S/4347.html#L63'>AH</a>                 63 data/ai/micro_ais/cas/ca_messenger_move.lua     local _, cost1 = AH.find_path_with_shroud(messenger, x, y, { ignore_units = 'yes' })</span>
<span class='curline'><a href='../S/4347.html#L70'>AH</a>                 70 data/ai/micro_ais/cas/ca_messenger_move.lua     local _, cost2 = AH.find_path_with_shroud(messenger, x, y, { ignore_units = 'yes' })</span>
<span class='curline'><a href='../S/4347.html#L81'>AH</a>                 81 data/ai/micro_ais/cas/ca_messenger_move.lua         AH.robust_move_and_attack(ai, messenger, next_hop)</span>
<span class='curline'><a href='../S/4347.html#L83'>AH</a>                 83 data/ai/micro_ais/cas/ca_messenger_move.lua         AH.checked_stopunit_moves(ai, messenger)</span>
<span class='curline'><a href='../S/4347.html#L91'>AH</a>                 91 data/ai/micro_ais/cas/ca_messenger_move.lua     local targets = AH.get_attackable_enemies { { "filter_adjacent", { id = messenger.id } } }</span>
<span class='curline'><a href='../S/4347.html#L119'>AH</a>                119 data/ai/micro_ais/cas/ca_messenger_move.lua         AH.checked_attack(ai, messenger, best_target, best_weapon)</span>
<span class='curline'><a href='../S/4347.html#L122'>AH</a>                122 data/ai/micro_ais/cas/ca_messenger_move.lua         local waypoint_x = AH.split(cfg.waypoint_x, ",")</span>
<span class='curline'><a href='../S/4347.html#L123'>AH</a>                123 data/ai/micro_ais/cas/ca_messenger_move.lua         local waypoint_y = AH.split(cfg.waypoint_y, ",")</span>
<span class='curline'><a href='../S/4347.html#L124'>AH</a>                124 data/ai/micro_ais/cas/ca_messenger_move.lua         local target = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4347.html#L131'>AH</a>                131 data/ai/micro_ais/cas/ca_messenger_move.lua             AH.checked_attack(ai, messenger, target)</span>
<span class='curline'><a href='../S/4347.html#L136'>AH</a>                136 data/ai/micro_ais/cas/ca_messenger_move.lua     AH.checked_stopunit_attacks(ai, messenger)</span>
<span class='curline'><a href='../S/4349.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_patrol.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4349.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_patrol.lua     local patrol = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4349.html#L27'>AH</a>                 27 data/ai/micro_ais/cas/ca_patrol.lua     cfg.waypoint_x = AH.split(cfg.waypoint_x, ",")</span>
<span class='curline'><a href='../S/4349.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_patrol.lua     cfg.waypoint_y = AH.split(cfg.waypoint_y, ",")</span>
<span class='curline'><a href='../S/4349.html#L51'>AH</a>                 51 data/ai/micro_ais/cas/ca_patrol.lua         local adjacent_enemy = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4349.html#L58'>AH</a>                 58 data/ai/micro_ais/cas/ca_patrol.lua         local unit_on_wp = AH.get_visible_units(wesnoth.current.side, {</span>
<span class='curline'><a href='../S/4349.html#L107'>AH</a>                107 data/ai/micro_ais/cas/ca_patrol.lua             AH.checked_stopunit_moves(ai, patrol)</span>
<span class='curline'><a href='../S/4349.html#L110'>AH</a>                110 data/ai/micro_ais/cas/ca_patrol.lua             local nh = AH.next_hop(patrol, x, y)</span>
<span class='curline'><a href='../S/4349.html#L112'>AH</a>                112 data/ai/micro_ais/cas/ca_patrol.lua                 AH.checked_move(ai, patrol, nh[1], nh[2])</span>
<span class='curline'><a href='../S/4349.html#L114'>AH</a>                114 data/ai/micro_ais/cas/ca_patrol.lua                 AH.checked_stopunit_moves(ai, patrol)</span>
<span class='curline'><a href='../S/4349.html#L123'>AH</a>                123 data/ai/micro_ais/cas/ca_patrol.lua         adjacent_enemy = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4349.html#L132'>AH</a>                132 data/ai/micro_ais/cas/ca_patrol.lua         adjacent_enemy = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4349.html#L138'>AH</a>                138 data/ai/micro_ais/cas/ca_patrol.lua     if adjacent_enemy then AH.checked_attack(ai, patrol, adjacent_enemy) end</span>
<span class='curline'><a href='../S/4349.html#L141'>AH</a>                141 data/ai/micro_ais/cas/ca_patrol.lua     AH.checked_stopunit_all(ai, patrol)</span>
<span class='curline'><a href='../S/4341.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_protect_unit_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4341.html#L14'>AH</a>                 14 data/ai/micro_ais/cas/ca_protect_unit_attack.lua         table.insert(units, AH.get_units_with_attacks { id = u.id }[1])</span>
<span class='curline'><a href='../S/4341.html#L18'>AH</a>                 18 data/ai/micro_ais/cas/ca_protect_unit_attack.lua     local attacks = AH.get_attacks(units, { simulate_combat = true })</span>
<span class='curline'><a href='../S/4341.html#L21'>AH</a>                 21 data/ai/micro_ais/cas/ca_protect_unit_attack.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4341.html#L100'>AH</a>                100 data/ai/micro_ais/cas/ca_protect_unit_attack.lua     AH.robust_move_and_attack(ai, best_attack.src, best_attack.dst, best_attack.target)</span>
<span class='curline'><a href='../S/4333.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_protect_unit_finish.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4333.html#L9'>AH</a>                  9 data/ai/micro_ais/cas/ca_protect_unit_finish.lua         local unit = AH.get_units_with_moves { id = u.id }[1]</span>
<span class='curline'><a href='../S/4333.html#L11'>AH</a>                 11 data/ai/micro_ais/cas/ca_protect_unit_finish.lua             local path, cost = AH.find_path_with_shroud(unit, u.goal_x, u.goal_y)</span>
<span class='curline'><a href='../S/4333.html#L23'>AH</a>                 23 data/ai/micro_ais/cas/ca_protect_unit_finish.lua     AH.movefull_stopunit(ai, PU_unit, PU_goal)</span>
<span class='curline'><a href='../S/4361.html#L3'>AH</a>                  3 data/ai/micro_ais/cas/ca_protect_unit_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4361.html#L9'>AH</a>                  9 data/ai/micro_ais/cas/ca_protect_unit_move.lua         table.insert(units, AH.get_units_with_moves { id = u.id }[1])</span>
<span class='curline'><a href='../S/4361.html#L30'>AH</a>                 30 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local enemy_units = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4361.html#L39'>AH</a>                 39 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local unit = AH.choose(protected_units, function(u) return - u.hitpoints end)</span>
<span class='curline'><a href='../S/4361.html#L45'>AH</a>                 45 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4361.html#L46'>AH</a>                 46 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local enemy_inverse_distance_map = AH.inverse_distance_map(enemy_units, reach_map)</span>
<span class='curline'><a href='../S/4361.html#L90'>AH</a>                 90 data/ai/micro_ais/cas/ca_protect_unit_move.lua     AH.movefull_stopunit(ai, unit, AH.get_LS_xy(best_hex))</span>
<span class='curline'><a href='../S/4371.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_recruit_random.lua local AH = wesnoth.require("ai/lua/ai_helper.lua")</span>
<span class='curline'><a href='../S/4371.html#L63'>AH</a>                 63 data/ai/micro_ais/cas/ca_recruit_random.lua         types = AH.split(prob.type, ",")</span>
<span class='curline'><a href='../S/4371.html#L124'>AH</a>                124 data/ai/micro_ais/cas/ca_recruit_random.lua         AH.checked_recruit(ai, recruit_type)</span>
<span class='curline'><a href='../S/4352.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_return_guardian.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4352.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_return_guardian.lua     local guardian = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4352.html#L38'>AH</a>                 38 data/ai/micro_ais/cas/ca_return_guardian.lua     local nh = AH.next_hop(guardian, x, y)</span>
<span class='curline'><a href='../S/4352.html#L41'>AH</a>                 41 data/ai/micro_ais/cas/ca_return_guardian.lua     AH.movefull_stopunit(ai, guardian, nh)</span>
<span class='curline'><a href='../S/4329.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_simple_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4329.html#L9'>AH</a>                  9 data/ai/micro_ais/cas/ca_simple_attack.lua     local units = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4329.html#L20'>AH</a>                 20 data/ai/micro_ais/cas/ca_simple_attack.lua         local enemies = AH.get_attackable_enemies(enemy_filter)</span>
<span class='curline'><a href='../S/4329.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_simple_attack.lua     local attacks = AH.get_attacks(units, { include_occupied = true })</span>
<span class='curline'><a href='../S/4329.html#L59'>AH</a>                 59 data/ai/micro_ais/cas/ca_simple_attack.lua     AH.robust_move_and_attack(ai, best_attack.src, best_attack.dst, best_attack.target, cfg)</span>
<span class='curline'><a href='../S/4362.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_stationed_guardian.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4362.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_stationed_guardian.lua     local guardian = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4362.html#L27'>AH</a>                 27 data/ai/micro_ais/cas/ca_stationed_guardian.lua     local enemies = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4362.html#L33'>AH</a>                 33 data/ai/micro_ais/cas/ca_stationed_guardian.lua         AH.checked_stopunit_moves(ai, guardian)</span>
<span class='curline'><a href='../S/4362.html#L59'>AH</a>                 59 data/ai/micro_ais/cas/ca_stationed_guardian.lua             if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way))</span>
<span class='curline'><a href='../S/4362.html#L63'>AH</a>                 63 data/ai/micro_ais/cas/ca_stationed_guardian.lua                 local nh = AH.next_hop(guardian, xa, ya)</span>
<span class='curline'><a href='../S/4362.html#L74'>AH</a>                 74 data/ai/micro_ais/cas/ca_stationed_guardian.lua             AH.robust_move_and_attack(ai, guardian, attack_loc, target)</span>
<span class='curline'><a href='../S/4362.html#L84'>AH</a>                 84 data/ai/micro_ais/cas/ca_stationed_guardian.lua                 if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way))</span>
<span class='curline'><a href='../S/4362.html#L94'>AH</a>                 94 data/ai/micro_ais/cas/ca_stationed_guardian.lua             AH.movefull_stopunit(ai, guardian, nh)</span>
<span class='curline'><a href='../S/4362.html#L99'>AH</a>                 99 data/ai/micro_ais/cas/ca_stationed_guardian.lua         local nh = AH.next_hop(guardian, cfg.station_x, cfg.station_y)</span>
<span class='curline'><a href='../S/4362.html#L104'>AH</a>                104 data/ai/micro_ais/cas/ca_stationed_guardian.lua         AH.movefull_stopunit(ai, guardian, nh)</span>
<span class='curline'><a href='../S/4362.html#L109'>AH</a>                109 data/ai/micro_ais/cas/ca_stationed_guardian.lua     AH.checked_stopunit_moves(ai, guardian)</span>
<span class='curline'><a href='../S/4368.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_swarm_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4368.html#L30'>AH</a>                 30 data/ai/micro_ais/cas/ca_swarm_move.lua     local enemies = AH.get_attackable_enemies()</span>
<span class='curline'><a href='../S/4368.html#L36'>AH</a>                 36 data/ai/micro_ais/cas/ca_swarm_move.lua     local best_hex = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4368.html#L67'>AH</a>                 67 data/ai/micro_ais/cas/ca_swarm_move.lua     AH.movefull_stopunit(ai, unit, best_hex)</span>
<span class='curline'><a href='../S/4342.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_swarm_scatter.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4342.html#L6'>AH</a>                  6 data/ai/micro_ais/cas/ca_swarm_scatter.lua     local enemies = AH.get_attackable_enemies {</span>
<span class='curline'><a href='../S/4342.html#L15'>AH</a>                 15 data/ai/micro_ais/cas/ca_swarm_scatter.lua     return AH.get_units_with_moves { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4342.html#L42'>AH</a>                 42 data/ai/micro_ais/cas/ca_swarm_scatter.lua             local best_hex = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4342.html#L50'>AH</a>                 50 data/ai/micro_ais/cas/ca_swarm_scatter.lua             AH.movefull_stopunit(ai, unit, best_hex)</span>
<span class='curline'><a href='../S/4337.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_wolves_move.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4337.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_wolves_move.lua     local wolves = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4337.html#L18'>AH</a>                 18 data/ai/micro_ais/cas/ca_wolves_move.lua     local prey = AH.get_attackable_enemies(filter_second)</span>
<span class='curline'><a href='../S/4337.html#L34'>AH</a>                 34 data/ai/micro_ais/cas/ca_wolves_move.lua     local avoid_units = AH.get_attackable_enemies({ type = cfg.avoid_type })</span>
<span class='curline'><a href='../S/4337.html#L56'>AH</a>                 56 data/ai/micro_ais/cas/ca_wolves_move.lua     local wolf1 = AH.find_best_move(wolves[1], function(x, y)</span>
<span class='curline'><a href='../S/4337.html#L70'>AH</a>                 70 data/ai/micro_ais/cas/ca_wolves_move.lua     local move_result = AH.movefull_stopunit(ai, wolves[1], wolf1)</span>
<span class='curline'><a href='../S/4337.html#L72'>AH</a>                 72 data/ai/micro_ais/cas/ca_wolves_move.lua     if (AH.is_incomplete_move(move_result)) then return end</span>
<span class='curline'><a href='../S/4337.html#L78'>AH</a>                 78 data/ai/micro_ais/cas/ca_wolves_move.lua         move = AH.find_best_move(wolves[i], function(x,y)</span>
<span class='curline'><a href='../S/4337.html#L99'>AH</a>                 99 data/ai/micro_ais/cas/ca_wolves_move.lua         local move_result = AH.movefull_stopunit(ai, wolves[i], move)</span>
<span class='curline'><a href='../S/4337.html#L101'>AH</a>                101 data/ai/micro_ais/cas/ca_wolves_move.lua         if (AH.is_incomplete_move(move_result)) then return end</span>
<span class='curline'><a href='../S/4365.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4365.html#L14'>AH</a>                 14 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua     local wolves = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4365.html#L42'>AH</a>                 42 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua             if wolves[1] then all_attacks = AH.get_attacks(wolves, { simulate_combat = true }) end</span>
<span class='curline'><a href='../S/4365.html#L49'>AH</a>                 49 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                     local nh = AH.next_hop(wolf, attack.dst.x, attack.dst.y)</span>
<span class='curline'><a href='../S/4365.html#L130'>AH</a>                130 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                 AH.robust_move_and_attack(ai, attacker, best_attack.dst, defender)</span>
<span class='curline'><a href='../S/4365.html#L166'>AH</a>                166 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                     local best_hex = AH.find_best_move(wolf_moves, function(x, y)</span>
<span class='curline'><a href='../S/4365.html#L178'>AH</a>                178 data/ai/micro_ais/cas/ca_wolves_multipacks_attack.lua                     AH.movefull_stopunit(ai, wolf_moves, best_hex)</span>
<span class='curline'><a href='../S/4330.html#L1'>AH</a>                  1 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4330.html#L12'>AH</a>                 12 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua     local wolves = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4330.html#L54'>AH</a>                 54 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua                 local next_hop = AH.next_hop(wolves[1], locs[rand][1], locs[rand][2])</span>
<span class='curline'><a href='../S/4330.html#L113'>AH</a>                113 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua             goto_hex = AH.find_best_move(wolves[1], function(x, y)</span>
<span class='curline'><a href='../S/4330.html#L123'>AH</a>                123 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua             local best_hex = AH.find_best_move(wolf, function(x, y)</span>
<span class='curline'><a href='../S/4330.html#L133'>AH</a>                133 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua             local move_result = AH.movefull_stopunit(ai, wolf, best_hex)</span>
<span class='curline'><a href='../S/4330.html#L140'>AH</a>                140 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua             if (AH.is_incomplete_move(move_result)) then return end</span>
<span class='curline'><a href='../S/4343.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_wolves_wander.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4343.html#L7'>AH</a>                  7 data/ai/micro_ais/cas/ca_wolves_wander.lua     local wolves = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4343.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_wolves_wander.lua         local r = AH.get_reachable_unocc(wolf)</span>
<span class='curline'><a href='../S/4343.html#L32'>AH</a>                 32 data/ai/micro_ais/cas/ca_wolves_wander.lua     local avoid_units = AH.get_attackable_enemies({ type = cfg.avoid_type })</span>
<span class='curline'><a href='../S/4343.html#L49'>AH</a>                 49 data/ai/micro_ais/cas/ca_wolves_wander.lua         local best_hex = AH.find_best_move(wolf, function(x, y)</span>
<span class='curline'><a href='../S/4343.html#L55'>AH</a>                 55 data/ai/micro_ais/cas/ca_wolves_wander.lua         local move_result = AH.movefull_stopunit(ai, wolf, best_hex)</span>
<span class='curline'><a href='../S/4343.html#L57'>AH</a>                 57 data/ai/micro_ais/cas/ca_wolves_wander.lua         if (AH.is_incomplete_move(move_result)) then return end</span>
<span class='curline'><a href='../S/4336.html#L2'>AH</a>                  2 data/ai/micro_ais/cas/ca_zone_guardian.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4336.html#L8'>AH</a>                  8 data/ai/micro_ais/cas/ca_zone_guardian.lua     local guardian = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4336.html#L28'>AH</a>                 28 data/ai/micro_ais/cas/ca_zone_guardian.lua     local enemies = AH.get_attackable_enemies { { "filter_location", zone_enemy } }</span>
<span class='curline'><a href='../S/4336.html#L46'>AH</a>                 46 data/ai/micro_ais/cas/ca_zone_guardian.lua                 if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way))</span>
<span class='curline'><a href='../S/4336.html#L50'>AH</a>                 50 data/ai/micro_ais/cas/ca_zone_guardian.lua                     local nh = AH.next_hop(guardian, xa, ya)</span>
<span class='curline'><a href='../S/4336.html#L61'>AH</a>                 61 data/ai/micro_ais/cas/ca_zone_guardian.lua                 AH.robust_move_and_attack(ai, guardian, attack_loc, target)</span>
<span class='curline'><a href='../S/4336.html#L71'>AH</a>                 71 data/ai/micro_ais/cas/ca_zone_guardian.lua                     if (not AH.is_visible_unit(wesnoth.current.side, unit_in_way))</span>
<span class='curline'><a href='../S/4336.html#L81'>AH</a>                 81 data/ai/micro_ais/cas/ca_zone_guardian.lua                 AH.movefull_stopunit(ai, guardian, nh)</span>
<span class='curline'><a href='../S/4336.html#L121'>AH</a>                121 data/ai/micro_ais/cas/ca_zone_guardian.lua         local nh = AH.next_hop(guardian, newpos[1], newpos[2])</span>
<span class='curline'><a href='../S/4336.html#L123'>AH</a>                123 data/ai/micro_ais/cas/ca_zone_guardian.lua             AH.movefull_stopunit(ai, guardian, nh)</span>
<span class='curline'><a href='../S/4336.html#L128'>AH</a>                128 data/ai/micro_ais/cas/ca_zone_guardian.lua     AH.checked_stopunit_moves(ai, guardian)</span>
<span class='curline'><a href='../S/4372.html#L7'>AH</a>                  7 data/ai/micro_ais/engines/priority_target_engine.lua         local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4372.html#L13'>AH</a>                 13 data/ai/micro_ais/engines/priority_target_engine.lua             local attackers = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4374.html#L3'>AH</a>                  3 data/ai/micro_ais/engines/urudin_engine.lua         local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4374.html#L14'>AH</a>                 14 data/ai/micro_ais/engines/urudin_engine.lua                     AH.movefull_stopunit(ai, urudin, 33, 8)</span>
<span class='curline'><a href='../S/4305.html#L3'>AH</a>                  3 data/ai/micro_ais/micro_ai_helper.lua local AH = wesnoth.require("ai/lua/ai_helper.lua")</span>
<span class='curline'><a href='../S/4574.html#L1'>AH</a>                  1 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/4574.html#L92'>AH</a>                 92 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua         AH.movefull_outofway_stopunit(ai, best_unit, best_hex[1], best_hex[2])</span>
<span class='curline'><a href='../S/5029.html#L1'>AH</a>                  1 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/5029.html#L15'>AH</a>                 15 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua     local attacks = AH.get_attacks(units, { include_occupied = true })</span>
<span class='curline'><a href='../S/5029.html#L59'>AH</a>                 59 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua     AH.robust_move_and_attack(ai, data.attack.src, data.attack.dst, data.attack.target)</span>
<span class='curline'><a href='../S/5030.html#L2'>AH</a>                  2 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua local AH = wesnoth.require "ai/lua/ai_helper.lua"</span>
<span class='curline'><a href='../S/5030.html#L27'>AH</a>                 27 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua     AH.movefull_outofway_stopunit(ai, data.retreat_unit, data.retreat_dst[1], data.retreat_dst[2])</span>
</pre>
</body>
</html>
