<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>wml::</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1367.html#L31'>wml::</a>              31 utils/wesnothd.pl my $login_response = &amp;wml::single_child_doc('mustlogin');</span>
<span class='curline'><a href='../S/1367.html#L32'>wml::</a>              32 utils/wesnothd.pl my $join_lobby_response = &amp;wml::single_child_doc('join_lobby');</span>
<span class='curline'><a href='../S/1367.html#L35'>wml::</a>              35 utils/wesnothd.pl my $old_initial_response = &amp;wml::deep_copy($initial_response);</span>
<span class='curline'><a href='../S/1367.html#L52'>wml::</a>              52 utils/wesnothd.pl 	print "SENDING: {{{" . &amp;wml::write_text($doc) . "}}}\n";</span>
<span class='curline'><a href='../S/1367.html#L55'>wml::</a>              55 utils/wesnothd.pl 		my $packet = &amp;wml::write_binary($outgoing_schemas{$sock}, $doc) . chr 0;</span>
<span class='curline'><a href='../S/1367.html#L131'>wml::</a>             131 utils/wesnothd.pl 	my $diff = &amp;wml::get_diff($initial_response, $old_initial_response, 'gamelist_diff');</span>
<span class='curline'><a href='../S/1367.html#L136'>wml::</a>             136 utils/wesnothd.pl 	$old_initial_response = &amp;wml::deep_copy($initial_response);</span>
<span class='curline'><a href='../S/1367.html#L143'>wml::</a>             143 utils/wesnothd.pl 	my $doc = &amp;wml::read_binary($incoming_schemas{$sock}, $packet);</span>
<span class='curline'><a href='../S/1367.html#L144'>wml::</a>             144 utils/wesnothd.pl 	my $text = &amp;wml::write_text($doc);</span>
<span class='curline'><a href='../S/1367.html#L148'>wml::</a>             148 utils/wesnothd.pl 		if(my $login = &amp;wml::has_child($doc, 'login')) {</span>
<span class='curline'><a href='../S/1367.html#L185'>wml::</a>             185 utils/wesnothd.pl 		if(my $create_game = &amp;wml::has_child($doc, 'create_game')) {</span>
<span class='curline'><a href='../S/1367.html#L189'>wml::</a>             189 utils/wesnothd.pl 		} elsif(my $message = &amp;wml::has_child($doc, 'message')) {</span>
<span class='curline'><a href='../S/1367.html#L193'>wml::</a>             193 utils/wesnothd.pl 		} elsif(my $whisper = &amp;wml::has_child($doc, 'whisper')) {</span>
<span class='curline'><a href='../S/1367.html#L214'>wml::</a>             214 utils/wesnothd.pl 		   my $side = &amp;wml::has_child($doc, 'side')) {</span>
<span class='curline'><a href='../S/1367.html#L215'>wml::</a>             215 utils/wesnothd.pl 			if(not &amp;wml::has_child($game-&gt;{'level'},'side')) {</span>
<span class='curline'><a href='../S/1367.html#L224'>wml::</a>             224 utils/wesnothd.pl 				if(my $era = &amp;wml::has_child($doc, 'era')) {</span>
<span class='curline'><a href='../S/1363.html#L5'>wml::</a>               5 utils/wml.pm   $wml::open_element = 0, $wml::close_element = 1, $wml::schema_item = 2,</span>
<span class='curline'><a href='../S/1363.html#L6'>wml::</a>               6 utils/wml.pm   $wml::literal_word = 3, $wml::first_word = 4, $wml::end_words = 256;</span>
<span class='curline'><a href='../S/1363.html#L8'>wml::</a>               8 utils/wml.pm   $wml::max_schema_size = $wml::end_words - $wml::first_word;</span>
<span class='curline'><a href='../S/1363.html#L9'>wml::</a>               9 utils/wml.pm   $wml::max_schema_item_length = 20;</span>
<span class='curline'><a href='../S/1363.html#L33'>wml::</a>              33 utils/wml.pm   	if($code == $wml::literal_word) {</span>
<span class='curline'><a href='../S/1363.html#L35'>wml::</a>              35 utils/wml.pm   	} elsif($code == $wml::schema_item) {</span>
<span class='curline'><a href='../S/1363.html#L39'>wml::</a>              39 utils/wml.pm   	} elsif($code &lt; $wml::first_word) {</span>
<span class='curline'><a href='../S/1363.html#L42'>wml::</a>              42 utils/wml.pm   		my $index = $code - $wml::first_word;</span>
<span class='curline'><a href='../S/1363.html#L80'>wml::</a>              80 utils/wml.pm   		if($code == $wml::open_element) {</span>
<span class='curline'><a href='../S/1363.html#L84'>wml::</a>              84 utils/wml.pm   		} elsif($code == $wml::close_element) {</span>
<span class='curline'><a href='../S/1363.html#L87'>wml::</a>              87 utils/wml.pm   		} elsif($code == $wml::schema_item) {</span>
<span class='curline'><a href='../S/1363.html#L244'>wml::</a>             244 utils/wml.pm   		return chr($wml::first_word + $schema_lookup-&gt;{$word});</span>
<span class='curline'><a href='../S/1363.html#L248'>wml::</a>             248 utils/wml.pm   	if($pos &lt; $wml::max_schema_size and length($word) &lt; $wml::max_schema_item_length) {</span>
<span class='curline'><a href='../S/1363.html#L251'>wml::</a>             251 utils/wml.pm   		return chr($wml::schema_item) . &amp;write_word_literal($word) . chr($wml::first_word + $pos);</span>
<span class='curline'><a href='../S/1363.html#L253'>wml::</a>             253 utils/wml.pm   		return chr($wml::literal_word) . &amp;write_word_literal($word);</span>
<span class='curline'><a href='../S/1363.html#L268'>wml::</a>             268 utils/wml.pm   		$res .= chr($wml::open_element) .</span>
<span class='curline'><a href='../S/1363.html#L271'>wml::</a>             271 utils/wml.pm   		        chr($wml::close_element);</span>
<span class='curline'><a href='../S/1335.html#L57'>wml::</a>              57 utils/wml_net.pm 	return &amp;wml::read_binary($wml_net::incoming_schemas{$sock},$res);</span>
<span class='curline'><a href='../S/1335.html#L64'>wml::</a>              64 utils/wml_net.pm 	my $data = &amp;wml::write_binary($wml_net::outgoing_schemas{$sock},$doc);</span>
</pre>
</body>
</html>
