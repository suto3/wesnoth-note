<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>uv</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1181.html#L1197'>uv</a>               1197 src/lua/lapi.cpp                                 CClosure **owner, UpVal **uv) {</span>
<span class='curline'><a href='../S/1181.html#L1212'>uv</a>               1212 src/lua/lapi.cpp       if (uv) *uv = f-&gt;upvals[n - 1];</span>
<span class='curline'><a href='../S/1181.html#L1239'>uv</a>               1239 src/lua/lapi.cpp   UpVal *uv = NULL;</span>
<span class='curline'><a href='../S/1181.html#L1244'>uv</a>               1244 src/lua/lapi.cpp   name = aux_upvalue(fi, n, &amp;val, &amp;owner, &amp;uv);</span>
<span class='curline'><a href='../S/1181.html#L1249'>uv</a>               1249 src/lua/lapi.cpp     else if (uv) { luaC_upvalbarrier(L, uv); }</span>
<span class='curline'><a href='../S/1211.html#L127'>uv</a>                127 src/lua/ldebug.cpp static const char *upvalname (Proto *p, int uv) {</span>
<span class='curline'><a href='../S/1211.html#L128'>uv</a>                128 src/lua/ldebug.cpp   TString *s = check_exp(uv &lt; p-&gt;sizeupvalues, p-&gt;upvalues[uv].name);</span>
<span class='curline'><a href='../S/1215.html#L48'>uv</a>                 48 src/lua/lfunc.cpp     UpVal *uv = luaM_new(L, UpVal);</span>
<span class='curline'><a href='../S/1215.html#L49'>uv</a>                 49 src/lua/lfunc.cpp     uv-&gt;refcount = 1;</span>
<span class='curline'><a href='../S/1215.html#L50'>uv</a>                 50 src/lua/lfunc.cpp     uv-&gt;v = &amp;uv-&gt;u.value;  /* make it closed */</span>
<span class='curline'><a href='../S/1215.html#L51'>uv</a>                 51 src/lua/lfunc.cpp     setnilvalue(uv-&gt;v);</span>
<span class='curline'><a href='../S/1215.html#L52'>uv</a>                 52 src/lua/lfunc.cpp     cl-&gt;upvals[i] = uv;</span>
<span class='curline'><a href='../S/1215.html#L60'>uv</a>                 60 src/lua/lfunc.cpp   UpVal *uv;</span>
<span class='curline'><a href='../S/1215.html#L69'>uv</a>                 69 src/lua/lfunc.cpp   uv = luaM_new(L, UpVal);</span>
<span class='curline'><a href='../S/1215.html#L70'>uv</a>                 70 src/lua/lfunc.cpp   uv-&gt;refcount = 0;</span>
<span class='curline'><a href='../S/1215.html#L71'>uv</a>                 71 src/lua/lfunc.cpp   uv-&gt;u.open.next = *pp;  /* link it to list of open upvalues */</span>
<span class='curline'><a href='../S/1215.html#L72'>uv</a>                 72 src/lua/lfunc.cpp   uv-&gt;u.open.touched = 1;</span>
<span class='curline'><a href='../S/1215.html#L73'>uv</a>                 73 src/lua/lfunc.cpp   *pp = uv;</span>
<span class='curline'><a href='../S/1215.html#L74'>uv</a>                 74 src/lua/lfunc.cpp   uv-&gt;v = level;  /* current value lives in the stack */</span>
<span class='curline'><a href='../S/1215.html#L79'>uv</a>                 79 src/lua/lfunc.cpp   return uv;</span>
<span class='curline'><a href='../S/1215.html#L84'>uv</a>                 84 src/lua/lfunc.cpp   UpVal *uv;</span>
<span class='curline'><a href='../S/1215.html#L85'>uv</a>                 85 src/lua/lfunc.cpp   while (L-&gt;openupval != NULL &amp;&amp; (uv = L-&gt;openupval)-&gt;v &gt;= level) {</span>
<span class='curline'><a href='../S/1215.html#L86'>uv</a>                 86 src/lua/lfunc.cpp     lua_assert(upisopen(uv));</span>
<span class='curline'><a href='../S/1215.html#L87'>uv</a>                 87 src/lua/lfunc.cpp     L-&gt;openupval = uv-&gt;u.open.next;  /* remove from 'open' list */</span>
<span class='curline'><a href='../S/1215.html#L88'>uv</a>                 88 src/lua/lfunc.cpp     if (uv-&gt;refcount == 0)  /* no references? */</span>
<span class='curline'><a href='../S/1215.html#L89'>uv</a>                 89 src/lua/lfunc.cpp       luaM_free(L, uv);  /* free upvalue */</span>
<span class='curline'><a href='../S/1215.html#L91'>uv</a>                 91 src/lua/lfunc.cpp       setobj(L, &amp;uv-&gt;u.value, uv-&gt;v);  /* move value to upvalue slot */</span>
<span class='curline'><a href='../S/1215.html#L92'>uv</a>                 92 src/lua/lfunc.cpp       uv-&gt;v = &amp;uv-&gt;u.value;  /* now current value lives here */</span>
<span class='curline'><a href='../S/1215.html#L93'>uv</a>                 93 src/lua/lfunc.cpp       luaC_upvalbarrier(L, uv);</span>
<span class='curline'><a href='../S/1209.html#L185'>uv</a>                185 src/lua/lgc.cpp void luaC_upvalbarrier_ (lua_State *L, UpVal *uv) {</span>
<span class='curline'><a href='../S/1209.html#L187'>uv</a>                187 src/lua/lgc.cpp   GCObject *o = gcvalue(uv-&gt;v);</span>
<span class='curline'><a href='../S/1209.html#L188'>uv</a>                188 src/lua/lgc.cpp   lua_assert(!upisopen(uv));  /* ensured by macro luaC_upvalbarrier */</span>
<span class='curline'><a href='../S/1209.html#L320'>uv</a>                320 src/lua/lgc.cpp       UpVal *uv;</span>
<span class='curline'><a href='../S/1209.html#L323'>uv</a>                323 src/lua/lgc.cpp       for (uv = thread-&gt;openupval; uv != NULL; uv = uv-&gt;u.open.next) {</span>
<span class='curline'><a href='../S/1209.html#L324'>uv</a>                324 src/lua/lgc.cpp         if (uv-&gt;u.open.touched) {</span>
<span class='curline'><a href='../S/1209.html#L325'>uv</a>                325 src/lua/lgc.cpp           markvalue(g, uv-&gt;v);  /* remark upvalue's value */</span>
<span class='curline'><a href='../S/1209.html#L326'>uv</a>                326 src/lua/lgc.cpp           uv-&gt;u.open.touched = 0;</span>
<span class='curline'><a href='../S/1209.html#L518'>uv</a>                518 src/lua/lgc.cpp     UpVal *uv = cl-&gt;upvals[i];</span>
<span class='curline'><a href='../S/1209.html#L519'>uv</a>                519 src/lua/lgc.cpp     if (uv != NULL) {</span>
<span class='curline'><a href='../S/1209.html#L520'>uv</a>                520 src/lua/lgc.cpp       if (upisopen(uv) &amp;&amp; g-&gt;gcstate != GCSinsideatomic)</span>
<span class='curline'><a href='../S/1209.html#L521'>uv</a>                521 src/lua/lgc.cpp         uv-&gt;u.open.touched = 1;  /* can be marked in 'remarkupvals' */</span>
<span class='curline'><a href='../S/1209.html#L523'>uv</a>                523 src/lua/lgc.cpp         markvalue(g, uv-&gt;v);</span>
<span class='curline'><a href='../S/1209.html#L678'>uv</a>                678 src/lua/lgc.cpp void luaC_upvdeccount (lua_State *L, UpVal *uv) {</span>
<span class='curline'><a href='../S/1209.html#L679'>uv</a>                679 src/lua/lgc.cpp   lua_assert(uv-&gt;refcount &gt; 0);</span>
<span class='curline'><a href='../S/1209.html#L680'>uv</a>                680 src/lua/lgc.cpp   uv-&gt;refcount--;</span>
<span class='curline'><a href='../S/1209.html#L681'>uv</a>                681 src/lua/lgc.cpp   if (uv-&gt;refcount == 0 &amp;&amp; !upisopen(uv))</span>
<span class='curline'><a href='../S/1209.html#L682'>uv</a>                682 src/lua/lgc.cpp     luaM_free(L, uv);</span>
<span class='curline'><a href='../S/1209.html#L689'>uv</a>                689 src/lua/lgc.cpp     UpVal *uv = cl-&gt;upvals[i];</span>
<span class='curline'><a href='../S/1209.html#L690'>uv</a>                690 src/lua/lgc.cpp     if (uv)</span>
<span class='curline'><a href='../S/1209.html#L691'>uv</a>                691 src/lua/lgc.cpp       luaC_upvdeccount(L, uv);</span>
<span class='curline'><a href='../S/1204.html#L130'>uv</a>                130 src/lua/lgc.h  #define luaC_upvalbarrier(L,uv) ( \</span>
<span class='curline'><a href='../S/1204.html#L131'>uv</a>                131 src/lua/lgc.h  	(iscollectable((uv)-&gt;v) &amp;&amp; !upisopen(uv)) ? \</span>
<span class='curline'><a href='../S/1204.html#L132'>uv</a>                132 src/lua/lgc.h           luaC_upvalbarrier_(L,uv) : cast_void(0))</span>
<span class='curline'><a href='../S/1204.html#L142'>uv</a>                142 src/lua/lgc.h  LUAI_FUNC void luaC_upvalbarrier_ (lua_State *L, UpVal *uv);</span>
<span class='curline'><a href='../S/1204.html#L144'>uv</a>                144 src/lua/lgc.h  LUAI_FUNC void luaC_upvdeccount (lua_State *L, UpVal *uv);</span>
<span class='curline'><a href='../S/1203.html#L360'>uv</a>                360 src/lua/lobject.h   Udata uv;</span>
<span class='curline'><a href='../S/1182.html#L614'>uv</a>                614 src/lua/lvm.cpp     Upvaldesc *uv = p-&gt;upvalues;</span>
<span class='curline'><a href='../S/1182.html#L617'>uv</a>                617 src/lua/lvm.cpp       TValue *v = uv[i].instack ? base + uv[i].idx : encup[uv[i].idx]-&gt;v;</span>
<span class='curline'><a href='../S/1182.html#L635'>uv</a>                635 src/lua/lvm.cpp   Upvaldesc *uv = p-&gt;upvalues;</span>
<span class='curline'><a href='../S/1182.html#L641'>uv</a>                641 src/lua/lvm.cpp     if (uv[i].instack)  /* upvalue refers to local variable? */</span>
<span class='curline'><a href='../S/1182.html#L642'>uv</a>                642 src/lua/lvm.cpp       ncl-&gt;upvals[i] = luaF_findupval(L, base + uv[i].idx);</span>
<span class='curline'><a href='../S/1182.html#L644'>uv</a>                644 src/lua/lvm.cpp       ncl-&gt;upvals[i] = encup[uv[i].idx];</span>
<span class='curline'><a href='../S/1182.html#L856'>uv</a>                856 src/lua/lvm.cpp         UpVal *uv = cl-&gt;upvals[GETARG_B(i)];</span>
<span class='curline'><a href='../S/1182.html#L857'>uv</a>                857 src/lua/lvm.cpp         setobj(L, uv-&gt;v, ra);</span>
<span class='curline'><a href='../S/1182.html#L858'>uv</a>                858 src/lua/lvm.cpp         luaC_upvalbarrier(L, uv);</span>
</pre>
</body>
</html>
