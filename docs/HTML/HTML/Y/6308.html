<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>base_damage</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4415.html#L219'>base_damage</a>       219 data/ai/lua/generic_recruit_engine.lua                     local base_damage = (weapon_damage+damage_bonus)*resistance*damage_multiplier</span>
<span class='curline'><a href='../S/4415.html#L221'>base_damage</a>       221 data/ai/lua/generic_recruit_engine.lua                         base_damage = base_damage-1</span>
<span class='curline'><a href='../S/4415.html#L223'>base_damage</a>       223 data/ai/lua/generic_recruit_engine.lua                     base_damage = math.floor(base_damage/100 + 0.5)</span>
<span class='curline'><a href='../S/4415.html#L224'>base_damage</a>       224 data/ai/lua/generic_recruit_engine.lua                     if (base_damage &lt; 1) and (attack.damage &gt; 0) then</span>
<span class='curline'><a href='../S/4415.html#L226'>base_damage</a>       226 data/ai/lua/generic_recruit_engine.lua                         base_damage = 1</span>
<span class='curline'><a href='../S/4415.html#L228'>base_damage</a>       228 data/ai/lua/generic_recruit_engine.lua                     local attack_damage = base_damage*attack.number*defense-drain_recovery</span>
<span class='curline'><a href='../S/5564.html#L60'>base_damage</a>        60 data/lua/wml/harm_unit.lua 			local function round_damage( base_damage, bonus, divisor )</span>
<span class='curline'><a href='../S/5564.html#L62'>base_damage</a>        62 data/lua/wml/harm_unit.lua 				if base_damage == 0 then return 0</span>
<span class='curline'><a href='../S/5564.html#L69'>base_damage</a>        69 data/lua/wml/harm_unit.lua 					return math.max( 1, math.floor( ( base_damage * bonus + rounding ) / divisor ) )</span>
<span class='curline'><a href='../S/5564.html#L73'>base_damage</a>        73 data/lua/wml/harm_unit.lua 			local function calculate_damage( base_damage, alignment, tod_bonus, resistance, modifier )</span>
<span class='curline'><a href='../S/5564.html#L85'>base_damage</a>        85 data/lua/wml/harm_unit.lua 				local damage = round_damage( base_damage, damage_multiplier, 10000 ) -- if harmer.status.slowed, this may be 20000 ?</span>
<span class='curline'><a href='../S/901.html#L175'>base_damage</a>       175 src/actions/attack.cpp 	int base_damage = weapon-&gt;modified_damage(backstab_pos);</span>
<span class='curline'><a href='../S/901.html#L194'>base_damage</a>       194 src/actions/attack.cpp 	damage = round_damage(base_damage, damage_multiplier, 10000);</span>
<span class='curline'><a href='../S/901.html#L195'>base_damage</a>       195 src/actions/attack.cpp 	slow_damage = round_damage(base_damage, damage_multiplier, 20000);</span>
<span class='curline'><a href='../S/901.html#L315'>base_damage</a>       315 src/actions/attack.cpp 	int base_damage = weapon-&gt;modified_damage(backstab_pos);</span>
<span class='curline'><a href='../S/901.html#L321'>base_damage</a>       321 src/actions/attack.cpp 	damage = round_damage(base_damage, damage_multiplier, 10000);</span>
<span class='curline'><a href='../S/901.html#L322'>base_damage</a>       322 src/actions/attack.cpp 	slow_damage = round_damage(base_damage, damage_multiplier, 20000);</span>
<span class='curline'><a href='../S/427.html#L236'>base_damage</a>       236 src/gui/dialogs/attack_predictions.cpp 	const int base_damage = weapon-&gt;damage();</span>
<span class='curline'><a href='../S/427.html#L239'>base_damage</a>       239 src/gui/dialogs/attack_predictions.cpp 	if(attacker.stats_.damage &gt; base_damage) {</span>
<span class='curline'><a href='../S/427.html#L241'>base_damage</a>       241 src/gui/dialogs/attack_predictions.cpp 	} else if(attacker.stats_.damage &lt; base_damage) {</span>
<span class='curline'><a href='../S/762.html#L653'>base_damage</a>       653 src/reports.cpp 	int base_damage = at.damage();</span>
<span class='curline'><a href='../S/762.html#L688'>base_damage</a>       688 src/reports.cpp 	if ( tod_bonus || leader_bonus || slowed || specials_damage != base_damage )</span>
<span class='curline'><a href='../S/762.html#L690'>base_damage</a>       690 src/reports.cpp 		tooltip &lt;&lt; '\t' &lt;&lt; _("Base damage: ") &lt;&lt; base_damage &lt;&lt; '\n';</span>
<span class='curline'><a href='../S/762.html#L691'>base_damage</a>       691 src/reports.cpp 		if ( specials_damage != base_damage ) {</span>
<span class='curline'><a href='../S/762.html#L874'>base_damage</a>       874 src/reports.cpp 		int base_damage = 0;</span>
<span class='curline'><a href='../S/762.html#L881'>base_damage</a>       881 src/reports.cpp 			base_damage = attack_info(rc, *context_unit_stats.weapon, res, *u, unit_loc);</span>
<span class='curline'><a href='../S/762.html#L887'>base_damage</a>       887 src/reports.cpp 			if ( total_damage &gt; base_damage )</span>
<span class='curline'><a href='../S/762.html#L889'>base_damage</a>       889 src/reports.cpp 			else if ( total_damage &lt; base_damage )</span>
<span class='curline'><a href='../S/879.html#L57'>base_damage</a>        57 src/utils/math.hpp inline int round_damage(int base_damage, int bonus, int divisor) {</span>
<span class='curline'><a href='../S/879.html#L58'>base_damage</a>        58 src/utils/math.hpp 	if (base_damage==0) return 0;</span>
<span class='curline'><a href='../S/879.html#L60'>base_damage</a>        60 src/utils/math.hpp 	return std::max&lt;int&gt;(1, (base_damage * bonus + rounding) / divisor);</span>
</pre>
</body>
</html>
