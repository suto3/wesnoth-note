<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>u_</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1221.html#L2198'>u_</a>               2198 src/attack_prediction.cpp 	if(opponent.u_.firststrike &amp;&amp; !u_.firststrike) {</span>
<span class='curline'><a href='../S/1221.html#L2205'>u_</a>               2205 src/attack_prediction.cpp 	dump(u_);</span>
<span class='curline'><a href='../S/1221.html#L2207'>u_</a>               2207 src/attack_prediction.cpp 	dump(opponent.u_);</span>
<span class='curline'><a href='../S/1221.html#L2224'>u_</a>               2224 src/attack_prediction.cpp 	const std::vector&lt;combat_slice&gt; split = split_summary(u_, summary);</span>
<span class='curline'><a href='../S/1221.html#L2225'>u_</a>               2225 src/attack_prediction.cpp 	const std::vector&lt;combat_slice&gt; opp_split = split_summary(opponent.u_, opponent.summary);</span>
<span class='curline'><a href='../S/1221.html#L2228'>u_</a>               2228 src/attack_prediction.cpp 		fight_complexity(split.size(), opp_split.size(), u_, opponent.u_) &gt; MONTE_CARLO_SIMULATION_THRESHOLD</span>
<span class='curline'><a href='../S/1221.html#L2234'>u_</a>               2234 src/attack_prediction.cpp 		complex_fight(attack_prediction_mode::monte_carlo_simulation, u_, opponent.u_, u_.num_blows,</span>
<span class='curline'><a href='../S/1221.html#L2235'>u_</a>               2235 src/attack_prediction.cpp 		              opponent.u_.num_blows, summary, opponent.summary, self_not_hit, opp_not_hit, levelup_considered, split,</span>
<span class='curline'><a href='../S/1221.html#L2239'>u_</a>               2239 src/attack_prediction.cpp 		do_fight(u_, opponent.u_, u_.num_blows, opponent.u_.num_blows, summary, opponent.summary, self_not_hit,</span>
<span class='curline'><a href='../S/1221.html#L2267'>u_</a>               2267 src/attack_prediction.cpp 				do_fight(u_, opponent.u_, split[s].strikes, opp_split[t].strikes, sit_summary, sit_opp_summary,</span>
<span class='curline'><a href='../S/1221.html#L2327'>u_</a>               2327 src/attack_prediction.cpp 	poisoned = calculate_probability_of_debuff(poisoned, opponent.u_.poisons, touched, 1.0 - hp_dist[0],</span>
<span class='curline'><a href='../S/1221.html#L2328'>u_</a>               2328 src/attack_prediction.cpp 		u_.experience + game_config::kill_xp(opponent.u_.level) &gt;= u_.max_experience, opponent.hp_dist[0]);</span>
<span class='curline'><a href='../S/1221.html#L2329'>u_</a>               2329 src/attack_prediction.cpp 	opponent.poisoned = calculate_probability_of_debuff(opponent.poisoned, u_.poisons, opp_touched, 1.0 - opponent.hp_dist[0],</span>
<span class='curline'><a href='../S/1221.html#L2330'>u_</a>               2330 src/attack_prediction.cpp 		opponent.u_.experience + game_config::kill_xp(u_.level) &gt;= opponent.u_.max_experience, hp_dist[0]);</span>
<span class='curline'><a href='../S/1221.html#L2333'>u_</a>               2333 src/attack_prediction.cpp 		slowed = calculate_probability_of_debuff(slowed, opponent.u_.slows, touched, 1.0 - hp_dist[0],</span>
<span class='curline'><a href='../S/1221.html#L2334'>u_</a>               2334 src/attack_prediction.cpp 			u_.experience + game_config::kill_xp(opponent.u_.level) &gt;= u_.max_experience, opponent.hp_dist[0]);</span>
<span class='curline'><a href='../S/1221.html#L2335'>u_</a>               2335 src/attack_prediction.cpp 		opponent.slowed = calculate_probability_of_debuff(opponent.slowed, u_.slows, opp_touched, 1.0 - opponent.hp_dist[0],</span>
<span class='curline'><a href='../S/1221.html#L2336'>u_</a>               2336 src/attack_prediction.cpp 			opponent.u_.experience + game_config::kill_xp(u_.level) &gt;= opponent.u_.max_experience, hp_dist[0]);</span>
<span class='curline'><a href='../S/1221.html#L2346'>u_</a>               2346 src/attack_prediction.cpp 	if(u_.experience + opponent.u_.level &gt;= u_.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2351'>u_</a>               2351 src/attack_prediction.cpp 	if(opponent.u_.experience + u_.level &gt;= opponent.u_.max_experience) {</span>
<span class='curline'><a href='../S/1221.html#L2366'>u_</a>               2366 src/attack_prediction.cpp 		total += hp_dist[i] * std::min&lt;unsigned int&gt;(i + healing, u_.max_hp);</span>
<span class='curline'><a href='../S/1221.html#L2425'>u_</a>               2425 src/attack_prediction.cpp 			int(strlen(label)) - 12, ':', u_.swarm_max, u_.damage, u_.hp, u_.chance_to_hit, untouched * 100.0);</span>
<span class='curline'><a href='../S/1221.html#L2427'>u_</a>               2427 src/attack_prediction.cpp 	if(u_.drains) {</span>
<span class='curline'><a href='../S/1221.html#L2431'>u_</a>               2431 src/attack_prediction.cpp 	if(u_.slows) {</span>
<span class='curline'><a href='../S/1221.html#L2435'>u_</a>               2435 src/attack_prediction.cpp 	if(u_.rounds &gt; 1) {</span>
<span class='curline'><a href='../S/1221.html#L2439'>u_</a>               2439 src/attack_prediction.cpp 	if(u_.swarm) {</span>
<span class='curline'><a href='../S/1221.html#L2443'>u_</a>               2443 src/attack_prediction.cpp 	if(u_.firststrike) {</span>
<span class='curline'><a href='../S/1221.html#L2472'>u_</a>               2472 src/attack_prediction.cpp 	printf("#%u: %s: %d %u %u %2g%% ", battle, label, u_.damage, u_.swarm_max, u_.hp,</span>
<span class='curline'><a href='../S/1221.html#L2473'>u_</a>               2473 src/attack_prediction.cpp 			static_cast&lt;float&gt;(u_.chance_to_hit));</span>
<span class='curline'><a href='../S/1221.html#L2475'>u_</a>               2475 src/attack_prediction.cpp 	if(u_.drains) {</span>
<span class='curline'><a href='../S/1221.html#L2479'>u_</a>               2479 src/attack_prediction.cpp 	if(u_.slows) {</span>
<span class='curline'><a href='../S/1221.html#L2483'>u_</a>               2483 src/attack_prediction.cpp 	if(u_.rounds &gt; 1) {</span>
<span class='curline'><a href='../S/1221.html#L2487'>u_</a>               2487 src/attack_prediction.cpp 	if(u_.swarm) {</span>
<span class='curline'><a href='../S/1221.html#L2491'>u_</a>               2491 src/attack_prediction.cpp 	if(u_.firststrike) {</span>
<span class='curline'><a href='../S/1221.html#L2519'>u_</a>               2519 src/attack_prediction.cpp 	poisoned = u_.is_poisoned ? 1.0 : 0.0;</span>
<span class='curline'><a href='../S/1221.html#L2520'>u_</a>               2520 src/attack_prediction.cpp 	slowed = u_.is_slowed ? 1.0 : 0.0;</span>
<span class='curline'><a href='../S/983.html#L65'>u_</a>                 65 src/attack_prediction.hpp 	const battle_context_unit_stats &amp;u_;</span>
<span class='curline'><a href='../S/40.html#L46'>u_</a>                 46 src/editor/action/action_unit.cpp 	mc.get_units().add(loc_,u_);</span>
<span class='curline'><a href='../S/62.html#L51'>u_</a>                 51 src/editor/action/action_unit.hpp 		unit u_;</span>
<span class='curline'><a href='../S/777.html#L174'>u_</a>                174 src/formula/callable_objects.cpp 		return variant(u_.id());</span>
<span class='curline'><a href='../S/777.html#L176'>u_</a>                176 src/formula/callable_objects.cpp 		return variant(u_.type_id());</span>
<span class='curline'><a href='../S/777.html#L178'>u_</a>                178 src/formula/callable_objects.cpp 		return variant(u_.name());</span>
<span class='curline'><a href='../S/777.html#L180'>u_</a>                180 src/formula/callable_objects.cpp 		return variant(u_.usage());</span>
<span class='curline'><a href='../S/777.html#L182'>u_</a>                182 src/formula/callable_objects.cpp 		return variant(u_.can_recruit());</span>
<span class='curline'><a href='../S/777.html#L184'>u_</a>                184 src/formula/callable_objects.cpp 		return variant(u_.get_state("not_living") ? 1 : 0);</span>
<span class='curline'><a href='../S/777.html#L187'>u_</a>                187 src/formula/callable_objects.cpp 		for(const attack_type&amp; att : u_.attacks()) {</span>
<span class='curline'><a href='../S/777.html#L193'>u_</a>                193 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.get_ability_list());</span>
<span class='curline'><a href='../S/777.html#L195'>u_</a>                195 src/formula/callable_objects.cpp 		return variant(u_.hitpoints());</span>
<span class='curline'><a href='../S/777.html#L197'>u_</a>                197 src/formula/callable_objects.cpp 		return variant(u_.max_hitpoints());</span>
<span class='curline'><a href='../S/777.html#L199'>u_</a>                199 src/formula/callable_objects.cpp 		return variant(u_.experience());</span>
<span class='curline'><a href='../S/777.html#L201'>u_</a>                201 src/formula/callable_objects.cpp 		return variant(u_.max_experience());</span>
<span class='curline'><a href='../S/777.html#L204'>u_</a>                204 src/formula/callable_objects.cpp 		return variant(u_.level());</span>
<span class='curline'><a href='../S/777.html#L206'>u_</a>                206 src/formula/callable_objects.cpp 		return variant(u_.total_movement());</span>
<span class='curline'><a href='../S/777.html#L208'>u_</a>                208 src/formula/callable_objects.cpp 		return variant(u_.movement_left());</span>
<span class='curline'><a href='../S/777.html#L210'>u_</a>                210 src/formula/callable_objects.cpp 		return variant(u_.attacks_left());</span>
<span class='curline'><a href='../S/777.html#L212'>u_</a>                212 src/formula/callable_objects.cpp 		return variant(u_.max_attacks());</span>
<span class='curline'><a href='../S/777.html#L214'>u_</a>                214 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.get_traits_list());</span>
<span class='curline'><a href='../S/777.html#L216'>u_</a>                216 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.recruits());</span>
<span class='curline'><a href='../S/777.html#L218'>u_</a>                218 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.advances_to());</span>
<span class='curline'><a href='../S/777.html#L220'>u_</a>                220 src/formula/callable_objects.cpp 		return formula_callable::convert_set(u_.get_states());</span>
<span class='curline'><a href='../S/777.html#L222'>u_</a>                222 src/formula/callable_objects.cpp 		return variant(u_.side()-1);</span>
<span class='curline'><a href='../S/777.html#L224'>u_</a>                224 src/formula/callable_objects.cpp 		return variant(u_.cost());</span>
<span class='curline'><a href='../S/777.html#L226'>u_</a>                226 src/formula/callable_objects.cpp 		return variant(u_.upkeep());</span>
<span class='curline'><a href='../S/777.html#L231'>u_</a>                231 src/formula/callable_objects.cpp 		return variant(u_.get_hidden());</span>
<span class='curline'><a href='../S/777.html#L233'>u_</a>                233 src/formula/callable_objects.cpp 		return variant(u_.incapacitated());</span>
<span class='curline'><a href='../S/777.html#L235'>u_</a>                235 src/formula/callable_objects.cpp 		return variant(u_.resting());</span>
<span class='curline'><a href='../S/777.html#L237'>u_</a>                237 src/formula/callable_objects.cpp 		return variant(u_.get_role());</span>
<span class='curline'><a href='../S/777.html#L239'>u_</a>                239 src/formula/callable_objects.cpp 		return variant(u_.race()-&gt;id());</span>
<span class='curline'><a href='../S/777.html#L241'>u_</a>                241 src/formula/callable_objects.cpp 		return variant(gender_string(u_.gender()));</span>
<span class='curline'><a href='../S/777.html#L243'>u_</a>                243 src/formula/callable_objects.cpp 		return variant(u_.variation());</span>
<span class='curline'><a href='../S/777.html#L245'>u_</a>                245 src/formula/callable_objects.cpp 		return variant(u_.get_emit_zoc());</span>
<span class='curline'><a href='../S/777.html#L247'>u_</a>                247 src/formula/callable_objects.cpp 		return variant(u_.alignment().to_string());</span>
<span class='curline'><a href='../S/777.html#L249'>u_</a>                249 src/formula/callable_objects.cpp 		return variant(map_location::write_direction(u_.facing()));</span>
<span class='curline'><a href='../S/777.html#L251'>u_</a>                251 src/formula/callable_objects.cpp 		if(u_.formula_manager().formula_vars()) {</span>
<span class='curline'><a href='../S/777.html#L252'>u_</a>                252 src/formula/callable_objects.cpp 			return variant(u_.formula_manager().formula_vars());</span>
<span class='curline'><a href='../S/777.html#L257'>u_</a>                257 src/formula/callable_objects.cpp 		return variant(std::make_shared&lt;config_callable&gt;(u_.variables()));</span>
<span class='curline'><a href='../S/777.html#L318'>u_</a>                318 src/formula/callable_objects.cpp 	return u_.underlying_id() - u_callable-&gt;u_.underlying_id();</span>
<span class='curline'><a href='../S/777.html#L324'>u_</a>                324 src/formula/callable_objects.cpp 		return variant(u_.id());</span>
<span class='curline'><a href='../S/777.html#L326'>u_</a>                326 src/formula/callable_objects.cpp 		return variant(u_.type_name());</span>
<span class='curline'><a href='../S/777.html#L328'>u_</a>                328 src/formula/callable_objects.cpp 		return variant(u_.alignment().to_string());</span>
<span class='curline'><a href='../S/777.html#L330'>u_</a>                330 src/formula/callable_objects.cpp 		return variant(u_.race_id());</span>
<span class='curline'><a href='../S/777.html#L332'>u_</a>                332 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.get_ability_list());</span>
<span class='curline'><a href='../S/777.html#L335'>u_</a>                335 src/formula/callable_objects.cpp 		for(const auto&amp; config : u_.possible_traits()) {</span>
<span class='curline'><a href='../S/777.html#L342'>u_</a>                342 src/formula/callable_objects.cpp 		for(const attack_type&amp; att : u_.attacks()) {</span>
<span class='curline'><a href='../S/777.html#L348'>u_</a>                348 src/formula/callable_objects.cpp 		return variant(u_.hitpoints());</span>
<span class='curline'><a href='../S/777.html#L350'>u_</a>                350 src/formula/callable_objects.cpp 		return variant(u_.experience_needed(true));</span>
<span class='curline'><a href='../S/777.html#L352'>u_</a>                352 src/formula/callable_objects.cpp 		return variant(u_.level());</span>
<span class='curline'><a href='../S/777.html#L354'>u_</a>                354 src/formula/callable_objects.cpp 		return variant(u_.movement());</span>
<span class='curline'><a href='../S/777.html#L356'>u_</a>                356 src/formula/callable_objects.cpp 		return variant(u_.musthave_status("unpoisonable"));</span>
<span class='curline'><a href='../S/777.html#L358'>u_</a>                358 src/formula/callable_objects.cpp 		return variant(u_.musthave_status("undrainable"));</span>
<span class='curline'><a href='../S/777.html#L360'>u_</a>                360 src/formula/callable_objects.cpp 		return variant(u_.musthave_status("unplagueable"));</span>
<span class='curline'><a href='../S/777.html#L362'>u_</a>                362 src/formula/callable_objects.cpp 		return variant(u_.cost());</span>
<span class='curline'><a href='../S/777.html#L364'>u_</a>                364 src/formula/callable_objects.cpp 		return variant(u_.recall_cost());</span>
<span class='curline'><a href='../S/777.html#L366'>u_</a>                366 src/formula/callable_objects.cpp 		return variant(u_.usage());</span>
<span class='curline'><a href='../S/777.html#L398'>u_</a>                398 src/formula/callable_objects.cpp 	return u_.id().compare(u_callable-&gt;u_.id());</span>
<span class='curline'><a href='../S/770.html#L119'>u_</a>                119 src/formula/callable_objects.hpp 	const unit&amp; get_unit() const { return u_; }</span>
<span class='curline'><a href='../S/770.html#L124'>u_</a>                124 src/formula/callable_objects.hpp 	const unit&amp; u_;</span>
<span class='curline'><a href='../S/770.html#L130'>u_</a>                130 src/formula/callable_objects.hpp 	explicit unit_type_callable(const unit_type&amp; u) : u_(u)</span>
<span class='curline'><a href='../S/770.html#L140'>u_</a>                140 src/formula/callable_objects.hpp 	const unit_type&amp; get_unit_type() const { return u_; }</span>
<span class='curline'><a href='../S/770.html#L143'>u_</a>                143 src/formula/callable_objects.hpp 	const unit_type&amp; u_;</span>
<span class='curline'><a href='../S/996.html#L40'>u_</a>                 40 src/units/abilities.cpp 		unit_map::const_iterator u_;</span>
<span class='curline'><a href='../S/996.html#L46'>u_</a>                 46 src/units/abilities.cpp 			if (u_.valid()) {</span>
<span class='curline'><a href='../S/996.html#L47'>u_</a>                 47 src/units/abilities.cpp 				u_-&gt;set_facing(new_dir);</span>
<span class='curline'><a href='../S/996.html#L52'>u_</a>                 52 src/units/abilities.cpp 			if (u_.valid()) {</span>
<span class='curline'><a href='../S/996.html#L53'>u_</a>                 53 src/units/abilities.cpp 				u_-&gt;set_facing(save_dir_);</span>
<span class='curline'><a href='../S/1007.html#L34'>u_</a>                 34 src/units/animation_component.cpp 		int matching = i-&gt;matches(disp,loc,second_loc,&amp;u_,event,value,hit,attack,second_attack,swing_num);</span>
<span class='curline'><a href='../S/1007.html#L54'>u_</a>                 54 src/units/animation_component.cpp 	if (preferences::show_standing_animations()&amp;&amp; !u_.incapacitated()) {</span>
<span class='curline'><a href='../S/1007.html#L55'>u_</a>                 55 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "standing"),</span>
<span class='curline'><a href='../S/1007.html#L58'>u_</a>                 58 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_disabled_"),</span>
<span class='curline'><a href='../S/1007.html#L66'>u_</a>                 66 src/units/animation_component.cpp 	start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_ghosted_"),</span>
<span class='curline'><a href='../S/1007.html#L74'>u_</a>                 74 src/units/animation_component.cpp 	start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_disabled_ghosted_"),</span>
<span class='curline'><a href='../S/1007.html#L81'>u_</a>                 81 src/units/animation_component.cpp 	start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "idling"),</span>
<span class='curline'><a href='../S/1007.html#L88'>u_</a>                 88 src/units/animation_component.cpp 	if (preferences::show_standing_animations() &amp;&amp; !u_.incapacitated()) {</span>
<span class='curline'><a href='../S/1007.html#L89'>u_</a>                 89 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "selected"),</span>
<span class='curline'><a href='../S/1007.html#L92'>u_</a>                 92 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_disabled_selected_"),</span>
<span class='curline'><a href='../S/1007.html#L114'>u_</a>                114 src/units/animation_component.cpp 	anim_-&gt;start_animation(real_start_time, u_.loc_, u_.loc_.get_direction(u_.facing_),</span>
<span class='curline'><a href='../S/1007.html#L134'>u_</a>                134 src/units/animation_component.cpp 	    !disp.tile_nearly_on_screen(u_.loc_) || u_.incapacitated())</span>
<span class='curline'><a href='../S/1007.html#L166'>u_</a>                166 src/units/animation_component.cpp 		const t_translation::terrain_code terrain = map.get_terrain(u_.loc_);</span>
<span class='curline'><a href='../S/1007.html#L170'>u_</a>                170 src/units/animation_component.cpp 		if (u_.is_flying() &amp;&amp; height_adjust &lt; 0) {</span>
<span class='curline'><a href='../S/1007.html#L175'>u_</a>                175 src/units/animation_component.cpp 		params.image_mod = u_.image_mods();</span>
<span class='curline'><a href='../S/1007.html#L176'>u_</a>                176 src/units/animation_component.cpp 		params.halo_mod = u_.TC_image_mods();</span>
<span class='curline'><a href='../S/1007.html#L177'>u_</a>                177 src/units/animation_component.cpp 		params.image= u_.default_anim_image();</span>
<span class='curline'><a href='../S/985.html#L38'>u_</a>                 38 src/units/animation_component.hpp 		u_(my_unit),</span>
<span class='curline'><a href='../S/985.html#L50'>u_</a>                 50 src/units/animation_component.hpp 		u_(my_unit),</span>
<span class='curline'><a href='../S/985.html#L113'>u_</a>                113 src/units/animation_component.hpp 	const unit &amp; u_; /**&lt; A reference to the unit that owns this object. It does so with a scoped pointer, so this reference should not dangle. */</span>
<span class='curline'><a href='../S/1008.html#L2419'>u_</a>               2419 src/units/unit.cpp 	: u_(const_cast&lt;unit&amp;&gt;(u))</span>
<span class='curline'><a href='../S/1008.html#L2423'>u_</a>               2423 src/units/unit.cpp 		u_.set_movement(u_.total_movement());</span>
<span class='curline'><a href='../S/1008.html#L2431'>u_</a>               2431 src/units/unit.cpp 		if(!resources::gameboard-&gt;units().has_unit(&amp;u_)) {</span>
<span class='curline'><a href='../S/1008.html#L2439'>u_</a>               2439 src/units/unit.cpp 		u_.set_movement(moves_);</span>
<span class='curline'><a href='../S/989.html#L966'>u_</a>                966 src/units/unit.hpp 		explicit upkeep_value_visitor(const unit&amp; unit) : u_(unit) {}</span>
<span class='curline'><a href='../S/989.html#L971'>u_</a>                971 src/units/unit.hpp 			return u_.level();</span>
<span class='curline'><a href='../S/989.html#L986'>u_</a>                986 src/units/unit.hpp 		const unit&amp; u_;</span>
<span class='curline'><a href='../S/989.html#L1713'>u_</a>               1713 src/units/unit.hpp 	unit&amp; u_;</span>
</pre>
</body>
</html>
