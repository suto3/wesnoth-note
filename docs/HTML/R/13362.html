<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>socket</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4090.html#L2'>socket</a>              2 data/tools/wesnoth/campaignserver_client.py import socket, struct, glob, sys, shutil, threading, os, fnmatch</span>
<span class='curline'><a href='../S/4090.html#L67'>socket</a>             67 data/tools/wesnoth/campaignserver_client.py             addr = socket.getaddrinfo(self.host, self.port, socket.AF_INET,</span>
<span class='curline'><a href='../S/4090.html#L68'>socket</a>             68 data/tools/wesnoth/campaignserver_client.py                 socket.SOCK_STREAM, socket.IPPROTO_TCP)[0]</span>
<span class='curline'><a href='../S/4090.html#L77'>socket</a>             77 data/tools/wesnoth/campaignserver_client.py             self.sock = socket.socket(addr[0], addr[1], addr[2])</span>
<span class='curline'><a href='../S/4090.html#L82'>socket</a>             82 data/tools/wesnoth/campaignserver_client.py             except socket.error:</span>
<span class='curline'><a href='../S/4090.html#L105'>socket</a>            105 data/tools/wesnoth/campaignserver_client.py         except socket.error:</span>
<span class='curline'><a href='../S/4092.html#L22'>socket</a>             22 data/tools/wesnoth/wescamp.py import sys, os.path, argparse, tempfile, shutil, logging, socket</span>
<span class='curline'><a href='../S/4092.html#L509'>socket</a>            509 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/4092.html#L538'>socket</a>            538 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/4092.html#L556'>socket</a>            556 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/4092.html#L571'>socket</a>            571 data/tools/wesnoth/wescamp.py             except socket.error as e:</span>
<span class='curline'><a href='../S/4092.html#L596'>socket</a>            596 data/tools/wesnoth/wescamp.py         except socket.error as e:</span>
<span class='curline'><a href='../S/917.html#L223'>socket</a>            223 src/campaign_server/campaign_server.cpp void server::handle_new_client(socket_ptr socket)</span>
<span class='curline'><a href='../S/917.html#L225'>socket</a>            225 src/campaign_server/campaign_server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/917.html#L230'>socket</a>            230 src/campaign_server/campaign_server.cpp void server::handle_request(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/917.html#L246'>socket</a>            246 src/campaign_server/campaign_server.cpp 			j-&gt;second(this, request(c.key, c.cfg, socket));</span>
<span class='curline'><a href='../S/917.html#L248'>socket</a>            248 src/campaign_server/campaign_server.cpp 			send_error("Unrecognized [" + c.key + "] request.",socket);</span>
<span class='curline'><a href='../S/918.html#L100'>socket</a>            100 src/campaign_server/campaign_server.hpp 	void handle_new_client(socket_ptr socket);</span>
<span class='curline'><a href='../S/918.html#L101'>socket</a>            101 src/campaign_server/campaign_server.hpp 	void handle_request(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/1132.html#L49'>socket</a>             49 src/network_asio.hpp 	typedef boost::asio::ip::tcp::socket socket;</span>
<span class='curline'><a href='../S/1132.html#L50'>socket</a>             50 src/network_asio.hpp 	socket socket_;</span>
<span class='curline'><a href='../S/146.html#L235'>socket</a>            235 src/server/game.cpp 				missing_user(user-&gt;socket(), __func__);</span>
<span class='curline'><a href='../S/146.html#L237'>socket</a>            237 src/server/game.cpp 				user_name = username(user-&gt;socket());</span>
<span class='curline'><a href='../S/146.html#L1473'>socket</a>           1473 src/server/game.cpp void game::send_history(const socket_ptr socket) const</span>
<span class='curline'><a href='../S/146.html#L1490'>socket</a>           1490 src/server/game.cpp 		send_to_player(socket, *doc);</span>
<span class='curline'><a href='../S/146.html#L1647'>socket</a>           1647 src/server/game.cpp 		return iter-&gt;socket();</span>
<span class='curline'><a href='../S/149.html#L338'>socket</a>            338 src/server/game.hpp 	void missing_user(socket_ptr socket, const std::string&amp; func) const;</span>
<span class='curline'><a href='../S/148.html#L53'>socket</a>             53 src/server/player_connection.hpp 	player_record(const socket_ptr socket, const player&amp; player) : socket_(socket), player_(player) {}</span>
<span class='curline'><a href='../S/148.html#L66'>socket</a>             66 src/server/player_connection.hpp             tag&lt;socket_t&gt;, BOOST_MULTI_INDEX_CONST_MEM_FUN(player_record,const socket_ptr,socket)&gt;,</span>
<span class='curline'><a href='../S/148.html#L74'>socket</a>             74 src/server/player_connection.hpp void send_to_player(socket_ptr socket, simple_wml::document&amp; doc);</span>
<span class='curline'><a href='../S/148.html#L85'>socket</a>             85 src/server/player_connection.hpp void send_server_message(socket_ptr socket, const std::string&amp; message);</span>
<span class='curline'><a href='../S/158.html#L193'>socket</a>            193 src/server/server.cpp 	out &lt;&lt; "'" &lt;&lt; player.name() &lt;&lt; "' @ " &lt;&lt; client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L510'>socket</a>            510 src/server/server.cpp void server::handle_new_client(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L512'>socket</a>            512 src/server/server.cpp 	async_send_doc(socket, version_query_response_,</span>
<span class='curline'><a href='../S/158.html#L517'>socket</a>            517 src/server/server.cpp void server::handle_version(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L519'>socket</a>            519 src/server/server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/158.html#L524'>socket</a>            524 src/server/server.cpp void server::read_version(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/158.html#L535'>socket</a>            535 src/server/server.cpp 			LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L538'>socket</a>            538 src/server/server.cpp 			async_send_doc(socket, login_response_, std::bind(&amp;server::login, this, _1));</span>
<span class='curline'><a href='../S/158.html#L547'>socket</a>            547 src/server/server.cpp 				LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L555'>socket</a>            555 src/server/server.cpp 				send_to_player(socket, response);</span>
<span class='curline'><a href='../S/158.html#L560'>socket</a>            560 src/server/server.cpp 		LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L569'>socket</a>            569 src/server/server.cpp 		send_to_player(socket, response);</span>
<span class='curline'><a href='../S/158.html#L571'>socket</a>            571 src/server/server.cpp 		LOG_SERVER &lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L576'>socket</a>            576 src/server/server.cpp void server::login(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L578'>socket</a>            578 src/server/server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/158.html#L583'>socket</a>            583 src/server/server.cpp void server::handle_login(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/158.html#L589'>socket</a>            589 src/server/server.cpp 			async_send_error(socket, "The nickname '" + username + "' contains invalid "</span>
<span class='curline'><a href='../S/158.html#L592'>socket</a>            592 src/server/server.cpp 			server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L596'>socket</a>            596 src/server/server.cpp 			async_send_error(socket, "The nickname '" + username + "' is too long. Nicks must be 20 characters or less.",</span>
<span class='curline'><a href='../S/158.html#L598'>socket</a>            598 src/server/server.cpp 			server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L608'>socket</a>            608 src/server/server.cpp 				async_send_error(socket, "The nickname '" + username + "' is reserved and cannot be used by players",</span>
<span class='curline'><a href='../S/158.html#L610'>socket</a>            610 src/server/server.cpp 				server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L621'>socket</a>            621 src/server/server.cpp 					async_send_error(socket, "Your password reminder email has been sent.");</span>
<span class='curline'><a href='../S/158.html#L623'>socket</a>            623 src/server/server.cpp 					async_send_error(socket, "There was an error sending your password reminder email. The error message was: " +</span>
<span class='curline'><a href='../S/158.html#L652'>socket</a>            652 src/server/server.cpp 				async_send_warning(socket, "The nickname '" + username + "' is inactive. You cannot claim ownership of this "</span>
<span class='curline'><a href='../S/158.html#L660'>socket</a>            660 src/server/server.cpp 						send_password_request(socket, "The nickname '" + username +"' is registered on this server.",</span>
<span class='curline'><a href='../S/158.html#L663'>socket</a>            663 src/server/server.cpp 						send_password_request(socket, "The nickname '" + username + "' is registered on this server."</span>
<span class='curline'><a href='../S/158.html#L673'>socket</a>            673 src/server/server.cpp 				if(seeds_[reinterpret_cast&lt;long int&gt;(socket.get())].empty()) {</span>
<span class='curline'><a href='../S/158.html#L674'>socket</a>            674 src/server/server.cpp 					send_password_request(socket, "Please try again.", username, MP_NO_SEED_ERROR);</span>
<span class='curline'><a href='../S/158.html#L678'>socket</a>            678 src/server/server.cpp 				else if(!(user_handler_-&gt;login(username, password, seeds_[reinterpret_cast&lt;unsigned long&gt;(socket.get())]))) {</span>
<span class='curline'><a href='../S/158.html#L682'>socket</a>            682 src/server/server.cpp 					seeds_.erase(reinterpret_cast&lt;unsigned long&gt;(socket.get()));</span>
<span class='curline'><a href='../S/158.html#L684'>socket</a>            684 src/server/server.cpp 					login_log login_ip = login_log(client_address(socket), 0, now);</span>
<span class='curline'><a href='../S/158.html#L707'>socket</a>            707 src/server/server.cpp 						async_send_error(socket, "You have made too many failed login attempts.", MP_TOO_MANY_ATTEMPTS_ERROR);</span>
<span class='curline'><a href='../S/158.html#L709'>socket</a>            709 src/server/server.cpp 						send_password_request(socket, "The password you provided for the nickname '" + username +</span>
<span class='curline'><a href='../S/158.html#L714'>socket</a>            714 src/server/server.cpp 					LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t"</span>
<span class='curline'><a href='../S/158.html#L721'>socket</a>            721 src/server/server.cpp 				seeds_.erase(reinterpret_cast&lt;long int&gt;(socket.get()));</span>
<span class='curline'><a href='../S/158.html#L728'>socket</a>            728 src/server/server.cpp 			async_send_error(socket, "The nickname '" + username + "' is not registered. "</span>
<span class='curline'><a href='../S/158.html#L738'>socket</a>            738 src/server/server.cpp 				async_send_error(socket, "The nickname '" + username + "' is already taken.", MP_NAME_TAKEN_ERROR);</span>
<span class='curline'><a href='../S/158.html#L739'>socket</a>            739 src/server/server.cpp 				server::login(socket);</span>
<span class='curline'><a href='../S/158.html#L745'>socket</a>            745 src/server/server.cpp 		async_send_doc(socket, join_lobby_response_,</span>
<span class='curline'><a href='../S/158.html#L752'>socket</a>            752 src/server/server.cpp 		LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; username</span>
<span class='curline'><a href='../S/158.html#L757'>socket</a>            757 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L760'>socket</a>            760 src/server/server.cpp 			send_server_message(socket, "You are now recognized as an administrator. "</span>
<span class='curline'><a href='../S/158.html#L765'>socket</a>            765 src/server/server.cpp 		connection_log ip_name = connection_log(username, client_address(socket), 0);</span>
<span class='curline'><a href='../S/158.html#L772'>socket</a>            772 src/server/server.cpp 		async_send_error(socket, "You must login first.", MP_MUST_LOGIN);</span>
<span class='curline'><a href='../S/158.html#L776'>socket</a>            776 src/server/server.cpp void server::send_password_request(socket_ptr socket, const std::string&amp; msg,</span>
<span class='curline'><a href='../S/158.html#L783'>socket</a>            783 src/server/server.cpp 		async_send_error(socket, "Even though your nickname is registered on this server you "</span>
<span class='curline'><a href='../S/158.html#L787'>socket</a>            787 src/server/server.cpp 		login(socket);</span>
<span class='curline'><a href='../S/158.html#L791'>socket</a>            791 src/server/server.cpp 	seeds_[reinterpret_cast&lt;long int&gt;(socket.get())] = salt;</span>
<span class='curline'><a href='../S/158.html#L804'>socket</a>            804 src/server/server.cpp 	async_send_doc(socket, doc,</span>
<span class='curline'><a href='../S/158.html#L809'>socket</a>            809 src/server/server.cpp void server::add_player(socket_ptr socket, const wesnothd::player&amp; player)</span>
<span class='curline'><a href='../S/158.html#L812'>socket</a>            812 src/server/server.cpp 	std::tie(std::ignore, inserted) = player_connections_.insert(player_connections::value_type(socket, player));</span>
<span class='curline'><a href='../S/158.html#L815'>socket</a>            815 src/server/server.cpp 	send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L818'>socket</a>            818 src/server/server.cpp 		send_server_message(socket, motd_);</span>
<span class='curline'><a href='../S/158.html#L821'>socket</a>            821 src/server/server.cpp 	read_from_player(socket);</span>
<span class='curline'><a href='../S/158.html#L826'>socket</a>            826 src/server/server.cpp 	send_to_lobby(diff, socket);</span>
<span class='curline'><a href='../S/158.html#L829'>socket</a>            829 src/server/server.cpp void server::read_from_player(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L831'>socket</a>            831 src/server/server.cpp 	async_receive_doc(socket,</span>
<span class='curline'><a href='../S/158.html#L837'>socket</a>            837 src/server/server.cpp void server::handle_read_from_player(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc)</span>
<span class='curline'><a href='../S/158.html#L839'>socket</a>            839 src/server/server.cpp 	read_from_player(socket);</span>
<span class='curline'><a href='../S/158.html#L842'>socket</a>            842 src/server/server.cpp 		send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L846'>socket</a>            846 src/server/server.cpp 		handle_whisper(socket, *whisper);</span>
<span class='curline'><a href='../S/158.html#L849'>socket</a>            849 src/server/server.cpp 		handle_query(socket, *query);</span>
<span class='curline'><a href='../S/158.html#L852'>socket</a>            852 src/server/server.cpp 		handle_nickserv(socket, *nickserv);</span>
<span class='curline'><a href='../S/158.html#L855'>socket</a>            855 src/server/server.cpp 	if(!player_is_in_game(socket))</span>
<span class='curline'><a href='../S/158.html#L856'>socket</a>            856 src/server/server.cpp 		handle_player_in_lobby(socket, doc);</span>
<span class='curline'><a href='../S/158.html#L858'>socket</a>            858 src/server/server.cpp 		handle_player_in_game(socket, doc);</span>
<span class='curline'><a href='../S/158.html#L862'>socket</a>            862 src/server/server.cpp void server::handle_player_in_lobby(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc) {</span>
<span class='curline'><a href='../S/158.html#L864'>socket</a>            864 src/server/server.cpp 		handle_message(socket, *message);</span>
<span class='curline'><a href='../S/158.html#L868'>socket</a>            868 src/server/server.cpp 		handle_create_game(socket, *create_game);</span>
<span class='curline'><a href='../S/158.html#L872'>socket</a>            872 src/server/server.cpp 		handle_join_game(socket, *join);</span>
<span class='curline'><a href='../S/158.html#L876'>socket</a>            876 src/server/server.cpp void server::handle_whisper(socket_ptr socket, simple_wml::node&amp; whisper)</span>
<span class='curline'><a href='../S/158.html#L884'>socket</a>            884 src/server/server.cpp 		send_to_player(socket, data);</span>
<span class='curline'><a href='../S/158.html#L890'>socket</a>            890 src/server/server.cpp 		send_server_message(socket, "Can't find '" + whisper["receiver"].to_string() + "'.");</span>
<span class='curline'><a href='../S/158.html#L894'>socket</a>            894 src/server/server.cpp 		send_to_player(receiver_iter-&gt;socket(), cwhisper);</span>
<span class='curline'><a href='../S/158.html#L899'>socket</a>            899 src/server/server.cpp void server::handle_query(socket_ptr socket, simple_wml::node&amp; query)</span>
<span class='curline'><a href='../S/158.html#L901'>socket</a>            901 src/server/server.cpp 	auto iter = player_connections_.find(socket);</span>
<span class='curline'><a href='../S/158.html#L930'>socket</a>            930 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L940'>socket</a>            940 src/server/server.cpp 					   &lt;&lt; "\tIP: "&lt;&lt; client_address(socket)</span>
<span class='curline'><a href='../S/158.html#L949'>socket</a>            949 src/server/server.cpp 			send_server_message(socket, "No password set.");</span>
<span class='curline'><a href='../S/158.html#L956'>socket</a>            956 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L966'>socket</a>            966 src/server/server.cpp 					   &lt;&lt; client_address(socket) &lt;&lt; "\tnick: "</span>
<span class='curline'><a href='../S/158.html#L973'>socket</a>            973 src/server/server.cpp 	send_server_message(socket, response.str());</span>
<span class='curline'><a href='../S/158.html#L976'>socket</a>            976 src/server/server.cpp void server::handle_nickserv(socket_ptr socket, simple_wml::node&amp; nickserv)</span>
<span class='curline'><a href='../S/158.html#L980'>socket</a>            980 src/server/server.cpp 		send_server_message(socket, "This server does not allow username registration.");</span>
<span class='curline'><a href='../S/158.html#L986'>socket</a>            986 src/server/server.cpp 			(user_handler_-&gt;add_user(player_connections_.find(socket)-&gt;name(), (*nickserv.child("register"))["mail"].to_string(),</span>
<span class='curline'><a href='../S/158.html#L994'>socket</a>            994 src/server/server.cpp 			send_server_message(socket, msg.str());</span>
<span class='curline'><a href='../S/158.html#L998'>socket</a>            998 src/server/server.cpp 			player_connections_.find(socket)-&gt;info().mark_registered();</span>
<span class='curline'><a href='../S/158.html#L1002'>socket</a>           1002 src/server/server.cpp 							 "user", player_connections_.find(socket)-&gt;info().config_address(), diff);</span>
<span class='curline'><a href='../S/158.html#L1006'>socket</a>           1006 src/server/server.cpp 			send_server_message(socket, "There was an error registering your username. The error message was: "</span>
<span class='curline'><a href='../S/158.html#L1014'>socket</a>           1014 src/server/server.cpp 		if(!(user_handler_-&gt;user_exists(player_connections_.find(socket)-&gt;name()))) {</span>
<span class='curline'><a href='../S/158.html#L1015'>socket</a>           1015 src/server/server.cpp 			send_server_message(socket, "You are not registered. Please register first.");</span>
<span class='curline'><a href='../S/158.html#L1022'>socket</a>           1022 src/server/server.cpp 			user_handler_-&gt;set_user_detail(player_connections_.find(socket)-&gt;name(), set["detail"].to_string(), set["value"].to_string());</span>
<span class='curline'><a href='../S/158.html#L1024'>socket</a>           1024 src/server/server.cpp 			send_server_message(socket, "Your details have been updated.");</span>
<span class='curline'><a href='../S/158.html#L1027'>socket</a>           1027 src/server/server.cpp 			send_server_message(socket, "There was an error updating your details. The error message was: "</span>
<span class='curline'><a href='../S/158.html#L1036'>socket</a>           1036 src/server/server.cpp 		send_server_message(socket, "Valid details for this server are: " +</span>
<span class='curline'><a href='../S/158.html#L1045'>socket</a>           1045 src/server/server.cpp 			send_server_message(socket, res);</span>
<span class='curline'><a href='../S/158.html#L1047'>socket</a>           1047 src/server/server.cpp 			send_server_message(socket, "There was an error looking up the details of the user '" +</span>
<span class='curline'><a href='../S/158.html#L1056'>socket</a>           1056 src/server/server.cpp 		if(!(user_handler_-&gt;user_exists(player_connections_.find(socket)-&gt;name()))) {</span>
<span class='curline'><a href='../S/158.html#L1057'>socket</a>           1057 src/server/server.cpp 			send_server_message(socket, "You are not registered.");</span>
<span class='curline'><a href='../S/158.html#L1064'>socket</a>           1064 src/server/server.cpp 		if(!(player_connections_.find(socket)-&gt;info().registered())) {</span>
<span class='curline'><a href='../S/158.html#L1065'>socket</a>           1065 src/server/server.cpp 			send_server_message(socket, "You are not logged in.");</span>
<span class='curline'><a href='../S/158.html#L1070'>socket</a>           1070 src/server/server.cpp 			user_handler_-&gt;remove_user(player_connections_.find(socket)-&gt;name());</span>
<span class='curline'><a href='../S/158.html#L1071'>socket</a>           1071 src/server/server.cpp 			send_server_message(socket, "Your username has been dropped.");</span>
<span class='curline'><a href='../S/158.html#L1075'>socket</a>           1075 src/server/server.cpp 			player_connections_.find(socket)-&gt;info().mark_registered(false);</span>
<span class='curline'><a href='../S/158.html#L1079'>socket</a>           1079 src/server/server.cpp 							 "user", player_connections_.find(socket)-&gt;info().config_address(), diff);</span>
<span class='curline'><a href='../S/158.html#L1082'>socket</a>           1082 src/server/server.cpp 			send_server_message(socket, "There was an error dropping your username. The error message was: "</span>
<span class='curline'><a href='../S/158.html#L1089'>socket</a>           1089 src/server/server.cpp void server::handle_message(socket_ptr socket, simple_wml::node&amp; message)</span>
<span class='curline'><a href='../S/158.html#L1093'>socket</a>           1093 src/server/server.cpp 	send_to_lobby(relay_message, socket);</span>
<span class='curline'><a href='../S/158.html#L1096'>socket</a>           1096 src/server/server.cpp void server::handle_create_game(socket_ptr socket, simple_wml::node&amp; create_game)</span>
<span class='curline'><a href='../S/158.html#L1100'>socket</a>           1100 src/server/server.cpp 		send_to_player(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1101'>socket</a>           1101 src/server/server.cpp 		send_server_message(socket, "This server is shutting down. You aren't allowed to make new games. Please reconnect to the new server.");</span>
<span class='curline'><a href='../S/158.html#L1102'>socket</a>           1102 src/server/server.cpp 		send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1107'>socket</a>           1107 src/server/server.cpp 		player_connections_.find(socket),</span>
<span class='curline'><a href='../S/158.html#L1113'>socket</a>           1113 src/server/server.cpp 						"user", player_connections_.find(socket)-&gt;info().config_address(), diff)) {</span>
<span class='curline'><a href='../S/158.html#L1124'>socket</a>           1124 src/server/server.cpp 	DBG_SERVER &lt;&lt; client_address(host_record.socket()) &lt;&lt; "\t" &lt;&lt; host_record.info().name()</span>
<span class='curline'><a href='../S/158.html#L1130'>socket</a>           1130 src/server/server.cpp 		new wesnothd::game(player_connections_, host_record.socket(), game_name, save_replays_, replay_save_path_),</span>
<span class='curline'><a href='../S/158.html#L1169'>socket</a>           1169 src/server/server.cpp void server::handle_join_game(socket_ptr socket, simple_wml::node&amp; join)</span>
<span class='curline'><a href='../S/158.html#L1182'>socket</a>           1182 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1184'>socket</a>           1184 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1185'>socket</a>           1185 src/server/server.cpp 		send_server_message(socket, "Attempt to join unknown game.");</span>
<span class='curline'><a href='../S/158.html#L1186'>socket</a>           1186 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1189'>socket</a>           1189 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1192'>socket</a>           1192 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1193'>socket</a>           1193 src/server/server.cpp 		send_server_message(socket, "Attempt to join an uninitialized game.");</span>
<span class='curline'><a href='../S/158.html#L1194'>socket</a>           1194 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1196'>socket</a>           1196 src/server/server.cpp 	} else if (player_connections_.find(socket)-&gt;info().is_moderator()) {</span>
<span class='curline'><a href='../S/158.html#L1198'>socket</a>           1198 src/server/server.cpp 	} else if (g-&gt;registered_users_only() &amp;&amp; !player_connections_.find(socket)-&gt;info().registered()) {</span>
<span class='curline'><a href='../S/158.html#L1199'>socket</a>           1199 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1200'>socket</a>           1200 src/server/server.cpp 		send_server_message(socket, "Only registered users are allowed to join this game.");</span>
<span class='curline'><a href='../S/158.html#L1201'>socket</a>           1201 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1203'>socket</a>           1203 src/server/server.cpp 	} else if (g-&gt;player_is_banned(socket)) {</span>
<span class='curline'><a href='../S/158.html#L1204'>socket</a>           1204 src/server/server.cpp 		DBG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tReject banned player: "</span>
<span class='curline'><a href='../S/158.html#L1205'>socket</a>           1205 src/server/server.cpp 				   &lt;&lt; player_connections_.find(socket)-&gt;info().name() &lt;&lt; "\tfrom game:\t\"" &lt;&lt; g-&gt;name()</span>
<span class='curline'><a href='../S/158.html#L1207'>socket</a>           1207 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1208'>socket</a>           1208 src/server/server.cpp 		send_server_message(socket, "You are banned from this game.");</span>
<span class='curline'><a href='../S/158.html#L1209'>socket</a>           1209 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1212'>socket</a>           1212 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1215'>socket</a>           1215 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1216'>socket</a>           1216 src/server/server.cpp 		send_server_message(socket, "Incorrect password.");</span>
<span class='curline'><a href='../S/158.html#L1217'>socket</a>           1217 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1220'>socket</a>           1220 src/server/server.cpp 	bool joined = g-&gt;add_player(socket, observer);</span>
<span class='curline'><a href='../S/158.html#L1222'>socket</a>           1222 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player_connections_.find(socket)-&gt;info().name()</span>
<span class='curline'><a href='../S/158.html#L1225'>socket</a>           1225 src/server/server.cpp 		async_send_doc(socket, leave_game_doc);</span>
<span class='curline'><a href='../S/158.html#L1226'>socket</a>           1226 src/server/server.cpp 		send_server_message(socket, "Attempt to observe a game that doesn't allow observers. (You probably joined the game shortly after it filled up.)");</span>
<span class='curline'><a href='../S/158.html#L1227'>socket</a>           1227 src/server/server.cpp 		async_send_doc(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1231'>socket</a>           1231 src/server/server.cpp 		player_connections_.find(socket),</span>
<span class='curline'><a href='../S/158.html#L1240'>socket</a>           1240 src/server/server.cpp 								  "user", player_connections_.find(socket)-&gt;info().config_address(), diff);</span>
<span class='curline'><a href='../S/158.html#L1246'>socket</a>           1246 src/server/server.cpp void server::handle_player_in_game(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc) {</span>
<span class='curline'><a href='../S/158.html#L1249'>socket</a>           1249 src/server/server.cpp 	auto p = player_connections_.find(socket);</span>
<span class='curline'><a href='../S/158.html#L1257'>socket</a>           1257 src/server/server.cpp 		if (!g.is_owner(socket)) {</span>
<span class='curline'><a href='../S/158.html#L1267'>socket</a>           1267 src/server/server.cpp 			LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1279'>socket</a>           1279 src/server/server.cpp 				WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1285'>socket</a>           1285 src/server/server.cpp 				send_server_message(socket, "The scenario data is missing the [multiplayer] tag which contains the game settings. Game aborted.");</span>
<span class='curline'><a href='../S/158.html#L1292'>socket</a>           1292 src/server/server.cpp 			WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1344'>socket</a>           1344 src/server/server.cpp 		WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tReceived unknown data from: "</span>
<span class='curline'><a href='../S/158.html#L1345'>socket</a>           1345 src/server/server.cpp 				   &lt;&lt; player.name() &lt;&lt; " (socket:" &lt;&lt; socket</span>
<span class='curline'><a href='../S/158.html#L1350'>socket</a>           1350 src/server/server.cpp 		if (!g.is_owner(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1352'>socket</a>           1352 src/server/server.cpp 			WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tWarning: "</span>
<span class='curline'><a href='../S/158.html#L1365'>socket</a>           1365 src/server/server.cpp 			ERR_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tERROR: \""</span>
<span class='curline'><a href='../S/158.html#L1375'>socket</a>           1375 src/server/server.cpp 			WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; player.name()</span>
<span class='curline'><a href='../S/158.html#L1379'>socket</a>           1379 src/server/server.cpp 			send_server_message(socket, "The scenario data is missing the [multiplayer] tag which contains the game settings. Game aborted.");</span>
<span class='curline'><a href='../S/158.html#L1402'>socket</a>           1402 src/server/server.cpp 		g.send_data(notify_next_scenario, socket);</span>
<span class='curline'><a href='../S/158.html#L1410'>socket</a>           1410 src/server/server.cpp 		g.load_next_scenario(socket);</span>
<span class='curline'><a href='../S/158.html#L1413'>socket</a>           1413 src/server/server.cpp 		if (!g.is_owner(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1419'>socket</a>           1419 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1420'>socket</a>           1420 src/server/server.cpp 		g.start_game(socket);</span>
<span class='curline'><a href='../S/158.html#L1431'>socket</a>           1431 src/server/server.cpp 		if ((g.is_player(socket) &amp;&amp; g.nplayers() == 1)</span>
<span class='curline'><a href='../S/158.html#L1432'>socket</a>           1432 src/server/server.cpp 				|| (g.is_owner(socket) &amp;&amp; (!g.started() || g.nplayers() == 0))) {</span>
<span class='curline'><a href='../S/158.html#L1437'>socket</a>           1437 src/server/server.cpp 			g.remove_player(socket);</span>
<span class='curline'><a href='../S/158.html#L1438'>socket</a>           1438 src/server/server.cpp 			player_connections_.modify(player_connections_.find(socket), player_record::enter_lobby);</span>
<span class='curline'><a href='../S/158.html#L1448'>socket</a>           1448 src/server/server.cpp 				send_to_lobby(diff, socket);</span>
<span class='curline'><a href='../S/158.html#L1452'>socket</a>           1452 src/server/server.cpp 			send_to_player(socket, games_and_users_list_);</span>
<span class='curline'><a href='../S/158.html#L1457'>socket</a>           1457 src/server/server.cpp 		if (!g.is_owner(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1470'>socket</a>           1470 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1474'>socket</a>           1474 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1478'>socket</a>           1478 src/server/server.cpp 		g.transfer_side_control(socket, *change);</span>
<span class='curline'><a href='../S/158.html#L1485'>socket</a>           1485 src/server/server.cpp 		if (!g.is_owner(socket)) {</span>
<span class='curline'><a href='../S/158.html#L1486'>socket</a>           1486 src/server/server.cpp 			g.send_server_message("You cannot mute: not the game host.", socket);</span>
<span class='curline'><a href='../S/158.html#L1493'>socket</a>           1493 src/server/server.cpp 		g.mute_observer(*mute, socket);</span>
<span class='curline'><a href='../S/158.html#L1497'>socket</a>           1497 src/server/server.cpp 		g.unmute_observer(*unmute, socket);</span>
<span class='curline'><a href='../S/158.html#L1503'>socket</a>           1503 src/server/server.cpp 				(ban ? g.ban_user(*data.child("ban"), socket)</span>
<span class='curline'><a href='../S/158.html#L1504'>socket</a>           1504 src/server/server.cpp 					 : g.kick_member(*data.child("kick"), socket));</span>
<span class='curline'><a href='../S/158.html#L1506'>socket</a>           1506 src/server/server.cpp 			player_connections_.modify(player_connections_.find(socket), player_record::enter_lobby);</span>
<span class='curline'><a href='../S/158.html#L1516'>socket</a>           1516 src/server/server.cpp 			send_to_lobby(gamelist_diff, socket);</span>
<span class='curline'><a href='../S/158.html#L1522'>socket</a>           1522 src/server/server.cpp 		g.unban_user(*unban, socket);</span>
<span class='curline'><a href='../S/158.html#L1526'>socket</a>           1526 src/server/server.cpp 		if (!g.is_player(socket)) return;</span>
<span class='curline'><a href='../S/158.html#L1538'>socket</a>           1538 src/server/server.cpp 		if (g.process_turn(data, socket)) {</span>
<span class='curline'><a href='../S/158.html#L1543'>socket</a>           1543 src/server/server.cpp 		g.process_whiteboard(data,socket);</span>
<span class='curline'><a href='../S/158.html#L1546'>socket</a>           1546 src/server/server.cpp 		g.process_change_turns_wml(data,socket);</span>
<span class='curline'><a href='../S/158.html#L1550'>socket</a>           1550 src/server/server.cpp 		g.handle_choice(*sch, socket);</span>
<span class='curline'><a href='../S/158.html#L1553'>socket</a>           1553 src/server/server.cpp 		g.process_message(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1556'>socket</a>           1556 src/server/server.cpp 		g.send_data(data, socket);</span>
<span class='curline'><a href='../S/158.html#L1567'>socket</a>           1567 src/server/server.cpp 	WRN_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tReceived unknown data from: "</span>
<span class='curline'><a href='../S/158.html#L1568'>socket</a>           1568 src/server/server.cpp 			   &lt;&lt; player.name() &lt;&lt; " (socket:" &lt;&lt; socket &lt;&lt; ") in game: \""</span>
<span class='curline'><a href='../S/158.html#L1574'>socket</a>           1574 src/server/server.cpp void handle_send_to_player(socket_ptr socket);</span>
<span class='curline'><a href='../S/158.html#L1576'>socket</a>           1576 src/server/server.cpp void send_to_player(socket_ptr socket, simple_wml::document&amp; doc)</span>
<span class='curline'><a href='../S/158.html#L1578'>socket</a>           1578 src/server/server.cpp 	SendQueue::iterator iter = send_queue.find(socket);</span>
<span class='curline'><a href='../S/158.html#L1580'>socket</a>           1580 src/server/server.cpp 		send_queue[socket];</span>
<span class='curline'><a href='../S/158.html#L1581'>socket</a>           1581 src/server/server.cpp 		async_send_doc(socket, doc,</span>
<span class='curline'><a href='../S/158.html#L1586'>socket</a>           1586 src/server/server.cpp 		send_queue[socket].push_back(std::shared_ptr&lt;simple_wml::document&gt;(doc.clone()));</span>
<span class='curline'><a href='../S/158.html#L1590'>socket</a>           1590 src/server/server.cpp void handle_send_to_player(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L1592'>socket</a>           1592 src/server/server.cpp 	if(send_queue[socket].empty()) {</span>
<span class='curline'><a href='../S/158.html#L1593'>socket</a>           1593 src/server/server.cpp 		send_queue.erase(socket);</span>
<span class='curline'><a href='../S/158.html#L1595'>socket</a>           1595 src/server/server.cpp 		async_send_doc(socket, *(send_queue[socket].front()),</span>
<span class='curline'><a href='../S/158.html#L1599'>socket</a>           1599 src/server/server.cpp 		send_queue[socket].pop_front();</span>
<span class='curline'><a href='../S/158.html#L1603'>socket</a>           1603 src/server/server.cpp void send_server_message(socket_ptr socket, const std::string&amp; message)</span>
<span class='curline'><a href='../S/158.html#L1609'>socket</a>           1609 src/server/server.cpp 	send_to_player(socket, server_message);</span>
<span class='curline'><a href='../S/158.html#L1612'>socket</a>           1612 src/server/server.cpp void server::remove_player(socket_ptr socket)</span>
<span class='curline'><a href='../S/158.html#L1614'>socket</a>           1614 src/server/server.cpp 	std::string ip = client_address(socket);</span>
<span class='curline'><a href='../S/158.html#L1616'>socket</a>           1616 src/server/server.cpp 	auto iter = player_connections_.find(socket);</span>
<span class='curline'><a href='../S/158.html#L1622'>socket</a>           1622 src/server/server.cpp 		g-&gt;remove_player(socket, true, false);</span>
<span class='curline'><a href='../S/158.html#L1631'>socket</a>           1631 src/server/server.cpp 		send_to_lobby(diff, socket);</span>
<span class='curline'><a href='../S/158.html#L1647'>socket</a>           1647 src/server/server.cpp 	if(socket-&gt;is_open())</span>
<span class='curline'><a href='../S/158.html#L1648'>socket</a>           1648 src/server/server.cpp 		socket-&gt;close();</span>
<span class='curline'><a href='../S/158.html#L1654'>socket</a>           1654 src/server/server.cpp 		if(player.socket() != exclude)</span>
<span class='curline'><a href='../S/158.html#L1655'>socket</a>           1655 src/server/server.cpp 			send_to_player(player.socket(), data);</span>
<span class='curline'><a href='../S/158.html#L1661'>socket</a>           1661 src/server/server.cpp 		if(player.socket() != exclude)</span>
<span class='curline'><a href='../S/158.html#L1662'>socket</a>           1662 src/server/server.cpp 			send_server_message(player.socket(), message);</span>
<span class='curline'><a href='../S/158.html#L1669'>socket</a>           1669 src/server/server.cpp 		if(player.socket() != exclude)</span>
<span class='curline'><a href='../S/158.html#L1670'>socket</a>           1670 src/server/server.cpp 			send_server_message(player.socket(), message);</span>
<span class='curline'><a href='../S/158.html#L2159'>socket</a>           2159 src/server/server.cpp 			send_to_player(player.socket(), data);</span>
<span class='curline'><a href='../S/158.html#L2198'>socket</a>           2198 src/server/server.cpp 		send_to_player(player.socket(), data);</span>
<span class='curline'><a href='../S/158.html#L2248'>socket</a>           2248 src/server/server.cpp 				parameters = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2263'>socket</a>           2263 src/server/server.cpp 				|| (match_ip &amp;&amp; utils::wildcard_string_match(client_address(player.socket()), parameters))</span>
<span class='curline'><a href='../S/158.html#L2278'>socket</a>           2278 src/server/server.cpp 		if (clones.find(client_address(it-&gt;socket())) != clones.end()) continue;</span>
<span class='curline'><a href='../S/158.html#L2281'>socket</a>           2281 src/server/server.cpp 			if (client_address(it-&gt;socket()) == client_address(clone-&gt;socket())) {</span>
<span class='curline'><a href='../S/158.html#L2284'>socket</a>           2284 src/server/server.cpp 					clones.insert(client_address(it-&gt;socket()));</span>
<span class='curline'><a href='../S/158.html#L2365'>socket</a>           2365 src/server/server.cpp 				const std::string ip = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2431'>socket</a>           2431 src/server/server.cpp 			if (utils::wildcard_string_match(client_address(player.socket()), target)) {</span>
<span class='curline'><a href='../S/158.html#L2432'>socket</a>           2432 src/server/server.cpp 				users_to_kick.push_back(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2441'>socket</a>           2441 src/server/server.cpp 				const std::string ip = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2442'>socket</a>           2442 src/server/server.cpp 				users_to_kick.push_back(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2519'>socket</a>           2519 src/server/server.cpp 				const std::string ip = client_address(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2582'>socket</a>           2582 src/server/server.cpp 		if ((match_ip &amp;&amp; utils::wildcard_string_match(client_address(player.socket()), kick_mask))</span>
<span class='curline'><a href='../S/158.html#L2584'>socket</a>           2584 src/server/server.cpp 			users_to_kick.push_back(player.socket());</span>
<span class='curline'><a href='../S/158.html#L2587'>socket</a>           2587 src/server/server.cpp 	for(const auto&amp; socket : users_to_kick) {</span>
<span class='curline'><a href='../S/158.html#L2590'>socket</a>           2590 src/server/server.cpp 		*out &lt;&lt; "Kicked " &lt;&lt; player_connections_.find(socket)-&gt;name() &lt;&lt; " ("</span>
<span class='curline'><a href='../S/158.html#L2591'>socket</a>           2591 src/server/server.cpp 			 &lt;&lt; client_address(socket) &lt;&lt; "). '"</span>
<span class='curline'><a href='../S/158.html#L2593'>socket</a>           2593 src/server/server.cpp 		async_send_error(socket, kick_message);</span>
<span class='curline'><a href='../S/158.html#L2594'>socket</a>           2594 src/server/server.cpp 		remove_player(socket);</span>
<span class='curline'><a href='../S/158.html#L2638'>socket</a>           2638 src/server/server.cpp 			if (player != player_connections_.get&lt;name_t&gt;().end() &amp;&amp; client_address(player-&gt;socket()) == ip) {</span>
<span class='curline'><a href='../S/158.html#L2683'>socket</a>           2683 src/server/server.cpp 					   &lt;&lt; it-&gt;socket() &lt;&lt; ")\n";</span>
<span class='curline'><a href='../S/153.html#L39'>socket</a>             39 src/server/server.hpp 	void handle_new_client(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L41'>socket</a>             41 src/server/server.hpp 	void handle_version(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L42'>socket</a>             42 src/server/server.hpp 	void read_version(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L44'>socket</a>             44 src/server/server.hpp 	void login(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L45'>socket</a>             45 src/server/server.hpp 	void handle_login(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L46'>socket</a>             46 src/server/server.hpp 	void send_password_request(socket_ptr socket, const std::string&amp; msg,</span>
<span class='curline'><a href='../S/153.html#L50'>socket</a>             50 src/server/server.hpp 	void add_player(socket_ptr socket, const wesnothd::player&amp;);</span>
<span class='curline'><a href='../S/153.html#L51'>socket</a>             51 src/server/server.hpp 	void read_from_player(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L52'>socket</a>             52 src/server/server.hpp 	void handle_read_from_player(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L53'>socket</a>             53 src/server/server.hpp 	void handle_player_in_lobby(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L54'>socket</a>             54 src/server/server.hpp 	void handle_player_in_game(socket_ptr socket, std::shared_ptr&lt;simple_wml::document&gt; doc);</span>
<span class='curline'><a href='../S/153.html#L55'>socket</a>             55 src/server/server.hpp 	void handle_whisper(socket_ptr socket, simple_wml::node&amp; whisper);</span>
<span class='curline'><a href='../S/153.html#L56'>socket</a>             56 src/server/server.hpp 	void handle_query(socket_ptr socket, simple_wml::node&amp; query);</span>
<span class='curline'><a href='../S/153.html#L57'>socket</a>             57 src/server/server.hpp 	void handle_nickserv(socket_ptr socket, simple_wml::node&amp; nickserv);</span>
<span class='curline'><a href='../S/153.html#L58'>socket</a>             58 src/server/server.hpp 	void handle_message(socket_ptr socket, simple_wml::node&amp; message);</span>
<span class='curline'><a href='../S/153.html#L59'>socket</a>             59 src/server/server.hpp 	void handle_create_game(socket_ptr socket, simple_wml::node&amp; create_game);</span>
<span class='curline'><a href='../S/153.html#L62'>socket</a>             62 src/server/server.hpp 	void handle_join_game(socket_ptr socket, simple_wml::node&amp; join);</span>
<span class='curline'><a href='../S/153.html#L63'>socket</a>             63 src/server/server.hpp 	void remove_player(socket_ptr socket);</span>
<span class='curline'><a href='../S/153.html#L68'>socket</a>             68 src/server/server.hpp 	bool player_is_in_game(socket_ptr socket) const {</span>
<span class='curline'><a href='../S/153.html#L69'>socket</a>             69 src/server/server.hpp 		return bool(player_connections_.find(socket)-&gt;get_game());</span>
<span class='curline'><a href='../S/166.html#L68'>socket</a>             68 src/server/server_base.cpp 	socket_ptr socket = std::make_shared&lt;boost::asio::ip::tcp::socket&gt;(std::ref(io_service_));</span>
<span class='curline'><a href='../S/166.html#L69'>socket</a>             69 src/server/server_base.cpp 	acceptor_.async_accept(*socket, std::bind(&amp;server_base::accept_connection, this, _1, socket));</span>
<span class='curline'><a href='../S/166.html#L72'>socket</a>             72 src/server/server_base.cpp void server_base::accept_connection(const boost::system::error_code&amp; error, socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L81'>socket</a>             81 src/server/server_base.cpp 	const std::string ip = client_address(socket);</span>
<span class='curline'><a href='../S/166.html#L86'>socket</a>             86 src/server/server_base.cpp 		async_send_error(socket, "You are banned. Reason: " + reason);</span>
<span class='curline'><a href='../S/166.html#L95'>socket</a>             95 src/server/server_base.cpp 		serverside_handshake(socket);</span>
<span class='curline'><a href='../S/166.html#L100'>socket</a>            100 src/server/server_base.cpp void server_base::serverside_handshake(socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L104'>socket</a>            104 src/server/server_base.cpp 				*socket, boost::asio::buffer(handshake.get(), 4),</span>
<span class='curline'><a href='../S/166.html#L105'>socket</a>            105 src/server/server_base.cpp 				std::bind(&amp;server_base::handle_handshake, this, _1, socket, handshake)</span>
<span class='curline'><a href='../S/166.html#L109'>socket</a>            109 src/server/server_base.cpp void server_base::handle_handshake(const boost::system::error_code&amp; error, socket_ptr socket, boost::shared_array&lt;char&gt; handshake)</span>
<span class='curline'><a href='../S/166.html#L111'>socket</a>            111 src/server/server_base.cpp 	if(check_error(error, socket))</span>
<span class='curline'><a href='../S/166.html#L115'>socket</a>            115 src/server/server_base.cpp 		ERR_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tincorrect handshake\n";</span>
<span class='curline'><a href='../S/166.html#L119'>socket</a>            119 src/server/server_base.cpp 				*socket, boost::asio::buffer(handshake_response_.buf, 4),</span>
<span class='curline'><a href='../S/166.html#L121'>socket</a>            121 src/server/server_base.cpp 					{ if(!check_error(error, socket)) this-&gt;handle_new_client(socket); }</span>
<span class='curline'><a href='../S/166.html#L156'>socket</a>            156 src/server/server_base.cpp std::string client_address(socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L159'>socket</a>            159 src/server/server_base.cpp 	std::string result = socket-&gt;remote_endpoint(error).address().to_string();</span>
<span class='curline'><a href='../S/166.html#L166'>socket</a>            166 src/server/server_base.cpp bool check_error(const boost::system::error_code&amp; error, socket_ptr socket)</span>
<span class='curline'><a href='../S/166.html#L170'>socket</a>            170 src/server/server_base.cpp 			LOG_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\tconnection closed\n";</span>
<span class='curline'><a href='../S/166.html#L172'>socket</a>            172 src/server/server_base.cpp 			ERR_SERVER &lt;&lt; client_address(socket) &lt;&lt; "\t" &lt;&lt; error.message() &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/166.html#L178'>socket</a>            178 src/server/server_base.cpp void async_send_error(socket_ptr socket, const std::string&amp; msg, const char* error_code)</span>
<span class='curline'><a href='../S/166.html#L186'>socket</a>            186 src/server/server_base.cpp 	async_send_doc(socket, doc);</span>
<span class='curline'><a href='../S/166.html#L189'>socket</a>            189 src/server/server_base.cpp void async_send_warning(socket_ptr socket, const std::string&amp; msg, const char* warning_code)</span>
<span class='curline'><a href='../S/166.html#L197'>socket</a>            197 src/server/server_base.cpp 	async_send_doc(socket, doc);</span>
<span class='curline'><a href='../S/166.html#L200'>socket</a>            200 src/server/server_base.cpp void async_send_message(socket_ptr socket, const std::string&amp; msg)</span>
<span class='curline'><a href='../S/166.html#L205'>socket</a>            205 src/server/server_base.cpp 	async_send_doc(socket, doc);</span>
<span class='curline'><a href='../S/151.html#L33'>socket</a>             33 src/server/server_base.hpp typedef std::shared_ptr&lt;boost::asio::ip::tcp::socket&gt; socket_ptr;</span>
<span class='curline'><a href='../S/151.html#L54'>socket</a>             54 src/server/server_base.hpp 	void accept_connection(const boost::system::error_code&amp; error, socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L60'>socket</a>             60 src/server/server_base.hpp 	void serverside_handshake(socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L61'>socket</a>             61 src/server/server_base.hpp 	void handle_handshake(const boost::system::error_code&amp; error, socket_ptr socket, boost::shared_array&lt;char&gt; buf);</span>
<span class='curline'><a href='../S/151.html#L63'>socket</a>             63 src/server/server_base.hpp 	virtual void handle_new_client(socket_ptr socket) = 0;</span>
<span class='curline'><a href='../S/151.html#L82'>socket</a>             82 src/server/server_base.hpp std::string client_address(socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L83'>socket</a>             83 src/server/server_base.hpp bool check_error(const boost::system::error_code&amp; error, socket_ptr socket);</span>
<span class='curline'><a href='../S/151.html#L85'>socket</a>             85 src/server/server_base.hpp void async_send_error(socket_ptr socket, const std::string&amp; msg, const char* error_code = "");</span>
<span class='curline'><a href='../S/151.html#L86'>socket</a>             86 src/server/server_base.hpp void async_send_warning(socket_ptr socket, const std::string&amp; msg, const char* warning_code = "");</span>
<span class='curline'><a href='../S/151.html#L87'>socket</a>             87 src/server/server_base.hpp void async_send_message(socket_ptr socket, const std::string&amp; msg);</span>
<span class='curline'><a href='../S/321.html#L116'>socket</a>            116 src/wesnothd_connection.hpp 	typedef boost::asio::ip::tcp::socket socket;</span>
<span class='curline'><a href='../S/321.html#L117'>socket</a>            117 src/wesnothd_connection.hpp 	socket socket_;</span>
<span class='curline'><a href='../S/1330.html#L61'>socket</a>             61 utils/appveyor/irc-notify.py import os, random, socket, ssl, sys, time</span>
<span class='curline'><a href='../S/1330.html#L141'>socket</a>            141 utils/appveyor/irc-notify.py         irc_sock = ssl.wrap_socket(socket.socket(socket.AF_INET, socket.SOCK_STREAM))</span>
<span class='curline'><a href='../S/1330.html#L142'>socket</a>            142 utils/appveyor/irc-notify.py         irc_sock.connect((socket.gethostbyname('chat.freenode.net'), 6697))</span>
<span class='curline'><a href='../S/1360.html#L53'>socket</a>             53 utils/wesnothd.pl 	foreach my $socket (@_) {</span>
<span class='curline'><a href='../S/1360.html#L54'>socket</a>             54 utils/wesnothd.pl 		my $sock = $socks_map{$socket};</span>
<span class='curline'><a href='../S/1360.html#L72'>socket</a>             72 utils/wesnothd.pl 	foreach my $socket (@users) {</span>
<span class='curline'><a href='../S/1360.html#L73'>socket</a>             73 utils/wesnothd.pl 		&amp;send_data($doc, $socks_map{$socket}) unless $socks_map{$socket} eq $exclude;</span>
</pre>
</body>
</html>
