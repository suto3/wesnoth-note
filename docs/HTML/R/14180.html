<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>un</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4057.html#L424'>un</a>                424 data/tools/unit_tree/helpers.py     def add_node(self, un):</span>
<span class='curline'><a href='../S/4057.html#L428'>un</a>                428 data/tools/unit_tree/helpers.py         self.lookup[un.id] = un</span>
<span class='curline'><a href='../S/4057.html#L477'>un</a>                477 data/tools/unit_tree/helpers.py         un = self.lookup[uid]</span>
<span class='curline'><a href='../S/4057.html#L478'>un</a>                478 data/tools/unit_tree/helpers.py         return un.child_ids</span>
<span class='curline'><a href='../S/4057.html#L481'>un</a>                481 data/tools/unit_tree/helpers.py         un = self.lookup[uid]</span>
<span class='curline'><a href='../S/4057.html#L482'>un</a>                482 data/tools/unit_tree/helpers.py         return un.parent_ids</span>
<span class='curline'><a href='../S/4055.html#L386'>un</a>                386 data/tools/unit_tree/html_output.py                     hspan, vspan, un = row[column]</span>
<span class='curline'><a href='../S/4055.html#L387'>un</a>                387 data/tools/unit_tree/html_output.py                     if not un: continue</span>
<span class='curline'><a href='../S/4055.html#L388'>un</a>                388 data/tools/unit_tree/html_output.py                     if isinstance(un, helpers.GroupNode):</span>
<span class='curline'><a href='../S/4055.html#L392'>un</a>                392 data/tools/unit_tree/html_output.py                             html, un.name, un.name))</span>
<span class='curline'><a href='../S/4055.html#L427'>un</a>                427 data/tools/unit_tree/html_output.py                     if un.hidden: continue</span>
<span class='curline'><a href='../S/4055.html#L428'>un</a>                428 data/tools/unit_tree/html_output.py                     if "mainline" in un.campaigns: addon = "mainline"</span>
<span class='curline'><a href='../S/4055.html#L431'>un</a>                431 data/tools/unit_tree/html_output.py                     name = self.wesnoth.get_unit_value(un,</span>
<span class='curline'><a href='../S/4055.html#L575'>un</a>                575 data/tools/unit_tree/html_output.py                 hspan, vspan, un = rows[row][column]</span>
<span class='curline'><a href='../S/4055.html#L585'>un</a>                585 data/tools/unit_tree/html_output.py                     if un and isinstance(un, helpers.GroupNode):</span>
<span class='curline'><a href='../S/4055.html#L591'>un</a>                591 data/tools/unit_tree/html_output.py                                 eid, fid = un.data</span>
<span class='curline'><a href='../S/4055.html#L597'>un</a>                597 data/tools/unit_tree/html_output.py                         racename = un.name</span>
<span class='curline'><a href='../S/4055.html#L602'>un</a>                602 data/tools/unit_tree/html_output.py                     elif un:</span>
<span class='curline'><a href='../S/4055.html#L603'>un</a>                603 data/tools/unit_tree/html_output.py                         u = un.unit</span>
<span class='curline'><a href='../S/4055.html#L620'>un</a>                620 data/tools/unit_tree/html_output.py                             if un.id in ms.units:</span>
<span class='curline'><a href='../S/4055.html#L622'>un</a>                622 data/tools/unit_tree/html_output.py                             if un.id in ms.is_leader:</span>
<span class='curline'><a href='../S/898.html#L1419'>un</a>               1419 src/actions/attack.cpp 	const unit_map::const_iterator un = units.find(loc);</span>
<span class='curline'><a href='../S/898.html#L1420'>un</a>               1420 src/actions/attack.cpp 	if(un == units.end()) {</span>
<span class='curline'><a href='../S/898.html#L1424'>un</a>               1424 src/actions/attack.cpp 	unit_ability_list abil = un-&gt;get_abilities("leadership");</span>
<span class='curline'><a href='../S/885.html#L64'>un</a>                 64 src/actions/undo_recall_action.cpp 	unit_ptr un = un_it.get_shared_ptr();</span>
<span class='curline'><a href='../S/885.html#L65'>un</a>                 65 src/actions/undo_recall_action.cpp 	if (!un) {</span>
<span class='curline'><a href='../S/885.html#L69'>un</a>                 69 src/actions/undo_recall_action.cpp 	statistics::un_recall_unit(*un);</span>
<span class='curline'><a href='../S/885.html#L70'>un</a>                 70 src/actions/undo_recall_action.cpp 	int cost = statistics::un_recall_unit_cost(*un);</span>
<span class='curline'><a href='../S/885.html#L78'>un</a>                 78 src/actions/undo_recall_action.cpp 	current_team.recall_list().add(un);</span>
<span class='curline'><a href='../S/894.html#L65'>un</a>                 65 src/actions/undo_recruit_action.cpp 	const unit &amp;un = *un_it;</span>
<span class='curline'><a href='../S/894.html#L66'>un</a>                 66 src/actions/undo_recruit_action.cpp 	statistics::un_recruit_unit(un);</span>
<span class='curline'><a href='../S/894.html#L67'>un</a>                 67 src/actions/undo_recruit_action.cpp 	current_team.spend_gold(-un.type().cost());</span>
<span class='curline'><a href='../S/233.html#L343'>un</a>                343 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(from_);</span>
<span class='curline'><a href='../S/233.html#L344'>un</a>                344 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/233.html#L348'>un</a>                348 src/ai/actions.cpp 	const unit *u = &amp;*un;</span>
<span class='curline'><a href='../S/233.html#L360'>un</a>                360 src/ai/actions.cpp bool move_result::test_route(const unit &amp;un)</span>
<span class='curline'><a href='../S/233.html#L363'>un</a>                363 src/ai/actions.cpp 		if (!remove_movement_ || (un.movement_left() == 0) ) {</span>
<span class='curline'><a href='../S/233.html#L370'>un</a>                370 src/ai/actions.cpp 	if (un.movement_left() == 0 ) {</span>
<span class='curline'><a href='../S/233.html#L381'>un</a>                381 src/ai/actions.cpp 	const pathfind::shortest_path_calculator calc(un, my_team, resources::gameboard-&gt;teams(), resources::gameboard-&gt;map());</span>
<span class='curline'><a href='../S/233.html#L384'>un</a>                384 src/ai/actions.cpp 	pathfind::teleport_map allowed_teleports = pathfind::get_teleport_locations(un, my_team, true);///@todo 1.9: see_all -&gt; false</span>
<span class='curline'><a href='../S/233.html#L387'>un</a>                387 src/ai/actions.cpp 	route_ = std::shared_ptr&lt;pathfind::plain_route&gt;( new pathfind::plain_route(pathfind::a_star_search(un.get_location(), to_, 10000.0, calc, resources::gameboard-&gt;map().w(), resources::gameboard-&gt;map().h(), &amp;allowed_teleports)));</span>
<span class='curline'><a href='../S/233.html#L459'>un</a>                459 src/ai/actions.cpp 		unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/233.html#L460'>un</a>                460 src/ai/actions.cpp 		if(remove_movement_ &amp;&amp; un-&gt;movement_left() &gt; 0 &amp;&amp; unit_location_ == to_){</span>
<span class='curline'><a href='../S/233.html#L830'>un</a>                830 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/233.html#L831'>un</a>                831 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/233.html#L835'>un</a>                835 src/ai/actions.cpp 	const unit *u = &amp;*un;</span>
<span class='curline'><a href='../S/233.html#L858'>un</a>                858 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/233.html#L859'>un</a>                859 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/233.html#L863'>un</a>                863 src/ai/actions.cpp 	if (remove_movement_ &amp;&amp; un-&gt;movement_left() != 0) {</span>
<span class='curline'><a href='../S/233.html#L867'>un</a>                867 src/ai/actions.cpp 	if (remove_attacks_ &amp;&amp; un-&gt;attacks_left() != 0) {</span>
<span class='curline'><a href='../S/233.html#L896'>un</a>                896 src/ai/actions.cpp 	unit_map::iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/233.html#L908'>un</a>                908 src/ai/actions.cpp 			un-&gt;remove_movement_ai();</span>
<span class='curline'><a href='../S/233.html#L913'>un</a>                913 src/ai/actions.cpp 			un-&gt;remove_attacks_ai();</span>
<span class='curline'><a href='../S/235.html#L194'>un</a>                194 src/ai/actions.hpp 	bool test_route(const unit &amp;un);</span>
<span class='curline'><a href='../S/286.html#L1103'>un</a>               1103 src/ai/contexts.cpp 			const unit&amp; un = *u;</span>
<span class='curline'><a href='../S/286.html#L1107'>un</a>               1107 src/ai/contexts.cpp 			if(un.side() &lt; get_side()) {</span>
<span class='curline'><a href='../S/286.html#L1113'>un</a>               1113 src/ai/contexts.cpp 			if(un.alignment() == unit_type::ALIGNMENT::LAWFUL) {</span>
<span class='curline'><a href='../S/286.html#L1115'>un</a>               1115 src/ai/contexts.cpp 			} else if(un.alignment() == unit_type::ALIGNMENT::CHAOTIC) {</span>
<span class='curline'><a href='../S/286.html#L1117'>un</a>               1117 src/ai/contexts.cpp 			} else if(un.alignment() == unit_type::ALIGNMENT::LIMINAL) {</span>
<span class='curline'><a href='../S/286.html#L1122'>un</a>               1122 src/ai/contexts.cpp 			int64_t hp = int(sqrt(double(un.hitpoints()) / un.max_hitpoints()) * 1000);</span>
<span class='curline'><a href='../S/286.html#L1124'>un</a>               1124 src/ai/contexts.cpp 			for(const attack_type &amp;att : un.attacks())</span>
<span class='curline'><a href='../S/286.html#L1133'>un</a>               1133 src/ai/contexts.cpp 			int64_t defense = 100 - un.defense_modifier(terrain);</span>
<span class='curline'><a href='../S/238.html#L731'>un</a>                731 src/ai/default/ca.cpp 		const unit  &amp;un = *u;</span>
<span class='curline'><a href='../S/238.html#L735'>un</a>                735 src/ai/default/ca.cpp 		if(un.hitpoints() &lt; (threat*2*un.defense_modifier(map_.get_terrain(current_loc)))/100) {</span>
<span class='curline'><a href='../S/238.html#L1526'>un</a>               1526 src/ai/default/ca.cpp bool retreat_phase::should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un,  const move_map &amp;srcdst, const move_map &amp;dstsrc, double caution)</span>
<span class='curline'><a href='../S/238.html#L1534'>un</a>               1534 src/ai/default/ca.cpp 	double optimal_terrain = best_defensive_position(un-&gt;get_location(), dstsrc,</span>
<span class='curline'><a href='../S/238.html#L1537'>un</a>               1537 src/ai/default/ca.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc)) / 100.0;</span>
<span class='curline'><a href='../S/248.html#L233'>un</a>                233 src/ai/default/ca.hpp 	bool should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un, const move_map &amp;srcdst, const move_map &amp;dstsrc, double caution);</span>
<span class='curline'><a href='../S/237.html#L532'>un</a>                532 src/ai/default/ca_move_to_targets.cpp 			const unit&amp; un = *best;</span>
<span class='curline'><a href='../S/237.html#L541'>un</a>                541 src/ai/default/ca_move_to_targets.cpp 			const double max_acceptable_threat = un.hitpoints()/4;</span>
<span class='curline'><a href='../S/237.html#L548'>un</a>                548 src/ai/default/ca_move_to_targets.cpp 				const int defense = un.defense_modifier(map_.get_terrain(i-&gt;second));</span>
<span class='curline'><a href='../S/237.html#L699'>un</a>                699 src/ai/default/ca_move_to_targets.cpp 				const unit_map::const_iterator un = units_.find(j-&gt;second);</span>
<span class='curline'><a href='../S/237.html#L700'>un</a>                700 src/ai/default/ca_move_to_targets.cpp 				if(un == units_.end() || (un-&gt;can_recruit() &amp;&amp; !get_leader_ignores_keep()) || un-&gt;movement_left() &lt; un-&gt;total_movement()) {</span>
<span class='curline'><a href='../S/237.html#L762'>un</a>                762 src/ai/default/ca_move_to_targets.cpp 		const unit_map::const_iterator un = units_.find(*i);</span>
<span class='curline'><a href='../S/237.html#L763'>un</a>                763 src/ai/default/ca_move_to_targets.cpp 		if(un == units_.end()) {</span>
<span class='curline'><a href='../S/237.html#L786'>un</a>                786 src/ai/default/ca_move_to_targets.cpp 			int defense = un-&gt;defense_modifier(map_.get_terrain(*j));</span>
<span class='curline'><a href='../S/237.html#L836'>un</a>                836 src/ai/default/ca_move_to_targets.cpp 		const unit &amp;un = *u;</span>
<span class='curline'><a href='../S/237.html#L840'>un</a>                840 src/ai/default/ca_move_to_targets.cpp 			defense += un.defense_modifier(map_.get_terrain(*j));</span>
<span class='curline'><a href='../S/237.html#L846'>un</a>                846 src/ai/default/ca_move_to_targets.cpp 		for(const attack_type&amp; a : un.attacks()) {</span>
<span class='curline'><a href='../S/237.html#L851'>un</a>                851 src/ai/default/ca_move_to_targets.cpp 		const int rating = (defense*best_attack*un.hitpoints())/(100*un.max_hitpoints());</span>
<span class='curline'><a href='../S/237.html#L860'>un</a>                860 src/ai/default/ca_move_to_targets.cpp bool move_to_targets_phase::should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un,</span>
<span class='curline'><a href='../S/237.html#L868'>un</a>                868 src/ai/default/ca_move_to_targets.cpp 	double optimal_terrain = best_defensive_position(un-&gt;get_location(), dstsrc,</span>
<span class='curline'><a href='../S/237.html#L871'>un</a>                871 src/ai/default/ca_move_to_targets.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc))/100.0;</span>
<span class='curline'><a href='../S/249.html#L76'>un</a>                 76 src/ai/default/ca_move_to_targets.hpp 	bool should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un,</span>
<span class='curline'><a href='../S/253.html#L526'>un</a>                526 src/ai/formula/function_table.cpp 		const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/253.html#L538'>un</a>                538 src/ai/formula/function_table.cpp 		return variant(combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(), loc, un.alignment(), un.is_fearless()));</span>
<span class='curline'><a href='../S/253.html#L652'>un</a>                652 src/ai/formula/function_table.cpp 		unit_map::const_iterator un = resources::gameboard-&gt;units().begin();</span>
<span class='curline'><a href='../S/253.html#L654'>un</a>                654 src/ai/formula/function_table.cpp 		while (un != end) {</span>
<span class='curline'><a href='../S/253.html#L655'>un</a>                655 src/ai/formula/function_table.cpp 			if (distance_between(loc, un-&gt;get_location()) &lt;= range) {</span>
<span class='curline'><a href='../S/253.html#L656'>un</a>                656 src/ai/formula/function_table.cpp 				if (un-&gt;side() != ai_.get_side()) {//fixme: ignores allied units</span>
<span class='curline'><a href='../S/253.html#L657'>un</a>                657 src/ai/formula/function_table.cpp 					vars.emplace_back(std::make_shared&lt;unit_callable&gt;(*un));</span>
<span class='curline'><a href='../S/253.html#L660'>un</a>                660 src/ai/formula/function_table.cpp 			++un;</span>
<span class='curline'><a href='../S/253.html#L1240'>un</a>               1240 src/ai/formula/function_table.cpp 			unit_map::const_iterator un = resources::gameboard-&gt;units().find(range.first-&gt;second);</span>
<span class='curline'><a href='../S/253.html#L1241'>un</a>               1241 src/ai/formula/function_table.cpp 			assert(un != resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/253.html#L1242'>un</a>               1242 src/ai/formula/function_table.cpp 			vars.emplace_back(std::make_shared&lt;unit_callable&gt;(*un));</span>
<span class='curline'><a href='../S/73.html#L458'>un</a>                458 src/editor/controller/editor_controller.cpp 		unit_map::const_unit_iterator un =</span>
<span class='curline'><a href='../S/73.html#L460'>un</a>                460 src/editor/controller/editor_controller.cpp 		return un-&gt;loyal() ? ACTION_ON : ACTION_OFF;</span>
<span class='curline'><a href='../S/73.html#L465'>un</a>                465 src/editor/controller/editor_controller.cpp 		unit_map::const_unit_iterator un =</span>
<span class='curline'><a href='../S/73.html#L467'>un</a>                467 src/editor/controller/editor_controller.cpp 		return un-&gt;can_recruit() ? ACTION_ON : ACTION_OFF;</span>
<span class='curline'><a href='../S/73.html#L471'>un</a>                471 src/editor/controller/editor_controller.cpp 		unit_map::const_unit_iterator un =</span>
<span class='curline'><a href='../S/73.html#L473'>un</a>                473 src/editor/controller/editor_controller.cpp 		return (!un-&gt;unrenamable()) ? ACTION_ON : ACTION_OFF;</span>
<span class='curline'><a href='../S/73.html#L578'>un</a>                578 src/editor/controller/editor_controller.cpp 				unit_map::const_unit_iterator un = get_current_map_context().get_units().find(gui_-&gt;mouseover_hex());</span>
<span class='curline'><a href='../S/73.html#L579'>un</a>                579 src/editor/controller/editor_controller.cpp 				assert(un != get_current_map_context().get_units().end());</span>
<span class='curline'><a href='../S/73.html#L580'>un</a>                580 src/editor/controller/editor_controller.cpp 				return un-&gt;facing() == index ? ACTION_SELECTED : ACTION_DESELECTED;</span>
<span class='curline'><a href='../S/73.html#L676'>un</a>                676 src/editor/controller/editor_controller.cpp 					unit_map::unit_iterator un = get_current_map_context().get_units().find(gui_-&gt;mouseover_hex());</span>
<span class='curline'><a href='../S/73.html#L677'>un</a>                677 src/editor/controller/editor_controller.cpp 					assert(un != get_current_map_context().get_units().end());</span>
<span class='curline'><a href='../S/73.html#L678'>un</a>                678 src/editor/controller/editor_controller.cpp 					un-&gt;set_facing(map_location::DIRECTION(index));</span>
<span class='curline'><a href='../S/73.html#L679'>un</a>                679 src/editor/controller/editor_controller.cpp 					un-&gt;anim_comp().set_standing();</span>
<span class='curline'><a href='../S/73.html#L773'>un</a>                773 src/editor/controller/editor_controller.cpp 			const unit_map::unit_iterator un = get_current_map_context().get_units().find(loc);</span>
<span class='curline'><a href='../S/73.html#L776'>un</a>                776 src/editor/controller/editor_controller.cpp 			un-&gt;set_recruits(recruits);</span>
<span class='curline'><a href='../S/73.html#L782'>un</a>                782 src/editor/controller/editor_controller.cpp 			const unit_map::unit_iterator un = get_current_map_context().get_units().find(loc);</span>
<span class='curline'><a href='../S/73.html#L783'>un</a>                783 src/editor/controller/editor_controller.cpp 			bool unrenamable = un-&gt;unrenamable();</span>
<span class='curline'><a href='../S/73.html#L784'>un</a>                784 src/editor/controller/editor_controller.cpp 			un-&gt;set_unrenamable(!unrenamable);</span>
<span class='curline'><a href='../S/73.html#L790'>un</a>                790 src/editor/controller/editor_controller.cpp 			const unit_map::unit_iterator un = get_current_map_context().get_units().find(loc);</span>
<span class='curline'><a href='../S/73.html#L791'>un</a>                791 src/editor/controller/editor_controller.cpp 			bool canrecruit = un-&gt;can_recruit();</span>
<span class='curline'><a href='../S/73.html#L792'>un</a>                792 src/editor/controller/editor_controller.cpp 			un-&gt;set_can_recruit(!canrecruit);</span>
<span class='curline'><a href='../S/73.html#L793'>un</a>                793 src/editor/controller/editor_controller.cpp 			un-&gt;anim_comp().set_standing();</span>
<span class='curline'><a href='../S/73.html#L1118'>un</a>               1118 src/editor/controller/editor_controller.cpp 	const unit_map::const_unit_iterator un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1119'>un</a>               1119 src/editor/controller/editor_controller.cpp 	if(un != units.end()) {</span>
<span class='curline'><a href='../S/73.html#L1120'>un</a>               1120 src/editor/controller/editor_controller.cpp 		help::show_unit_help(gui_-&gt;video(), un-&gt;type_id(), un-&gt;type().show_variations_in_help(), false);</span>
<span class='curline'><a href='../S/73.html#L1139'>un</a>               1139 src/editor/controller/editor_controller.cpp 	const unit_map::unit_iterator&amp; un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1144'>un</a>               1144 src/editor/controller/editor_controller.cpp 	if(un != units.end()) {</span>
<span class='curline'><a href='../S/73.html#L1145'>un</a>               1145 src/editor/controller/editor_controller.cpp 		std::string id = un-&gt;id();</span>
<span class='curline'><a href='../S/73.html#L1147'>un</a>               1147 src/editor/controller/editor_controller.cpp 			un-&gt;set_id(id);</span>
<span class='curline'><a href='../S/73.html#L1156'>un</a>               1156 src/editor/controller/editor_controller.cpp 	const unit_map::unit_iterator&amp; un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1161'>un</a>               1161 src/editor/controller/editor_controller.cpp 	if(un != units.end()) {</span>
<span class='curline'><a href='../S/73.html#L1162'>un</a>               1162 src/editor/controller/editor_controller.cpp 		std::string name = un-&gt;name();</span>
<span class='curline'><a href='../S/73.html#L1165'>un</a>               1165 src/editor/controller/editor_controller.cpp 			un-&gt;set_name(name);</span>
<span class='curline'><a href='../S/771.html#L144'>un</a>                144 src/formula/function_gamestate.cpp 			const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/771.html#L146'>un</a>                146 src/formula/function_gamestate.cpp 			if(un.total_movement() &lt; un.movement_cost((resources::gameboard-&gt;map())[loc]))</span>
<span class='curline'><a href='../S/771.html#L153'>un</a>                153 src/formula/function_gamestate.cpp 			return variant(100 - un.defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/771.html#L157'>un</a>                157 src/formula/function_gamestate.cpp 			const unit_type&amp; un = u_type-&gt;get_unit_type();</span>
<span class='curline'><a href='../S/771.html#L159'>un</a>                159 src/formula/function_gamestate.cpp 			if(un.movement() &lt; un.movement_type().movement_cost((resources::gameboard-&gt;map())[loc]))</span>
<span class='curline'><a href='../S/771.html#L166'>un</a>                166 src/formula/function_gamestate.cpp 			return variant(100 - un.movement_type().defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/771.html#L194'>un</a>                194 src/formula/function_gamestate.cpp 			const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/771.html#L200'>un</a>                200 src/formula/function_gamestate.cpp 			return variant(un.defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/771.html#L204'>un</a>                204 src/formula/function_gamestate.cpp 			const unit_type&amp; un = u_type-&gt;get_unit_type();</span>
<span class='curline'><a href='../S/771.html#L210'>un</a>                210 src/formula/function_gamestate.cpp 			return variant(un.movement_type().defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/771.html#L238'>un</a>                238 src/formula/function_gamestate.cpp 			const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/771.html#L244'>un</a>                244 src/formula/function_gamestate.cpp 			return variant(un.movement_cost((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/771.html#L248'>un</a>                248 src/formula/function_gamestate.cpp 			const unit_type&amp; un = u_type-&gt;get_unit_type();</span>
<span class='curline'><a href='../S/771.html#L254'>un</a>                254 src/formula/function_gamestate.cpp 			return variant(un.movement_type().movement_cost((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/742.html#L94'>un</a>                 94 src/game_board.cpp 		unit_ptr un =  it.get_shared_ptr();</span>
<span class='curline'><a href='../S/742.html#L95'>un</a>                 95 src/game_board.cpp 		if (teams_[un-&gt;side() - 1].persistent()) {</span>
<span class='curline'><a href='../S/742.html#L96'>un</a>                 96 src/game_board.cpp 			un-&gt;new_turn();</span>
<span class='curline'><a href='../S/742.html#L97'>un</a>                 97 src/game_board.cpp 			un-&gt;new_scenario();</span>
<span class='curline'><a href='../S/834.html#L428'>un</a>                428 src/game_display.cpp 		const unit_map::const_iterator un =</span>
<span class='curline'><a href='../S/834.html#L431'>un</a>                431 src/game_display.cpp 		if(un != dc_-&gt;units().end()) {</span>
<span class='curline'><a href='../S/834.html#L433'>un</a>                433 src/game_display.cpp 			int def =  100 - un-&gt;defense_modifier(get_map().get_terrain(loc));</span>
<span class='curline'><a href='../S/1060.html#L413'>un</a>                413 src/game_events/action_wml.cpp 		for(size_t un = 0; un &lt; num_units; ++un) {</span>
<span class='curline'><a href='../S/1060.html#L414'>un</a>                414 src/game_events/action_wml.cpp 			if(step &gt;= paths[un].size() || paths[un][step - 1] == paths[un][step])</span>
<span class='curline'><a href='../S/1060.html#L416'>un</a>                416 src/game_events/action_wml.cpp 			DBG_NG &lt;&lt; "Moving unit " &lt;&lt; un &lt;&lt; ", doing step " &lt;&lt; step &lt;&lt; '\n';</span>
<span class='curline'><a href='../S/1060.html#L417'>un</a>                417 src/game_events/action_wml.cpp 			path_step[0] = paths[un][step - 1];</span>
<span class='curline'><a href='../S/1060.html#L418'>un</a>                418 src/game_events/action_wml.cpp 			path_step[1] = paths[un][step];</span>
<span class='curline'><a href='../S/1060.html#L419'>un</a>                419 src/game_events/action_wml.cpp 			unit_display::move_unit(path_step, units[un].get_unit_ptr());</span>
<span class='curline'><a href='../S/1060.html#L420'>un</a>                420 src/game_events/action_wml.cpp 			units[un]-&gt;set_location(path_step[1]);</span>
<span class='curline'><a href='../S/1060.html#L421'>un</a>                421 src/game_events/action_wml.cpp 			units[un]-&gt;anim_comp().set_standing();</span>
<span class='curline'><a href='../S/921.html#L585'>un</a>                585 src/menu_events.cpp 	const unit_map::const_iterator un = current_unit();</span>
<span class='curline'><a href='../S/921.html#L586'>un</a>                586 src/menu_events.cpp 	if(un != units().end()) {</span>
<span class='curline'><a href='../S/921.html#L587'>un</a>                587 src/menu_events.cpp 		help::show_unit_description(pc_.get_display().video(), *un);</span>
<span class='curline'><a href='../S/921.html#L605'>un</a>                605 src/menu_events.cpp 	const unit_map::iterator un = current_unit();</span>
<span class='curline'><a href='../S/921.html#L606'>un</a>                606 src/menu_events.cpp 	if(un == units().end() || gui_-&gt;viewing_side() != un-&gt;side()) {</span>
<span class='curline'><a href='../S/921.html#L610'>un</a>                610 src/menu_events.cpp 	if(un-&gt;unrenamable()) {</span>
<span class='curline'><a href='../S/921.html#L614'>un</a>                614 src/menu_events.cpp 	std::string name = un-&gt;name();</span>
<span class='curline'><a href='../S/921.html#L619'>un</a>                619 src/menu_events.cpp 		resources::recorder-&gt;add_rename(name, un-&gt;get_location());</span>
<span class='curline'><a href='../S/921.html#L620'>un</a>                620 src/menu_events.cpp 		un-&gt;rename(name);</span>
<span class='curline'><a href='../S/921.html#L947'>un</a>                947 src/menu_events.cpp 	const unit_map::iterator un = units().find(mousehandler.get_selected_hex());</span>
<span class='curline'><a href='../S/921.html#L948'>un</a>                948 src/menu_events.cpp 	if(un != units().end() &amp;&amp; un-&gt;side() == side_num &amp;&amp; un-&gt;movement_left() &gt;= 0) {</span>
<span class='curline'><a href='../S/921.html#L949'>un</a>                949 src/menu_events.cpp 		un-&gt;toggle_hold_position();</span>
<span class='curline'><a href='../S/921.html#L955'>un</a>                955 src/menu_events.cpp 		if(un-&gt;hold_position()) {</span>
<span class='curline'><a href='../S/921.html#L963'>un</a>                963 src/menu_events.cpp 	const unit_map::iterator un = units().find(mousehandler.get_selected_hex());</span>
<span class='curline'><a href='../S/921.html#L964'>un</a>                964 src/menu_events.cpp 	if(un != units().end() &amp;&amp; un-&gt;side() == side_num &amp;&amp; un-&gt;movement_left() &gt;= 0) {</span>
<span class='curline'><a href='../S/921.html#L965'>un</a>                965 src/menu_events.cpp 		un-&gt;toggle_user_end_turn();</span>
<span class='curline'><a href='../S/921.html#L971'>un</a>                971 src/menu_events.cpp 		if(un-&gt;user_end_turn()) {</span>
<span class='curline'><a href='../S/957.html#L231'>un</a>                231 src/mouse_events.cpp 	unit_ptr un; //will later point to unit at mouseover_hex_</span>
<span class='curline'><a href='../S/957.html#L287'>un</a>                287 src/mouse_events.cpp 			un = iter.get_shared_ptr();</span>
<span class='curline'><a href='../S/957.html#L289'>un</a>                289 src/mouse_events.cpp 			un.reset();</span>
<span class='curline'><a href='../S/957.html#L292'>un</a>                292 src/mouse_events.cpp 	if ( (!selected_hex_.valid()) &amp;&amp; un &amp;&amp; current_paths_.destinations.empty() &amp;&amp;</span>
<span class='curline'><a href='../S/957.html#L293'>un</a>                293 src/mouse_events.cpp 			!gui().fogged(un-&gt;get_location()))</span>
<span class='curline'><a href='../S/957.html#L295'>un</a>                295 src/mouse_events.cpp 		if (un-&gt;side() == side_num_) {</span>
<span class='curline'><a href='../S/957.html#L297'>un</a>                297 src/mouse_events.cpp 			const map_location go_to = un-&gt;get_goto();</span>
<span class='curline'><a href='../S/957.html#L302'>un</a>                302 src/mouse_events.cpp 					route = get_route(un.get(), go_to, current_team());</span>
<span class='curline'><a href='../S/957.html#L309'>un</a>                309 src/mouse_events.cpp 			current_paths_ = pathfind::paths(*un, false, true,</span>
<span class='curline'><a href='../S/957.html#L315'>un</a>                315 src/mouse_events.cpp 			unit_movement_resetter move_reset(*un);</span>
<span class='curline'><a href='../S/957.html#L318'>un</a>                318 src/mouse_events.cpp 			current_paths_ = pathfind::paths(*un, false, true,</span>
<span class='curline'><a href='../S/957.html#L443'>un</a>                443 src/mouse_events.cpp pathfind::marked_route mouse_handler::get_route(const unit* un, map_location go_to, team &amp;team) const</span>
<span class='curline'><a href='../S/957.html#L448'>un</a>                448 src/mouse_events.cpp 	const pathfind::shortest_path_calculator calc(*un, team, board.teams(), board.map());</span>
<span class='curline'><a href='../S/957.html#L450'>un</a>                450 src/mouse_events.cpp 	pathfind::teleport_map allowed_teleports = pathfind::get_teleport_locations(*un, viewing_team());</span>
<span class='curline'><a href='../S/957.html#L454'>un</a>                454 src/mouse_events.cpp 	route = pathfind::a_star_search(un-&gt;get_location(), go_to, 10000.0, calc, board.map().w(), board.map().h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/17.html#L66'>un</a>                 66 src/mouse_events.hpp 	pathfind::marked_route get_route(const unit* un, map_location go_to, team &amp;team) const;</span>
<span class='curline'><a href='../S/1101.html#L90'>un</a>                 90 src/replay.cpp 	for (const config &amp;un : cfg.child_range("unit"))</span>
<span class='curline'><a href='../S/1101.html#L92'>un</a>                 92 src/replay.cpp 		const map_location loc(un);</span>
<span class='curline'><a href='../S/1101.html#L96'>un</a>                 96 src/replay.cpp 				   &lt;&lt; un["type"] &lt;&lt; "' (side " &lt;&lt; un["side"] &lt;&lt; ") at "</span>
<span class='curline'><a href='../S/1101.html#L108'>un</a>                108 src/replay.cpp 			if (u_cfg[*str] != un[*str]) {</span>
<span class='curline'><a href='../S/1101.html#L110'>un</a>                110 src/replay.cpp 					   &lt;&lt; loc &lt;&lt; " data source: '" &lt;&lt; un[*str]</span>
</pre>
</body>
</html>
