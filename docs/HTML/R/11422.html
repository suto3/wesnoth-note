<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>ref_count</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/995.html#L152'>ref_count</a>         152 src/units/map.cpp 			assert(opod.ref_count != 0);</span>
<span class='curline'><a href='../S/995.html#L189'>ref_count</a>         189 src/units/map.cpp 		if(upod.ref_count == 0) {</span>
<span class='curline'><a href='../S/995.html#L222'>ref_count</a>         222 src/units/map.cpp 		if(ui-&gt;second.ref_count &lt; 0) {</span>
<span class='curline'><a href='../S/995.html#L227'>ref_count</a>         227 src/units/map.cpp 		num_iters += ui-&gt;second.ref_count;</span>
<span class='curline'><a href='../S/995.html#L261'>ref_count</a>         261 src/units/map.cpp 	if(uit-&gt;second.ref_count == 0){</span>
<span class='curline'><a href='../S/995.html#L340'>ref_count</a>         340 src/units/map.cpp 		if(uit-&gt;second.ref_count &lt; 0){</span>
<span class='curline'><a href='../S/995.html#L342'>ref_count</a>         342 src/units/map.cpp 			ERR_NG &lt;&lt; "unit_map pod ref_count &lt;0 is " &lt;&lt; uit-&gt;second.ref_count&lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/995.html#L351'>ref_count</a>         351 src/units/map.cpp 		if(!uit-&gt;second.unit &amp;&amp; uit-&gt;second.ref_count == 0 ){</span>
<span class='curline'><a href='../S/1000.html#L101'>ref_count</a>         101 src/units/map.hpp 		mutable n_ref_counter::ref_counter&lt;signed int&gt; ref_count;</span>
<span class='curline'><a href='../S/1000.html#L245'>ref_count</a>         245 src/units/map.hpp 				assert(i_-&gt;second.ref_count &gt; 0);</span>
<span class='curline'><a href='../S/1000.html#L251'>ref_count</a>         251 src/units/map.hpp 		void inc() { if(valid_ref_count()) { ++(i_-&gt;second.ref_count); } }</span>
<span class='curline'><a href='../S/1000.html#L258'>ref_count</a>         258 src/units/map.hpp 				assert(i_-&gt;second.ref_count != 0);</span>
<span class='curline'><a href='../S/1000.html#L259'>ref_count</a>         259 src/units/map.hpp 				if( (--(i_-&gt;second.ref_count) == 0)  &amp;&amp; (!i_-&gt;second.unit) ){</span>
<span class='curline'><a href='../S/1010.html#L175'>ref_count</a>         175 src/units/unit.cpp 	LOG_UT &lt;&lt; "Adding a reference to a unit: id = " &lt;&lt; u-&gt;id() &lt;&lt; ", uid = " &lt;&lt; u-&gt;underlying_id() &lt;&lt; ", refcount = " &lt;&lt; u-&gt;ref_count() &lt;&lt; " ptr:" &lt;&lt; u &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/1010.html#L186'>ref_count</a>         186 src/units/unit.cpp 	LOG_UT &lt;&lt; "Removing a reference to a unit: id = " &lt;&lt; u-&gt;id() &lt;&lt; ", uid = " &lt;&lt; u-&gt;underlying_id() &lt;&lt; ", refcount = " &lt;&lt; u-&gt;ref_count() &lt;&lt; " ptr:" &lt;&lt; u &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/862.html#L53'>ref_count</a>          53 src/utils/smart_list.hpp 		node_t() : dat_ptr(nullptr), ref_count(1), next(this), prev(this)</span>
<span class='curline'><a href='../S/862.html#L56'>ref_count</a>          56 src/utils/smart_list.hpp 		explicit node_t(const Data &amp; d) : dat_ptr(new Data(d)), ref_count(1), next(nullptr), prev(nullptr)</span>
<span class='curline'><a href='../S/862.html#L65'>ref_count</a>          65 src/utils/smart_list.hpp 		mutable size_t ref_count;</span>
<span class='curline'><a href='../S/862.html#L307'>ref_count</a>         307 src/utils/smart_list.hpp 	static bool flagged(const node_t &amp; node)  { return node.ref_count % 2 == 0; }</span>
<span class='curline'><a href='../S/862.html#L309'>ref_count</a>         309 src/utils/smart_list.hpp 	static void flag(const node_t &amp; node)     { node.ref_count &amp;= ~size_t(1); }</span>
<span class='curline'><a href='../S/862.html#L646'>ref_count</a>         646 src/utils/smart_list.hpp 	if ( pos-&gt;ref_count == 0 ) {</span>
<span class='curline'><a href='../S/862.html#L764'>ref_count</a>         764 src/utils/smart_list.hpp 		assert(ref_count == 0);</span>
<span class='curline'><a href='../S/862.html#L811'>ref_count</a>         811 src/utils/smart_list.hpp 		ptr_-&gt;ref_count += 2;</span>
<span class='curline'><a href='../S/862.html#L824'>ref_count</a>         824 src/utils/smart_list.hpp 		old_ptr-&gt;ref_count -= 2;</span>
</pre>
</body>
</html>
