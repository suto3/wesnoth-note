<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>weapon</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4378.html#L194'>weapon</a>            194 data/ai/lua/ai_helper.lua function ai_helper.checked_attack(ai, attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4378.html#L195'>weapon</a>            195 data/ai/lua/ai_helper.lua     local check = ai.check_attack(attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4378.html#L203'>weapon</a>            203 data/ai/lua/ai_helper.lua     return ai.attack(attacker, defender, weapon)</span>
<span class='curline'><a href='../S/4378.html#L432'>weapon</a>            432 data/ai/lua/ai_helper.lua     local weapon = cfg and cfg.weapon</span>
<span class='curline'><a href='../S/4378.html#L435'>weapon</a>            435 data/ai/lua/ai_helper.lua     local check_result = ai.check_attack(unit, target, weapon)</span>
<span class='curline'><a href='../S/4378.html#L443'>weapon</a>            443 data/ai/lua/ai_helper.lua     move_result = ai.attack(unit, target, weapon)</span>
<span class='curline'><a href='../S/4380.html#L729'>weapon</a>            729 data/ai/lua/battle_calcs.lua function battle_calcs.simulate_combat_loc(attacker, dst, defender, weapon)</span>
<span class='curline'><a href='../S/4380.html#L737'>weapon</a>            737 data/ai/lua/battle_calcs.lua     if weapon then</span>
<span class='curline'><a href='../S/4380.html#L738'>weapon</a>            738 data/ai/lua/battle_calcs.lua         return wesnoth.simulate_combat(attacker_dst, weapon, defender)</span>
<span class='curline'><a href='../S/4383.html#L294'>weapon</a>            294 data/ai/lua/ca_high_xp_attack.lua     AH.robust_move_and_attack(ai, data.XP_attack.src, data.XP_attack.dst, data.XP_attack.target, { weapon = data.XP_attack.attack_num })</span>
<span class='curline'><a href='../S/4375.html#L497'>weapon</a>            497 data/ai/lua/generic_rush_engine.lua             AH.robust_move_and_attack(ai, attacker, self.data.attack.dst, self.data.attack.target, { weapon = poison_weapon })</span>
<span class='curline'><a href='../S/4330.html#L19'>weapon</a>             19 data/ai/micro_ais/cas/ca_bottleneck_attack.lua             for n_weapon,weapon in ipairs(attacker.attacks) do</span>
<span class='curline'><a href='../S/4323.html#L383'>weapon</a>            383 data/ai/micro_ais/cas/ca_bottleneck_move.lua                     for n_weapon,weapon in ipairs(unit.attacks) do</span>
<span class='curline'><a href='../S/4323.html#L469'>weapon</a>            469 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local cfg = { partial_move = true, weapon = data.BD_level_up_weapon }</span>
<span class='curline'><a href='../S/4314.html#L95'>weapon</a>             95 data/ai/micro_ais/cas/ca_messenger_move.lua         for n_weapon,weapon in ipairs(messenger.attacks) do</span>
<span class='curline'><a href='../S/4308.html#L53'>weapon</a>             53 data/ai/micro_ais/cas/ca_protect_unit_attack.lua                         for n_weapon,weapon in ipairs(enemy_attack.enemy.attacks) do</span>
<span class='curline'><a href='../S/4653.html#L55'>weapon</a>             55 data/campaigns/Son_Of_The_Black_Eye/scenarios/07_The_Desert_of_Death.cfg             weapon=1</span>
<span class='curline'><a href='../S/5606.html#L46'>weapon</a>             46 data/test/scenarios/feeding.cfg             weapon = 0</span>
<span class='curline'><a href='../S/5577.html#L33'>weapon</a>             33 data/test/scenarios/test_berzerk_firststrike.cfg                 weapon = 0</span>
<span class='curline'><a href='../S/5596.html#L14'>weapon</a>             14 data/test/scenarios/test_grunt_tod_damage.cfg             weapon = 0</span>
<span class='curline'><a href='../S/5584.html#L113'>weapon</a>            113 data/test/scenarios/test_unit_map.cfg                 weapon = 1</span>
<span class='curline'><a href='../S/5584.html#L129'>weapon</a>            129 data/test/scenarios/test_unit_map.cfg                 weapon = 1</span>
<span class='curline'><a href='../S/5600.html#L93'>weapon</a>             93 data/test/scenarios/test_victory_attacks.cfg                 weapon = 1</span>
<span class='curline'><a href='../S/5600.html#L121'>weapon</a>            121 data/test/scenarios/test_victory_attacks.cfg                 weapon = 0</span>
<span class='curline'><a href='../S/5600.html#L150'>weapon</a>            150 data/test/scenarios/test_victory_attacks.cfg                 weapon = 1</span>
<span class='curline'><a href='../S/5600.html#L182'>weapon</a>            182 data/test/scenarios/test_victory_attacks.cfg                 weapon = 0</span>
<span class='curline'><a href='../S/5600.html#L213'>weapon</a>            213 data/test/scenarios/test_victory_attacks.cfg                 weapon = 0</span>
<span class='curline'><a href='../S/5600.html#L245'>weapon</a>            245 data/test/scenarios/test_victory_attacks.cfg                 weapon = 0</span>
<span class='curline'><a href='../S/1790.html#L99'>weapon</a>             99 doc/design/gui2/unit_attack.cpp 		const attack_type&amp; attacker_weapon = attack_type(*attacker.weapon);</span>
<span class='curline'><a href='../S/1790.html#L101'>weapon</a>            101 doc/design/gui2/unit_attack.cpp 				defender.weapon ? *defender.weapon : no_weapon);</span>
<span class='curline'><a href='../S/896.html#L69'>weapon</a>             69 src/actions/attack.cpp 	weapon(nullptr),</span>
<span class='curline'><a href='../S/896.html#L101'>weapon</a>            101 src/actions/attack.cpp 		weapon = u.attacks()[attack_num].shared_from_this();</span>
<span class='curline'><a href='../S/896.html#L116'>weapon</a>            116 src/actions/attack.cpp 	if (weapon) {</span>
<span class='curline'><a href='../S/896.html#L117'>weapon</a>            117 src/actions/attack.cpp 		weapon-&gt;set_specials_context(u_loc, opp_loc, attacking, opp_weapon);</span>
<span class='curline'><a href='../S/896.html#L119'>weapon</a>            119 src/actions/attack.cpp 			opp_weapon-&gt;set_specials_context(opp_loc, u_loc, !attacking, weapon);</span>
<span class='curline'><a href='../S/896.html#L120'>weapon</a>            120 src/actions/attack.cpp 		slows = weapon-&gt;get_special_bool("slow");</span>
<span class='curline'><a href='../S/896.html#L121'>weapon</a>            121 src/actions/attack.cpp 		drains = !opp.get_state("undrainable") &amp;&amp; weapon-&gt;get_special_bool("drains");</span>
<span class='curline'><a href='../S/896.html#L122'>weapon</a>            122 src/actions/attack.cpp 		petrifies = weapon-&gt;get_special_bool("petrifies");</span>
<span class='curline'><a href='../S/896.html#L123'>weapon</a>            123 src/actions/attack.cpp 		poisons = !opp.get_state("unpoisonable") &amp;&amp; weapon-&gt;get_special_bool("poison") &amp;&amp; !opp.get_state(unit::STATE_POISONED);</span>
<span class='curline'><a href='../S/896.html#L125'>weapon</a>            125 src/actions/attack.cpp 		rounds = weapon-&gt;get_specials("berserk").highest("value", 1).first;</span>
<span class='curline'><a href='../S/896.html#L126'>weapon</a>            126 src/actions/attack.cpp 		firststrike = weapon-&gt;get_special_bool("firststrike");</span>
<span class='curline'><a href='../S/896.html#L129'>weapon</a>            129 src/actions/attack.cpp 			const bool out_of_range = distance &gt; weapon-&gt;max_range() || distance &lt; weapon-&gt;min_range();</span>
<span class='curline'><a href='../S/896.html#L130'>weapon</a>            130 src/actions/attack.cpp 			disable = weapon-&gt;get_special_bool("disable") || out_of_range;</span>
<span class='curline'><a href='../S/896.html#L134'>weapon</a>            134 src/actions/attack.cpp 		unit_ability_list plague_specials = weapon-&gt;get_specials("plague");</span>
<span class='curline'><a href='../S/896.html#L146'>weapon</a>            146 src/actions/attack.cpp 			resources::gameboard-&gt;map().get_terrain(opp_loc)) + weapon-&gt;accuracy() -</span>
<span class='curline'><a href='../S/896.html#L152'>weapon</a>            152 src/actions/attack.cpp 		unit_ability_list cth_specials = weapon-&gt;get_specials("chance_to_hit");</span>
<span class='curline'><a href='../S/896.html#L162'>weapon</a>            162 src/actions/attack.cpp 		int base_damage = weapon-&gt;modified_damage(backstab_pos);</span>
<span class='curline'><a href='../S/896.html#L173'>weapon</a>            173 src/actions/attack.cpp 		damage_multiplier *= opp.damage_from(*weapon, !attacking, opp_loc);</span>
<span class='curline'><a href='../S/896.html#L183'>weapon</a>            183 src/actions/attack.cpp 			unit_ability_list drain_specials = weapon-&gt;get_specials("drains");</span>
<span class='curline'><a href='../S/896.html#L191'>weapon</a>            191 src/actions/attack.cpp 		unit_ability_list heal_on_hit_specials = weapon-&gt;get_specials("heal_on_hit");</span>
<span class='curline'><a href='../S/896.html#L198'>weapon</a>            198 src/actions/attack.cpp 		weapon-&gt;modified_attacks(backstab_pos, swarm_min, swarm_max);</span>
<span class='curline'><a href='../S/896.html#L210'>weapon</a>            210 src/actions/attack.cpp 	weapon(att_weapon),</span>
<span class='curline'><a href='../S/896.html#L255'>weapon</a>            255 src/actions/attack.cpp 	if (weapon) {</span>
<span class='curline'><a href='../S/896.html#L256'>weapon</a>            256 src/actions/attack.cpp 		weapon-&gt;set_specials_context(map_location::null_location(), attacking);</span>
<span class='curline'><a href='../S/896.html#L260'>weapon</a>            260 src/actions/attack.cpp 		slows = weapon-&gt;get_special_bool("slow");</span>
<span class='curline'><a href='../S/896.html#L261'>weapon</a>            261 src/actions/attack.cpp 		drains = !opp_type-&gt;musthave_status("undrainable") &amp;&amp; weapon-&gt;get_special_bool("drains");</span>
<span class='curline'><a href='../S/896.html#L262'>weapon</a>            262 src/actions/attack.cpp 		petrifies = weapon-&gt;get_special_bool("petrifies");</span>
<span class='curline'><a href='../S/896.html#L263'>weapon</a>            263 src/actions/attack.cpp 		poisons = !opp_type-&gt;musthave_status("unpoisonable") &amp;&amp; weapon-&gt;get_special_bool("poison");</span>
<span class='curline'><a href='../S/896.html#L264'>weapon</a>            264 src/actions/attack.cpp 		rounds = weapon-&gt;get_specials("berserk").highest("value", 1).first;</span>
<span class='curline'><a href='../S/896.html#L265'>weapon</a>            265 src/actions/attack.cpp 		firststrike = weapon-&gt;get_special_bool("firststrike");</span>
<span class='curline'><a href='../S/896.html#L266'>weapon</a>            266 src/actions/attack.cpp 		disable = weapon-&gt;get_special_bool("disable");</span>
<span class='curline'><a href='../S/896.html#L268'>weapon</a>            268 src/actions/attack.cpp 		unit_ability_list plague_specials = weapon-&gt;get_specials("plague");</span>
<span class='curline'><a href='../S/896.html#L279'>weapon</a>            279 src/actions/attack.cpp 		signed int cth = 100 - opp_terrain_defense + weapon-&gt;accuracy() -</span>
<span class='curline'><a href='../S/896.html#L285'>weapon</a>            285 src/actions/attack.cpp 		unit_ability_list cth_specials = weapon-&gt;get_specials("chance_to_hit");</span>
<span class='curline'><a href='../S/896.html#L289'>weapon</a>            289 src/actions/attack.cpp 		int base_damage = weapon-&gt;modified_damage(backstab_pos);</span>
<span class='curline'><a href='../S/896.html#L293'>weapon</a>            293 src/actions/attack.cpp 		damage_multiplier *= opp_type-&gt;resistance_against(weapon-&gt;type(), !attacking);</span>
<span class='curline'><a href='../S/896.html#L299'>weapon</a>            299 src/actions/attack.cpp 			unit_ability_list drain_specials = weapon-&gt;get_specials("drains");</span>
<span class='curline'><a href='../S/896.html#L307'>weapon</a>            307 src/actions/attack.cpp 		unit_ability_list heal_on_hit_specials = weapon-&gt;get_specials("heal_on_hit");</span>
<span class='curline'><a href='../S/896.html#L314'>weapon</a>            314 src/actions/attack.cpp 		weapon-&gt;modified_attacks(backstab_pos, swarm_min, swarm_max);</span>
<span class='curline'><a href='../S/896.html#L728'>weapon</a>            728 src/actions/attack.cpp 			unit_info(const map_location &amp;loc, int weapon, unit_map &amp;units);</span>
<span class='curline'><a href='../S/896.html#L762'>weapon</a>            762 src/actions/attack.cpp 	attack::unit_info::unit_info(const map_location&amp; loc, int weapon, unit_map&amp; units) :</span>
<span class='curline'><a href='../S/896.html#L764'>weapon</a>            764 src/actions/attack.cpp 		weapon_(weapon),</span>
<span class='curline'><a href='../S/896.html#L831'>weapon</a>            831 src/actions/attack.cpp 		if(a_stats_-&gt;weapon != nullptr &amp;&amp; a_.valid()) {</span>
<span class='curline'><a href='../S/896.html#L832'>weapon</a>            832 src/actions/attack.cpp 			a_stats_-&gt;weapon-&gt;write(a_weapon_cfg);</span>
<span class='curline'><a href='../S/896.html#L834'>weapon</a>            834 src/actions/attack.cpp 		if(d_stats_-&gt;weapon != nullptr &amp;&amp; d_.valid()) {</span>
<span class='curline'><a href='../S/896.html#L835'>weapon</a>            835 src/actions/attack.cpp 			d_stats_-&gt;weapon-&gt;write(d_weapon_cfg);</span>
<span class='curline'><a href='../S/896.html#L877'>weapon</a>            877 src/actions/attack.cpp 			const_cast&lt;battle_context_unit_stats*&gt;(a_stats_)-&gt;weapon =</span>
<span class='curline'><a href='../S/896.html#L881'>weapon</a>            881 src/actions/attack.cpp 			const_cast&lt;battle_context_unit_stats*&gt;(d_stats_)-&gt;weapon =</span>
<span class='curline'><a href='../S/896.html#L977'>weapon</a>            977 src/actions/attack.cpp 				*attacker_stats-&gt;weapon, defender_stats-&gt;weapon,</span>
<span class='curline'><a href='../S/896.html#L1108'>weapon</a>           1108 src/actions/attack.cpp 		config a_weapon_cfg = attacker_stats-&gt;weapon &amp;&amp; attacker.valid() ?</span>
<span class='curline'><a href='../S/896.html#L1109'>weapon</a>           1109 src/actions/attack.cpp 			attacker_stats-&gt;weapon-&gt;to_config() : config();</span>
<span class='curline'><a href='../S/896.html#L1110'>weapon</a>           1110 src/actions/attack.cpp 		config d_weapon_cfg = defender_stats-&gt;weapon &amp;&amp; defender.valid() ?</span>
<span class='curline'><a href='../S/896.html#L1111'>weapon</a>           1111 src/actions/attack.cpp 			defender_stats-&gt;weapon-&gt;to_config() : config();</span>
<span class='curline'><a href='../S/896.html#L1129'>weapon</a>           1129 src/actions/attack.cpp 				nullptr, defender_stats-&gt;weapon);</span>
<span class='curline'><a href='../S/896.html#L1132'>weapon</a>           1132 src/actions/attack.cpp 				attacker_stats-&gt;weapon, defender_stats-&gt;weapon,</span>
<span class='curline'><a href='../S/896.html#L1220'>weapon</a>           1220 src/actions/attack.cpp 		if(a_stats_-&gt;weapon) {</span>
<span class='curline'><a href='../S/896.html#L1221'>weapon</a>           1221 src/actions/attack.cpp 			a_.weap_id_ = a_stats_-&gt;weapon-&gt;id();</span>
<span class='curline'><a href='../S/896.html#L1223'>weapon</a>           1223 src/actions/attack.cpp 		if(d_stats_-&gt;weapon) {</span>
<span class='curline'><a href='../S/896.html#L1224'>weapon</a>           1224 src/actions/attack.cpp 			d_.weap_id_ = d_stats_-&gt;weapon-&gt;id();</span>
<span class='curline'><a href='../S/896.html#L1249'>weapon</a>           1249 src/actions/attack.cpp 			      a_stats_-&gt;weapon-&gt;name() &lt;&lt; " " &lt;&lt; a_stats_-&gt;damage &lt;&lt; "-" &lt;&lt;</span>
<span class='curline'><a href='../S/896.html#L1251'>weapon</a>           1251 src/actions/attack.cpp 			      (d_stats_-&gt;weapon ? d_stats_-&gt;weapon-&gt;name() : "none") &lt;&lt; " " &lt;&lt;</span>
<span class='curline'><a href='../S/896.html#L1257'>weapon</a>           1257 src/actions/attack.cpp 		unit_display::unit_draw_weapon(a_.loc_,a_.get_unit(),a_stats_-&gt;weapon,d_stats_-&gt;weapon,d_.loc_,&amp;d_.get_unit());</span>
<span class='curline'><a href='../S/896.html#L1320'>weapon</a>           1320 src/actions/attack.cpp 		unit_display::unit_sheath_weapon(a_.loc_,a_.valid()?&amp;a_.get_unit():nullptr,a_stats_-&gt;weapon,</span>
<span class='curline'><a href='../S/896.html#L1321'>weapon</a>           1321 src/actions/attack.cpp 				d_stats_-&gt;weapon,d_.loc_,d_.valid()?&amp;d_.get_unit():nullptr);</span>
<span class='curline'><a href='../S/899.html#L50'>weapon</a>             50 src/actions/attack.hpp 	const_attack_ptr weapon;	/**&lt; The weapon used by the unit to attack the opponent, or nullptr if there is none. */</span>
<span class='curline'><a href='../S/899.html#L111'>weapon</a>            111 src/actions/attack.hpp 		weapon(nullptr), attack_num(0), is_attacker(true), // These are not used in attack prediction.</span>
<span class='curline'><a href='../S/261.html#L161'>weapon</a>            161 src/ai/formula/callable_objects.cpp 				    const map_location&amp; src, const map_location&amp; dst, int weapon)</span>
<span class='curline'><a href='../S/261.html#L163'>weapon</a>            163 src/ai/formula/callable_objects.cpp 	bc_(resources::gameboard-&gt;units(), src, dst, weapon, -1, 1.0, nullptr,</span>
<span class='curline'><a href='../S/261.html#L208'>weapon</a>            208 src/ai/formula/callable_objects.cpp 	const int other_weapon = a_callable-&gt;weapon();</span>
<span class='curline'><a href='../S/261.html#L209'>weapon</a>            209 src/ai/formula/callable_objects.cpp 	if (int cmp = (this-&gt;weapon() - other_weapon)) {</span>
<span class='curline'><a href='../S/261.html#L234'>weapon</a>            234 src/ai/formula/callable_objects.cpp 		attack_result_ptr attack_result = ai.execute_attack_action(src_, dst_, weapon());</span>
<span class='curline'><a href='../S/254.html#L55'>weapon</a>             55 src/ai/formula/callable_objects.hpp 			    const map_location&amp; src, const map_location&amp; dst, int weapon);</span>
<span class='curline'><a href='../S/253.html#L738'>weapon</a>            738 src/ai/formula/function_table.cpp 		int weapon;</span>
<span class='curline'><a href='../S/253.html#L739'>weapon</a>            739 src/ai/formula/function_table.cpp 		if (args().size() &gt; 3) weapon = args()[3]-&gt;evaluate(variables,add_debug_info(fdb,3,"calculate_outcome:weapon")).as_int();</span>
<span class='curline'><a href='../S/253.html#L740'>weapon</a>            740 src/ai/formula/function_table.cpp 		else weapon = -1;</span>
<span class='curline'><a href='../S/253.html#L760'>weapon</a>            760 src/ai/formula/function_table.cpp 			defender_location, weapon, -1, 1.0, nullptr, &amp;*units.find(attacker_location));</span>
<span class='curline'><a href='../S/253.html#L1173'>weapon</a>           1173 src/ai/formula/function_table.cpp 		const int weapon = args().size() == 4 ? args()[3]-&gt;evaluate(variables,add_debug_info(fdb,3,"attack:weapon")).as_int() : -1;</span>
<span class='curline'><a href='../S/253.html#L1178'>weapon</a>           1178 src/ai/formula/function_table.cpp 		return variant(std::make_shared&lt;attack_callable&gt;(move_from, src, dst, weapon));</span>
<span class='curline'><a href='../S/428.html#L115'>weapon</a>            115 src/gui/dialogs/attack_predictions.cpp 	if(!attacker.stats_.weapon) {</span>
<span class='curline'><a href='../S/428.html#L129'>weapon</a>            129 src/gui/dialogs/attack_predictions.cpp 	const_attack_ptr weapon = attacker.stats_.weapon;</span>
<span class='curline'><a href='../S/428.html#L130'>weapon</a>            130 src/gui/dialogs/attack_predictions.cpp 	weapon-&gt;set_specials_context(attacker.unit_.get_location(), defender.unit_.get_location(), attacker.stats_.is_attacker, defender.stats_.weapon);</span>
<span class='curline'><a href='../S/428.html#L133'>weapon</a>            133 src/gui/dialogs/attack_predictions.cpp 	unit_ability_list dmg_specials = weapon-&gt;get_specials("damage");</span>
<span class='curline'><a href='../S/428.html#L134'>weapon</a>            134 src/gui/dialogs/attack_predictions.cpp 	unit_abilities::effect dmg_effect(dmg_specials, weapon-&gt;damage(), attacker.stats_.backstab_pos);</span>
<span class='curline'><a href='../S/428.html#L143'>weapon</a>            143 src/gui/dialogs/attack_predictions.cpp 		ss &lt;&lt; weapon-&gt;damage() &lt;&lt; " (&lt;i&gt;" &lt;&lt; weapon-&gt;name() &lt;&lt; "&lt;/i&gt;)";</span>
<span class='curline'><a href='../S/428.html#L185'>weapon</a>            185 src/gui/dialogs/attack_predictions.cpp 	const int resistance_modifier = defender.unit_.damage_from(*weapon, !attacker.stats_.is_attacker, defender.unit_.get_location());</span>
<span class='curline'><a href='../S/428.html#L193'>weapon</a>            193 src/gui/dialogs/attack_predictions.cpp 		ss &lt;&lt; string_table["type_" + weapon-&gt;type()];</span>
<span class='curline'><a href='../S/428.html#L236'>weapon</a>            236 src/gui/dialogs/attack_predictions.cpp 	const int base_damage = weapon-&gt;damage();</span>
<span class='curline'><a href='../S/460.html#L116'>weapon</a>            116 src/gui/dialogs/unit_attack.cpp 	for(const auto &amp; weapon : weapons_) {</span>
<span class='curline'><a href='../S/460.html#L117'>weapon</a>            117 src/gui/dialogs/unit_attack.cpp 		const battle_context_unit_stats&amp; attacker = weapon.get_attacker_stats();</span>
<span class='curline'><a href='../S/460.html#L118'>weapon</a>            118 src/gui/dialogs/unit_attack.cpp 		const battle_context_unit_stats&amp; defender = weapon.get_defender_stats();</span>
<span class='curline'><a href='../S/460.html#L121'>weapon</a>            121 src/gui/dialogs/unit_attack.cpp 			*attacker.weapon;</span>
<span class='curline'><a href='../S/460.html#L122'>weapon</a>            122 src/gui/dialogs/unit_attack.cpp 		const attack_type&amp; defender_weapon = defender.weapon ?</span>
<span class='curline'><a href='../S/460.html#L123'>weapon</a>            123 src/gui/dialogs/unit_attack.cpp 			*defender.weapon : *no_weapon;</span>
<span class='curline'><a href='../S/955.html#L930'>weapon</a>            930 src/mouse_events.cpp 		return (*context.get_attacker_stats().weapon).get_special_bool("disable");</span>
<span class='curline'><a href='../S/762.html#L858'>weapon</a>            858 src/reports.cpp 			battle_context weapon(rc.units(), attacker_pos, defender-&gt;get_location(), i, -1, 0.0, nullptr, attacker);</span>
<span class='curline'><a href='../S/762.html#L859'>weapon</a>            859 src/reports.cpp 			weapons.push_back(weapon);</span>
<span class='curline'><a href='../S/762.html#L863'>weapon</a>            863 src/reports.cpp 	for (const battle_context&amp; weapon : weapons) {</span>
<span class='curline'><a href='../S/762.html#L866'>weapon</a>            866 src/reports.cpp 		combatant attacker_combatant(weapon.get_attacker_stats());</span>
<span class='curline'><a href='../S/762.html#L867'>weapon</a>            867 src/reports.cpp 		combatant defender_combatant(weapon.get_defender_stats());</span>
<span class='curline'><a href='../S/762.html#L871'>weapon</a>            871 src/reports.cpp 				show_attacker ? weapon.get_attacker_stats() : weapon.get_defender_stats();</span>
<span class='curline'><a href='../S/762.html#L880'>weapon</a>            880 src/reports.cpp 		if (context_unit_stats.weapon) {</span>
<span class='curline'><a href='../S/762.html#L881'>weapon</a>            881 src/reports.cpp 			base_damage = attack_info(rc, *context_unit_stats.weapon, res, *u, unit_loc);</span>
<span class='curline'><a href='../S/762.html#L885'>weapon</a>            885 src/reports.cpp 			weapon_name = context_unit_stats.weapon-&gt;name();</span>
<span class='curline'><a href='../S/185.html#L1343'>weapon</a>           1343 src/scripting/game_lua_kernel.cpp 		if (const config &amp;weapon = ev.data.child("first")) {</span>
<span class='curline'><a href='../S/185.html#L1344'>weapon</a>           1344 src/scripting/game_lua_kernel.cpp 			cfg.add_child("weapon", weapon);</span>
<span class='curline'><a href='../S/185.html#L1346'>weapon</a>           1346 src/scripting/game_lua_kernel.cpp 		if (const config &amp;weapon = ev.data.child("second")) {</span>
<span class='curline'><a href='../S/185.html#L1347'>weapon</a>           1347 src/scripting/game_lua_kernel.cpp 			cfg.add_child("second_weapon", weapon);</span>
<span class='curline'><a href='../S/185.html#L2458'>weapon</a>           2458 src/scripting/game_lua_kernel.cpp 	if(bcustats.weapon != nullptr)</span>
<span class='curline'><a href='../S/185.html#L2460'>weapon</a>           2460 src/scripting/game_lua_kernel.cpp 		lua_pushstring(L, bcustats.weapon-&gt;id().c_str());</span>
<span class='curline'><a href='../S/185.html#L2462'>weapon</a>           2462 src/scripting/game_lua_kernel.cpp 		luaW_pushweapon(L, bcustats.weapon);</span>
<span class='curline'><a href='../S/210.html#L50'>weapon</a>             50 src/scripting/lua_unit_attacks.cpp void luaW_pushweapon(lua_State* L, attack_ptr weapon)</span>
<span class='curline'><a href='../S/210.html#L52'>weapon</a>             52 src/scripting/lua_unit_attacks.cpp 	new(L) attack_ref(weapon);</span>
<span class='curline'><a href='../S/210.html#L56'>weapon</a>             56 src/scripting/lua_unit_attacks.cpp void luaW_pushweapon(lua_State* L, const_attack_ptr weapon)</span>
<span class='curline'><a href='../S/210.html#L58'>weapon</a>             58 src/scripting/lua_unit_attacks.cpp 	new(L) attack_ref(weapon);</span>
<span class='curline'><a href='../S/213.html#L30'>weapon</a>             30 src/scripting/lua_unit_attacks.hpp void luaW_pushweapon(lua_State* L, attack_ptr weapon);</span>
<span class='curline'><a href='../S/213.html#L31'>weapon</a>             31 src/scripting/lua_unit_attacks.hpp void luaW_pushweapon(lua_State* L, const_attack_ptr weapon);</span>
<span class='curline'><a href='../S/996.html#L788'>weapon</a>            788 src/units/abilities.cpp 		                             const_attack_ptr weapon,</span>
<span class='curline'><a href='../S/996.html#L825'>weapon</a>            825 src/units/abilities.cpp 			if ( !weapon || !weapon-&gt;matches_filter(filter_weapon) )</span>
<span class='curline'><a href='../S/1011.html#L465'>weapon</a>            465 src/units/filter.cpp 		std::string weapon = vcfg["has_weapon"];</span>
<span class='curline'><a href='../S/1011.html#L468'>weapon</a>            468 src/units/filter.cpp 			if(a.id() == weapon) {</span>
</pre>
</body>
</html>
