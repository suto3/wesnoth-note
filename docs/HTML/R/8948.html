<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>loc</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4378.html#L680'>loc</a>               680 data/ai/lua/ai_helper.lua             for _,loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/4378.html#L681'>loc</a>               681 data/ai/lua/ai_helper.lua                 local movecost = wesnoth.unit_movement_cost(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4378.html#L682'>loc</a>               682 data/ai/lua/ai_helper.lua                 if (movecost &lt;= unit.max_moves) then return loc end</span>
<span class='curline'><a href='../S/4378.html#L711'>loc</a>               711 data/ai/lua/ai_helper.lua         for _,loc in ipairs(all_locs) do</span>
<span class='curline'><a href='../S/4378.html#L712'>loc</a>               712 data/ai/lua/ai_helper.lua             local movecost = wesnoth.unit_movement_cost(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4378.html#L713'>loc</a>               713 data/ai/lua/ai_helper.lua             if (movecost &lt;= unit.max_moves) then table.insert(locs, loc) end</span>
<span class='curline'><a href='../S/4378.html#L885'>loc</a>               885 data/ai/lua/ai_helper.lua     for i,loc in ipairs(list) do</span>
<span class='curline'><a href='../S/4378.html#L886'>loc</a>               886 data/ai/lua/ai_helper.lua         locsx[i] = loc[1]</span>
<span class='curline'><a href='../S/4378.html#L887'>loc</a>               887 data/ai/lua/ai_helper.lua         locsy[i] = loc[2]</span>
<span class='curline'><a href='../S/4378.html#L1058'>loc</a>              1058 data/ai/lua/ai_helper.lua function ai_helper.get_closest_enemy(loc, side, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1073'>loc</a>              1073 data/ai/lua/ai_helper.lua     if not loc then</span>
<span class='curline'><a href='../S/4378.html#L1077'>loc</a>              1077 data/ai/lua/ai_helper.lua         x, y = loc[1], loc[2]</span>
<span class='curline'><a href='../S/4378.html#L1152'>loc</a>              1152 data/ai/lua/ai_helper.lua         for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4378.html#L1153'>loc</a>              1153 data/ai/lua/ai_helper.lua             local tmp = dstsrc:get(loc[1], loc[2]) or {}</span>
<span class='curline'><a href='../S/4378.html#L1155'>loc</a>              1155 data/ai/lua/ai_helper.lua             dstsrc:insert(loc[1], loc[2], tmp)</span>
<span class='curline'><a href='../S/4378.html#L1353'>loc</a>              1353 data/ai/lua/ai_helper.lua     for _,loc in ipairs(initial_reach) do</span>
<span class='curline'><a href='../S/4378.html#L1354'>loc</a>              1354 data/ai/lua/ai_helper.lua         local unit_in_way = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4378.html#L1356'>loc</a>              1356 data/ai/lua/ai_helper.lua             reach:insert(loc[1], loc[2], 1)</span>
<span class='curline'><a href='../S/4378.html#L1481'>loc</a>              1481 data/ai/lua/ai_helper.lua     for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4378.html#L1482'>loc</a>              1482 data/ai/lua/ai_helper.lua         local unit_in_way = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4378.html#L1486'>loc</a>              1486 data/ai/lua/ai_helper.lua             local rating = loc[3]  -- also disfavors hexes next to visible enemy units for which loc[3] = 0</span>
<span class='curline'><a href='../S/4378.html#L1489'>loc</a>              1489 data/ai/lua/ai_helper.lua                 rating = rating + (loc[1] - unit.x) * dx * 0.01</span>
<span class='curline'><a href='../S/4378.html#L1490'>loc</a>              1490 data/ai/lua/ai_helper.lua                 rating = rating + (loc[2] - unit.y) * dy * 0.01</span>
<span class='curline'><a href='../S/4378.html#L1493'>loc</a>              1493 data/ai/lua/ai_helper.lua             if cfg.labels then reach_map:insert(loc[1], loc[2], rating) end</span>
<span class='curline'><a href='../S/4378.html#L1496'>loc</a>              1496 data/ai/lua/ai_helper.lua                 max_rating, best_hex = rating, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4378.html#L1655'>loc</a>              1655 data/ai/lua/ai_helper.lua         for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4378.html#L1656'>loc</a>              1656 data/ai/lua/ai_helper.lua             if attack_hex_map:get(loc[1], loc[2]) then</span>
<span class='curline'><a href='../S/4378.html#L1661'>loc</a>              1661 data/ai/lua/ai_helper.lua                 if my_unit_map:get(loc[1], loc[2]) and ((loc[1] ~= unit.x) or (loc[2] ~= unit.y)) then</span>
<span class='curline'><a href='../S/4378.html#L1666'>loc</a>              1666 data/ai/lua/ai_helper.lua                         local unit_in_way = all_units[my_unit_map:get(loc[1], loc[2])]</span>
<span class='curline'><a href='../S/4378.html#L1690'>loc</a>              1690 data/ai/lua/ai_helper.lua                     for _,target in ipairs(attack_hex_map:get(loc[1], loc[2])) do</span>
<span class='curline'><a href='../S/4378.html#L1694'>loc</a>              1694 data/ai/lua/ai_helper.lua                             unit_dst.x, unit_dst.y = loc[1], loc[2]</span>
<span class='curline'><a href='../S/4378.html#L1702'>loc</a>              1702 data/ai/lua/ai_helper.lua                             dst = { x = loc[1], y = loc[2] },</span>
<span class='curline'><a href='../S/4380.html#L1189'>loc</a>              1189 data/ai/lua/battle_calcs.lua     for _,loc in ipairs(initial_reach) do</span>
<span class='curline'><a href='../S/4380.html#L1190'>loc</a>              1190 data/ai/lua/battle_calcs.lua         reach.units:insert(loc[1], loc[2], 1)</span>
<span class='curline'><a href='../S/4380.html#L1191'>loc</a>              1191 data/ai/lua/battle_calcs.lua         reach.hitpoints:insert(loc[1], loc[2], unit.hitpoints)</span>
<span class='curline'><a href='../S/4380.html#L1192'>loc</a>              1192 data/ai/lua/battle_calcs.lua         for xa,ya in H.adjacent_tiles(loc[1], loc[2]) do</span>
<span class='curline'><a href='../S/4380.html#L1328'>loc</a>              1328 data/ai/lua/battle_calcs.lua         for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4380.html#L1329'>loc</a>              1329 data/ai/lua/battle_calcs.lua             local defense = 100 - wesnoth.unit_defense(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4380.html#L1331'>loc</a>              1331 data/ai/lua/battle_calcs.lua             if (defense &gt; (defense_map:get(loc[1], loc[2]) or -9e99)) then</span>
<span class='curline'><a href='../S/4380.html#L1332'>loc</a>              1332 data/ai/lua/battle_calcs.lua                 defense_map:insert(loc[1], loc[2], defense)</span>
<span class='curline'><a href='../S/4380.html#L1515'>loc</a>              1515 data/ai/lua/battle_calcs.lua             local loc = {}  -- attack location information for this unit for this hex</span>
<span class='curline'><a href='../S/4380.html#L1536'>loc</a>              1536 data/ai/lua/battle_calcs.lua                     loc.dst = xa * 1000 + ya</span>
<span class='curline'><a href='../S/4380.html#L1537'>loc</a>              1537 data/ai/lua/battle_calcs.lua                     loc.hit_prob = wesnoth.unit_defense(unit, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/4380.html#L1538'>loc</a>              1538 data/ai/lua/battle_calcs.lua                     table.insert(locs, loc)</span>
<span class='curline'><a href='../S/4380.html#L1541'>loc</a>              1541 data/ai/lua/battle_calcs.lua                     reachable_hexes[loc.dst] = true</span>
<span class='curline'><a href='../S/4383.html#L148'>loc</a>               148 data/ai/lua/ca_high_xp_attack.lua                     for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4383.html#L149'>loc</a>               149 data/ai/lua/ca_high_xp_attack.lua                         if (loc[1] == xa) and (loc[2] == ya) then</span>
<span class='curline'><a href='../S/4383.html#L193'>loc</a>               193 data/ai/lua/ca_high_xp_attack.lua                         for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4383.html#L194'>loc</a>               194 data/ai/lua/ca_high_xp_attack.lua                             if (loc[1] == xa) and (loc[2] == ya) then</span>
<span class='curline'><a href='../S/4375.html#L149'>loc</a>               149 data/ai/lua/generic_rush_engine.lua             for i,loc in ipairs(keeps) do</span>
<span class='curline'><a href='../S/4375.html#L151'>loc</a>               151 data/ai/lua/generic_rush_engine.lua                 local path, cost = wesnoth.find_path(leader, loc[1], loc[2])</span>
<span class='curline'><a href='../S/4375.html#L158'>loc</a>               158 data/ai/lua/generic_rush_engine.lua                         score = score + 1 / M.distance_between(loc[1], loc[2], e.x, e.y)</span>
<span class='curline'><a href='../S/4375.html#L163'>loc</a>               163 data/ai/lua/generic_rush_engine.lua                         best_loc = loc</span>
<span class='curline'><a href='../S/4375.html#L201'>loc</a>               201 data/ai/lua/generic_rush_engine.lua                     for i,loc in ipairs(close_villages) do</span>
<span class='curline'><a href='../S/4375.html#L202'>loc</a>               202 data/ai/lua/generic_rush_engine.lua                         local path_village, cost_village = wesnoth.find_path(leader, loc[1], loc[2])</span>
<span class='curline'><a href='../S/4375.html#L205'>loc</a>               205 data/ai/lua/generic_rush_engine.lua                             dummy_leader.x = loc[1]</span>
<span class='curline'><a href='../S/4375.html#L206'>loc</a>               206 data/ai/lua/generic_rush_engine.lua                             dummy_leader.y = loc[2]</span>
<span class='curline'><a href='../S/4375.html#L213'>loc</a>               213 data/ai/lua/generic_rush_engine.lua                                 next_hop = loc</span>
<span class='curline'><a href='../S/4375.html#L233'>loc</a>               233 data/ai/lua/generic_rush_engine.lua                     for i,loc in ipairs(castle) do</span>
<span class='curline'><a href='../S/4375.html#L234'>loc</a>               234 data/ai/lua/generic_rush_engine.lua                         local unit = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4375.html#L522'>loc</a>               522 data/ai/lua/generic_rush_engine.lua             local unit, loc = R.retreat_injured_units(units)</span>
<span class='curline'><a href='../S/4375.html#L525'>loc</a>               525 data/ai/lua/generic_rush_engine.lua                 self.data.retreat_loc = loc</span>
<span class='curline'><a href='../S/4379.html#L125'>loc</a>               125 data/ai/lua/retreat.lua             for j,loc in ipairs(possible_locations) do</span>
<span class='curline'><a href='../S/4379.html#L126'>loc</a>               126 data/ai/lua/retreat.lua                 local heal_amount = wesnoth.get_terrain_info(wesnoth.get_terrain(loc[1], loc[2])).healing or 0</span>
<span class='curline'><a href='../S/4379.html#L136'>loc</a>               136 data/ai/lua/retreat.lua                 local healer_values = healing_locs:get(loc[1], loc[2]) or {0, 0}</span>
<span class='curline'><a href='../S/4379.html#L139'>loc</a>               139 data/ai/lua/retreat.lua                 table.insert(location_subset, {loc[1], loc[2], heal_amount, curing})</span>
<span class='curline'><a href='../S/4379.html#L150'>loc</a>               150 data/ai/lua/retreat.lua         for j,loc in ipairs(possible_locations) do</span>
<span class='curline'><a href='../S/4379.html#L151'>loc</a>               151 data/ai/lua/retreat.lua             local unit_in_way = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4379.html#L161'>loc</a>               161 data/ai/lua/retreat.lua                         if loc[4] &gt; 0 then</span>
<span class='curline'><a href='../S/4379.html#L163'>loc</a>               163 data/ai/lua/retreat.lua                             if loc[4] == 2 then</span>
<span class='curline'><a href='../S/4379.html#L169'>loc</a>               169 data/ai/lua/retreat.lua                         heal_score = math.min(loc[3], u.max_hitpoints - u.hitpoints)</span>
<span class='curline'><a href='../S/4379.html#L175'>loc</a>               175 data/ai/lua/retreat.lua                 local enemy_count = enemy_attack_map.units:get(loc[1], loc[2]) or 0</span>
<span class='curline'><a href='../S/4379.html#L179'>loc</a>               179 data/ai/lua/retreat.lua                 rating = rating - wesnoth.unit_defense(u, wesnoth.get_terrain(loc[1], loc[2]))/10</span>
<span class='curline'><a href='../S/4379.html#L181'>loc</a>               181 data/ai/lua/retreat.lua                 if (loc[1] == u.x) and (loc[2] == u.y) and (not u.status.poisoned) then</span>
<span class='curline'><a href='../S/4379.html#L196'>loc</a>               196 data/ai/lua/retreat.lua                     max_rating, best_loc, best_unit = rating, loc, u</span>
<span class='curline'><a href='../S/4324.html#L82'>loc</a>                82 data/ai/micro_ais/cas/ca_assassin_move.lua             for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4324.html#L83'>loc</a>                83 data/ai/micro_ais/cas/ca_assassin_move.lua                 unit_damage_map:insert(loc[1], loc[2], max_damage)</span>
<span class='curline'><a href='../S/4324.html#L84'>loc</a>                84 data/ai/micro_ais/cas/ca_assassin_move.lua                 for xa,ya in H.adjacent_tiles(loc[1], loc[2]) do</span>
<span class='curline'><a href='../S/4323.html#L107'>loc</a>               107 data/ai/micro_ais/cas/ca_bottleneck_move.lua     for i,loc in ipairs(locs) do loc[3] = max_value + 10 - i * 10 end</span>
<span class='curline'><a href='../S/4323.html#L196'>loc</a>               196 data/ai/micro_ais/cas/ca_bottleneck_move.lua     for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4323.html#L197'>loc</a>               197 data/ai/micro_ais/cas/ca_bottleneck_move.lua         if data.BD_is_my_territory:get(loc[1], loc[2]) and (not occ_hexes:get(loc[1], loc[2])) then</span>
<span class='curline'><a href='../S/4323.html#L199'>loc</a>               199 data/ai/micro_ais/cas/ca_bottleneck_move.lua             if (loc[3] &gt; best_reach) then</span>
<span class='curline'><a href='../S/4323.html#L200'>loc</a>               200 data/ai/micro_ais/cas/ca_bottleneck_move.lua                 best_reach, best_hex = loc[3], { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4323.html#L350'>loc</a>               350 data/ai/micro_ais/cas/ca_bottleneck_move.lua         for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4323.html#L351'>loc</a>               351 data/ai/micro_ais/cas/ca_bottleneck_move.lua             local rating = bottleneck_get_rating(unit, loc[1], loc[2], has_leadership, is_healer, data)</span>
<span class='curline'><a href='../S/4323.html#L356'>loc</a>               356 data/ai/micro_ais/cas/ca_bottleneck_move.lua             if current_rating_map:get(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4323.html#L357'>loc</a>               357 data/ai/micro_ais/cas/ca_bottleneck_move.lua                 and (current_rating_map:get(loc[1], loc[2]) &gt;= rating)</span>
<span class='curline'><a href='../S/4323.html#L366'>loc</a>               366 data/ai/micro_ais/cas/ca_bottleneck_move.lua             if current_rating_map:get(loc[1], loc[2]) then rating = rating - 0.001 end</span>
<span class='curline'><a href='../S/4323.html#L369'>loc</a>               369 data/ai/micro_ais/cas/ca_bottleneck_move.lua             if allies_map:get(loc[1], loc[2]) then rating = 0 end</span>
<span class='curline'><a href='../S/4323.html#L373'>loc</a>               373 data/ai/micro_ais/cas/ca_bottleneck_move.lua                 max_rating, best_unit, best_hex = rating, unit, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4323.html#L380'>loc</a>               380 data/ai/micro_ais/cas/ca_bottleneck_move.lua                 if (attack.x == loc[1]) and (attack.y == loc[2]) and</span>
<span class='curline'><a href='../S/4323.html#L419'>loc</a>               419 data/ai/micro_ais/cas/ca_bottleneck_move.lua                             max_rating, best_unit, best_hex = level_up_rating, unit, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4292.html#L92'>loc</a>                92 data/ai/micro_ais/cas/ca_fast_combat_leader.lua             for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4292.html#L94'>loc</a>                94 data/ai/micro_ais/cas/ca_fast_combat_leader.lua                     loc[1], loc[2],</span>
<span class='curline'><a href='../S/4292.html#L95'>loc</a>                95 data/ai/micro_ais/cas/ca_fast_combat_leader.lua                     (enemy_power_map:get(loc[1], loc[2]) or 0) + enemy_power</span>
<span class='curline'><a href='../S/4292.html#L98'>loc</a>                98 data/ai/micro_ais/cas/ca_fast_combat_leader.lua                     loc[1], loc[2],</span>
<span class='curline'><a href='../S/4292.html#L99'>loc</a>                99 data/ai/micro_ais/cas/ca_fast_combat_leader.lua                     (enemy_number_map:get(loc[1], loc[2]) or 0) + 1</span>
<span class='curline'><a href='../S/4321.html#L202'>loc</a>               202 data/ai/micro_ais/cas/ca_fast_move.lua             for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4321.html#L203'>loc</a>               203 data/ai/micro_ais/cas/ca_fast_move.lua                 if (not avoid_map:get(loc[1], loc[2])) then</span>
<span class='curline'><a href='../S/4321.html#L204'>loc</a>               204 data/ai/micro_ais/cas/ca_fast_move.lua                     local rating = -M.distance_between(loc[1], loc[2], short_goal[1], short_goal[2])</span>
<span class='curline'><a href='../S/4321.html#L205'>loc</a>               205 data/ai/micro_ais/cas/ca_fast_move.lua                     local other_rating = -M.distance_between(loc[1], loc[2], goal.x, goal.y) / 10.</span>
<span class='curline'><a href='../S/4321.html#L210'>loc</a>               210 data/ai/micro_ais/cas/ca_fast_move.lua                         unit_in_way = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4321.html#L230'>loc</a>               230 data/ai/micro_ais/cas/ca_fast_move.lua                                 x = loc[1], y = loc[2]</span>
<span class='curline'><a href='../S/4321.html#L234'>loc</a>               234 data/ai/micro_ais/cas/ca_fast_move.lua                                 max_rating, best_hex = rating, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4295.html#L102'>loc</a>               102 data/ai/micro_ais/cas/ca_forest_animals_move.lua             for _,loc in ipairs(wander_locs) do</span>
<span class='curline'><a href='../S/4295.html#L103'>loc</a>               103 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 local dist = M.distance_between(loc[1], loc[2], unit.x, unit.y)</span>
<span class='curline'><a href='../S/4295.html#L105'>loc</a>               105 data/ai/micro_ais/cas/ca_forest_animals_move.lua                     best_hex, min_dist = loc, dist</span>
<span class='curline'><a href='../S/4305.html#L52'>loc</a>                52 data/ai/micro_ais/cas/ca_goto.lua         for _,loc in ipairs(all_locs) do</span>
<span class='curline'><a href='../S/4305.html#L53'>loc</a>                53 data/ai/micro_ais/cas/ca_goto.lua             local str = 'goal_taken_' .. wesnoth.current.turn  .. '_' .. loc[1] .. '_' .. loc[2]</span>
<span class='curline'><a href='../S/4305.html#L55'>loc</a>                55 data/ai/micro_ais/cas/ca_goto.lua                 table.insert(locs, loc)</span>
<span class='curline'><a href='../S/4305.html#L122'>loc</a>               122 data/ai/micro_ais/cas/ca_goto.lua         for _,loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/4305.html#L127'>loc</a>               127 data/ai/micro_ais/cas/ca_goto.lua                     local r = -M.distance_between(x, y, loc[1], loc[2])</span>
<span class='curline'><a href='../S/4305.html#L141'>loc</a>               141 data/ai/micro_ais/cas/ca_goto.lua                     path, cost = wesnoth.find_path(unit, loc[1], loc[2],</span>
<span class='curline'><a href='../S/4305.html#L149'>loc</a>               149 data/ai/micro_ais/cas/ca_goto.lua                         enemy_at_goal = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4305.html#L156'>loc</a>               156 data/ai/micro_ais/cas/ca_goto.lua                     path, cost = AH.find_path_with_shroud(unit, loc[1], loc[2], { ignore_units = cfg.ignore_units })</span>
<span class='curline'><a href='../S/4305.html#L170'>loc</a>               170 data/ai/micro_ais/cas/ca_goto.lua                 local unit_in_way = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4305.html#L177'>loc</a>               177 data/ai/micro_ais/cas/ca_goto.lua                     closest_hex, best_unit, best_path = loc, unit, path</span>
<span class='curline'><a href='../S/4305.html#L228'>loc</a>               228 data/ai/micro_ais/cas/ca_goto.lua         for _,loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/4305.html#L229'>loc</a>               229 data/ai/micro_ais/cas/ca_goto.lua             if (best_unit.x == loc[1]) and (best_unit.y == loc[2]) then</span>
<span class='curline'><a href='../S/4322.html#L97'>loc</a>                97 data/ai/micro_ais/cas/ca_hang_out.lua                     for _,loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/4322.html#L99'>loc</a>                99 data/ai/micro_ais/cas/ca_hang_out.lua                         local rating = -M.distance_between(x, y, loc[1], loc[2])</span>
<span class='curline'><a href='../S/4326.html#L71'>loc</a>                71 data/ai/micro_ais/cas/ca_healer_move.lua         for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4326.html#L77'>loc</a>                77 data/ai/micro_ais/cas/ca_healer_move.lua             if (not avoid_map:get(loc[1], loc[2])) then</span>
<span class='curline'><a href='../S/4326.html#L78'>loc</a>                78 data/ai/micro_ais/cas/ca_healer_move.lua                 local unit_in_way = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4326.html#L81'>loc</a>                81 data/ai/micro_ais/cas/ca_healer_move.lua                         if (M.distance_between(healee.x, healee.y, loc[1], loc[2]) == 1) then</span>
<span class='curline'><a href='../S/4326.html#L96'>loc</a>                96 data/ai/micro_ais/cas/ca_healer_move.lua             local enemies_in_reach = enemy_attack_map.units:get(loc[1], loc[2]) or 0</span>
<span class='curline'><a href='../S/4326.html#L107'>loc</a>               107 data/ai/micro_ais/cas/ca_healer_move.lua                 local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(loc[1], loc[2])).village</span>
<span class='curline'><a href='../S/4326.html#L110'>loc</a>               110 data/ai/micro_ais/cas/ca_healer_move.lua                 local defense = 100 - wesnoth.unit_defense(healer, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4326.html#L115'>loc</a>               115 data/ai/micro_ais/cas/ca_healer_move.lua                 max_rating, best_healer, best_hex = rating, healer, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4297.html#L27'>loc</a>                27 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua         for _,loc in ipairs(pack) do</span>
<span class='curline'><a href='../S/4297.html#L28'>loc</a>                28 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua             local wolf = wesnoth.get_unit(loc.x, loc.y)</span>
<span class='curline'><a href='../S/4297.html#L77'>loc</a>                77 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua             for _,loc in ipairs(reach) do</span>
<span class='curline'><a href='../S/4297.html#L78'>loc</a>                78 data/ai/micro_ais/cas/ca_wolves_multipacks_wander.lua                 reach_map:insert(loc[1], loc[2], (reach_map:get(loc[1], loc[2]) or 0) + 100)</span>
<span class='curline'><a href='../S/4263.html#L9'>loc</a>                 9 data/ai/micro_ais/scenarios/guardians.cfg                 home_loc="loc({X},{Y})"</span>
<span class='curline'><a href='../S/4346.html#L136'>loc</a>               136 data/ai/scenarios/scenario-formula.cfg                     guard_loc="loc(8,5)"</span>
<span class='curline'><a href='../S/4346.html#L158'>loc</a>               158 data/ai/scenarios/scenario-formula.cfg                     next_step="loc(16,5)"</span>
<span class='curline'><a href='../S/4346.html#L168'>loc</a>               168 data/ai/scenarios/scenario-formula.cfg                 formula="attack(me.loc, me.loc, loc(3,12))"</span>
<span class='curline'><a href='../S/4346.html#L179'>loc</a>               179 data/ai/scenarios/scenario-formula.cfg                 formula="attack(me.loc, me.loc, loc(3,12))"</span>
<span class='curline'><a href='../S/4346.html#L189'>loc</a>               189 data/ai/scenarios/scenario-formula.cfg                 formula="attack(me.loc, me.loc, loc(3,12))"</span>
<span class='curline'><a href='../S/4601.html#L65'>loc</a>                65 data/campaigns/Eastern_Invasion/lua/bandits.lua 			local loc = wesnoth.get_locations({T["not"] { T.filter {} } , T["and"] { x = x, y = y, radius = 2 } })[1]</span>
<span class='curline'><a href='../S/4601.html#L66'>loc</a>                66 data/campaigns/Eastern_Invasion/lua/bandits.lua 			wesnoth.fire_event("boss_found", x, y, loc[1], loc[2])</span>
<span class='curline'><a href='../S/4723.html#L286'>loc</a>               286 data/campaigns/Legend_of_Wesmere/scenarios/chapter4/16_The_Chief_Must_Die.cfg                     next_step="loc(25,4)"</span>
<span class='curline'><a href='../S/4723.html#L302'>loc</a>               302 data/campaigns/Legend_of_Wesmere/scenarios/chapter4/16_The_Chief_Must_Die.cfg                     next_step="loc(10,20)"</span>
<span class='curline'><a href='../S/4723.html#L318'>loc</a>               318 data/campaigns/Legend_of_Wesmere/scenarios/chapter4/16_The_Chief_Must_Die.cfg                     next_step="loc(22,27)"</span>
<span class='curline'><a href='../S/4723.html#L334'>loc</a>               334 data/campaigns/Legend_of_Wesmere/scenarios/chapter4/16_The_Chief_Must_Die.cfg                     next_step="loc(13,19)"</span>
<span class='curline'><a href='../S/4723.html#L350'>loc</a>               350 data/campaigns/Legend_of_Wesmere/scenarios/chapter4/16_The_Chief_Must_Die.cfg                     next_step="loc(29,24)"</span>
<span class='curline'><a href='../S/4723.html#L366'>loc</a>               366 data/campaigns/Legend_of_Wesmere/scenarios/chapter4/16_The_Chief_Must_Die.cfg                     next_step="loc(17,8)"</span>
<span class='curline'><a href='../S/5551.html#L103'>loc</a>               103 data/lua/cave_map_generator.lua 			local loc = locs_list[index]</span>
<span class='curline'><a href='../S/5551.html#L105'>loc</a>               105 data/lua/cave_map_generator.lua 			local x, y = table.unpack(loc)</span>
<span class='curline'><a href='../S/5551.html#L137'>loc</a>               137 data/lua/cave_map_generator.lua 			for i, loc in ipairs(path) do</span>
<span class='curline'><a href='../S/5551.html#L139'>loc</a>               139 data/lua/cave_map_generator.lua 				build_chamber(loc[1], loc[2], locs_set, width, jagged)</span>
<span class='curline'><a href='../S/5525.html#L301'>loc</a>               301 data/lua/wml-tags.lua 	local loc = wesnoth.get_locations( cfg )[1]</span>
<span class='curline'><a href='../S/5525.html#L302'>loc</a>               302 data/lua/wml-tags.lua 	if not loc then return end</span>
<span class='curline'><a href='../S/5525.html#L304'>loc</a>               304 data/lua/wml-tags.lua 	wesnoth.scroll_to_tile(loc[1], loc[2], cfg.check_fogged, cfg.immediate)</span>
<span class='curline'><a href='../S/5525.html#L306'>loc</a>               306 data/lua/wml-tags.lua 		wesnoth.highlight_hex(loc[1], loc[2])</span>
<span class='curline'><a href='../S/5525.html#L409'>loc</a>               409 data/lua/wml-tags.lua 	for i, loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/5525.html#L410'>loc</a>               410 data/lua/wml-tags.lua 		local x, y = loc[1], loc[2]</span>
<span class='curline'><a href='../S/5525.html#L492'>loc</a>               492 data/lua/wml-tags.lua 	for i, loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/5525.html#L493'>loc</a>               493 data/lua/wml-tags.lua 		wesnoth.set_village_owner(loc[1], loc[2], side, fire_event)</span>
<span class='curline'><a href='../S/5525.html#L501'>loc</a>               501 data/lua/wml-tags.lua 	for i, loc in ipairs(wesnoth.get_locations(cfg)) do</span>
<span class='curline'><a href='../S/5525.html#L502'>loc</a>               502 data/lua/wml-tags.lua 		wesnoth.set_terrain(loc[1], loc[2], terrain, cfg.layer, cfg.replace_if_failed)</span>
<span class='curline'><a href='../S/5525.html#L517'>loc</a>               517 data/lua/wml-tags.lua 	for i, loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/5525.html#L518'>loc</a>               518 data/lua/wml-tags.lua 		wesnoth.float_label(loc[1], loc[2], text, cfg.color)</span>
<span class='curline'><a href='../S/5525.html#L637'>loc</a>               637 data/lua/wml-tags.lua 		local loc = wesnoth.get_starting_location(side.side)</span>
<span class='curline'><a href='../S/5525.html#L638'>loc</a>               638 data/lua/wml-tags.lua 		if loc then</span>
<span class='curline'><a href='../S/5525.html#L639'>loc</a>               639 data/lua/wml-tags.lua 			local terrain = wesnoth.get_terrain(loc[1], loc[2])</span>
<span class='curline'><a href='../S/5525.html#L640'>loc</a>               640 data/lua/wml-tags.lua 			local result = { x = loc[1], y = loc[2], terrain = terrain }</span>
<span class='curline'><a href='../S/5525.html#L642'>loc</a>               642 data/lua/wml-tags.lua 				result.owner_side = wesnoth.get_village_owner(loc[1], loc[2]) or 0</span>
<span class='curline'><a href='../S/5539.html#L75'>loc</a>                75 data/lua/wml/items.lua 	for i, loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/5539.html#L76'>loc</a>                76 data/lua/wml/items.lua 		add_overlay(loc[1], loc[2], cfg)</span>
<span class='curline'><a href='../S/5539.html#L87'>loc</a>                87 data/lua/wml/items.lua 	for i, loc in ipairs(locs) do</span>
<span class='curline'><a href='../S/5539.html#L88'>loc</a>                88 data/lua/wml/items.lua 		remove_overlay(loc[1], loc[2], cfg.image)</span>
<span class='curline'><a href='../S/5539.html#L97'>loc</a>                97 data/lua/wml/items.lua 	for i, loc in ipairs(wesnoth.get_locations(cfg)) do</span>
<span class='curline'><a href='../S/5539.html#L98'>loc</a>                98 data/lua/wml/items.lua 		local items = scenario_items[loc[1] * 10000 + loc[2]]</span>
<span class='curline'><a href='../S/5545.html#L14'>loc</a>                14 data/lua/wml/kill.lua 				killer_loc = {secondary_unit.loc}</span>
<span class='curline'><a href='../S/4085.html#L399'>loc</a>               399 data/tools/wesnoth/wmliterator.py         loc = ' at line ' + str(self.lineno+1)</span>
<span class='curline'><a href='../S/4085.html#L401'>loc</a>               401 data/tools/wesnoth/wmliterator.py             return str(self.element) + loc</span>
<span class='curline'><a href='../S/4085.html#L403'>loc</a>               403 data/tools/wesnoth/wmliterator.py             return 'text' + loc</span>
<span class='curline'><a href='../S/4085.html#L404'>loc</a>               404 data/tools/wesnoth/wmliterator.py         return 'whitespace' + loc</span>
<span class='curline'><a href='../S/4094.html#L394'>loc</a>               394 data/tools/wesnoth/wmliterator3.py         loc = ' at line ' + str(self.lineno+1)</span>
<span class='curline'><a href='../S/4094.html#L396'>loc</a>               396 data/tools/wesnoth/wmliterator3.py             return str(self.element) + loc</span>
<span class='curline'><a href='../S/4094.html#L398'>loc</a>               398 data/tools/wesnoth/wmliterator3.py             return 'text' + loc</span>
<span class='curline'><a href='../S/4094.html#L399'>loc</a>               399 data/tools/wesnoth/wmliterator3.py         return 'whitespace' + loc</span>
<span class='curline'><a href='../S/4086.html#L924'>loc</a>               924 data/tools/wesnoth/wmltools.py     loc = namespace_directory(namespace) + "units/" + resource</span>
<span class='curline'><a href='../S/4086.html#L925'>loc</a>               925 data/tools/wesnoth/wmltools.py     if not loc.endswith(".cfg"):</span>
<span class='curline'><a href='../S/4086.html#L926'>loc</a>               926 data/tools/wesnoth/wmltools.py         loc += ".cfg"</span>
<span class='curline'><a href='../S/4086.html#L927'>loc</a>               927 data/tools/wesnoth/wmltools.py     return loc</span>
<span class='curline'><a href='../S/4095.html#L964'>loc</a>               964 data/tools/wesnoth/wmltools3.py     loc = namespace_directory(namespace) + "units/" + resource</span>
<span class='curline'><a href='../S/4095.html#L965'>loc</a>               965 data/tools/wesnoth/wmltools3.py     if not loc.endswith(".cfg"):</span>
<span class='curline'><a href='../S/4095.html#L966'>loc</a>               966 data/tools/wesnoth/wmltools3.py         loc += ".cfg"</span>
<span class='curline'><a href='../S/4095.html#L967'>loc</a>               967 data/tools/wesnoth/wmltools3.py     return loc</span>
<span class='curline'><a href='../S/893.html#L57'>loc</a>                57 src/actions/advancement.cpp 	int advance_unit_dialog(const map_location &amp;loc)</span>
<span class='curline'><a href='../S/893.html#L59'>loc</a>                59 src/actions/advancement.cpp 		const unit&amp; u = *resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L93'>loc</a>                93 src/actions/advancement.cpp 	bool animate_unit_advancement(const map_location &amp;loc, size_t choice, const bool &amp;fire_event, const bool animate)</span>
<span class='curline'><a href='../S/893.html#L97'>loc</a>                97 src/actions/advancement.cpp 		unit_map::iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L129'>loc</a>               129 src/actions/advancement.cpp 			::advance_unit(loc, chosen_unit, fire_event);</span>
<span class='curline'><a href='../S/893.html#L133'>loc</a>               133 src/actions/advancement.cpp 			::advance_unit(loc, &amp;mod_option, fire_event);</span>
<span class='curline'><a href='../S/893.html#L136'>loc</a>               136 src/actions/advancement.cpp 		u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L145'>loc</a>               145 src/actions/advancement.cpp 			resources::screen-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/893.html#L159'>loc</a>               159 src/actions/advancement.cpp 		unit_advancement_choice(const map_location&amp; loc, int total_opt, int side_num, const ai::unit_advancements_aspect* ai_advancement, bool force_dialog)</span>
<span class='curline'><a href='../S/893.html#L160'>loc</a>               160 src/actions/advancement.cpp 			: loc_ (loc), nb_options_(total_opt), side_num_(side_num), ai_advancement_(ai_advancement), force_dialog_(force_dialog)</span>
<span class='curline'><a href='../S/893.html#L314'>loc</a>               314 src/actions/advancement.cpp void advance_unit(map_location loc, const advancement_option &amp;advance_to, bool fire_event)</span>
<span class='curline'><a href='../S/893.html#L316'>loc</a>               316 src/actions/advancement.cpp 	unit_map::unit_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L326'>loc</a>               326 src/actions/advancement.cpp 		LOG_NG &lt;&lt; "Firing advance event at " &lt;&lt; loc &lt;&lt;".\n";</span>
<span class='curline'><a href='../S/893.html#L327'>loc</a>               327 src/actions/advancement.cpp 		resources::game_events-&gt;pump().fire("advance",loc);</span>
<span class='curline'><a href='../S/893.html#L336'>loc</a>               336 src/actions/advancement.cpp 		loc = u-&gt;get_location();</span>
<span class='curline'><a href='../S/893.html#L348'>loc</a>               348 src/actions/advancement.cpp 	new_unit-&gt;set_location(loc);</span>
<span class='curline'><a href='../S/893.html#L355'>loc</a>               355 src/actions/advancement.cpp 	resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/893.html#L360'>loc</a>               360 src/actions/advancement.cpp 	clearer.clear_unit(loc, *new_unit);</span>
<span class='curline'><a href='../S/893.html#L365'>loc</a>               365 src/actions/advancement.cpp 		LOG_NG &lt;&lt; "Firing post_advance event at " &lt;&lt; loc &lt;&lt; ".\n";</span>
<span class='curline'><a href='../S/893.html#L366'>loc</a>               366 src/actions/advancement.cpp 		resources::game_events-&gt;pump().fire("post_advance",loc);</span>
<span class='curline'><a href='../S/886.html#L42'>loc</a>                42 src/actions/advancement.hpp 	advance_unit_params(const map_location&amp; loc) : loc_(loc), ai_advancements_(nullptr), force_dialog_(false), fire_events_(true), animate_(true) {}</span>
<span class='curline'><a href='../S/886.html#L76'>loc</a>                76 src/actions/advancement.hpp void advance_unit(map_location loc, const advancement_option &amp;advance_to, bool fire_event = true);</span>
<span class='curline'><a href='../S/895.html#L728'>loc</a>               728 src/actions/attack.cpp 			unit_info(const map_location &amp;loc, int weapon, unit_map &amp;units);</span>
<span class='curline'><a href='../S/895.html#L762'>loc</a>               762 src/actions/attack.cpp 	attack::unit_info::unit_info(const map_location&amp; loc, int weapon, unit_map&amp; units) :</span>
<span class='curline'><a href='../S/895.html#L763'>loc</a>               763 src/actions/attack.cpp 		loc_(loc),</span>
<span class='curline'><a href='../S/895.html#L1416'>loc</a>              1416 src/actions/attack.cpp std::pair&lt;int, map_location&gt; under_leadership(const unit_map&amp; units, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/895.html#L1418'>loc</a>              1418 src/actions/attack.cpp 	const unit_map::const_iterator un = units.find(loc);</span>
<span class='curline'><a href='../S/895.html#L1427'>loc</a>              1427 src/actions/attack.cpp int combat_modifier(const unit_map &amp; units, const gamemap &amp; map, const map_location &amp;loc, unit_type::ALIGNMENT alignment,</span>
<span class='curline'><a href='../S/895.html#L1431'>loc</a>              1431 src/actions/attack.cpp 	int lawful_bonus = tod_m.get_illuminated_time_of_day(units, map, loc).lawful_bonus;</span>
<span class='curline'><a href='../S/898.html#L211'>loc</a>               211 src/actions/attack.hpp std::pair&lt;int, map_location&gt; under_leadership(const unit_map&amp; units, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/898.html#L217'>loc</a>               217 src/actions/attack.hpp int combat_modifier(const unit_map &amp; units, const gamemap &amp; map, const map_location &amp;loc, unit_type::ALIGNMENT alignment,</span>
<span class='curline'><a href='../S/903.html#L699'>loc</a>               699 src/actions/create.cpp void recruit_unit(const unit_type &amp; u_type, int side_num, const map_location &amp; loc,</span>
<span class='curline'><a href='../S/903.html#L706'>loc</a>               706 src/actions/create.cpp 	place_recruit_result res = place_recruit(new_unit, loc, from, u_type.cost(), false, show);</span>
<span class='curline'><a href='../S/903.html#L713'>loc</a>               713 src/actions/create.cpp 		resources::undo_stack-&gt;add_recruit(new_unit, loc, from, std::get&lt;1&gt;(res), std::get&lt;2&gt;(res));</span>
<span class='curline'><a href='../S/903.html#L732'>loc</a>               732 src/actions/create.cpp                  const map_location &amp; loc, const map_location &amp; from,</span>
<span class='curline'><a href='../S/903.html#L749'>loc</a>               749 src/actions/create.cpp 		res = place_recruit(recall, loc, from, current_team.recall_cost(),</span>
<span class='curline'><a href='../S/903.html#L753'>loc</a>               753 src/actions/create.cpp 		res = place_recruit(recall, loc, from, recall-&gt;recall_cost(),</span>
<span class='curline'><a href='../S/903.html#L762'>loc</a>               762 src/actions/create.cpp 		resources::undo_stack-&gt;add_recall(recall, loc, from, std::get&lt;1&gt;(res), std::get&lt;2&gt;(res));</span>
<span class='curline'><a href='../S/878.html#L162'>loc</a>               162 src/actions/create.hpp void recruit_unit(const unit_type &amp; u_type, int side_num, const map_location &amp; loc,</span>
<span class='curline'><a href='../S/878.html#L176'>loc</a>               176 src/actions/create.hpp                  const map_location &amp; loc, const map_location &amp; from,</span>
<span class='curline'><a href='../S/876.html#L219'>loc</a>               219 src/actions/heal.cpp 				healers.push_back(&amp;*units.find(heal.loc));</span>
<span class='curline'><a href='../S/900.html#L139'>loc</a>               139 src/actions/move.cpp bool get_village(const map_location&amp; loc, int side, bool *action_timebonus, bool fire_event)</span>
<span class='curline'><a href='../S/900.html#L143'>loc</a>               143 src/actions/move.cpp 	if (t &amp;&amp; t-&gt;owns_village(loc)) {</span>
<span class='curline'><a href='../S/900.html#L157'>loc</a>               157 src/actions/move.cpp 			if(i-&gt;owns_village(loc)) {</span>
<span class='curline'><a href='../S/900.html#L159'>loc</a>               159 src/actions/move.cpp 				i-&gt;lose_village(loc);</span>
<span class='curline'><a href='../S/900.html#L176'>loc</a>               176 src/actions/move.cpp 			resources::screen-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/900.html#L178'>loc</a>               178 src/actions/move.cpp 		return t-&gt;get_village(loc, old_owner_side, fire_event ? resources::gamedata : nullptr);</span>
<span class='curline'><a href='../S/899.html#L99'>loc</a>                99 src/actions/move.hpp bool get_village(const map_location&amp; loc, int side, bool *time_bonus = nullptr, bool fire_event = true);</span>
<span class='curline'><a href='../S/879.html#L35'>loc</a>                35 src/actions/shroud_clearing_action.hpp 	shroud_clearing_action(const unit_const_ptr u, const map_location&amp; loc, int village_owner, bool village_bonus)</span>
<span class='curline'><a href='../S/879.html#L36'>loc</a>                36 src/actions/shroud_clearing_action.hpp 		: route(1, loc)</span>
<span class='curline'><a href='../S/897.html#L183'>loc</a>               183 src/actions/undo.cpp void undo_list::add_recall(const unit_const_ptr u, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/897.html#L186'>loc</a>               186 src/actions/undo.cpp 	add(new undo::recall_action(u, loc, from, orig_village_owner, time_bonus));</span>
<span class='curline'><a href='../S/897.html#L192'>loc</a>               192 src/actions/undo.cpp void undo_list::add_recruit(const unit_const_ptr u, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/897.html#L195'>loc</a>               195 src/actions/undo.cpp 	add(new undo::recruit_action(u, loc, from, orig_village_owner, time_bonus));</span>
<span class='curline'><a href='../S/904.html#L66'>loc</a>                66 src/actions/undo.hpp 	void add_recall(const unit_const_ptr u, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/904.html#L69'>loc</a>                69 src/actions/undo.hpp 	void add_recruit(const unit_const_ptr u, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/888.html#L33'>loc</a>                33 src/actions/undo_recall_action.hpp 	recall_action(const unit_const_ptr recalled, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/888.html#L36'>loc</a>                36 src/actions/undo_recall_action.hpp 		, shroud_clearing_action(recalled, loc, orig_village_owner, time_bonus)</span>
<span class='curline'><a href='../S/880.html#L32'>loc</a>                32 src/actions/undo_recruit_action.hpp 	recruit_action(const unit_const_ptr recruited, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/880.html#L35'>loc</a>                35 src/actions/undo_recruit_action.hpp 		, shroud_clearing_action(recruited, loc, orig_village_owner, time_bonus)</span>
<span class='curline'><a href='../S/896.html#L118'>loc</a>               118 src/actions/unit_creator.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/896.html#L128'>loc</a>               128 src/actions/unit_creator.cpp 				loc = leader-&gt;get_location();</span>
<span class='curline'><a href='../S/896.html#L130'>loc</a>               130 src/actions/unit_creator.cpp 				loc = start_pos_;</span>
<span class='curline'><a href='../S/896.html#L141'>loc</a>               141 src/actions/unit_creator.cpp 				loc = board_-&gt;map().special_location(cfg["location_id"]);</span>
<span class='curline'><a href='../S/896.html#L143'>loc</a>               143 src/actions/unit_creator.cpp 			if(!loc.valid()) {</span>
<span class='curline'><a href='../S/896.html#L144'>loc</a>               144 src/actions/unit_creator.cpp 				loc = map_location(cfg, resources::gamedata);</span>
<span class='curline'><a href='../S/896.html#L155'>loc</a>               155 src/actions/unit_creator.cpp 		if(loc.valid() &amp;&amp; board_-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/896.html#L157'>loc</a>               157 src/actions/unit_creator.cpp 				loc = find_vacant_tile(loc, pathfind::VACANT_ANY,</span>
<span class='curline'><a href='../S/896.html#L160'>loc</a>               160 src/actions/unit_creator.cpp 			if(loc.valid() &amp;&amp; board_-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/896.html#L161'>loc</a>               161 src/actions/unit_creator.cpp 				return loc;</span>
<span class='curline'><a href='../S/896.html#L185'>loc</a>               185 src/actions/unit_creator.cpp 		map_location loc = find_location(temp_cfg, new_unit.get());</span>
<span class='curline'><a href='../S/896.html#L186'>loc</a>               186 src/actions/unit_creator.cpp 		if ( loc.valid() ) {</span>
<span class='curline'><a href='../S/896.html#L188'>loc</a>               188 src/actions/unit_creator.cpp 			board_-&gt;units().replace(loc, new_unit);</span>
<span class='curline'><a href='../S/896.html#L190'>loc</a>               190 src/actions/unit_creator.cpp 			post_create(loc,*(board_-&gt;units().find(loc)),animate);</span>
<span class='curline'><a href='../S/896.html#L200'>loc</a>               200 src/actions/unit_creator.cpp 		map_location loc = find_location(temp_cfg, recall_list_element.get());</span>
<span class='curline'><a href='../S/896.html#L201'>loc</a>               201 src/actions/unit_creator.cpp 		if ( loc.valid() ) {</span>
<span class='curline'><a href='../S/896.html#L202'>loc</a>               202 src/actions/unit_creator.cpp 			board_-&gt;units().replace(loc, recall_list_element);</span>
<span class='curline'><a href='../S/896.html#L204'>loc</a>               204 src/actions/unit_creator.cpp 			post_create(loc,*(board_-&gt;units().find(loc)),animate);</span>
<span class='curline'><a href='../S/896.html#L216'>loc</a>               216 src/actions/unit_creator.cpp void unit_creator::post_create(const map_location &amp;loc, const unit &amp;new_unit, bool anim)</span>
<span class='curline'><a href='../S/896.html#L223'>loc</a>               223 src/actions/unit_creator.cpp 	bool show = show_ &amp;&amp; (resources::screen !=nullptr) &amp;&amp; !resources::screen-&gt;fogged(loc);</span>
<span class='curline'><a href='../S/896.html#L228'>loc</a>               228 src/actions/unit_creator.cpp 		if (board_-&gt;map().is_village(loc)) {</span>
<span class='curline'><a href='../S/896.html#L229'>loc</a>               229 src/actions/unit_creator.cpp 			actions::get_village(loc, new_unit.side());</span>
<span class='curline'><a href='../S/896.html#L235'>loc</a>               235 src/actions/unit_creator.cpp 		resources::game_events-&gt;pump().fire("unit_placed", loc);</span>
<span class='curline'><a href='../S/896.html#L241'>loc</a>               241 src/actions/unit_creator.cpp 			resources::screen-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/896.html#L245'>loc</a>               245 src/actions/unit_creator.cpp 			unit_display::unit_recruited(loc);</span>
<span class='curline'><a href='../S/905.html#L56'>loc</a>                56 src/actions/unit_creator.hpp 	void post_create(const map_location &amp;loc, const unit &amp;new_unit, bool anim);</span>
<span class='curline'><a href='../S/901.html#L79'>loc</a>                79 src/actions/vision.cpp static bool can_see(const unit &amp; viewer, const map_location &amp; loc,</span>
<span class='curline'><a href='../S/901.html#L92'>loc</a>                92 src/actions/vision.cpp 	return sight.destinations.contains(loc)  ||  sight.edges.count(loc) != 0;</span>
<span class='curline'><a href='../S/901.html#L226'>loc</a>               226 src/actions/vision.cpp bool shroud_clearer::clear_loc(team &amp;tm, const map_location &amp;loc,</span>
<span class='curline'><a href='../S/901.html#L237'>loc</a>               237 src/actions/vision.cpp 	bool was_fogged = tm.fogged(loc);</span>
<span class='curline'><a href='../S/901.html#L238'>loc</a>               238 src/actions/vision.cpp 	bool result = was_fogged &amp;&amp; map.on_board(loc);</span>
<span class='curline'><a href='../S/901.html#L242'>loc</a>               242 src/actions/vision.cpp 	if ( map.on_board_with_border(loc) ) {</span>
<span class='curline'><a href='../S/901.html#L247'>loc</a>               247 src/actions/vision.cpp 		if ( tm.clear_shroud(loc) | tm.clear_fog(loc) ) {</span>
<span class='curline'><a href='../S/901.html#L253'>loc</a>               253 src/actions/vision.cpp 			if ( loc.x == 0  &amp;&amp;  loc.y == map.h()-1 ) {</span>
<span class='curline'><a href='../S/901.html#L259'>loc</a>               259 src/actions/vision.cpp 			else if ( is_odd(map.w())  &amp;&amp;  loc.x == map.w()-1  &amp;&amp;  loc.y == map.h()-1 ) {</span>
<span class='curline'><a href='../S/901.html#L265'>loc</a>               265 src/actions/vision.cpp 			else if ( is_even(map.w())  &amp;&amp;  loc.x == map.w()-1  &amp;&amp;  loc.y == 0) {</span>
<span class='curline'><a href='../S/901.html#L275'>loc</a>               275 src/actions/vision.cpp 		resources::screen-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/901.html#L279'>loc</a>               279 src/actions/vision.cpp 		get_adjacent_tiles(loc, adjacent);</span>
<span class='curline'><a href='../S/901.html#L285'>loc</a>               285 src/actions/vision.cpp 	if ( result  &amp;&amp;  check_units  &amp;&amp;  loc != event_non_loc ) {</span>
<span class='curline'><a href='../S/901.html#L287'>loc</a>               287 src/actions/vision.cpp 		unit_map::const_iterator sight_it = resources::gameboard-&gt;find_visible_unit(loc, tm);</span>
<span class='curline'><a href='../S/901.html#L289'>loc</a>               289 src/actions/vision.cpp 			record_sighting(*sight_it, loc, viewer_id, view_loc);</span>
<span class='curline'><a href='../S/885.html#L127'>loc</a>               127 src/actions/vision.hpp 	bool clear_loc(team &amp;tm, const map_location &amp;loc, const map_location &amp;view_loc,</span>
<span class='curline'><a href='../S/275.html#L194'>loc</a>               194 src/ai/composite/goal.cpp 	for (const map_location &amp;loc : items)</span>
<span class='curline'><a href='../S/275.html#L196'>loc</a>               196 src/ai/composite/goal.cpp 		LOG_AI_GOAL &lt;&lt; "found explicit target location ... " &lt;&lt; loc &lt;&lt; " with value: " &lt;&lt; value() &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/275.html#L197'>loc</a>               197 src/ai/composite/goal.cpp 		*target_list = target(loc, value(), target::TYPE::EXPLICIT);</span>
<span class='curline'><a href='../S/275.html#L278'>loc</a>               278 src/ai/composite/goal.cpp 	for (const map_location &amp;loc : items)</span>
<span class='curline'><a href='../S/275.html#L282'>loc</a>               282 src/ai/composite/goal.cpp 			int distance = distance_between(u.get_location(), loc);</span>
<span class='curline'><a href='../S/275.html#L286'>loc</a>               286 src/ai/composite/goal.cpp 				DBG_AI_GOAL &lt;&lt; "side " &lt;&lt; get_side() &lt;&lt; ": in " &lt;&lt; goal_type &lt;&lt; ": found threat target. " &lt;&lt; u.get_location() &lt;&lt; " is a threat to "&lt;&lt; loc &lt;&lt; '\n';</span>
<span class='curline'><a href='../S/285.html#L474'>loc</a>               474 src/ai/contexts.cpp const defensive_position&amp; readonly_context_impl::best_defensive_position(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/285.html#L477'>loc</a>               477 src/ai/contexts.cpp 	const unit_map::const_iterator itor = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/285.html#L486'>loc</a>               486 src/ai/contexts.cpp 		defensive_position_cache_.find(loc);</span>
<span class='curline'><a href='../S/285.html#L498'>loc</a>               498 src/ai/contexts.cpp 	const std::pair&lt;Itor,Itor&gt; itors = srcdst.equal_range(loc);</span>
<span class='curline'><a href='../S/285.html#L509'>loc</a>               509 src/ai/contexts.cpp 			pos.loc = i-&gt;second;</span>
<span class='curline'><a href='../S/285.html#L516'>loc</a>               516 src/ai/contexts.cpp 	defensive_position_cache_.emplace(loc, pos);</span>
<span class='curline'><a href='../S/285.html#L517'>loc</a>               517 src/ai/contexts.cpp 	return defensive_position_cache_[loc];</span>
<span class='curline'><a href='../S/285.html#L982'>loc</a>               982 src/ai/contexts.cpp 				const map_location loc(x,y);</span>
<span class='curline'><a href='../S/285.html#L983'>loc</a>               983 src/ai/contexts.cpp 				if(map_-&gt;is_keep(loc)) {</span>
<span class='curline'><a href='../S/285.html#L985'>loc</a>               985 src/ai/contexts.cpp 					get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/285.html#L988'>loc</a>               988 src/ai/contexts.cpp 							keeps_.insert(loc);</span>
<span class='curline'><a href='../S/285.html#L1024'>loc</a>              1024 src/ai/contexts.cpp const map_location&amp; readonly_context_impl::nearest_keep(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/285.html#L1040'>loc</a>              1040 src/ai/contexts.cpp 		const int distance = distance_between(*i,loc);</span>
<span class='curline'><a href='../S/285.html#L1054'>loc</a>              1054 src/ai/contexts.cpp double readonly_context_impl::power_projection(const map_location&amp; loc, const move_map&amp; dstsrc) const</span>
<span class='curline'><a href='../S/285.html#L1062'>loc</a>              1062 src/ai/contexts.cpp 	get_adjacent_tiles(loc,locs);</span>
<span class='curline'><a href='../S/285.html#L1179'>loc</a>              1179 src/ai/contexts.cpp 			map_location loc = i-&gt;get_location();</span>
<span class='curline'><a href='../S/285.html#L1180'>loc</a>              1180 src/ai/contexts.cpp 			srcdst_.erase(loc);</span>
<span class='curline'><a href='../S/285.html#L1182'>loc</a>              1182 src/ai/contexts.cpp 				if(it-&gt;second == loc) {</span>
<span class='curline'><a href='../S/285.html#L1245'>loc</a>              1245 src/ai/contexts.cpp 		const map_location &amp;loc = dest.curr;</span>
<span class='curline'><a href='../S/285.html#L1246'>loc</a>              1246 src/ai/contexts.cpp 		if (keeps().find(loc)!=keeps().end()){</span>
<span class='curline'><a href='../S/285.html#L1249'>loc</a>              1249 src/ai/contexts.cpp 			if (resources::gameboard-&gt;units().count(loc) == 0) {</span>
<span class='curline'><a href='../S/285.html#L1251'>loc</a>              1251 src/ai/contexts.cpp 					best_free_keep = &amp;loc;</span>
<span class='curline'><a href='../S/285.html#L1256'>loc</a>              1256 src/ai/contexts.cpp 					best_occupied_keep = &amp;loc;</span>
<span class='curline'><a href='../S/250.html#L103'>loc</a>               103 src/ai/contexts.hpp 		loc(),</span>
<span class='curline'><a href='../S/250.html#L109'>loc</a>               109 src/ai/contexts.hpp 	map_location loc;</span>
<span class='curline'><a href='../S/250.html#L368'>loc</a>               368 src/ai/contexts.hpp 	virtual const map_location&amp; nearest_keep(const map_location&amp; loc) const = 0;</span>
<span class='curline'><a href='../S/250.html#L382'>loc</a>               382 src/ai/contexts.hpp 	virtual double power_projection(const map_location&amp; loc, const move_map&amp; dstsrc) const = 0;</span>
<span class='curline'><a href='../S/250.html#L803'>loc</a>               803 src/ai/contexts.hpp 	virtual double power_projection(const map_location&amp; loc, const move_map&amp; dstsrc) const override</span>
<span class='curline'><a href='../S/250.html#L805'>loc</a>               805 src/ai/contexts.hpp 		return target_-&gt;power_projection(loc,dstsrc);</span>
<span class='curline'><a href='../S/250.html#L943'>loc</a>               943 src/ai/contexts.hpp 	virtual const map_location&amp; nearest_keep( const map_location&amp; loc ) const override</span>
<span class='curline'><a href='../S/250.html#L945'>loc</a>               945 src/ai/contexts.hpp 		return target_-&gt;nearest_keep(loc);</span>
<span class='curline'><a href='../S/250.html#L1460'>loc</a>              1460 src/ai/contexts.hpp 	virtual const map_location&amp; nearest_keep(const map_location&amp; loc) const override;</span>
<span class='curline'><a href='../S/250.html#L1463'>loc</a>              1463 src/ai/contexts.hpp 	virtual double power_projection(const map_location&amp; loc, const move_map&amp; dstsrc) const override;</span>
<span class='curline'><a href='../S/239.html#L129'>loc</a>               129 src/ai/default/aspect_attacks.cpp 	                 const map_location&amp; loc,</span>
<span class='curline'><a href='../S/239.html#L285'>loc</a>               285 src/ai/default/aspect_attacks.cpp 					backstab_check(tiles[j], loc, units_, teams_)) {</span>
<span class='curline'><a href='../S/239.html#L335'>loc</a>               335 src/ai/default/aspect_attacks.cpp 			do_attack_analysis(loc,srcdst,dstsrc,fullmove_srcdst,fullmove_dstsrc,enemy_srcdst,enemy_dstsrc,</span>
<span class='curline'><a href='../S/239.html#L351'>loc</a>               351 src/ai/default/aspect_attacks.cpp int aspect_attacks_base::rate_terrain(const unit&amp; u, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/239.html#L354'>loc</a>               354 src/ai/default/aspect_attacks.cpp 	const t_translation::terrain_code terrain = map_.get_terrain(loc);</span>
<span class='curline'><a href='../S/239.html#L363'>loc</a>               363 src/ai/default/aspect_attacks.cpp 	if(map_.gives_healing(terrain) &amp;&amp; u.get_ability_bool("regenerate", loc, *resources::gameboard) == false) {</span>
<span class='curline'><a href='../S/239.html#L368'>loc</a>               368 src/ai/default/aspect_attacks.cpp 		int owner = resources::gameboard-&gt;village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/238.html#L54'>loc</a>                54 src/ai/default/aspect_attacks.hpp 	void do_attack_analysis(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/238.html#L63'>loc</a>                63 src/ai/default/aspect_attacks.hpp 	static int rate_terrain(const unit&amp; u, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/249.html#L257'>loc</a>               257 src/ai/default/attack.cpp bool attack_analysis::attack_close(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/249.html#L261'>loc</a>               261 src/ai/default/attack.cpp 		if(distance_between(*i,loc) &lt; 4) {</span>
<span class='curline'><a href='../S/237.html#L317'>loc</a>               317 src/ai/default/ca.cpp 	map_location loc;</span>
<span class='curline'><a href='../S/237.html#L323'>loc</a>               323 src/ai/default/ca.cpp 			loc = l;</span>
<span class='curline'><a href='../S/237.html#L327'>loc</a>               327 src/ai/default/ca.cpp 	if(loc.valid()) {</span>
<span class='curline'><a href='../S/237.html#L328'>loc</a>               328 src/ai/default/ca.cpp 		move_ = check_move_action(leader-&gt;get_location(), loc, false);</span>
<span class='curline'><a href='../S/237.html#L492'>loc</a>               492 src/ai/default/ca.cpp 		const map_location&amp; loc = pair.second;</span>
<span class='curline'><a href='../S/237.html#L493'>loc</a>               493 src/ai/default/ca.cpp 		if (get_enemy_dstsrc().count(loc) == 0) {</span>
<span class='curline'><a href='../S/237.html#L494'>loc</a>               494 src/ai/default/ca.cpp 			move_ = check_move_action(leader-&gt;get_location(), loc, true);</span>
<span class='curline'><a href='../S/237.html#L558'>loc</a>               558 src/ai/default/ca.cpp 				const map_location loc = move_res-&gt;get_unit_location();</span>
<span class='curline'><a href='../S/237.html#L560'>loc</a>               560 src/ai/default/ca.cpp 				const unit_map::const_iterator new_unit = units_.find(loc);</span>
<span class='curline'><a href='../S/237.html#L1418'>loc</a>              1418 src/ai/default/ca.cpp 		for (map_location &amp;loc : tmp_leader_adj) {</span>
<span class='curline'><a href='../S/237.html#L1421'>loc</a>              1421 src/ai/default/ca.cpp 				if(new_loc == loc){</span>
<span class='curline'><a href='../S/237.html#L1427'>loc</a>              1427 src/ai/default/ca.cpp 				leaders_adj_v.push_back(loc);</span>
<span class='curline'><a href='../S/237.html#L1526'>loc</a>              1526 src/ai/default/ca.cpp bool retreat_phase::should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un,  const move_map &amp;srcdst, const move_map &amp;dstsrc, double caution)</span>
<span class='curline'><a href='../S/237.html#L1537'>loc</a>              1537 src/ai/default/ca.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc)) / 100.0;</span>
<span class='curline'><a href='../S/237.html#L1543'>loc</a>              1543 src/ai/default/ca.cpp 	const double our_power = power_projection(loc,dstsrc);</span>
<span class='curline'><a href='../S/237.html#L1544'>loc</a>              1544 src/ai/default/ca.cpp 	const double their_power = power_projection(loc,enemy_dstsrc);</span>
<span class='curline'><a href='../S/247.html#L233'>loc</a>               233 src/ai/default/ca.hpp 	bool should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un, const move_map &amp;srcdst, const move_map &amp;dstsrc, double caution);</span>
<span class='curline'><a href='../S/236.html#L57'>loc</a>                57 src/ai/default/ca_move_to_targets.cpp 	double cost(const map_location&amp; loc, const double) const</span>
<span class='curline'><a href='../S/236.html#L59'>loc</a>                59 src/ai/default/ca_move_to_targets.cpp 		const t_translation::terrain_code terrain = map_[loc];</span>
<span class='curline'><a href='../S/236.html#L68'>loc</a>                68 src/ai/default/ca_move_to_targets.cpp 			res *= 1.0 + enemy_dstsrc_.count(loc);</span>
<span class='curline'><a href='../S/236.html#L73'>loc</a>                73 src/ai/default/ca_move_to_targets.cpp 		if (units_.count(loc))</span>
<span class='curline'><a href='../S/236.html#L97'>loc</a>                97 src/ai/default/ca_move_to_targets.cpp 	if (!map_.on_board(t.loc)) {</span>
<span class='curline'><a href='../S/236.html#L98'>loc</a>                98 src/ai/default/ca_move_to_targets.cpp 		DBG_AI &lt;&lt; "removing target "&lt;&lt; t.loc &lt;&lt; " due to it not on_board" &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/236.html#L103'>loc</a>               103 src/ai/default/ca_move_to_targets.cpp 		DBG_AI &lt;&lt; "removing target "&lt;&lt; t.loc &lt;&lt; " due to value&lt;=0" &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/236.html#L107'>loc</a>               107 src/ai/default/ca_move_to_targets.cpp 	if (avoid_.match(t.loc)) {</span>
<span class='curline'><a href='../S/236.html#L108'>loc</a>               108 src/ai/default/ca_move_to_targets.cpp 		DBG_AI &lt;&lt; "removing target "&lt;&lt; t.loc &lt;&lt; " due to 'avoid' match" &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/236.html#L165'>loc</a>               165 src/ai/default/ca_move_to_targets.cpp 			assert(resources::gameboard-&gt;map().on_board(ittg-&gt;loc));</span>
<span class='curline'><a href='../S/236.html#L214'>loc</a>               214 src/ai/default/ca_move_to_targets.cpp 		std::pair&lt;multimapItor,multimapItor&gt; locRange = dstsrc.equal_range(tg.loc);</span>
<span class='curline'><a href='../S/236.html#L336'>loc</a>               336 src/ai/default/ca_move_to_targets.cpp 		LOG_AI &lt;&lt; "Considering target at: " &lt;&lt; tg.loc &lt;&lt;"\n";</span>
<span class='curline'><a href='../S/236.html#L337'>loc</a>               337 src/ai/default/ca_move_to_targets.cpp 		assert(map_.on_board(tg.loc));</span>
<span class='curline'><a href='../S/236.html#L346'>loc</a>               346 src/ai/default/ca_move_to_targets.cpp 		pathfind::plain_route real_route = a_star_search(u-&gt;get_location(), tg.loc, locStopValue, cost_calc, map_.w(), map_.h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/236.html#L413'>loc</a>               413 src/ai/default/ca_move_to_targets.cpp 			pathfind::plain_route cur_route = pathfind::a_star_search(u-&gt;get_location(), best_target-&gt;loc, locStopValue, calc, map_.w(), map_.h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/236.html#L444'>loc</a>               444 src/ai/default/ca_move_to_targets.cpp 		access_points(srcdst, best-&gt;get_location(), best_target-&gt;loc, locs);</span>
<span class='curline'><a href='../S/236.html#L447'>loc</a>               447 src/ai/default/ca_move_to_targets.cpp 			LOG_AI &lt;&lt; "supporting unit at " &lt;&lt; best_target-&gt;loc.wml_x() &lt;&lt; "," &lt;&lt; best_target-&gt;loc.wml_y() &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/236.html#L478'>loc</a>               478 src/ai/default/ca_move_to_targets.cpp 		const unit_map::const_iterator unit_at_target = units_.find(best_target-&gt;loc);</span>
<span class='curline'><a href='../S/236.html#L526'>loc</a>               526 src/ai/default/ca_move_to_targets.cpp 			LOG_AI &lt;&lt; "massing to attack " &lt;&lt; best_target-&gt;loc.wml_x() &lt;&lt; "," &lt;&lt; best_target-&gt;loc.wml_y()</span>
<span class='curline'><a href='../S/236.html#L530'>loc</a>               530 src/ai/default/ca_move_to_targets.cpp 			const map_location target_loc = best_target-&gt;loc;</span>
<span class='curline'><a href='../S/236.html#L531'>loc</a>               531 src/ai/default/ca_move_to_targets.cpp 			const map_location loc = best-&gt;get_location();</span>
<span class='curline'><a href='../S/236.html#L545'>loc</a>               545 src/ai/default/ca_move_to_targets.cpp 			const std::pair&lt;move_map::const_iterator,move_map::const_iterator&gt; itors = srcdst.equal_range(loc);</span>
<span class='curline'><a href='../S/236.html#L571'>loc</a>               571 src/ai/default/ca_move_to_targets.cpp 			return std::pair&lt;map_location,map_location&gt;(loc,best_loc);</span>
<span class='curline'><a href='../S/236.html#L643'>loc</a>               643 src/ai/default/ca_move_to_targets.cpp 		const map_location&amp; loc = i-&gt;second;</span>
<span class='curline'><a href='../S/236.html#L644'>loc</a>               644 src/ai/default/ca_move_to_targets.cpp 		if (int(distance_between(loc,dst)) &lt;= u_it-&gt;total_movement()) {</span>
<span class='curline'><a href='../S/236.html#L647'>loc</a>               647 src/ai/default/ca_move_to_targets.cpp 			pathfind::plain_route rt = a_star_search(loc, dst, u_it-&gt;total_movement(), calc, map_.w(), map_.h(), &amp;allowed_teleports);</span>
<span class='curline'><a href='../S/236.html#L649'>loc</a>               649 src/ai/default/ca_move_to_targets.cpp 				out.push_back(loc);</span>
<span class='curline'><a href='../S/236.html#L860'>loc</a>               860 src/ai/default/ca_move_to_targets.cpp bool move_to_targets_phase::should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un,</span>
<span class='curline'><a href='../S/236.html#L871'>loc</a>               871 src/ai/default/ca_move_to_targets.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc))/100.0;</span>
<span class='curline'><a href='../S/236.html#L877'>loc</a>               877 src/ai/default/ca_move_to_targets.cpp 	const double our_power = power_projection(loc,dstsrc);</span>
<span class='curline'><a href='../S/236.html#L878'>loc</a>               878 src/ai/default/ca_move_to_targets.cpp 	const double their_power = power_projection(loc,enemy_dstsrc);</span>
<span class='curline'><a href='../S/248.html#L76'>loc</a>                76 src/ai/default/ca_move_to_targets.hpp 	bool should_retreat(const map_location&amp; loc, const unit_map::const_iterator&amp; un,</span>
<span class='curline'><a href='../S/245.html#L69'>loc</a>                69 src/ai/default/contexts.cpp int default_ai_context_impl::count_free_hexes_in_castle(const map_location &amp;loc, std::set&lt;map_location&gt; &amp;checked_hexes)</span>
<span class='curline'><a href='../S/245.html#L74'>loc</a>                74 src/ai/default/contexts.cpp 	get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/245.html#L100'>loc</a>               100 src/ai/default/contexts.cpp int default_ai_context_impl::rate_terrain(const unit&amp; u, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/245.html#L103'>loc</a>               103 src/ai/default/contexts.cpp 	const t_translation::terrain_code terrain = map_.get_terrain(loc);</span>
<span class='curline'><a href='../S/245.html#L112'>loc</a>               112 src/ai/default/contexts.cpp 	if(map_.gives_healing(terrain) &amp;&amp; u.get_ability_bool("regenerate", loc, *resources::gameboard) == false) {</span>
<span class='curline'><a href='../S/245.html#L117'>loc</a>               117 src/ai/default/contexts.cpp 		int owner = resources::gameboard-&gt;village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/245.html#L261'>loc</a>               261 src/ai/default/contexts.cpp 			if(i-&gt;loc == j-&gt;loc) {</span>
<span class='curline'><a href='../S/245.html#L265'>loc</a>               265 src/ai/default/contexts.cpp 			const double distance = std::abs(j-&gt;loc.x - i-&gt;loc.x) +</span>
<span class='curline'><a href='../S/245.html#L266'>loc</a>               266 src/ai/default/contexts.cpp 						std::abs(j-&gt;loc.y - i-&gt;loc.y);</span>
<span class='curline'><a href='../S/242.html#L47'>loc</a>                47 src/ai/default/contexts.hpp 	target(const map_location&amp; pos, double val, TYPE target_type=TYPE::VILLAGE) : loc(pos), value(val), type(target_type)</span>
<span class='curline'><a href='../S/242.html#L49'>loc</a>                49 src/ai/default/contexts.hpp 	map_location loc;</span>
<span class='curline'><a href='../S/242.html#L90'>loc</a>                90 src/ai/default/contexts.hpp 	bool attack_close(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/242.html#L148'>loc</a>               148 src/ai/default/contexts.hpp 	virtual int count_free_hexes_in_castle(const map_location&amp; loc, std::set&lt;map_location&gt; &amp;checked_hexes) = 0;</span>
<span class='curline'><a href='../S/242.html#L174'>loc</a>               174 src/ai/default/contexts.hpp 	virtual int rate_terrain(const unit&amp; u, const map_location&amp; loc) const = 0;</span>
<span class='curline'><a href='../S/242.html#L187'>loc</a>               187 src/ai/default/contexts.hpp 	int count_free_hexes_in_castle(const map_location&amp; loc, std::set&lt;map_location&gt; &amp;checked_hexes)</span>
<span class='curline'><a href='../S/242.html#L189'>loc</a>               189 src/ai/default/contexts.hpp 		return target_-&gt;count_free_hexes_in_castle(loc, checked_hexes);</span>
<span class='curline'><a href='../S/242.html#L235'>loc</a>               235 src/ai/default/contexts.hpp 	virtual int rate_terrain(const unit&amp; u, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/242.html#L237'>loc</a>               237 src/ai/default/contexts.hpp 		return target_-&gt;rate_terrain(u,loc);</span>
<span class='curline'><a href='../S/242.html#L254'>loc</a>               254 src/ai/default/contexts.hpp 	int count_free_hexes_in_castle(const map_location&amp; loc, std::set&lt;map_location&gt; &amp;checked_hexes);</span>
<span class='curline'><a href='../S/242.html#L288'>loc</a>               288 src/ai/default/contexts.hpp 	virtual int rate_terrain(const unit&amp; u, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/246.html#L180'>loc</a>               180 src/ai/default/recruitment.cpp 		const map_location&amp; loc = leader-&gt;get_location();</span>
<span class='curline'><a href='../S/246.html#L181'>loc</a>               181 src/ai/default/recruitment.cpp 		if (resources::gameboard-&gt;map().is_keep(loc) &amp;&amp;</span>
<span class='curline'><a href='../S/246.html#L721'>loc</a>               721 src/ai/default/recruitment.cpp 	for (const map_location&amp; loc : important_hexes_) {</span>
<span class='curline'><a href='../S/246.html#L723'>loc</a>               723 src/ai/default/recruitment.cpp 		resources::screen-&gt;labels().set_label(loc.get_direction(map_location::NORTH), "\n\nX");</span>
<span class='curline'><a href='../S/246.html#L754'>loc</a>               754 src/ai/default/recruitment.cpp 			map_location loc(x, y);</span>
<span class='curline'><a href='../S/246.html#L762'>loc</a>               762 src/ai/default/recruitment.cpp 				int cost = unit_type-&gt;movement_type().get_movement().cost(map[loc]);</span>
<span class='curline'><a href='../S/246.html#L768'>loc</a>               768 src/ai/default/recruitment.cpp 			average_local_cost_[loc] = (count == 0) ? 0 : static_cast&lt;double&gt;(summed_cost) / count;</span>
<span class='curline'><a href='../S/246.html#L1658'>loc</a>              1658 src/ai/default/recruitment.cpp bool recruitment::is_enemy_in_radius(const map_location&amp; loc, int radius) const {</span>
<span class='curline'><a href='../S/246.html#L1661'>loc</a>              1661 src/ai/default/recruitment.cpp 	get_tiles_in_radius(loc, radius, surrounding);</span>
<span class='curline'><a href='../S/235.html#L249'>loc</a>               249 src/ai/default/recruitment.hpp 	bool is_enemy_in_radius(const map_location&amp; loc, int radius) const;</span>
<span class='curline'><a href='../S/255.html#L276'>loc</a>               276 src/ai/formula/ai.cpp 	for(const map_location&amp; loc : villages) {</span>
<span class='curline'><a href='../S/255.html#L277'>loc</a>               277 src/ai/formula/ai.cpp 		if(exclude &amp;&amp; exclude-&gt;count(loc)) {</span>
<span class='curline'><a href='../S/255.html#L280'>loc</a>               280 src/ai/formula/ai.cpp 		vars.emplace_back(std::make_shared&lt;location_callable&gt;(loc));</span>
<span class='curline'><a href='../S/255.html#L607'>loc</a>               607 src/ai/formula/ai.cpp 				const map_location loc(x,y);</span>
<span class='curline'><a href='../S/255.html#L608'>loc</a>               608 src/ai/formula/ai.cpp 				if(resources::gameboard-&gt;map().is_keep(loc)) {</span>
<span class='curline'><a href='../S/255.html#L610'>loc</a>               610 src/ai/formula/ai.cpp 					get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/255.html#L613'>loc</a>               613 src/ai/formula/ai.cpp 							vars.emplace_back(std::make_shared&lt;location_callable&gt;(loc));</span>
<span class='curline'><a href='../S/253.html#L136'>loc</a>               136 src/ai/formula/callable_objects.hpp 	recall_callable(const map_location&amp; loc, const std::string&amp; id)</span>
<span class='curline'><a href='../S/253.html#L137'>loc</a>               137 src/ai/formula/callable_objects.hpp 	  : loc_(loc), id_(id)</span>
<span class='curline'><a href='../S/253.html#L153'>loc</a>               153 src/ai/formula/callable_objects.hpp 	recruit_callable(const map_location&amp; loc, const std::string&amp; type)</span>
<span class='curline'><a href='../S/253.html#L154'>loc</a>               154 src/ai/formula/callable_objects.hpp 	  : loc_(loc), type_(type)</span>
<span class='curline'><a href='../S/253.html#L170'>loc</a>               170 src/ai/formula/callable_objects.hpp 	set_unit_var_callable(const std::string&amp; key, const variant&amp; value, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/253.html#L171'>loc</a>               171 src/ai/formula/callable_objects.hpp 	  : key_(key), value_(value), loc_(loc)</span>
<span class='curline'><a href='../S/252.html#L106'>loc</a>               106 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "distance_to_nearest_unowned_village:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L111'>loc</a>               111 src/ai/formula/function_table.cpp 			int distance = distance_between(loc, *i);</span>
<span class='curline'><a href='../S/252.html#L139'>loc</a>               139 src/ai/formula/function_table.cpp 		int operator()(const map_location&amp; loc) const {</span>
<span class='curline'><a href='../S/252.html#L140'>loc</a>               140 src/ai/formula/function_table.cpp 			return loc.y * w + loc.x;</span>
<span class='curline'><a href='../S/252.html#L155'>loc</a>               155 src/ai/formula/function_table.cpp 		node(int moves, const map_location &amp;loc)</span>
<span class='curline'><a href='../S/252.html#L157'>loc</a>               157 src/ai/formula/function_table.cpp 			, loc_(loc)</span>
<span class='curline'><a href='../S/252.html#L182'>loc</a>               182 src/ai/formula/function_table.cpp 	void find_movemap(const unit_adapter&amp; u, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/252.html#L201'>loc</a>               201 src/ai/formula/function_table.cpp 		nodes[index(loc)] = node(0, loc);</span>
<span class='curline'><a href='../S/252.html#L203'>loc</a>               203 src/ai/formula/function_table.cpp 		pq.push_back(index(loc));</span>
<span class='curline'><a href='../S/252.html#L290'>loc</a>               290 src/ai/formula/function_table.cpp 			const map_location loc = leaders_input[side][0].convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L295'>loc</a>               295 src/ai/formula/function_table.cpp 				find_movemap( unit, loc, scores[side], true );</span>
<span class='curline'><a href='../S/252.html#L386'>loc</a>               386 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "nearest_loc:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L393'>loc</a>               393 src/ai/formula/function_table.cpp 			const map_location move_loc = items[i].convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L394'>loc</a>               394 src/ai/formula/function_table.cpp 			int distance = distance_between(loc, move_loc);</span>
<span class='curline'><a href='../S/252.html#L403'>loc</a>               403 src/ai/formula/function_table.cpp 			return variant(std::make_shared&lt;location_callable&gt;(items[best_i].convert_to&lt;location_callable&gt;()-&gt;loc()));</span>
<span class='curline'><a href='../S/252.html#L419'>loc</a>               419 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "adjacent_locs:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L421'>loc</a>               421 src/ai/formula/function_table.cpp 		get_adjacent_tiles(loc, adj);</span>
<span class='curline'><a href='../S/252.html#L443'>loc</a>               443 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables,fdb).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L451'>loc</a>               451 src/ai/formula/function_table.cpp 			return variant(std::make_shared&lt;location_callable&gt;(loc));</span>
<span class='curline'><a href='../S/252.html#L455'>loc</a>               455 src/ai/formula/function_table.cpp 		get_tiles_in_radius( loc, range, res);</span>
<span class='curline'><a href='../S/252.html#L459'>loc</a>               459 src/ai/formula/function_table.cpp 		v.emplace_back(std::make_shared&lt;location_callable&gt;(loc));</span>
<span class='curline'><a href='../S/252.html#L515'>loc</a>               515 src/ai/formula/function_table.cpp 		const map_location starting_loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "castle_locs:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L524'>loc</a>               524 src/ai/formula/function_table.cpp                    const map_location loc = queued_locs.front();</span>
<span class='curline'><a href='../S/252.html#L527'>loc</a>               527 src/ai/formula/function_table.cpp                    if ( visited_locs.find( loc ) != visited_locs.end() )</span>
<span class='curline'><a href='../S/252.html#L530'>loc</a>               530 src/ai/formula/function_table.cpp                    visited_locs.insert(loc);</span>
<span class='curline'><a href='../S/252.html#L533'>loc</a>               533 src/ai/formula/function_table.cpp                    get_adjacent_tiles(loc, adj);</span>
<span class='curline'><a href='../S/252.html#L588'>loc</a>               588 src/ai/formula/function_table.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/252.html#L591'>loc</a>               591 src/ai/formula/function_table.cpp 			loc = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "timeofday_modifier:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L594'>loc</a>               594 src/ai/formula/function_table.cpp 		if(!loc.valid()) {</span>
<span class='curline'><a href='../S/252.html#L595'>loc</a>               595 src/ai/formula/function_table.cpp 			loc = u_call-&gt;get_location();</span>
<span class='curline'><a href='../S/252.html#L598'>loc</a>               598 src/ai/formula/function_table.cpp 		return variant(combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(), loc, un.alignment(), un.is_fearless()));</span>
<span class='curline'><a href='../S/252.html#L611'>loc</a>               611 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "nearest_keep:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L619'>loc</a>               619 src/ai/formula/function_table.cpp 			int distance = distance_between(loc, ai_.get_keeps_cache()[i].convert_to&lt;location_callable&gt;()-&gt;loc() );</span>
<span class='curline'><a href='../S/252.html#L628'>loc</a>               628 src/ai/formula/function_table.cpp 			return variant(std::make_shared&lt;location_callable&gt;(ai_.get_keeps_cache()[best_i].convert_to&lt;location_callable&gt;()-&gt;loc()));</span>
<span class='curline'><a href='../S/252.html#L649'>loc</a>               649 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "suitable_keep:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L651'>loc</a>               651 src/ai/formula/function_table.cpp 		const unit_map::const_iterator u = units.find(loc);</span>
<span class='curline'><a href='../S/252.html#L656'>loc</a>               656 src/ai/formula/function_table.cpp 		return variant(std::make_shared&lt;location_callable&gt;(ai_.suitable_keep(loc,unit_paths)));</span>
<span class='curline'><a href='../S/252.html#L705'>loc</a>               705 src/ai/formula/function_table.cpp 		const map_location loc = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "close_enemies:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L715'>loc</a>               715 src/ai/formula/function_table.cpp 			if (distance_between(loc, un-&gt;get_location()) &lt;= range) {</span>
<span class='curline'><a href='../S/252.html#L744'>loc</a>               744 src/ai/formula/function_table.cpp 			args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "calculate_outcome:attacker_current_location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L752'>loc</a>               752 src/ai/formula/function_table.cpp 			args()[2]-&gt;evaluate(variables,add_debug_info(fdb, 2, "calculate_outcome:defender_location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L759'>loc</a>               759 src/ai/formula/function_table.cpp 		battle_context bc(units, args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "calculate_outcome:attacker_attack_location")).convert_to&lt;location_callable&gt;()-&gt;loc(),</span>
<span class='curline'><a href='../S/252.html#L909'>loc</a>               909 src/ai/formula/function_table.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/252.html#L911'>loc</a>               911 src/ai/formula/function_table.cpp 			loc = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "recall:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L914'>loc</a>               914 src/ai/formula/function_table.cpp 		return variant(std::make_shared&lt;recall_callable&gt;(loc, id));</span>
<span class='curline'><a href='../S/252.html#L927'>loc</a>               927 src/ai/formula/function_table.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/252.html#L929'>loc</a>               929 src/ai/formula/function_table.cpp 			loc = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "recruit:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L932'>loc</a>               932 src/ai/formula/function_table.cpp 		return variant(std::make_shared&lt;recruit_callable&gt;(loc, type));</span>
<span class='curline'><a href='../S/252.html#L948'>loc</a>               948 src/ai/formula/function_table.cpp 		const map_location src = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "shortest_path:src")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L949'>loc</a>               949 src/ai/formula/function_table.cpp 		const map_location dst = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "shortest_path:dst")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L956'>loc</a>               956 src/ai/formula/function_table.cpp 			unit_loc = args()[2]-&gt;evaluate(variables,add_debug_info(fdb,2,"shortest_path:unit_location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L998'>loc</a>               998 src/ai/formula/function_table.cpp 		const map_location src = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "simplest_path:src")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L999'>loc</a>               999 src/ai/formula/function_table.cpp 		const map_location dst = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "simplest_path:dst")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1006'>loc</a>              1006 src/ai/formula/function_table.cpp 			unit_loc = args()[2]-&gt;evaluate(variables, add_debug_info(fdb, 2, "simplest_path:unit_location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1052'>loc</a>              1052 src/ai/formula/function_table.cpp 		const map_location src = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "next_hop:src")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1053'>loc</a>              1053 src/ai/formula/function_table.cpp 		const map_location dst = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "next_hop:dst")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1060'>loc</a>              1060 src/ai/formula/function_table.cpp 			unit_loc = args()[2]-&gt;evaluate(variables, add_debug_info(fdb, 2, "next_hop:unit_location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1080'>loc</a>              1080 src/ai/formula/function_table.cpp 		map_location loc = map_location::null_location();</span>
<span class='curline'><a href='../S/252.html#L1090'>loc</a>              1090 src/ai/formula/function_table.cpp 				loc = *loc_iter;</span>
<span class='curline'><a href='../S/252.html#L1095'>loc</a>              1095 src/ai/formula/function_table.cpp 		if (loc==map_location::null_location()) {</span>
<span class='curline'><a href='../S/252.html#L1098'>loc</a>              1098 src/ai/formula/function_table.cpp 		return variant(std::make_shared&lt;location_callable&gt;(loc));</span>
<span class='curline'><a href='../S/252.html#L1113'>loc</a>              1113 src/ai/formula/function_table.cpp 		const map_location src = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "move:src")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1114'>loc</a>              1114 src/ai/formula/function_table.cpp 		const map_location dst = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "move:dst")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1128'>loc</a>              1128 src/ai/formula/function_table.cpp 		const map_location src = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "move_partial:src")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1129'>loc</a>              1129 src/ai/formula/function_table.cpp 		const map_location dst = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "move_partial:dst")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1143'>loc</a>              1143 src/ai/formula/function_table.cpp 		return variant(std::make_shared&lt;set_unit_var_callable&gt;(args()[0]-&gt;evaluate(variables,add_debug_info(fdb,0,"set_unit_var:key")).as_string(), args()[1]-&gt;evaluate(variables,add_debug_info(fdb,1,"set_unit_var:value")), args()[2]-&gt;evaluate(variables,add_debug_info(fdb,2,"set_unit_var:unit_location")).convert_to&lt;location_callable&gt;()-&gt;loc()));</span>
<span class='curline'><a href='../S/252.html#L1170'>loc</a>              1170 src/ai/formula/function_table.cpp 		const map_location move_from = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "attack:move_from")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1171'>loc</a>              1171 src/ai/formula/function_table.cpp 		const map_location src = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "attack:src")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1172'>loc</a>              1172 src/ai/formula/function_table.cpp 		const map_location dst = args()[2]-&gt;evaluate(variables, add_debug_info(fdb, 2, "attack:dst")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1194'>loc</a>              1194 src/ai/formula/function_table.cpp                 const map_location location = var0.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1233'>loc</a>              1233 src/ai/formula/function_table.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/252.html#L1235'>loc</a>              1235 src/ai/formula/function_table.cpp 			loc = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "is_village:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1237'>loc</a>              1237 src/ai/formula/function_table.cpp 			loc = map_location( args()[1]-&gt;evaluate(variables,add_debug_info(fdb,1,"is_village:x")).as_int(),</span>
<span class='curline'><a href='../S/252.html#L1240'>loc</a>              1240 src/ai/formula/function_table.cpp 		return variant(m.is_village(loc));</span>
<span class='curline'><a href='../S/252.html#L1257'>loc</a>              1257 src/ai/formula/function_table.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/252.html#L1259'>loc</a>              1259 src/ai/formula/function_table.cpp 			loc = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "is_unowned_village:location")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1261'>loc</a>              1261 src/ai/formula/function_table.cpp 			loc = map_location( args()[1]-&gt;evaluate(variables,add_debug_info(fdb,1,"is_unowned_village:x")).as_int(),</span>
<span class='curline'><a href='../S/252.html#L1265'>loc</a>              1265 src/ai/formula/function_table.cpp 		if(m.is_village(loc) &amp;&amp; (my_villages.count(loc)==0) ) {</span>
<span class='curline'><a href='../S/252.html#L1287'>loc</a>              1287 src/ai/formula/function_table.cpp 		auto loc = loc_var.convert_to&lt;location_callable&gt;();</span>
<span class='curline'><a href='../S/252.html#L1288'>loc</a>              1288 src/ai/formula/function_table.cpp 		const unit_map::const_iterator i = resources::gameboard-&gt;units().find(loc-&gt;loc());</span>
<span class='curline'><a href='../S/252.html#L1311'>loc</a>              1311 src/ai/formula/function_table.cpp 		const map_location&amp; loc = res.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1314'>loc</a>              1314 src/ai/formula/function_table.cpp 		std::pair&lt;Itor,Itor&gt; range = srcdst.equal_range(loc);</span>
<span class='curline'><a href='../S/252.html#L1338'>loc</a>              1338 src/ai/formula/function_table.cpp 			dstsrc.equal_range(args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "units_can_reach:possible_move_list")).convert_to&lt;location_callable&gt;()-&gt;loc());</span>
<span class='curline'><a href='../S/252.html#L1366'>loc</a>              1366 src/ai/formula/function_table.cpp 		const map_location&amp; loc = loc_var.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1372'>loc</a>              1372 src/ai/formula/function_table.cpp                         if( un.total_movement() &lt; un.movement_cost( (resources::gameboard-&gt;map())[loc]) )</span>
<span class='curline'><a href='../S/252.html#L1375'>loc</a>              1375 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1379'>loc</a>              1379 src/ai/formula/function_table.cpp 			return variant(100 - un.defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1386'>loc</a>              1386 src/ai/formula/function_table.cpp 			if( un.movement() &lt; un.movement_type().movement_cost((resources::gameboard-&gt;map())[loc]) )</span>
<span class='curline'><a href='../S/252.html#L1389'>loc</a>              1389 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1393'>loc</a>              1393 src/ai/formula/function_table.cpp 			return variant(100 - un.movement_type().defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1416'>loc</a>              1416 src/ai/formula/function_table.cpp 		const map_location&amp; loc = loc_var.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1422'>loc</a>              1422 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1426'>loc</a>              1426 src/ai/formula/function_table.cpp 			return variant(un.defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1433'>loc</a>              1433 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1437'>loc</a>              1437 src/ai/formula/function_table.cpp 			return variant(un.movement_type().defense_modifier((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1460'>loc</a>              1460 src/ai/formula/function_table.cpp 		const map_location&amp; loc = loc_var.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1466'>loc</a>              1466 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1470'>loc</a>              1470 src/ai/formula/function_table.cpp 			return variant(un.movement_cost((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1477'>loc</a>              1477 src/ai/formula/function_table.cpp 			if(!resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/252.html#L1481'>loc</a>              1481 src/ai/formula/function_table.cpp 			return variant(un.movement_type().movement_cost((resources::gameboard-&gt;map())[loc]));</span>
<span class='curline'><a href='../S/252.html#L1499'>loc</a>              1499 src/ai/formula/function_table.cpp 		const map_location&amp; loc = res.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/252.html#L1500'>loc</a>              1500 src/ai/formula/function_table.cpp 		return variant(ai_.get_avoid().match(loc));</span>
<span class='curline'><a href='../S/292.html#L162'>loc</a>               162 src/ai/lua/core.cpp 	const map_location loc = leader-&gt;get_location();</span>
<span class='curline'><a href='../S/292.html#L164'>loc</a>               164 src/ai/lua/core.cpp 	const map_location &amp;res = context.suitable_keep(loc,leader_paths);</span>
<span class='curline'><a href='../S/292.html#L247'>loc</a>               247 src/ai/lua/core.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/292.html#L249'>loc</a>               249 src/ai/lua/core.cpp 	ai::stopunit_result_ptr stopunit_result = ai::actions::execute_stopunit_action(side,exec,loc,remove_movement,remove_attacks);</span>
<span class='curline'><a href='../S/292.html#L375'>loc</a>               375 src/ai/lua/core.cpp 		luaW_pushlocation(L, it-&gt;loc);</span>
<span class='curline'><a href='../S/293.html#L182'>loc</a>               182 src/ai/lua/engine_lua.cpp 		map_location loc(cfg["unit_x"], cfg["unit_y"], wml_loc()); // lua and c++ coords differ by one</span>
<span class='curline'><a href='../S/293.html#L183'>loc</a>               183 src/ai/lua/engine_lua.cpp 		bound_unit_ = unit_ptr(new unit(*resources::gameboard-&gt;units().find(loc)));</span>
<span class='curline'><a href='../S/231.html#L42'>loc</a>                42 src/ai/simulated_actions.cpp void helper_check_village(const map_location&amp; loc, int side);</span>
<span class='curline'><a href='../S/231.html#L43'>loc</a>                43 src/ai/simulated_actions.cpp void helper_place_unit(const unit&amp; u, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/231.html#L44'>loc</a>                44 src/ai/simulated_actions.cpp void helper_advance_unit(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/231.html#L180'>loc</a>               180 src/ai/simulated_actions.cpp void helper_check_village(const map_location&amp; loc, int side){</span>
<span class='curline'><a href='../S/231.html#L183'>loc</a>               183 src/ai/simulated_actions.cpp 	if(t &amp;&amp; t-&gt;owns_village(loc)){</span>
<span class='curline'><a href='../S/231.html#L194'>loc</a>               194 src/ai/simulated_actions.cpp 			if(i-&gt;owns_village(loc)){</span>
<span class='curline'><a href='../S/231.html#L196'>loc</a>               196 src/ai/simulated_actions.cpp 				i-&gt;lose_village(loc);</span>
<span class='curline'><a href='../S/231.html#L197'>loc</a>               197 src/ai/simulated_actions.cpp 				DBG_AI_SIM_ACTIONS &lt;&lt; "side " &lt;&lt; i_side &lt;&lt; " losts village at " &lt;&lt; loc &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/231.html#L206'>loc</a>               206 src/ai/simulated_actions.cpp 		t-&gt;get_village(loc, old_owner_side, nullptr);</span>
<span class='curline'><a href='../S/231.html#L207'>loc</a>               207 src/ai/simulated_actions.cpp 		DBG_AI_SIM_ACTIONS &lt;&lt; "side " &lt;&lt; side &lt;&lt; " gets village at " &lt;&lt; loc &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/231.html#L211'>loc</a>               211 src/ai/simulated_actions.cpp void helper_place_unit(const unit&amp; u, const map_location&amp; loc){</span>
<span class='curline'><a href='../S/231.html#L216'>loc</a>               216 src/ai/simulated_actions.cpp 	new_unit-&gt;set_location(loc);</span>
<span class='curline'><a href='../S/231.html#L222'>loc</a>               222 src/ai/simulated_actions.cpp 	if(resources::gameboard-&gt;map().is_village(loc)){</span>
<span class='curline'><a href='../S/231.html#L223'>loc</a>               223 src/ai/simulated_actions.cpp 		helper_check_village(loc, new_unit_itor-&gt;side());</span>
<span class='curline'><a href='../S/231.html#L227'>loc</a>               227 src/ai/simulated_actions.cpp void helper_advance_unit(const map_location&amp; loc){</span>
<span class='curline'><a href='../S/231.html#L233'>loc</a>               233 src/ai/simulated_actions.cpp 	unit_map::iterator advance_unit = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/231.html#L264'>loc</a>               264 src/ai/simulated_actions.cpp 	resources::gameboard-&gt;units().replace(loc, advanced_unit);</span>
<span class='curline'><a href='../S/231.html#L265'>loc</a>               265 src/ai/simulated_actions.cpp 	LOG_AI_SIM_ACTIONS &lt;&lt; advance_unit-&gt;type_name() &lt;&lt; " at " &lt;&lt; loc &lt;&lt; " advanced to " &lt;&lt; advanced_unit-&gt;type_name() &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/822.html#L290'>loc</a>               290 src/arrow.cpp  	for (map_location const&amp; loc : path)</span>
<span class='curline'><a href='../S/822.html#L292'>loc</a>               292 src/arrow.cpp  		SCREEN-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/682.html#L102'>loc</a>               102 src/display.cpp void display::add_overlay(const map_location&amp; loc, const std::string&amp; img, const std::string&amp; halo, const std::string&amp; team_name, const std::string&amp; item_id, bool visible_under_fog)</span>
<span class='curline'><a href='../S/682.html#L105'>loc</a>               105 src/display.cpp 		const halo::handle halo_handle = halo_man_-&gt;add(get_location_x(loc) + hex_size() / 2,</span>
<span class='curline'><a href='../S/682.html#L106'>loc</a>               106 src/display.cpp 			get_location_y(loc) + hex_size() / 2, halo, loc);</span>
<span class='curline'><a href='../S/682.html#L109'>loc</a>               109 src/display.cpp 		overlays_-&gt;insert(overlay_map::value_type(loc,item));</span>
<span class='curline'><a href='../S/682.html#L113'>loc</a>               113 src/display.cpp void display::remove_overlay(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/682.html#L126'>loc</a>               126 src/display.cpp 	overlays_-&gt;erase(loc);</span>
<span class='curline'><a href='../S/682.html#L129'>loc</a>               129 src/display.cpp void display::remove_single_overlay(const map_location&amp; loc, const std::string&amp; toDelete)</span>
<span class='curline'><a href='../S/682.html#L134'>loc</a>               134 src/display.cpp 	std::pair&lt;Itor,Itor&gt; itors = overlays_-&gt;equal_range(loc);</span>
<span class='curline'><a href='../S/682.html#L341'>loc</a>               341 src/display.cpp surface display::get_flag(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/682.html#L343'>loc</a>               343 src/display.cpp 	if(!get_map().is_village(loc)) {</span>
<span class='curline'><a href='../S/682.html#L348'>loc</a>               348 src/display.cpp 		if (t.owns_village(loc) &amp;&amp; (!fogged(loc) || !dc_-&gt;get_team(viewing_side()).is_enemy(t.side())))</span>
<span class='curline'><a href='../S/682.html#L387'>loc</a>               387 src/display.cpp bool display::add_exclusive_draw(const map_location&amp; loc, unit&amp; unit)</span>
<span class='curline'><a href='../S/682.html#L389'>loc</a>               389 src/display.cpp 	if (loc.valid() &amp;&amp; exclusive_unit_draw_requests_.find(loc) == exclusive_unit_draw_requests_.end())</span>
<span class='curline'><a href='../S/682.html#L391'>loc</a>               391 src/display.cpp 		exclusive_unit_draw_requests_[loc] = unit.id();</span>
<span class='curline'><a href='../S/682.html#L400'>loc</a>               400 src/display.cpp std::string display::remove_exclusive_draw(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/682.html#L403'>loc</a>               403 src/display.cpp 	if(loc.valid())</span>
<span class='curline'><a href='../S/682.html#L405'>loc</a>               405 src/display.cpp 		id = exclusive_unit_draw_requests_[loc];</span>
<span class='curline'><a href='../S/682.html#L407'>loc</a>               407 src/display.cpp 		exclusive_unit_draw_requests_.erase(loc);</span>
<span class='curline'><a href='../S/682.html#L463'>loc</a>               463 src/display.cpp const std::string&amp; display::get_variant(const std::vector&lt;std::string&gt;&amp; variants, const map_location &amp;loc) const</span>
<span class='curline'><a href='../S/682.html#L466'>loc</a>               466 src/display.cpp 	return variants[std::abs(loc.x + loc.y) % variants.size()];</span>
<span class='curline'><a href='../S/682.html#L705'>loc</a>               705 src/display.cpp bool display::shrouded(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/682.html#L707'>loc</a>               707 src/display.cpp 	return is_blindfolded() || (dont_show_all_ &amp;&amp; dc_-&gt;teams()[currentTeam_].shrouded(loc));</span>
<span class='curline'><a href='../S/682.html#L710'>loc</a>               710 src/display.cpp bool display::fogged(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/682.html#L712'>loc</a>               712 src/display.cpp 	return is_blindfolded() || (dont_show_all_ &amp;&amp; dc_-&gt;teams()[currentTeam_].fogged(loc));</span>
<span class='curline'><a href='../S/682.html#L715'>loc</a>               715 src/display.cpp int display::get_location_x(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/682.html#L717'>loc</a>               717 src/display.cpp 	return static_cast&lt;int&gt;(map_area().x + (loc.x + theme_.border().size) * hex_width() - xpos_);</span>
<span class='curline'><a href='../S/682.html#L720'>loc</a>               720 src/display.cpp int display::get_location_y(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/682.html#L722'>loc</a>               722 src/display.cpp 	return static_cast&lt;int&gt;(map_area().y + (loc.y + theme_.border().size) * zoom_ - ypos_ + (is_odd(loc.x) ? zoom_/2 : 0));</span>
<span class='curline'><a href='../S/682.html#L741'>loc</a>               741 src/display.cpp 	map_location loc = pixel_position_to_hex(px, py);</span>
<span class='curline'><a href='../S/682.html#L742'>loc</a>               742 src/display.cpp 	if (loc.x &lt; 0)</span>
<span class='curline'><a href='../S/682.html#L743'>loc</a>               743 src/display.cpp 		loc.x = 0;</span>
<span class='curline'><a href='../S/682.html#L744'>loc</a>               744 src/display.cpp 	else if (loc.x &gt;= get_map().w())</span>
<span class='curline'><a href='../S/682.html#L745'>loc</a>               745 src/display.cpp 		loc.x = get_map().w() - 1;</span>
<span class='curline'><a href='../S/682.html#L747'>loc</a>               747 src/display.cpp 	if (loc.y &lt; 0)</span>
<span class='curline'><a href='../S/682.html#L748'>loc</a>               748 src/display.cpp 		loc.y = 0;</span>
<span class='curline'><a href='../S/682.html#L749'>loc</a>               749 src/display.cpp 	else if (loc.y &gt;= get_map().h())</span>
<span class='curline'><a href='../S/682.html#L750'>loc</a>               750 src/display.cpp 		loc.y = get_map().h() - 1;</span>
<span class='curline'><a href='../S/682.html#L752'>loc</a>               752 src/display.cpp 	return loc;</span>
<span class='curline'><a href='../S/682.html#L854'>loc</a>               854 src/display.cpp 			const SDL_Rect&amp; loc = menu.location(screen_area());</span>
<span class='curline'><a href='../S/682.html#L855'>loc</a>               855 src/display.cpp 			b-&gt;set_location(loc);</span>
<span class='curline'><a href='../S/682.html#L866'>loc</a>               866 src/display.cpp 			const SDL_Rect&amp; loc = action.location(screen_area());</span>
<span class='curline'><a href='../S/682.html#L867'>loc</a>               867 src/display.cpp 			b-&gt;set_location(loc);</span>
<span class='curline'><a href='../S/682.html#L959'>loc</a>               959 src/display.cpp std::vector&lt;surface&gt; display::get_fog_shroud_images(const map_location&amp; loc, image::TYPE image_type)</span>
<span class='curline'><a href='../S/682.html#L964'>loc</a>               964 src/display.cpp 	get_adjacent_tiles(loc,adjacent);</span>
<span class='curline'><a href='../S/682.html#L975'>loc</a>               975 src/display.cpp 		} else if(!fogged(loc) &amp;&amp; fogged(adjacent[i])) {</span>
<span class='curline'><a href='../S/682.html#L1048'>loc</a>              1048 src/display.cpp std::vector&lt;surface&gt; display::get_terrain_images(const map_location &amp;loc,</span>
<span class='curline'><a href='../S/682.html#L1059'>loc</a>              1059 src/display.cpp 	const terrain_builder::imagelist* const terrains = builder_-&gt;get_terrain_at(loc,</span>
<span class='curline'><a href='../S/682.html#L1064'>loc</a>              1064 src/display.cpp 	const time_of_day&amp; tod = get_time_of_day(loc);</span>
<span class='curline'><a href='../S/682.html#L1068'>loc</a>              1068 src/display.cpp 	get_adjacent_tiles(loc,adjs);</span>
<span class='curline'><a href='../S/682.html#L1197'>loc</a>              1197 src/display.cpp 		const map_location&amp; loc, int x, int y, const surface&amp; surf,</span>
<span class='curline'><a href='../S/682.html#L1200'>loc</a>              1200 src/display.cpp 	drawing_buffer_.push_back(blit_helper(layer, loc, x, y, surf, clip));</span>
<span class='curline'><a href='../S/682.html#L1204'>loc</a>              1204 src/display.cpp 		const map_location&amp; loc, int x, int y,</span>
<span class='curline'><a href='../S/682.html#L1208'>loc</a>              1208 src/display.cpp 	drawing_buffer_.push_back(blit_helper(layer, loc, x, y, surf, clip));</span>
<span class='curline'><a href='../S/682.html#L1246'>loc</a>              1246 src/display.cpp inline display::drawing_buffer_key::drawing_buffer_key(const map_location &amp;loc, drawing_layer layer)</span>
<span class='curline'><a href='../S/682.html#L1269'>loc</a>              1269 src/display.cpp 	const unsigned int x_parity = static_cast&lt;unsigned int&gt;(loc.x) &amp; 1;</span>
<span class='curline'><a href='../S/682.html#L1270'>loc</a>              1270 src/display.cpp 	key_  = (group_i &lt;&lt; SHIFT_LAYER_GROUP) | (static_cast&lt;unsigned int&gt;(loc.y + MAX_BORDER) &lt;&lt; SHIFT_Y);</span>
<span class='curline'><a href='../S/682.html#L1272'>loc</a>              1272 src/display.cpp 	key_ |= (static_cast&lt;unsigned int&gt;(layer) &lt;&lt; SHIFT_LAYER) | static_cast&lt;unsigned int&gt;(loc.x + MAX_BORDER) / 2;</span>
<span class='curline'><a href='../S/682.html#L1402'>loc</a>              1402 src/display.cpp 	SDL_Rect&amp; loc = panel.location(screen);</span>
<span class='curline'><a href='../S/682.html#L1404'>loc</a>              1404 src/display.cpp 	DBG_DP &lt;&lt; "panel location: x=" &lt;&lt; loc.x &lt;&lt; ", y=" &lt;&lt; loc.y</span>
<span class='curline'><a href='../S/682.html#L1405'>loc</a>              1405 src/display.cpp 			&lt;&lt; ", w=" &lt;&lt; loc.w &lt;&lt; ", h=" &lt;&lt; loc.h &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/682.html#L1408'>loc</a>              1408 src/display.cpp 		if(surf-&gt;w != loc.w || surf-&gt;h != loc.h) {</span>
<span class='curline'><a href='../S/682.html#L1409'>loc</a>              1409 src/display.cpp 			surf.assign(tile_surface(surf,loc.w,loc.h));</span>
<span class='curline'><a href='../S/682.html#L1411'>loc</a>              1411 src/display.cpp 		video.blit_surface(loc.x, loc.y, surf);</span>
<span class='curline'><a href='../S/682.html#L1433'>loc</a>              1433 src/display.cpp 	SDL_Rect&amp; loc = label.location(screen_area());</span>
<span class='curline'><a href='../S/682.html#L1438'>loc</a>              1438 src/display.cpp 			if(surf-&gt;w &gt; loc.w || surf-&gt;h &gt; loc.h) {</span>
<span class='curline'><a href='../S/682.html#L1439'>loc</a>              1439 src/display.cpp 				surf.assign(scale_surface(surf,loc.w,loc.h));</span>
<span class='curline'><a href='../S/682.html#L1442'>loc</a>              1442 src/display.cpp 			sdl_blit(surf,nullptr,target,&amp;loc);</span>
<span class='curline'><a href='../S/682.html#L1446'>loc</a>              1446 src/display.cpp 			tooltips::add_tooltip(loc,text);</span>
<span class='curline'><a href='../S/682.html#L1449'>loc</a>              1449 src/display.cpp 		font::draw_text(&amp;video,loc,label.font_size(),font::NORMAL_COLOR,text,loc.x,loc.y);</span>
<span class='curline'><a href='../S/682.html#L1496'>loc</a>              1496 src/display.cpp void display::draw_text_in_hex(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/682.html#L1506'>loc</a>              1506 src/display.cpp 	const int x = get_location_x(loc) - text_surf-&gt;w/2</span>
<span class='curline'><a href='../S/682.html#L1508'>loc</a>              1508 src/display.cpp 	const int y = get_location_y(loc) - text_surf-&gt;h/2</span>
<span class='curline'><a href='../S/682.html#L1513'>loc</a>              1513 src/display.cpp 				drawing_buffer_add(layer, loc, x + dx, y + dy, back_surf);</span>
<span class='curline'><a href='../S/682.html#L1517'>loc</a>              1517 src/display.cpp 	drawing_buffer_add(layer, loc, x, y, text_surf);</span>
<span class='curline'><a href='../S/682.html#L1522'>loc</a>              1522 src/display.cpp 		const map_location&amp; loc, surface image,</span>
<span class='curline'><a href='../S/682.html#L1570'>loc</a>              1570 src/display.cpp 		drawing_buffer_add(drawing_layer, loc, x, y, surf, srcrect);</span>
<span class='curline'><a href='../S/682.html#L1583'>loc</a>              1583 src/display.cpp 			drawing_buffer_add(drawing_layer, loc, x, y, surf, srcrect);</span>
<span class='curline'><a href='../S/682.html#L1587'>loc</a>              1587 src/display.cpp 		drawing_buffer_add(drawing_layer, loc, x, y, surf);</span>
<span class='curline'><a href='../S/682.html#L2017'>loc</a>              2017 src/display.cpp bool display::tile_fully_on_screen(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/682.html#L2019'>loc</a>              2019 src/display.cpp 	int x = get_location_x(loc);</span>
<span class='curline'><a href='../S/682.html#L2020'>loc</a>              2020 src/display.cpp 	int y = get_location_y(loc);</span>
<span class='curline'><a href='../S/682.html#L2024'>loc</a>              2024 src/display.cpp bool display::tile_nearly_on_screen(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/682.html#L2026'>loc</a>              2026 src/display.cpp 	int x = get_location_x(loc);</span>
<span class='curline'><a href='../S/682.html#L2027'>loc</a>              2027 src/display.cpp 	int y = get_location_y(loc);</span>
<span class='curline'><a href='../S/682.html#L2113'>loc</a>              2113 src/display.cpp void display::scroll_to_tile(const map_location&amp; loc, SCROLL_TYPE scroll_type, bool check_fogged, bool force)</span>
<span class='curline'><a href='../S/682.html#L2115'>loc</a>              2115 src/display.cpp 	if(get_map().on_board(loc) == false) {</span>
<span class='curline'><a href='../S/682.html#L2116'>loc</a>              2116 src/display.cpp 		ERR_DP &lt;&lt; "Tile at " &lt;&lt; loc &lt;&lt; " isn't on the map, can't scroll to the tile." &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/682.html#L2121'>loc</a>              2121 src/display.cpp 	locs.push_back(loc);</span>
<span class='curline'><a href='../S/682.html#L2485'>loc</a>              2485 src/display.cpp 	for (const map_location&amp; loc : invalidated_) {</span>
<span class='curline'><a href='../S/682.html#L2486'>loc</a>              2486 src/display.cpp 		int xpos = get_location_x(loc);</span>
<span class='curline'><a href='../S/682.html#L2487'>loc</a>              2487 src/display.cpp 		int ypos = get_location_y(loc);</span>
<span class='curline'><a href='../S/682.html#L2494'>loc</a>              2494 src/display.cpp 		draw_hex(loc);</span>
<span class='curline'><a href='../S/682.html#L2507'>loc</a>              2507 src/display.cpp 	for (const map_location&amp; loc : invalidated_) {</span>
<span class='curline'><a href='../S/682.html#L2508'>loc</a>              2508 src/display.cpp 		unit_map::const_iterator u_it = dc_-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/682.html#L2509'>loc</a>              2509 src/display.cpp 		exclusive_unit_draw_requests_t::iterator request = exclusive_unit_draw_requests_.find(loc);</span>
<span class='curline'><a href='../S/682.html#L2517'>loc</a>              2517 src/display.cpp void display::draw_hex(const map_location&amp; loc) {</span>
<span class='curline'><a href='../S/682.html#L2518'>loc</a>              2518 src/display.cpp 	int xpos = get_location_x(loc);</span>
<span class='curline'><a href='../S/682.html#L2519'>loc</a>              2519 src/display.cpp 	int ypos = get_location_y(loc);</span>
<span class='curline'><a href='../S/682.html#L2520'>loc</a>              2520 src/display.cpp 	image::TYPE image_type = get_image_type(loc);</span>
<span class='curline'><a href='../S/682.html#L2521'>loc</a>              2521 src/display.cpp 	const bool on_map = get_map().on_board(loc);</span>
<span class='curline'><a href='../S/682.html#L2522'>loc</a>              2522 src/display.cpp 	const time_of_day&amp; tod = get_time_of_day(loc);</span>
<span class='curline'><a href='../S/682.html#L2527'>loc</a>              2527 src/display.cpp 	if(!shrouded(loc)) {</span>
<span class='curline'><a href='../S/682.html#L2528'>loc</a>              2528 src/display.cpp 		std::vector&lt;surface&gt; images_fg = get_terrain_images(loc,tod.id, image_type, FOREGROUND);</span>
<span class='curline'><a href='../S/682.html#L2529'>loc</a>              2529 src/display.cpp 		std::vector&lt;surface&gt; images_bg = get_terrain_images(loc,tod.id, image_type, BACKGROUND);</span>
<span class='curline'><a href='../S/682.html#L2535'>loc</a>              2535 src/display.cpp 		drawing_buffer_add(LAYER_TERRAIN_BG, loc, xpos, ypos, images_bg);</span>
<span class='curline'><a href='../S/682.html#L2537'>loc</a>              2537 src/display.cpp 		drawing_buffer_add(LAYER_TERRAIN_FG, loc, xpos, ypos, images_fg);</span>
<span class='curline'><a href='../S/682.html#L2542'>loc</a>              2542 src/display.cpp 			drawing_buffer_add(LAYER_GRID_TOP, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/682.html#L2545'>loc</a>              2545 src/display.cpp 			drawing_buffer_add(LAYER_GRID_BOTTOM, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/682.html#L2549'>loc</a>              2549 src/display.cpp 		drawing_buffer_add(LAYER_TERRAIN_BG, loc, xpos, ypos, get_flag(loc));</span>
<span class='curline'><a href='../S/682.html#L2552'>loc</a>              2552 src/display.cpp 	if(!shrouded(loc)) {</span>
<span class='curline'><a href='../S/682.html#L2554'>loc</a>              2554 src/display.cpp 		std::pair&lt;Itor,Itor&gt; overlays = overlays_-&gt;equal_range(loc);</span>
<span class='curline'><a href='../S/682.html#L2571'>loc</a>              2571 src/display.cpp 						&amp;&amp; !(fogged(loc) &amp;&amp; !overlays.first-&gt;second.visible_in_fog))</span>
<span class='curline'><a href='../S/682.html#L2577'>loc</a>              2577 src/display.cpp 					drawing_buffer_add(LAYER_TERRAIN_BG, loc, xpos, ypos, surf);</span>
<span class='curline'><a href='../S/682.html#L2587'>loc</a>              2587 src/display.cpp 		drawing_buffer_add(LAYER_TERRAIN_FG, loc, xpos, ypos, tod_hex_mask1);</span>
<span class='curline'><a href='../S/682.html#L2588'>loc</a>              2588 src/display.cpp 		drawing_buffer_add(LAYER_TERRAIN_FG, loc, xpos, ypos, tod_hex_mask2);</span>
<span class='curline'><a href='../S/682.html#L2590'>loc</a>              2590 src/display.cpp 		drawing_buffer_add(LAYER_TERRAIN_FG, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/682.html#L2595'>loc</a>              2595 src/display.cpp 	if(loc == mouseoverHex_ &amp;&amp; (on_map || (in_editor() &amp;&amp; get_map().on_board_with_border(loc)))</span>
<span class='curline'><a href='../S/682.html#L2597'>loc</a>              2597 src/display.cpp 		drawing_buffer_add(LAYER_MOUSEOVER_OVERLAY, loc, xpos, ypos, mouseover_hex_overlay_);</span>
<span class='curline'><a href='../S/682.html#L2601'>loc</a>              2601 src/display.cpp 	arrows_map_t::const_iterator arrows_in_hex = arrows_map_.find(loc);</span>
<span class='curline'><a href='../S/682.html#L2604'>loc</a>              2604 src/display.cpp 			a-&gt;draw_hex(loc);</span>
<span class='curline'><a href='../S/682.html#L2610'>loc</a>              2610 src/display.cpp 	if(shrouded(loc)) {</span>
<span class='curline'><a href='../S/682.html#L2613'>loc</a>              2613 src/display.cpp 		const std::string&amp; shroud_image = get_variant(shroud_images_, loc);</span>
<span class='curline'><a href='../S/682.html#L2614'>loc</a>              2614 src/display.cpp 		drawing_buffer_add(LAYER_FOG_SHROUD, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/682.html#L2616'>loc</a>              2616 src/display.cpp 	} else if(fogged(loc)) {</span>
<span class='curline'><a href='../S/682.html#L2617'>loc</a>              2617 src/display.cpp 		const std::string&amp; fog_image = get_variant(fog_images_, loc);</span>
<span class='curline'><a href='../S/682.html#L2618'>loc</a>              2618 src/display.cpp 		drawing_buffer_add(LAYER_FOG_SHROUD, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/682.html#L2622'>loc</a>              2622 src/display.cpp 	if(!shrouded(loc)) {</span>
<span class='curline'><a href='../S/682.html#L2623'>loc</a>              2623 src/display.cpp 		drawing_buffer_add(LAYER_FOG_SHROUD, loc, xpos, ypos, get_fog_shroud_images(loc, image_type));</span>
<span class='curline'><a href='../S/682.html#L2630'>loc</a>              2630 src/display.cpp 			surface text = font::get_rendered_text(lexical_cast&lt;std::string&gt;(loc), font::SIZE_SMALL, font::NORMAL_COLOR);</span>
<span class='curline'><a href='../S/682.html#L2642'>loc</a>              2642 src/display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, off_x, off_y, bg);</span>
<span class='curline'><a href='../S/682.html#L2643'>loc</a>              2643 src/display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, off_x, off_y, text);</span>
<span class='curline'><a href='../S/682.html#L2645'>loc</a>              2645 src/display.cpp 		if (draw_terrain_codes_ &amp;&amp; (game_config::debug || !shrouded(loc))) {</span>
<span class='curline'><a href='../S/682.html#L2648'>loc</a>              2648 src/display.cpp 			surface text = font::get_rendered_text(lexical_cast&lt;std::string&gt;(get_map().get_terrain(loc)), font::SIZE_SMALL, font::NORMAL_COLOR);</span>
<span class='curline'><a href='../S/682.html#L2659'>loc</a>              2659 src/display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, off_x, off_y, bg);</span>
<span class='curline'><a href='../S/682.html#L2660'>loc</a>              2660 src/display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, off_x, off_y, text);</span>
<span class='curline'><a href='../S/682.html#L2677'>loc</a>              2677 src/display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, off_x, off_y, bg);</span>
<span class='curline'><a href='../S/682.html#L2678'>loc</a>              2678 src/display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, off_x, off_y, text);</span>
<span class='curline'><a href='../S/682.html#L2683'>loc</a>              2683 src/display.cpp 		drawing_buffer_add(LAYER_UNIT_DEFAULT, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/682.html#L2953'>loc</a>              2953 src/display.cpp bool display::invalidate(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/682.html#L2962'>loc</a>              2962 src/display.cpp 	tmp = invalidated_.insert(loc).second;</span>
<span class='curline'><a href='../S/682.html#L2971'>loc</a>              2971 src/display.cpp 	for (const map_location&amp; loc : locs) {</span>
<span class='curline'><a href='../S/682.html#L2975'>loc</a>              2975 src/display.cpp 		ret = invalidated_.insert(loc).second || ret;</span>
<span class='curline'><a href='../S/682.html#L3021'>loc</a>              3021 src/display.cpp 	for (const map_location &amp;loc : hexes_under_rect(rect)) {</span>
<span class='curline'><a href='../S/682.html#L3022'>loc</a>              3022 src/display.cpp 		result |= invalidate(loc);</span>
<span class='curline'><a href='../S/682.html#L3027'>loc</a>              3027 src/display.cpp void display::invalidate_animations_location(const map_location&amp; loc) {</span>
<span class='curline'><a href='../S/682.html#L3028'>loc</a>              3028 src/display.cpp 	if (get_map().is_village(loc)) {</span>
<span class='curline'><a href='../S/682.html#L3029'>loc</a>              3029 src/display.cpp 		const int owner = dc_-&gt;village_owner(loc);</span>
<span class='curline'><a href='../S/682.html#L3031'>loc</a>              3031 src/display.cpp 		&amp;&amp; (!fogged(loc) || !dc_-&gt;teams()[currentTeam_].is_enemy(owner+1))) {</span>
<span class='curline'><a href='../S/682.html#L3032'>loc</a>              3032 src/display.cpp 			invalidate(loc);</span>
<span class='curline'><a href='../S/682.html#L3042'>loc</a>              3042 src/display.cpp 		for (const map_location &amp;loc : get_visible_hexes())</span>
<span class='curline'><a href='../S/682.html#L3044'>loc</a>              3044 src/display.cpp 			if (shrouded(loc)) continue;</span>
<span class='curline'><a href='../S/682.html#L3045'>loc</a>              3045 src/display.cpp 			if (builder_-&gt;update_animation(loc)) {</span>
<span class='curline'><a href='../S/682.html#L3046'>loc</a>              3046 src/display.cpp 				invalidate(loc);</span>
<span class='curline'><a href='../S/682.html#L3048'>loc</a>              3048 src/display.cpp 				invalidate_animations_location(loc);</span>
<span class='curline'><a href='../S/682.html#L3109'>loc</a>              3109 src/display.cpp 	for (const map_location&amp; loc : arrow_path)</span>
<span class='curline'><a href='../S/682.html#L3111'>loc</a>              3111 src/display.cpp 		arrows_map_[loc].push_back(&amp;arrow);</span>
<span class='curline'><a href='../S/682.html#L3118'>loc</a>              3118 src/display.cpp 	for (const map_location&amp; loc : arrow_path)</span>
<span class='curline'><a href='../S/682.html#L3120'>loc</a>              3120 src/display.cpp 		arrows_map_[loc].remove(&amp;arrow);</span>
<span class='curline'><a href='../S/682.html#L3127'>loc</a>              3127 src/display.cpp 	for (const map_location&amp; loc : previous_path)</span>
<span class='curline'><a href='../S/682.html#L3129'>loc</a>              3129 src/display.cpp 		arrows_map_[loc].remove(&amp;arrow);</span>
<span class='curline'><a href='../S/682.html#L3132'>loc</a>              3132 src/display.cpp 	for (const map_location&amp; loc : arrow_path)</span>
<span class='curline'><a href='../S/682.html#L3134'>loc</a>              3134 src/display.cpp 		arrows_map_[loc].push_back(&amp;arrow);</span>
<span class='curline'><a href='../S/958.html#L126'>loc</a>               126 src/display.hpp 	bool add_exclusive_draw(const map_location&amp; loc, unit&amp; unit);</span>
<span class='curline'><a href='../S/958.html#L132'>loc</a>               132 src/display.hpp 	std::string remove_exclusive_draw(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L146'>loc</a>               146 src/display.hpp 	void add_overlay(const map_location&amp; loc, const std::string&amp; image,</span>
<span class='curline'><a href='../S/958.html#L151'>loc</a>               151 src/display.hpp 	void remove_overlay(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L154'>loc</a>               154 src/display.hpp 	void remove_single_overlay(const map_location&amp; loc, const std::string&amp; toDelete);</span>
<span class='curline'><a href='../S/958.html#L291'>loc</a>               291 src/display.hpp 	int get_location_x(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/958.html#L292'>loc</a>               292 src/display.hpp 	int get_location_y(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/958.html#L306'>loc</a>               306 src/display.hpp 			iterator(const map_location &amp;loc, const rect_of_hexes &amp;rect)</span>
<span class='curline'><a href='../S/958.html#L307'>loc</a>               307 src/display.hpp 				: loc_(loc), rect_(rect){}</span>
<span class='curline'><a href='../S/958.html#L338'>loc</a>               338 src/display.hpp 	bool shrouded(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/958.html#L341'>loc</a>               341 src/display.hpp 	bool fogged(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/958.html#L409'>loc</a>               409 src/display.hpp 	bool invalidate(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L432'>loc</a>               432 src/display.hpp 	void invalidate_animations_location(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L527'>loc</a>               527 src/display.hpp 	void scroll_to_tile(const map_location&amp; loc, SCROLL_TYPE scroll_type=ONSCREEN, bool check_fogged=true,bool force = true);</span>
<span class='curline'><a href='../S/958.html#L561'>loc</a>               561 src/display.hpp 	bool tile_fully_on_screen(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/958.html#L564'>loc</a>               564 src/display.hpp 	bool tile_nearly_on_screen(const map_location &amp;loc) const;</span>
<span class='curline'><a href='../S/958.html#L598'>loc</a>               598 src/display.hpp 	virtual const time_of_day&amp; get_time_of_day(const map_location&amp; loc = map_location::null_location()) const;</span>
<span class='curline'><a href='../S/958.html#L679'>loc</a>               679 src/display.hpp 	virtual void draw_hex(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L684'>loc</a>               684 src/display.hpp 	virtual image::TYPE get_image_type(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L696'>loc</a>               696 src/display.hpp 	std::vector&lt;surface&gt; get_terrain_images(const map_location &amp;loc,</span>
<span class='curline'><a href='../S/958.html#L701'>loc</a>               701 src/display.hpp 	std::vector&lt;surface&gt; get_fog_shroud_images(const map_location&amp; loc, image::TYPE image_type);</span>
<span class='curline'><a href='../S/958.html#L709'>loc</a>               709 src/display.hpp 	const std::string&amp; get_variant(const std::vector&lt;std::string&gt;&amp; variants, const map_location &amp;loc) const;</span>
<span class='curline'><a href='../S/958.html#L778'>loc</a>               778 src/display.hpp 	surface get_flag(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/958.html#L845'>loc</a>               845 src/display.hpp 			const map_location&amp; loc, surface image,</span>
<span class='curline'><a href='../S/958.html#L854'>loc</a>               854 src/display.hpp 	void draw_text_in_hex(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/958.html#L898'>loc</a>               898 src/display.hpp 		drawing_buffer_key(const map_location &amp;loc, drawing_layer layer);</span>
<span class='curline'><a href='../S/958.html#L907'>loc</a>               907 src/display.hpp 		blit_helper(const drawing_layer layer, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/958.html#L911'>loc</a>               911 src/display.hpp 			key_(loc, layer)</span>
<span class='curline'><a href='../S/958.html#L914'>loc</a>               914 src/display.hpp 		blit_helper(const drawing_layer layer, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/958.html#L918'>loc</a>               918 src/display.hpp 			key_(loc, layer)</span>
<span class='curline'><a href='../S/958.html#L951'>loc</a>               951 src/display.hpp 			const map_location&amp; loc, int x, int y, const surface&amp; surf,</span>
<span class='curline'><a href='../S/958.html#L955'>loc</a>               955 src/display.hpp 			const map_location&amp; loc, int x, int y,</span>
<span class='curline'><a href='../S/930.html#L31'>loc</a>                31 src/display_context.cpp bool display_context::would_be_discovered(const map_location &amp; loc, int side_num, bool see_all)</span>
<span class='curline'><a href='../S/930.html#L34'>loc</a>                34 src/display_context.cpp 	get_adjacent_tiles(loc,adjs);</span>
<span class='curline'><a href='../S/930.html#L57'>loc</a>                57 src/display_context.cpp const unit * display_context::get_visible_unit(const map_location &amp; loc, const team &amp;current_team, bool see_all) const</span>
<span class='curline'><a href='../S/930.html#L59'>loc</a>                59 src/display_context.cpp 	if (!map().on_board(loc)) return nullptr;</span>
<span class='curline'><a href='../S/930.html#L60'>loc</a>                60 src/display_context.cpp 	const unit_map::const_iterator u = units().find(loc);</span>
<span class='curline'><a href='../S/930.html#L109'>loc</a>               109 src/display_context.cpp int display_context::village_owner(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/930.html#L113'>loc</a>               113 src/display_context.cpp 		if(t[i].owns_village(loc))</span>
<span class='curline'><a href='../S/846.html#L74'>loc</a>                74 src/display_context.hpp 	bool would_be_discovered(const map_location &amp; loc, int side_num, bool see_all = true);</span>
<span class='curline'><a href='../S/846.html#L78'>loc</a>                78 src/display_context.hpp 	const unit * get_visible_unit(const map_location &amp;loc, const team &amp;current_team, bool see_all = false) const;</span>
<span class='curline'><a href='../S/846.html#L90'>loc</a>                90 src/display_context.hpp 	int village_owner(const map_location &amp; loc) const;</span>
<span class='curline'><a href='../S/61.html#L179'>loc</a>               179 src/editor/action/action.hpp 		editor_action_location(map_location loc)</span>
<span class='curline'><a href='../S/61.html#L180'>loc</a>               180 src/editor/action/action.hpp 		: loc_(loc)</span>
<span class='curline'><a href='../S/61.html#L194'>loc</a>               194 src/editor/action/action.hpp 		editor_action_location_terrain(map_location loc,</span>
<span class='curline'><a href='../S/61.html#L196'>loc</a>               196 src/editor/action/action.hpp 		: editor_action_location(loc), t_(t)</span>
<span class='curline'><a href='../S/61.html#L266'>loc</a>               266 src/editor/action/action.hpp 		editor_action_fill(map_location loc,</span>
<span class='curline'><a href='../S/61.html#L268'>loc</a>               268 src/editor/action/action.hpp 		: editor_action_location_terrain(loc, t), one_layer_(one_layer)</span>
<span class='curline'><a href='../S/61.html#L285'>loc</a>               285 src/editor/action/action.hpp 		editor_action_starting_position(map_location loc, std::string loc_id)</span>
<span class='curline'><a href='../S/61.html#L286'>loc</a>               286 src/editor/action/action.hpp 		: editor_action_location(loc), loc_id_(loc_id)</span>
<span class='curline'><a href='../S/63.html#L44'>loc</a>                44 src/editor/action/action_item.hpp 		editor_action_item(map_location loc,</span>
<span class='curline'><a href='../S/63.html#L46'>loc</a>                46 src/editor/action/action_item.hpp 		: editor_action_location(loc), item_(item)</span>
<span class='curline'><a href='../S/63.html#L63'>loc</a>                63 src/editor/action/action_item.hpp 		editor_action_item_delete(map_location loc)</span>
<span class='curline'><a href='../S/63.html#L64'>loc</a>                64 src/editor/action/action_item.hpp 		: editor_action_location(loc)</span>
<span class='curline'><a href='../S/63.html#L76'>loc</a>                76 src/editor/action/action_item.hpp 		editor_action_item_replace(map_location loc, map_location new_loc)</span>
<span class='curline'><a href='../S/63.html#L77'>loc</a>                77 src/editor/action/action_item.hpp 		: editor_action_location(loc), new_loc_(new_loc)</span>
<span class='curline'><a href='../S/63.html#L91'>loc</a>                91 src/editor/action/action_item.hpp 	editor_action_item_facing(map_location loc, map_location::DIRECTION new_direction, map_location::DIRECTION old_direction)</span>
<span class='curline'><a href='../S/63.html#L92'>loc</a>                92 src/editor/action/action_item.hpp 	: editor_action_location(loc), new_direction_(new_direction), old_direction_(old_direction)</span>
<span class='curline'><a href='../S/57.html#L42'>loc</a>                42 src/editor/action/action_label.hpp 		editor_action_label(map_location loc, const std::string&amp; text, const std::string&amp; team_name,</span>
<span class='curline'><a href='../S/57.html#L44'>loc</a>                44 src/editor/action/action_label.hpp 		: editor_action_location(loc), text_(text) , team_name_(team_name), category_(category), color_(color)</span>
<span class='curline'><a href='../S/57.html#L65'>loc</a>                65 src/editor/action/action_label.hpp 		editor_action_label_delete(map_location loc)</span>
<span class='curline'><a href='../S/57.html#L66'>loc</a>                66 src/editor/action/action_label.hpp 		: editor_action_location(loc)</span>
<span class='curline'><a href='../S/56.html#L33'>loc</a>                33 src/editor/action/action_select.cpp 	for (const map_location&amp; loc : locs) {</span>
<span class='curline'><a href='../S/56.html#L34'>loc</a>                34 src/editor/action/action_select.cpp 		LOG_ED &lt;&lt; "Extending by " &lt;&lt; loc &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/56.html#L35'>loc</a>                35 src/editor/action/action_select.cpp 		area_.insert(loc);</span>
<span class='curline'><a href='../S/56.html#L42'>loc</a>                42 src/editor/action/action_select.cpp 	for (const map_location&amp; loc : area_) {</span>
<span class='curline'><a href='../S/56.html#L43'>loc</a>                43 src/editor/action/action_select.cpp 		undo_locs.insert(loc);</span>
<span class='curline'><a href='../S/56.html#L44'>loc</a>                44 src/editor/action/action_select.cpp 		mc.add_changed_location(loc);</span>
<span class='curline'><a href='../S/56.html#L52'>loc</a>                52 src/editor/action/action_select.cpp 	for (const map_location&amp; loc : area_) {</span>
<span class='curline'><a href='../S/56.html#L54'>loc</a>                54 src/editor/action/action_select.cpp 		mc.get_map().add_to_selection(loc);</span>
<span class='curline'><a href='../S/56.html#L55'>loc</a>                55 src/editor/action/action_select.cpp 		mc.add_changed_location(loc);</span>
<span class='curline'><a href='../S/56.html#L66'>loc</a>                66 src/editor/action/action_select.cpp 	for (const map_location&amp; loc : locs) {</span>
<span class='curline'><a href='../S/56.html#L67'>loc</a>                67 src/editor/action/action_select.cpp 		LOG_ED &lt;&lt; "Checking " &lt;&lt; loc &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/56.html#L68'>loc</a>                68 src/editor/action/action_select.cpp 		if (!map.in_selection(loc)) {</span>
<span class='curline'><a href='../S/56.html#L69'>loc</a>                69 src/editor/action/action_select.cpp 			LOG_ED &lt;&lt; "Extending by " &lt;&lt; loc &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/56.html#L70'>loc</a>                70 src/editor/action/action_select.cpp 			area_.insert(loc);</span>
<span class='curline'><a href='../S/56.html#L78'>loc</a>                78 src/editor/action/action_select.cpp 	for (const map_location&amp; loc : area_) {</span>
<span class='curline'><a href='../S/56.html#L79'>loc</a>                79 src/editor/action/action_select.cpp 		if (mc.get_map().in_selection(loc)) {</span>
<span class='curline'><a href='../S/56.html#L80'>loc</a>                80 src/editor/action/action_select.cpp 			undo_locs.insert(loc);</span>
<span class='curline'><a href='../S/56.html#L81'>loc</a>                81 src/editor/action/action_select.cpp 			mc.add_changed_location(loc);</span>
<span class='curline'><a href='../S/56.html#L90'>loc</a>                90 src/editor/action/action_select.cpp 	for (const map_location&amp; loc : area_) {</span>
<span class='curline'><a href='../S/56.html#L91'>loc</a>                91 src/editor/action/action_select.cpp 		mc.get_map().remove_from_selection(loc);</span>
<span class='curline'><a href='../S/56.html#L92'>loc</a>                92 src/editor/action/action_select.cpp 		mc.add_changed_location(loc);</span>
<span class='curline'><a href='../S/62.html#L41'>loc</a>                41 src/editor/action/action_unit.hpp 		editor_action_unit(map_location loc,</span>
<span class='curline'><a href='../S/62.html#L43'>loc</a>                43 src/editor/action/action_unit.hpp 		: editor_action_location(loc), u_(u)</span>
<span class='curline'><a href='../S/62.html#L60'>loc</a>                60 src/editor/action/action_unit.hpp 		editor_action_unit_delete(map_location loc)</span>
<span class='curline'><a href='../S/62.html#L61'>loc</a>                61 src/editor/action/action_unit.hpp 		: editor_action_location(loc)</span>
<span class='curline'><a href='../S/62.html#L73'>loc</a>                73 src/editor/action/action_unit.hpp 		editor_action_unit_replace(map_location loc, map_location new_loc)</span>
<span class='curline'><a href='../S/62.html#L74'>loc</a>                74 src/editor/action/action_unit.hpp 		: editor_action_location(loc), new_loc_(new_loc)</span>
<span class='curline'><a href='../S/62.html#L88'>loc</a>                88 src/editor/action/action_unit.hpp 	editor_action_unit_facing(map_location loc, map_location::DIRECTION new_direction, map_location::DIRECTION old_direction)</span>
<span class='curline'><a href='../S/62.html#L89'>loc</a>                89 src/editor/action/action_unit.hpp 	: editor_action_location(loc), new_direction_(new_direction), old_direction_(old_direction)</span>
<span class='curline'><a href='../S/59.html#L39'>loc</a>                39 src/editor/action/action_village.hpp 		editor_action_village(map_location loc, int side_number)</span>
<span class='curline'><a href='../S/59.html#L40'>loc</a>                40 src/editor/action/action_village.hpp 		: editor_action_location(loc), side_number_(side_number)</span>
<span class='curline'><a href='../S/59.html#L57'>loc</a>                57 src/editor/action/action_village.hpp 		editor_action_village_delete(map_location loc)</span>
<span class='curline'><a href='../S/59.html#L58'>loc</a>                58 src/editor/action/action_village.hpp 		: editor_action_location(loc)</span>
<span class='curline'><a href='../S/73.html#L310'>loc</a>               310 src/editor/controller/editor_controller.cpp 			map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L313'>loc</a>               313 src/editor/controller/editor_controller.cpp 					units.find(loc) != units.end());</span>
<span class='curline'><a href='../S/73.html#L772'>loc</a>               772 src/editor/controller/editor_controller.cpp 			map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L773'>loc</a>               773 src/editor/controller/editor_controller.cpp 			const unit_map::unit_iterator un = get_current_map_context().get_units().find(loc);</span>
<span class='curline'><a href='../S/73.html#L781'>loc</a>               781 src/editor/controller/editor_controller.cpp 			map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L782'>loc</a>               782 src/editor/controller/editor_controller.cpp 			const unit_map::unit_iterator un = get_current_map_context().get_units().find(loc);</span>
<span class='curline'><a href='../S/73.html#L789'>loc</a>               789 src/editor/controller/editor_controller.cpp 			map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L790'>loc</a>               790 src/editor/controller/editor_controller.cpp 			const unit_map::unit_iterator un = get_current_map_context().get_units().find(loc);</span>
<span class='curline'><a href='../S/73.html#L798'>loc</a>               798 src/editor/controller/editor_controller.cpp 			map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L799'>loc</a>               799 src/editor/controller/editor_controller.cpp 			perform_delete(new editor_action_unit_delete(loc));</span>
<span class='curline'><a href='../S/73.html#L1116'>loc</a>              1116 src/editor/controller/editor_controller.cpp 	map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L1118'>loc</a>              1118 src/editor/controller/editor_controller.cpp 	const unit_map::const_unit_iterator un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1137'>loc</a>              1137 src/editor/controller/editor_controller.cpp 	map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L1139'>loc</a>              1139 src/editor/controller/editor_controller.cpp 	const unit_map::unit_iterator&amp; un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1154'>loc</a>              1154 src/editor/controller/editor_controller.cpp 	map_location loc = gui_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L1156'>loc</a>              1156 src/editor/controller/editor_controller.cpp 	const unit_map::unit_iterator&amp; un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1362'>loc</a>              1362 src/editor/controller/editor_controller.cpp 	const map_location&amp; loc = gui().mouseover_hex();</span>
<span class='curline'><a href='../S/73.html#L1363'>loc</a>              1363 src/editor/controller/editor_controller.cpp 	if (context_manager_-&gt;get_map().on_board(loc) == false)</span>
<span class='curline'><a href='../S/73.html#L1366'>loc</a>              1366 src/editor/controller/editor_controller.cpp 	const terrain_type&amp; type = context_manager_-&gt;get_map().get_terrain_info(loc);</span>
<span class='curline'><a href='../S/21.html#L90'>loc</a>                90 src/editor/editor_display.cpp void editor_display::rebuild_terrain(const map_location &amp;loc) {</span>
<span class='curline'><a href='../S/21.html#L91'>loc</a>                91 src/editor/editor_display.cpp 	builder_-&gt;rebuild_terrain(loc);</span>
<span class='curline'><a href='../S/21.html#L98'>loc</a>                98 src/editor/editor_display.cpp image::TYPE editor_display::get_image_type(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/21.html#L100'>loc</a>               100 src/editor/editor_display.cpp 	if (map().in_selection(loc)) {</span>
<span class='curline'><a href='../S/21.html#L106'>loc</a>               106 src/editor/editor_display.cpp void editor_display::draw_hex(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/21.html#L108'>loc</a>               108 src/editor/editor_display.cpp 	int xpos = get_location_x(loc);</span>
<span class='curline'><a href='../S/21.html#L109'>loc</a>               109 src/editor/editor_display.cpp 	int ypos = get_location_y(loc);</span>
<span class='curline'><a href='../S/21.html#L110'>loc</a>               110 src/editor/editor_display.cpp 	display::draw_hex(loc);</span>
<span class='curline'><a href='../S/21.html#L111'>loc</a>               111 src/editor/editor_display.cpp 	if (map().on_board_with_border(loc)) {</span>
<span class='curline'><a href='../S/21.html#L112'>loc</a>               112 src/editor/editor_display.cpp 		if (map().in_selection(loc)) {</span>
<span class='curline'><a href='../S/21.html#L113'>loc</a>               113 src/editor/editor_display.cpp 			drawing_buffer_add(LAYER_FOG_SHROUD, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/21.html#L117'>loc</a>               117 src/editor/editor_display.cpp 		if (brush_locations_.find(loc) != brush_locations_.end()) {</span>
<span class='curline'><a href='../S/21.html#L119'>loc</a>               119 src/editor/editor_display.cpp 			drawing_buffer_add(LAYER_SELECTED_HEX, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/19.html#L36'>loc</a>                36 src/editor/editor_display.hpp 	void rebuild_terrain(const map_location &amp;loc);</span>
<span class='curline'><a href='../S/19.html#L42'>loc</a>                42 src/editor/editor_display.hpp 	virtual const time_of_day&amp; get_time_of_day(const map_location&amp; loc = map_location::null_location()) const override;</span>
<span class='curline'><a href='../S/19.html#L54'>loc</a>                54 src/editor/editor_display.hpp 	image::TYPE get_image_type(const map_location&amp; loc) override;</span>
<span class='curline'><a href='../S/19.html#L56'>loc</a>                56 src/editor/editor_display.hpp 	void draw_hex(const map_location&amp; loc) override;</span>
<span class='curline'><a href='../S/66.html#L551'>loc</a>               551 src/editor/map/context_manager.cpp 			for(const map_location&amp; loc : changed_locs) {</span>
<span class='curline'><a href='../S/66.html#L552'>loc</a>               552 src/editor/map/context_manager.cpp 				gui_.rebuild_terrain(loc);</span>
<span class='curline'><a href='../S/71.html#L106'>loc</a>               106 src/editor/map/editor_map.cpp 	for (const map_location&amp; loc : selection_) {</span>
<span class='curline'><a href='../S/71.html#L107'>loc</a>               107 src/editor/map/editor_map.cpp 		if (!on_board_with_border(loc)) {</span>
<span class='curline'><a href='../S/71.html#L108'>loc</a>               108 src/editor/map/editor_map.cpp 			ERR_ED &lt;&lt; "Off-map tile in selection: " &lt;&lt; loc &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/71.html#L161'>loc</a>               161 src/editor/map/editor_map.cpp bool editor_map::in_selection(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/71.html#L163'>loc</a>               163 src/editor/map/editor_map.cpp 	return selection_.find(loc) != selection_.end();</span>
<span class='curline'><a href='../S/71.html#L166'>loc</a>               166 src/editor/map/editor_map.cpp bool editor_map::add_to_selection(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/71.html#L168'>loc</a>               168 src/editor/map/editor_map.cpp 	return on_board_with_border(loc) ? selection_.insert(loc).second : false;</span>
<span class='curline'><a href='../S/71.html#L174'>loc</a>               174 src/editor/map/editor_map.cpp 	for (const map_location&amp; loc : area) {</span>
<span class='curline'><a href='../S/71.html#L175'>loc</a>               175 src/editor/map/editor_map.cpp 		if (!add_to_selection(loc))</span>
<span class='curline'><a href='../S/71.html#L181'>loc</a>               181 src/editor/map/editor_map.cpp bool editor_map::remove_from_selection(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/71.html#L183'>loc</a>               183 src/editor/map/editor_map.cpp 	return selection_.erase(loc) != 0;</span>
<span class='curline'><a href='../S/71.html#L255'>loc</a>               255 src/editor/map/editor_map.cpp 			starting_positions_.left.modify_data(it, [=](t_translation::coordinate &amp; loc) { loc.add(-x_offset, -y_offset); });</span>
<span class='curline'><a href='../S/67.html#L126'>loc</a>               126 src/editor/map/editor_map.hpp 	bool in_selection(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/67.html#L132'>loc</a>               132 src/editor/map/editor_map.hpp 	bool add_to_selection(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/67.html#L138'>loc</a>               138 src/editor/map/editor_map.hpp 	bool remove_from_selection(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/70.html#L323'>loc</a>               323 src/editor/map/map_context.cpp 		const map_location loc(item);</span>
<span class='curline'><a href='../S/70.html#L324'>loc</a>               324 src/editor/map/map_context.cpp 		overlays_.emplace(loc, overlay(item));</span>
<span class='curline'><a href='../S/70.html#L340'>loc</a>               340 src/editor/map/map_context.cpp 			map_location loc(a_unit, nullptr);</span>
<span class='curline'><a href='../S/70.html#L342'>loc</a>               342 src/editor/map/map_context.cpp 			units_.add(loc, unit(a_unit, true) );</span>
<span class='curline'><a href='../S/70.html#L360'>loc</a>               360 src/editor/map/map_context.cpp 	const map_location&amp; loc, bool one_layer_only)</span>
<span class='curline'><a href='../S/70.html#L365'>loc</a>               365 src/editor/map/map_context.cpp 	draw_terrain_actual(full_terrain, loc, one_layer_only);</span>
<span class='curline'><a href='../S/70.html#L369'>loc</a>               369 src/editor/map/map_context.cpp 	const map_location&amp; loc, bool one_layer_only)</span>
<span class='curline'><a href='../S/70.html#L371'>loc</a>               371 src/editor/map/map_context.cpp 	if (!map_.on_board_with_border(loc)) {</span>
<span class='curline'><a href='../S/70.html#L374'>loc</a>               374 src/editor/map/map_context.cpp 		LOG_ED &lt;&lt; "Attempted to draw terrain off the map (" &lt;&lt; loc &lt;&lt; ")\n";</span>
<span class='curline'><a href='../S/70.html#L377'>loc</a>               377 src/editor/map/map_context.cpp 	t_translation::terrain_code old_terrain = map_.get_terrain(loc);</span>
<span class='curline'><a href='../S/70.html#L380'>loc</a>               380 src/editor/map/map_context.cpp 			map_.set_terrain(loc, terrain, terrain_type_data::OVERLAY);</span>
<span class='curline'><a href='../S/70.html#L382'>loc</a>               382 src/editor/map/map_context.cpp 			map_.set_terrain(loc, terrain, terrain_type_data::BASE);</span>
<span class='curline'><a href='../S/70.html#L384'>loc</a>               384 src/editor/map/map_context.cpp 			map_.set_terrain(loc, terrain);</span>
<span class='curline'><a href='../S/70.html#L386'>loc</a>               386 src/editor/map/map_context.cpp 		add_changed_location(loc);</span>
<span class='curline'><a href='../S/70.html#L396'>loc</a>               396 src/editor/map/map_context.cpp 	for(const map_location&amp; loc : locs) {</span>
<span class='curline'><a href='../S/70.html#L397'>loc</a>               397 src/editor/map/map_context.cpp 		draw_terrain_actual(full_terrain, loc, one_layer_only);</span>
<span class='curline'><a href='../S/70.html#L407'>loc</a>               407 src/editor/map/map_context.cpp void map_context::add_changed_location(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/70.html#L410'>loc</a>               410 src/editor/map/map_context.cpp 		changed_locations_.insert(loc);</span>
<span class='curline'><a href='../S/69.html#L212'>loc</a>               212 src/editor/map/map_context.hpp 	void draw_terrain(const t_translation::terrain_code &amp; terrain, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/69.html#L218'>loc</a>               218 src/editor/map/map_context.hpp 	void draw_terrain_actual(const t_translation::terrain_code &amp; terrain, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/69.html#L272'>loc</a>               272 src/editor/map/map_context.hpp 	void add_changed_location(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/64.html#L33'>loc</a>                33 src/editor/map/map_fragment.cpp void map_fragment::add_tile(const gamemap&amp; map, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/64.html#L35'>loc</a>                35 src/editor/map/map_fragment.cpp 	if (area_.find(loc) == area_.end()) {</span>
<span class='curline'><a href='../S/64.html#L36'>loc</a>                36 src/editor/map/map_fragment.cpp 		items_.emplace_back(map, loc);</span>
<span class='curline'><a href='../S/64.html#L37'>loc</a>                37 src/editor/map/map_fragment.cpp 		area_.insert(loc);</span>
<span class='curline'><a href='../S/64.html#L43'>loc</a>                43 src/editor/map/map_fragment.cpp 	for (const map_location&amp; loc : locs) {</span>
<span class='curline'><a href='../S/64.html#L44'>loc</a>                44 src/editor/map/map_fragment.cpp 		add_tile(map, loc);</span>
<span class='curline'><a href='../S/64.html#L53'>loc</a>                53 src/editor/map/map_fragment.cpp std::set&lt;map_location&gt; map_fragment::get_offset_area(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/64.html#L57'>loc</a>                57 src/editor/map/map_fragment.cpp 		result.insert(i.offset.vector_sum(loc));</span>
<span class='curline'><a href='../S/64.html#L62'>loc</a>                62 src/editor/map/map_fragment.cpp void map_fragment::paste_into(gamemap&amp; map, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/64.html#L65'>loc</a>                65 src/editor/map/map_fragment.cpp 		map.set_terrain(i.offset.vector_sum(loc), i.terrain);</span>
<span class='curline'><a href='../S/64.html#L171'>loc</a>               171 src/editor/map/map_fragment.cpp 	for (const map_location&amp; loc : area_) {</span>
<span class='curline'><a href='../S/64.html#L172'>loc</a>               172 src/editor/map/map_fragment.cpp 		ss &lt;&lt; "(" &lt;&lt; loc &lt;&lt; ")";</span>
<span class='curline'><a href='../S/68.html#L59'>loc</a>                59 src/editor/map/map_fragment.hpp 		void add_tile(const gamemap&amp; map, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/68.html#L64'>loc</a>                64 src/editor/map/map_fragment.hpp 		void add_tiles(const gamemap&amp; map, const std::set&lt;map_location&gt;&amp; loc);</span>
<span class='curline'><a href='../S/68.html#L84'>loc</a>                84 src/editor/map/map_fragment.hpp 		void paste_into(gamemap&amp; map, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/33.html#L129'>loc</a>               129 src/editor/palette/palette_manager.cpp 	const SDL_Rect &amp;loc = location();</span>
<span class='curline'><a href='../S/33.html#L131'>loc</a>               131 src/editor/palette/palette_manager.cpp 	tooltips::clear_tooltips(loc);</span>
<span class='curline'><a href='../S/36.html#L226'>loc</a>               226 src/editor/palette/tristate_button.cpp 	SDL_Rect const &amp;loc = location();</span>
<span class='curline'><a href='../S/36.html#L227'>loc</a>               227 src/editor/palette/tristate_button.cpp 	SDL_Rect clipArea = loc;</span>
<span class='curline'><a href='../S/36.html#L228'>loc</a>               228 src/editor/palette/tristate_button.cpp 	const int texty = loc.y + loc.h / 2 - textRect_.h / 2 + offset;</span>
<span class='curline'><a href='../S/36.html#L232'>loc</a>               232 src/editor/palette/tristate_button.cpp 	textx = loc.x + image_w + checkbox_horizontal_padding / 2;</span>
<span class='curline'><a href='../S/36.html#L255'>loc</a>               255 src/editor/palette/tristate_button.cpp 	video().blit_surface(loc.x, loc.y, image);</span>
<span class='curline'><a href='../S/74.html#L75'>loc</a>                75 src/editor/toolkit/brush.cpp 		for (map_location&amp; loc : in_radius) {</span>
<span class='curline'><a href='../S/74.html#L76'>loc</a>                76 src/editor/toolkit/brush.cpp 			add_relative_location(loc.x, loc.y);</span>
<span class='curline'><a href='../S/776.html#L55'>loc</a>                55 src/formula/callable_objects.cpp 	const map_location&amp; other_loc = loc_callable-&gt;loc();</span>
<span class='curline'><a href='../S/776.html#L565'>loc</a>               565 src/formula/callable_objects.cpp 				const map_location loc(i, j);</span>
<span class='curline'><a href='../S/776.html#L566'>loc</a>               566 src/formula/callable_objects.cpp 				vars.emplace_back(std::make_shared&lt;terrain_callable&gt;(gamemap_.get_terrain_info(loc), loc));</span>
<span class='curline'><a href='../S/769.html#L31'>loc</a>                31 src/formula/callable_objects.hpp 	terrain_callable(const terrain_type&amp; t, const map_location&amp; loc) : loc_(loc), t_(t)</span>
<span class='curline'><a href='../S/769.html#L64'>loc</a>                64 src/formula/callable_objects.hpp 	explicit location_callable(const map_location&amp; loc) : loc_(loc)</span>
<span class='curline'><a href='../S/769.html#L104'>loc</a>               104 src/formula/callable_objects.hpp 	unit_callable(const map_location&amp; loc, const unit&amp; u) : loc_(loc), u_(u)</span>
<span class='curline'><a href='../S/769.html#L226'>loc</a>               226 src/formula/callable_objects.hpp 	safe_call_result(const_formula_callable_ptr callable, int status, const map_location&amp; loc = map_location())</span>
<span class='curline'><a href='../S/769.html#L228'>loc</a>               228 src/formula/callable_objects.hpp 		, current_unit_location_(loc)</span>
<span class='curline'><a href='../S/773.html#L259'>loc</a>               259 src/formula/function.cpp                 const map_location location = var0.convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/773.html#L1448'>loc</a>              1448 src/formula/function.cpp 		const map_location loc1 = args()[0]-&gt;evaluate(variables, add_debug_info(fdb, 0, "distance_between:location_A")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/773.html#L1449'>loc</a>              1449 src/formula/function.cpp 		const map_location loc2 = args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "distance_between:location_B")).convert_to&lt;location_callable&gt;()-&gt;loc();</span>
<span class='curline'><a href='../S/773.html#L1656'>loc</a>              1656 src/formula/function.cpp 		FUNCTION(loc);</span>
<span class='curline'><a href='../S/741.html#L174'>loc</a>               174 src/game_board.cpp unit_map::iterator game_board::find_visible_unit(const map_location &amp;loc,</span>
<span class='curline'><a href='../S/741.html#L177'>loc</a>               177 src/game_board.cpp 	if (!map_-&gt;on_board(loc)) return units_.end();</span>
<span class='curline'><a href='../S/741.html#L178'>loc</a>               178 src/game_board.cpp 	unit_map::iterator u = units_.find(loc);</span>
<span class='curline'><a href='../S/741.html#L184'>loc</a>               184 src/game_board.cpp bool game_board::has_visible_unit(const map_location &amp; loc, const team&amp; current_team, bool see_all) const</span>
<span class='curline'><a href='../S/741.html#L186'>loc</a>               186 src/game_board.cpp 	if (!map_-&gt;on_board(loc)) return false;</span>
<span class='curline'><a href='../S/741.html#L187'>loc</a>               187 src/game_board.cpp 	unit_map::const_iterator u = units_.find(loc);</span>
<span class='curline'><a href='../S/741.html#L193'>loc</a>               193 src/game_board.cpp unit* game_board::get_visible_unit(const map_location &amp;loc,</span>
<span class='curline'><a href='../S/741.html#L196'>loc</a>               196 src/game_board.cpp 	unit_map::iterator ui = find_visible_unit(loc, current_team, see_all);</span>
<span class='curline'><a href='../S/741.html#L295'>loc</a>               295 src/game_board.cpp void game_board::overlay_map(const gamemap &amp; mask_map, const config &amp; cfg, map_location loc) {</span>
<span class='curline'><a href='../S/741.html#L296'>loc</a>               296 src/game_board.cpp 	map_-&gt;overlay(mask_map, cfg, loc);</span>
<span class='curline'><a href='../S/741.html#L299'>loc</a>               299 src/game_board.cpp bool game_board::change_terrain(const map_location &amp;loc, const std::string &amp;t_str,</span>
<span class='curline'><a href='../S/741.html#L322'>loc</a>               322 src/game_board.cpp 		old_t = map_-&gt;get_terrain(loc),</span>
<span class='curline'><a href='../S/741.html#L328'>loc</a>               328 src/game_board.cpp 		int owner = village_owner(loc);</span>
<span class='curline'><a href='../S/741.html#L330'>loc</a>               330 src/game_board.cpp 			teams_[owner].lose_village(loc);</span>
<span class='curline'><a href='../S/741.html#L333'>loc</a>               333 src/game_board.cpp 	map_-&gt;set_terrain(loc, new_t);</span>
<span class='curline'><a href='../S/741.html#L335'>loc</a>               335 src/game_board.cpp 	for(const t_translation::terrain_code &amp;ut : map_-&gt;underlying_union_terrain(loc)) {</span>
<span class='curline'><a href='../S/741.html#L371'>loc</a>               371 src/game_board.cpp temporary_unit_placer::temporary_unit_placer(unit_map&amp; m, const map_location&amp; loc, unit&amp; u)</span>
<span class='curline'><a href='../S/741.html#L372'>loc</a>               372 src/game_board.cpp 	: m_(m), loc_(loc), temp_(m_.extract(loc))</span>
<span class='curline'><a href='../S/741.html#L375'>loc</a>               375 src/game_board.cpp 	m_.add(loc, u);</span>
<span class='curline'><a href='../S/741.html#L378'>loc</a>               378 src/game_board.cpp temporary_unit_placer::temporary_unit_placer(game_board&amp; b, const map_location&amp; loc, unit&amp; u)</span>
<span class='curline'><a href='../S/741.html#L379'>loc</a>               379 src/game_board.cpp 	: m_(b.units_), loc_(loc), temp_(m_.extract(loc))</span>
<span class='curline'><a href='../S/741.html#L382'>loc</a>               382 src/game_board.cpp 	m_.add(loc, u);</span>
<span class='curline'><a href='../S/741.html#L395'>loc</a>               395 src/game_board.cpp temporary_unit_remover::temporary_unit_remover(unit_map&amp; m, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/741.html#L396'>loc</a>               396 src/game_board.cpp 	: m_(m), loc_(loc), temp_(m_.extract(loc))</span>
<span class='curline'><a href='../S/741.html#L400'>loc</a>               400 src/game_board.cpp temporary_unit_remover::temporary_unit_remover(game_board&amp; b, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/741.html#L401'>loc</a>               401 src/game_board.cpp 	: m_(b.units_), loc_(loc), temp_(m_.extract(loc))</span>
<span class='curline'><a href='../S/139.html#L129'>loc</a>               129 src/game_board.hpp 	bool try_add_unit_to_recall_list(const map_location&amp; loc, const unit_ptr u);</span>
<span class='curline'><a href='../S/139.html#L131'>loc</a>               131 src/game_board.hpp 	void overlay_map (const gamemap &amp; o, const config &amp; cfg, map_location loc);</span>
<span class='curline'><a href='../S/139.html#L133'>loc</a>               133 src/game_board.hpp 	bool change_terrain(const map_location &amp;loc, const std::string &amp;t,</span>
<span class='curline'><a href='../S/139.html#L138'>loc</a>               138 src/game_board.hpp 	unit_map::iterator find_visible_unit(const map_location &amp;loc, const team&amp; current_team, bool see_all = false);</span>
<span class='curline'><a href='../S/139.html#L139'>loc</a>               139 src/game_board.hpp 	unit_map::iterator find_visible_unit(const map_location &amp; loc, size_t team, bool see_all = false) { return find_visible_unit(loc, teams_[team], see_all); }</span>
<span class='curline'><a href='../S/139.html#L140'>loc</a>               140 src/game_board.hpp 	bool has_visible_unit (const map_location &amp; loc, const team &amp; team, bool see_all = false) const;</span>
<span class='curline'><a href='../S/139.html#L141'>loc</a>               141 src/game_board.hpp 	bool has_visible_unit (const map_location &amp; loc, size_t team, bool see_all = false) const { return has_visible_unit(loc, teams_[team], see_all); }</span>
<span class='curline'><a href='../S/139.html#L143'>loc</a>               143 src/game_board.hpp 	unit* get_visible_unit(const map_location &amp;loc, const team &amp;current_team, bool see_all = false); //TODO: can this not return a pointer?</span>
<span class='curline'><a href='../S/139.html#L147'>loc</a>               147 src/game_board.hpp 	unit_map::iterator find_unit(const map_location &amp; loc) { return units_.find(loc); }</span>
<span class='curline'><a href='../S/139.html#L162'>loc</a>               162 src/game_board.hpp 	temporary_unit_placer(unit_map&amp; m, const map_location&amp; loc, unit&amp; u);</span>
<span class='curline'><a href='../S/139.html#L163'>loc</a>               163 src/game_board.hpp 	temporary_unit_placer(game_board&amp; m, const map_location&amp; loc, unit&amp; u);</span>
<span class='curline'><a href='../S/139.html#L183'>loc</a>               183 src/game_board.hpp 	temporary_unit_remover(unit_map&amp; m, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/139.html#L184'>loc</a>               184 src/game_board.hpp 	temporary_unit_remover(game_board&amp; m, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/831.html#L63'>loc</a>                63 src/game_display.cpp std::vector&lt;surface&gt; footsteps_images(const map_location&amp; loc, const pathfind::marked_route &amp; route_, const display_context * dc_);</span>
<span class='curline'><a href='../S/831.html#L258'>loc</a>               258 src/game_display.cpp 		const map_location&amp; loc = temp_unit-&gt;get_location();</span>
<span class='curline'><a href='../S/831.html#L259'>loc</a>               259 src/game_display.cpp 		exclusive_unit_draw_requests_t::iterator request = exclusive_unit_draw_requests_.find(loc);</span>
<span class='curline'><a href='../S/831.html#L260'>loc</a>               260 src/game_display.cpp 		if (invalidated_.find(loc) != invalidated_.end()</span>
<span class='curline'><a href='../S/831.html#L271'>loc</a>               271 src/game_display.cpp void game_display::draw_hex(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/831.html#L273'>loc</a>               273 src/game_display.cpp 	const bool on_map = get_map().on_board(loc);</span>
<span class='curline'><a href='../S/831.html#L274'>loc</a>               274 src/game_display.cpp 	const bool is_shrouded = shrouded(loc);</span>
<span class='curline'><a href='../S/831.html#L276'>loc</a>               276 src/game_display.cpp 	const int xpos = get_location_x(loc);</span>
<span class='curline'><a href='../S/831.html#L277'>loc</a>               277 src/game_display.cpp 	const int ypos = get_location_y(loc);</span>
<span class='curline'><a href='../S/831.html#L281'>loc</a>               281 src/game_display.cpp 	display::draw_hex(loc);</span>
<span class='curline'><a href='../S/831.html#L288'>loc</a>               288 src/game_display.cpp 	if(on_map &amp;&amp; loc == mouseoverHex_) {</span>
<span class='curline'><a href='../S/831.html#L290'>loc</a>               290 src/game_display.cpp 		const unit *u = resources::gameboard-&gt;get_visible_unit(loc, dc_-&gt;teams()[viewing_team()] );</span>
<span class='curline'><a href='../S/831.html#L295'>loc</a>               295 src/game_display.cpp 			drawing_buffer_add( hex_top_layer, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L297'>loc</a>               297 src/game_display.cpp 			drawing_buffer_add(LAYER_MOUSEOVER_BOTTOM, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L300'>loc</a>               300 src/game_display.cpp 			drawing_buffer_add( hex_top_layer, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L302'>loc</a>               302 src/game_display.cpp 			drawing_buffer_add(LAYER_MOUSEOVER_BOTTOM, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L305'>loc</a>               305 src/game_display.cpp 			drawing_buffer_add( hex_top_layer, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L307'>loc</a>               307 src/game_display.cpp 			drawing_buffer_add(LAYER_MOUSEOVER_BOTTOM, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L310'>loc</a>               310 src/game_display.cpp 			drawing_buffer_add( hex_top_layer, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L312'>loc</a>               312 src/game_display.cpp 			drawing_buffer_add(LAYER_MOUSEOVER_BOTTOM, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L323'>loc</a>               323 src/game_display.cpp 			&amp;&amp; reach_map_.find(loc) == reach_map_.end() &amp;&amp; loc != attack_indicator_dst_) {</span>
<span class='curline'><a href='../S/831.html#L325'>loc</a>               325 src/game_display.cpp 		drawing_buffer_add(LAYER_REACHMAP, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L330'>loc</a>               330 src/game_display.cpp 		w-&gt;draw_hex(loc);</span>
<span class='curline'><a href='../S/831.html#L334'>loc</a>               334 src/game_display.cpp 			std::vector&lt;surface&gt; footstepImages = footsteps_images(loc, route_, dc_);</span>
<span class='curline'><a href='../S/831.html#L336'>loc</a>               336 src/game_display.cpp 				drawing_buffer_add(LAYER_FOOTSTEPS, loc, xpos, ypos, footsteps_images(loc, route_, dc_));</span>
<span class='curline'><a href='../S/831.html#L341'>loc</a>               341 src/game_display.cpp 	if(on_map &amp;&amp; loc == attack_indicator_src_) {</span>
<span class='curline'><a href='../S/831.html#L342'>loc</a>               342 src/game_display.cpp 		drawing_buffer_add(LAYER_ATTACK_INDICATOR, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L344'>loc</a>               344 src/game_display.cpp 	} else if (on_map &amp;&amp; loc == attack_indicator_dst_) {</span>
<span class='curline'><a href='../S/831.html#L345'>loc</a>               345 src/game_display.cpp 		drawing_buffer_add(LAYER_ATTACK_INDICATOR, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L353'>loc</a>               353 src/game_display.cpp 		drawing_buffer_add(LAYER_LINGER_OVERLAY, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L357'>loc</a>               357 src/game_display.cpp 	if(on_map &amp;&amp; loc == selectedHex_ &amp;&amp; !game_config::images::selected.empty()) {</span>
<span class='curline'><a href='../S/831.html#L359'>loc</a>               359 src/game_display.cpp 		drawing_buffer_add(LAYER_SELECTED_HEX, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L365'>loc</a>               365 src/game_display.cpp 		draw_movement_info(loc);</span>
<span class='curline'><a href='../S/831.html#L369'>loc</a>               369 src/game_display.cpp 		int debugH = debugHighlights_[loc];</span>
<span class='curline'><a href='../S/831.html#L372'>loc</a>               372 src/game_display.cpp 			draw_text_in_hex(loc, LAYER_MOVE_INFO, txt, 18, font::BAD_COLOR);</span>
<span class='curline'><a href='../S/831.html#L378'>loc</a>               378 src/game_display.cpp const time_of_day&amp; game_display::get_time_of_day(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/831.html#L380'>loc</a>               380 src/game_display.cpp 	return tod_manager_-&gt;get_time_of_day(loc);</span>
<span class='curline'><a href='../S/831.html#L418'>loc</a>               418 src/game_display.cpp void game_display::draw_movement_info(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/831.html#L421'>loc</a>               421 src/game_display.cpp 	pathfind::marked_route::mark_map::iterator w = route_.marks.find(loc);</span>
<span class='curline'><a href='../S/831.html#L427'>loc</a>               427 src/game_display.cpp 				&amp;&amp; !route_.steps.empty() &amp;&amp; route_.steps.front() != loc) {</span>
<span class='curline'><a href='../S/831.html#L433'>loc</a>               433 src/game_display.cpp 			int def =  100 - un-&gt;defense_modifier(get_map().get_terrain(loc));</span>
<span class='curline'><a href='../S/831.html#L441'>loc</a>               441 src/game_display.cpp 			draw_text_in_hex(loc, LAYER_MOVE_INFO, def_text.str(), def_font, color);</span>
<span class='curline'><a href='../S/831.html#L443'>loc</a>               443 src/game_display.cpp 			int xpos = get_location_x(loc);</span>
<span class='curline'><a href='../S/831.html#L444'>loc</a>               444 src/game_display.cpp 			int ypos = get_location_y(loc);</span>
<span class='curline'><a href='../S/831.html#L446'>loc</a>               446 src/game_display.cpp 				drawing_buffer_add(LAYER_MOVE_INFO, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L451'>loc</a>               451 src/game_display.cpp 				drawing_buffer_add(LAYER_MOVE_INFO, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L456'>loc</a>               456 src/game_display.cpp 				drawing_buffer_add(LAYER_MOVE_INFO, loc, xpos, ypos,</span>
<span class='curline'><a href='../S/831.html#L461'>loc</a>               461 src/game_display.cpp 			if (w-&gt;second.turns &gt; 1 || (w-&gt;second.turns == 1 &amp;&amp; loc != route_.steps.back())) {</span>
<span class='curline'><a href='../S/831.html#L464'>loc</a>               464 src/game_display.cpp 				draw_text_in_hex(loc, LAYER_MOVE_INFO, turns_text.str(), 17, font::NORMAL_COLOR, 0.5,0.8);</span>
<span class='curline'><a href='../S/831.html#L472'>loc</a>               472 src/game_display.cpp 	else if (selectedHex_.valid() &amp;&amp; loc == mouseoverHex_)</span>
<span class='curline'><a href='../S/831.html#L478'>loc</a>               478 src/game_display.cpp 			int def =  100 - selectedUnit-&gt;defense_modifier(get_map().get_terrain(loc));</span>
<span class='curline'><a href='../S/831.html#L486'>loc</a>               486 src/game_display.cpp 			draw_text_in_hex(loc, LAYER_MOVE_INFO, def_text.str(), def_font, color);</span>
<span class='curline'><a href='../S/831.html#L491'>loc</a>               491 src/game_display.cpp 		reach_map::iterator reach = reach_map_.find(loc);</span>
<span class='curline'><a href='../S/831.html#L494'>loc</a>               494 src/game_display.cpp 			draw_text_in_hex(loc, LAYER_MOVE_INFO, num, 16, font::YELLOW_COLOR);</span>
<span class='curline'><a href='../S/831.html#L499'>loc</a>               499 src/game_display.cpp std::vector&lt;surface&gt; footsteps_images(const map_location&amp; loc, const pathfind::marked_route &amp; route_, const display_context * dc_)</span>
<span class='curline'><a href='../S/831.html#L508'>loc</a>               508 src/game_display.cpp 	         std::find(route_.steps.begin(),route_.steps.end(),loc);</span>
<span class='curline'><a href='../S/831.html#L518'>loc</a>               518 src/game_display.cpp 		move_cost = u-&gt;movement_cost(dc_-&gt;map().get_terrain(loc));</span>
<span class='curline'><a href='../S/831.html#L614'>loc</a>               614 src/game_display.cpp void game_display::float_label(const map_location&amp; loc, const std::string&amp; text, const color_t&amp; color)</span>
<span class='curline'><a href='../S/831.html#L616'>loc</a>               616 src/game_display.cpp 	if(preferences::show_floating_labels() == false || fogged(loc)) {</span>
<span class='curline'><a href='../S/831.html#L623'>loc</a>               623 src/game_display.cpp 	flabel.set_position(get_location_x(loc)+zoom_/2, get_location_y(loc));</span>
<span class='curline'><a href='../S/831.html#L631'>loc</a>               631 src/game_display.cpp int&amp; game_display::debug_highlight(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/831.html#L634'>loc</a>               634 src/game_display.cpp 	return debugHighlights_[loc];</span>
<span class='curline'><a href='../S/743.html#L118'>loc</a>               118 src/game_display.hpp 	void float_label(const map_location&amp; loc, const std::string&amp; text, const color_t&amp; color);</span>
<span class='curline'><a href='../S/743.html#L121'>loc</a>               121 src/game_display.hpp 	void draw_movement_info(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/743.html#L129'>loc</a>               129 src/game_display.hpp 	const time_of_day&amp; get_time_of_day(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/743.html#L150'>loc</a>               150 src/game_display.hpp 	void draw_hex(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/743.html#L187'>loc</a>               187 src/game_display.hpp 	static int&amp; debug_highlight(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/1057.html#L475'>loc</a>               475 src/game_events/action_wml.cpp 					map_location loc = cfg_loc;</span>
<span class='curline'><a href='../S/1057.html#L479'>loc</a>               479 src/game_events/action_wml.cpp 						if(!resources::gameboard-&gt;map().on_board(loc))</span>
<span class='curline'><a href='../S/1057.html#L480'>loc</a>               480 src/game_events/action_wml.cpp 							loc = leader-&gt;get_location();</span>
<span class='curline'><a href='../S/1057.html#L481'>loc</a>               481 src/game_events/action_wml.cpp 						if(pass_check || (resources::gameboard-&gt;units().count(loc) &gt; 0))</span>
<span class='curline'><a href='../S/1057.html#L482'>loc</a>               482 src/game_events/action_wml.cpp 							loc = pathfind::find_vacant_tile(loc, pathfind::VACANT_ANY, pass_check);</span>
<span class='curline'><a href='../S/1057.html#L483'>loc</a>               483 src/game_events/action_wml.cpp 						if(resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/1057.html#L486'>loc</a>               486 src/game_events/action_wml.cpp 							actions::place_recruit(to_recruit, loc, leader-&gt;get_location(), 0, true,</span>
<span class='curline'><a href='../S/1057.html#L494'>loc</a>               494 src/game_events/action_wml.cpp 					map_location loc = cfg_loc;</span>
<span class='curline'><a href='../S/1057.html#L495'>loc</a>               495 src/game_events/action_wml.cpp 					if(pass_check || (resources::gameboard-&gt;units().count(loc) &gt; 0))</span>
<span class='curline'><a href='../S/1057.html#L496'>loc</a>               496 src/game_events/action_wml.cpp 						loc = pathfind::find_vacant_tile(loc, pathfind::VACANT_ANY, pass_check);</span>
<span class='curline'><a href='../S/1057.html#L498'>loc</a>               498 src/game_events/action_wml.cpp 					if (resources::gameboard-&gt;map().on_board(loc)) {</span>
<span class='curline'><a href='../S/1057.html#L502'>loc</a>               502 src/game_events/action_wml.cpp 						actions::place_recruit(to_recruit, loc, null_location, 0, true, cfg["show"].to_bool(true),</span>
<span class='curline'><a href='../S/1057.html#L801'>loc</a>               801 src/game_events/action_wml.cpp 	const map_location loc = cfg_to_loc(cfg);</span>
<span class='curline'><a href='../S/1057.html#L804'>loc</a>               804 src/game_events/action_wml.cpp 	const time_of_day&amp; tod = resources::tod_manager-&gt;get_time_of_day(loc,turn);</span>
<span class='curline'><a href='../S/1057.html#L824'>loc</a>               824 src/game_events/action_wml.cpp 	map_location loc = cfg_to_loc(cfg, 1, 1);</span>
<span class='curline'><a href='../S/1057.html#L852'>loc</a>               852 src/game_events/action_wml.cpp 	resources::gameboard-&gt;overlay_map(mask_map, cfg.get_parsed_config(), loc);</span>
<span class='curline'><a href='../S/1069.html#L72'>loc</a>                72 src/game_events/action_wml.hpp 	void change_terrain(const map_location &amp;loc, const t_translation::terrain_code &amp;t,</span>
<span class='curline'><a href='../S/1054.html#L39'>loc</a>                39 src/game_events/entity_location.cpp entity_location::entity_location(const map_location &amp;loc, size_t id)</span>
<span class='curline'><a href='../S/1054.html#L40'>loc</a>                40 src/game_events/entity_location.cpp 	: map_location(loc), id_(id), filter_loc_(loc)</span>
<span class='curline'><a href='../S/1054.html#L47'>loc</a>                47 src/game_events/entity_location.cpp entity_location::entity_location(const map_location &amp;loc, size_t id,</span>
<span class='curline'><a href='../S/1054.html#L49'>loc</a>                49 src/game_events/entity_location.cpp 	: map_location(loc), id_(id), filter_loc_(filter_loc)</span>
<span class='curline'><a href='../S/1063.html#L32'>loc</a>                32 src/game_events/entity_location.hpp 		entity_location(const map_location &amp;loc, size_t id = 0);</span>
<span class='curline'><a href='../S/1063.html#L33'>loc</a>                33 src/game_events/entity_location.hpp 		entity_location(const map_location &amp;loc, size_t id,</span>
<span class='curline'><a href='../S/86.html#L273'>loc</a>               273 src/game_state.cpp 		virtual double cost(const map_location&amp; loc, const double) const</span>
<span class='curline'><a href='../S/86.html#L275'>loc</a>               275 src/game_state.cpp 			if(!map_.is_castle(loc))</span>
<span class='curline'><a href='../S/86.html#L278'>loc</a>               278 src/game_state.cpp 			if ( use_shroud_ &amp;&amp; viewer_.shrouded(loc) )</span>
<span class='curline'><a href='../S/1160.html#L103'>loc</a>               103 src/game_state.hpp 	bool side_can_recruit_on(int side, map_location loc) const;</span>
<span class='curline'><a href='../S/8.html#L126'>loc</a>               126 src/generators/cave_map_generator.cpp void cave_map_generator::cave_map_generator_job::build_chamber(map_location loc, std::set&lt;map_location&gt;&amp; locs, size_t size, size_t jagged)</span>
<span class='curline'><a href='../S/8.html#L128'>loc</a>               128 src/generators/cave_map_generator.cpp 	if(size == 0 || locs.count(loc) != 0 || !params.on_board(loc))</span>
<span class='curline'><a href='../S/8.html#L131'>loc</a>               131 src/generators/cave_map_generator.cpp 	locs.insert(loc);</span>
<span class='curline'><a href='../S/8.html#L134'>loc</a>               134 src/generators/cave_map_generator.cpp 	get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/8.html#L240'>loc</a>               240 src/generators/cave_map_generator.cpp 		std::set&lt;map_location&gt;::const_iterator loc = c.locs.begin();</span>
<span class='curline'><a href='../S/8.html#L241'>loc</a>               241 src/generators/cave_map_generator.cpp 		std::advance(loc,index);</span>
<span class='curline'><a href='../S/8.html#L243'>loc</a>               243 src/generators/cave_map_generator.cpp 		cfg["x"] = loc-&gt;x + 1;</span>
<span class='curline'><a href='../S/8.html#L244'>loc</a>               244 src/generators/cave_map_generator.cpp 		cfg["y"] = loc-&gt;y + 1;</span>
<span class='curline'><a href='../S/8.html#L247'>loc</a>               247 src/generators/cave_map_generator.cpp 			filter["x"] = loc-&gt;x + 1;</span>
<span class='curline'><a href='../S/8.html#L248'>loc</a>               248 src/generators/cave_map_generator.cpp 			filter["y"] = loc-&gt;y + 1;</span>
<span class='curline'><a href='../S/8.html#L252'>loc</a>               252 src/generators/cave_map_generator.cpp 			(*object_filter)["x"] = loc-&gt;x + 1;</span>
<span class='curline'><a href='../S/8.html#L253'>loc</a>               253 src/generators/cave_map_generator.cpp 			(*object_filter)["y"] = loc-&gt;y + 1;</span>
<span class='curline'><a href='../S/8.html#L258'>loc</a>               258 src/generators/cave_map_generator.cpp 			place_castle(it.cfg["side"].to_int(-1), *loc);</span>
<span class='curline'><a href='../S/8.html#L268'>loc</a>               268 src/generators/cave_map_generator.cpp 			xcfg["value"] = loc-&gt;x + 1;</span>
<span class='curline'><a href='../S/8.html#L271'>loc</a>               271 src/generators/cave_map_generator.cpp 			ycfg["value"] = loc-&gt;y + 1;</span>
<span class='curline'><a href='../S/8.html#L285'>loc</a>               285 src/generators/cave_map_generator.cpp 	virtual double cost(const map_location&amp; loc, const double so_far) const;</span>
<span class='curline'><a href='../S/8.html#L294'>loc</a>               294 src/generators/cave_map_generator.cpp double passage_path_calculator::cost(const map_location&amp; loc, const double) const</span>
<span class='curline'><a href='../S/8.html#L297'>loc</a>               297 src/generators/cave_map_generator.cpp 	if (map_.get(loc.x + gamemap::default_border, loc.y + gamemap::default_border) == wall_) {</span>
<span class='curline'><a href='../S/8.html#L335'>loc</a>               335 src/generators/cave_map_generator.cpp void cave_map_generator::cave_map_generator_job::set_terrain(map_location loc, const t_translation::terrain_code &amp; t)</span>
<span class='curline'><a href='../S/8.html#L337'>loc</a>               337 src/generators/cave_map_generator.cpp 	if (params.on_board(loc)) {</span>
<span class='curline'><a href='../S/8.html#L338'>loc</a>               338 src/generators/cave_map_generator.cpp 		t_translation::terrain_code&amp; c = map_.get(loc.x + gamemap::default_border, loc.y + gamemap::default_border);</span>
<span class='curline'><a href='../S/8.html#L351'>loc</a>               351 src/generators/cave_map_generator.cpp void cave_map_generator::cave_map_generator_job::place_castle(int starting_position, const map_location &amp;loc)</span>
<span class='curline'><a href='../S/8.html#L354'>loc</a>               354 src/generators/cave_map_generator.cpp 		set_terrain(loc, params.keep_);</span>
<span class='curline'><a href='../S/8.html#L357'>loc</a>               357 src/generators/cave_map_generator.cpp 				  loc.x + gamemap::default_border</span>
<span class='curline'><a href='../S/8.html#L358'>loc</a>               358 src/generators/cave_map_generator.cpp 				, loc.y + gamemap::default_border);</span>
<span class='curline'><a href='../S/8.html#L363'>loc</a>               363 src/generators/cave_map_generator.cpp 	get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/11.html#L66'>loc</a>                66 src/generators/cave_map_generator.hpp 		void build_chamber(map_location loc, std::set&lt;map_location&gt;&amp; locs, size_t size, size_t jagged);</span>
<span class='curline'><a href='../S/11.html#L72'>loc</a>                72 src/generators/cave_map_generator.hpp 		void set_terrain(map_location loc, const t_translation::terrain_code &amp; t);</span>
<span class='curline'><a href='../S/11.html#L73'>loc</a>                73 src/generators/cave_map_generator.hpp 		void place_castle(int starting_position, const map_location &amp;loc);</span>
<span class='curline'><a href='../S/11.html#L91'>loc</a>                91 src/generators/cave_map_generator.hpp 	bool on_board(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/11.html#L93'>loc</a>                93 src/generators/cave_map_generator.hpp 		return loc.x &gt;= 0 &amp;&amp; loc.y &gt;= 0 &amp;&amp; loc.x &lt; width_ &amp;&amp; loc.y &lt; height_;</span>
<span class='curline'><a href='../S/10.html#L60'>loc</a>                60 src/generators/default_map_generator_job.cpp 		virtual double cost(const map_location&amp; loc, const double so_far) const;</span>
<span class='curline'><a href='../S/10.html#L71'>loc</a>                71 src/generators/default_map_generator_job.cpp 	double road_path_calculator::cost(const map_location&amp; loc, const double /*so_far*/) const</span>
<span class='curline'><a href='../S/10.html#L74'>loc</a>                74 src/generators/default_map_generator_job.cpp 		if(loc.x &lt; 0 || loc.y &lt; 0 || loc.x &gt;= map_.w || loc.y &gt;= map_.h) {</span>
<span class='curline'><a href='../S/10.html#L90'>loc</a>                90 src/generators/default_map_generator_job.cpp 			unsigned int a = (loc.x + 92872973) ^ 918273;</span>
<span class='curline'><a href='../S/10.html#L91'>loc</a>                91 src/generators/default_map_generator_job.cpp 			unsigned int b = (loc.y + 1672517) ^ 128123;</span>
<span class='curline'><a href='../S/10.html#L101'>loc</a>               101 src/generators/default_map_generator_job.cpp 		const t_translation::terrain_code c = map_[loc.x][loc.y];</span>
<span class='curline'><a href='../S/10.html#L466'>loc</a>               466 src/generators/default_map_generator_job.cpp 	for(const map_location&amp; loc : adj) {</span>
<span class='curline'><a href='../S/10.html#L467'>loc</a>               467 src/generators/default_map_generator_job.cpp 		if(seen_locations.count(loc) == 0) {</span>
<span class='curline'><a href='../S/10.html#L468'>loc</a>               468 src/generators/default_map_generator_job.cpp 			const bool res = generate_river_internal(heights,terrain,loc.x,loc.y,river,seen_locations,river_uphill);</span>
<span class='curline'><a href='../S/10.html#L541'>loc</a>               541 src/generators/default_map_generator_job.cpp 	const map_location loc(x,y);</span>
<span class='curline'><a href='../S/10.html#L546'>loc</a>               546 src/generators/default_map_generator_job.cpp 		const size_t distance = distance_between(loc,*c);</span>
<span class='curline'><a href='../S/10.html#L608'>loc</a>               608 src/generators/default_map_generator_job.cpp 	const map_location loc(x,y);</span>
<span class='curline'><a href='../S/10.html#L610'>loc</a>               610 src/generators/default_map_generator_job.cpp 	get_tiles_radius(loc,radius,locs);</span>
<span class='curline'><a href='../S/10.html#L674'>loc</a>               674 src/generators/default_map_generator_job.cpp 		const map_location loc(adj[n].x, adj[n].y);</span>
<span class='curline'><a href='../S/10.html#L675'>loc</a>               675 src/generators/default_map_generator_job.cpp 		if((t_translation::terrain_matches(terr, tile_types)) &amp;&amp; (tile_names.find(loc) == tile_names.end())) {</span>
<span class='curline'><a href='../S/10.html#L676'>loc</a>               676 src/generators/default_map_generator_job.cpp 			tile_names.emplace(loc, name);</span>
<span class='curline'><a href='../S/10.html#L679'>loc</a>               679 src/generators/default_map_generator_job.cpp 				labels-&gt;emplace(loc, full_name);</span>
<span class='curline'><a href='../S/10.html#L811'>loc</a>               811 src/generators/default_map_generator_job.cpp 					const map_location loc(r-&gt;x-data.width/3,r-&gt;y-data.height/3);</span>
<span class='curline'><a href='../S/10.html#L814'>loc</a>               814 src/generators/default_map_generator_job.cpp 						misc_labels-&gt;emplace(loc, name);</span>
<span class='curline'><a href='../S/10.html#L817'>loc</a>               817 src/generators/default_map_generator_job.cpp 					river_names.emplace(loc, base_name);</span>
<span class='curline'><a href='../S/10.html#L837'>loc</a>               837 src/generators/default_map_generator_job.cpp 						const map_location loc(i.x-data.width/3,i.y-data.height/3);</span>
<span class='curline'><a href='../S/10.html#L838'>loc</a>               838 src/generators/default_map_generator_job.cpp 						const std::map&lt;map_location,std::string&gt;::const_iterator other_name = lake_names.find(loc);</span>
<span class='curline'><a href='../S/10.html#L848'>loc</a>               848 src/generators/default_map_generator_job.cpp 					const map_location loc(x-data.width/3,y-data.height/3);</span>
<span class='curline'><a href='../S/10.html#L849'>loc</a>               849 src/generators/default_map_generator_job.cpp 					misc_labels-&gt;erase(loc);</span>
<span class='curline'><a href='../S/10.html#L850'>loc</a>               850 src/generators/default_map_generator_job.cpp 					misc_labels-&gt;emplace(loc, name);</span>
<span class='curline'><a href='../S/10.html#L854'>loc</a>               854 src/generators/default_map_generator_job.cpp 					const map_location loc(i.x-data.width/3,i.y-data.height/3);</span>
<span class='curline'><a href='../S/10.html#L855'>loc</a>               855 src/generators/default_map_generator_job.cpp 					lake_names.emplace(loc, base_name);</span>
<span class='curline'><a href='../S/10.html#L939'>loc</a>               939 src/generators/default_map_generator_job.cpp 				const map_location loc(x,y);</span>
<span class='curline'><a href='../S/10.html#L940'>loc</a>               940 src/generators/default_map_generator_job.cpp 				if(failed_locs.count(loc)) {</span>
<span class='curline'><a href='../S/10.html#L946'>loc</a>               946 src/generators/default_map_generator_job.cpp 					failed_locs.insert(loc);</span>
<span class='curline'><a href='../S/10.html#L951'>loc</a>               951 src/generators/default_map_generator_job.cpp 					best_loc = loc;</span>
<span class='curline'><a href='../S/10.html#L1089'>loc</a>              1089 src/generators/default_map_generator_job.cpp 					const map_location loc(x - data.width / 3, y-data.height/3);</span>
<span class='curline'><a href='../S/10.html#L1090'>loc</a>              1090 src/generators/default_map_generator_job.cpp 					misc_labels-&gt;emplace(loc, name);</span>
<span class='curline'><a href='../S/10.html#L1091'>loc</a>              1091 src/generators/default_map_generator_job.cpp 					bridge_names.emplace(loc, bridge_base_name); //add to use for village naming</span>
<span class='curline'><a href='../S/10.html#L1092'>loc</a>              1092 src/generators/default_map_generator_job.cpp 					bridges.insert(loc);</span>
<span class='curline'><a href='../S/10.html#L1118'>loc</a>              1118 src/generators/default_map_generator_job.cpp 					const map_location loc(x - data.width / 3, y - data.height / 3); //add to use for village naming</span>
<span class='curline'><a href='../S/10.html#L1120'>loc</a>              1120 src/generators/default_map_generator_job.cpp 						road_names.emplace(loc, road_base_name);</span>
<span class='curline'><a href='../S/10.html#L1168'>loc</a>              1168 src/generators/default_map_generator_job.cpp 				const map_location loc(x - data.width / 3, y - data.height / 3);</span>
<span class='curline'><a href='../S/10.html#L1180'>loc</a>              1180 src/generators/default_map_generator_job.cpp 						misc_labels-&gt;emplace(loc, name);</span>
<span class='curline'><a href='../S/10.html#L1181'>loc</a>              1181 src/generators/default_map_generator_job.cpp 						mountain_names.emplace(loc, base_name);</span>
<span class='curline'><a href='../S/10.html#L1185'>loc</a>              1185 src/generators/default_map_generator_job.cpp 					const std::map&lt;map_location, std::string&gt;::const_iterator forest_name = forest_names.find(loc);</span>
<span class='curline'><a href='../S/10.html#L1191'>loc</a>              1191 src/generators/default_map_generator_job.cpp 						forest_names.emplace(loc, base_name);</span>
<span class='curline'><a href='../S/10.html#L1193'>loc</a>              1193 src/generators/default_map_generator_job.cpp 						flood_name(loc, base_name, forest_names, t_translation::ALL_FORESTS, terrain, data.width, data.height, 0, misc_labels, name);</span>
<span class='curline'><a href='../S/10.html#L1197'>loc</a>              1197 src/generators/default_map_generator_job.cpp 					const std::map&lt;map_location, std::string&gt;::const_iterator swamp_name = swamp_names.find(loc);</span>
<span class='curline'><a href='../S/10.html#L1203'>loc</a>              1203 src/generators/default_map_generator_job.cpp 						swamp_names.emplace(loc, base_name);</span>
<span class='curline'><a href='../S/10.html#L1205'>loc</a>              1205 src/generators/default_map_generator_job.cpp 						flood_name(loc, base_name, swamp_names, t_translation::ALL_SWAMPS, terrain, data.width, data.height, 0, misc_labels, name);</span>
<span class='curline'><a href='../S/10.html#L1292'>loc</a>              1292 src/generators/default_map_generator_job.cpp 				const map_location loc(res.x-data.width/3,res.y-data.height/3);</span>
<span class='curline'><a href='../S/10.html#L1295'>loc</a>              1295 src/generators/default_map_generator_job.cpp 				get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/10.html#L1395'>loc</a>              1395 src/generators/default_map_generator_job.cpp 				village_labels-&gt;emplace(loc, name);</span>
<span class='curline'><a href='../S/416.html#L100'>loc</a>               100 src/gui/dialogs/lobby/player_info.cpp 	std::stringstream loc;</span>
<span class='curline'><a href='../S/416.html#L103'>loc</a>               103 src/gui/dialogs/lobby/player_info.cpp 		loc &lt;&lt; _("In game:") &lt;&lt; " " &lt;&lt; game-&gt;name &lt;&lt; " ";</span>
<span class='curline'><a href='../S/416.html#L105'>loc</a>               105 src/gui/dialogs/lobby/player_info.cpp 			loc &lt;&lt; _("(observing)");</span>
<span class='curline'><a href='../S/416.html#L107'>loc</a>               107 src/gui/dialogs/lobby/player_info.cpp 			loc &lt;&lt; _("(playing)");</span>
<span class='curline'><a href='../S/416.html#L110'>loc</a>               110 src/gui/dialogs/lobby/player_info.cpp 		loc &lt;&lt; _("In lobby");</span>
<span class='curline'><a href='../S/416.html#L118'>loc</a>               118 src/gui/dialogs/lobby/player_info.cpp 	find_widget&lt;label&gt;(&amp;window, "location_info", false).set_label(loc.str());</span>
<span class='curline'><a href='../S/486.html#L38'>loc</a>                38 src/gui/dialogs/terrain_layers.cpp terrain_layers::terrain_layers(display_t&amp; disp, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/486.html#L43'>loc</a>                43 src/gui/dialogs/terrain_layers.cpp 	tile_ = builder.get_tile(loc);</span>
<span class='curline'><a href='../S/486.html#L47'>loc</a>                47 src/gui/dialogs/terrain_layers.cpp 	const std::string&amp; tod_id = disp.get_time_of_day(loc).id;</span>
<span class='curline'><a href='../S/491.html#L34'>loc</a>                34 src/gui/dialogs/terrain_layers.hpp 	terrain_layers(display_t&amp; disp, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/491.html#L36'>loc</a>                36 src/gui/dialogs/terrain_layers.hpp 	static void display(display_t&amp; disp, const map_location&amp; loc, CVideo&amp; video)</span>
<span class='curline'><a href='../S/491.html#L38'>loc</a>                38 src/gui/dialogs/terrain_layers.hpp 		terrain_layers(disp, loc).show(video);</span>
<span class='curline'><a href='../S/1096.html#L43'>loc</a>                43 src/halo.cpp   			const map_location&amp; loc, ORIENTATION, bool infinite);</span>
<span class='curline'><a href='../S/1096.html#L126'>loc</a>               126 src/halo.cpp   int add(int x, int y, const std::string&amp; image, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1096.html#L147'>loc</a>               147 src/halo.cpp   		const map_location&amp; loc, ORIENTATION orientation, bool infinite) :</span>
<span class='curline'><a href='../S/1096.html#L155'>loc</a>               155 src/halo.cpp   	loc_(loc),</span>
<span class='curline'><a href='../S/1096.html#L315'>loc</a>               315 src/halo.cpp   int halo_impl::add(int x, int y, const std::string&amp; image, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1096.html#L338'>loc</a>               338 src/halo.cpp   	haloes.emplace(id, effect(disp, x, y, image_vector, loc, orientation, infinite));</span>
<span class='curline'><a href='../S/1096.html#L479'>loc</a>               479 src/halo.cpp   handle manager::add(int x, int y, const std::string&amp; image, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1096.html#L482'>loc</a>               482 src/halo.cpp   	int new_halo = impl_-&gt;add(x,y,image, loc, orientation, infinite);</span>
<span class='curline'><a href='../S/919.html#L53'>loc</a>                53 src/halo.hpp   	handle add(int x, int y, const std::string&amp; image, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/809.html#L1481'>loc</a>              1481 src/help/help_impl.cpp 	image::locator loc(filename);</span>
<span class='curline'><a href='../S/809.html#L1482'>loc</a>              1482 src/help/help_impl.cpp 	surface surf(image::get_image(loc));</span>
<span class='curline'><a href='../S/806.html#L530'>loc</a>               530 src/help/help_text_area.cpp 	SDL_Rect const &amp;loc = inner_location();</span>
<span class='curline'><a href='../S/806.html#L533'>loc</a>               533 src/help/help_text_area.cpp 	clip_rect_setter clip_rect_set(screen, &amp;loc);</span>
<span class='curline'><a href='../S/806.html#L537'>loc</a>               537 src/help/help_text_area.cpp 		if (dst.y &lt; static_cast&lt;int&gt;(loc.h) &amp;&amp; dst.y + it-&gt;rect.h &gt; 0) {</span>
<span class='curline'><a href='../S/806.html#L538'>loc</a>               538 src/help/help_text_area.cpp 			dst.x += loc.x;</span>
<span class='curline'><a href='../S/806.html#L539'>loc</a>               539 src/help/help_text_area.cpp 			dst.y += loc.y;</span>
<span class='curline'><a href='../S/101.html#L177'>loc</a>               177 src/hotkey/hotkey_handler_sp.cpp 	map_location loc;</span>
<span class='curline'><a href='../S/101.html#L180'>loc</a>               180 src/hotkey/hotkey_handler_sp.cpp 		loc = curr_unit-&gt;get_location();</span>
<span class='curline'><a href='../S/101.html#L182'>loc</a>               182 src/hotkey/hotkey_handler_sp.cpp 	whiteboard_manager_-&gt;save_suppose_dead(*curr_unit,loc);</span>
<span class='curline'><a href='../S/680.html#L317'>loc</a>               317 src/image.cpp  		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/680.html#L322'>loc</a>               322 src/image.cpp  	, val_(filename, loc, center_x, center_y, modifications)</span>
<span class='curline'><a href='../S/680.html#L386'>loc</a>               386 src/image.cpp  		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/680.html#L392'>loc</a>               392 src/image.cpp  	, loc_(loc)</span>
<span class='curline'><a href='../S/680.html#L527'>loc</a>               527 src/image.cpp  static surface load_image_file(const image::locator&amp; loc)</span>
<span class='curline'><a href='../S/680.html#L531'>loc</a>               531 src/image.cpp  	std::string location = filesystem::get_binary_file_location("images", loc.get_filename());</span>
<span class='curline'><a href='../S/680.html#L552'>loc</a>               552 src/image.cpp  	if(res.null() &amp;&amp; !loc.get_filename().empty()) {</span>
<span class='curline'><a href='../S/680.html#L553'>loc</a>               553 src/image.cpp  		ERR_DP &lt;&lt; "could not open image '" &lt;&lt; loc.get_filename() &lt;&lt; "'" &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/680.html#L554'>loc</a>               554 src/image.cpp  		if(game_config::debug &amp;&amp; loc.get_filename() != game_config::images::missing)</span>
<span class='curline'><a href='../S/680.html#L561'>loc</a>               561 src/image.cpp  static surface load_image_sub_file(const image::locator&amp; loc)</span>
<span class='curline'><a href='../S/680.html#L563'>loc</a>               563 src/image.cpp  	surface surf = get_image(loc.get_filename(), UNSCALED);</span>
<span class='curline'><a href='../S/680.html#L568'>loc</a>               568 src/image.cpp  	modification_queue mods = modification::decode(loc.get_modifications());</span>
<span class='curline'><a href='../S/680.html#L577'>loc</a>               577 src/image.cpp  					&lt;&lt; "Image: " &lt;&lt; loc.get_filename() &lt;&lt; ".\n"</span>
<span class='curline'><a href='../S/680.html#L578'>loc</a>               578 src/image.cpp  					&lt;&lt; "Modifications: " &lt;&lt; loc.get_modifications() &lt;&lt; ".\n"</span>
<span class='curline'><a href='../S/680.html#L586'>loc</a>               586 src/image.cpp  	if(loc.get_loc().valid()) {</span>
<span class='curline'><a href='../S/680.html#L588'>loc</a>               588 src/image.cpp  			((tile_size * 3) / 4)                           *  loc.get_loc().x,</span>
<span class='curline'><a href='../S/680.html#L589'>loc</a>               589 src/image.cpp  			  tile_size * loc.get_loc().y + (tile_size / 2) * (loc.get_loc().x % 2),</span>
<span class='curline'><a href='../S/680.html#L594'>loc</a>               594 src/image.cpp  		if(loc.get_center_x() &gt;= 0 &amp;&amp; loc.get_center_y() &gt;= 0) {</span>
<span class='curline'><a href='../S/680.html#L595'>loc</a>               595 src/image.cpp  			srcrect.x += surf-&gt;w / 2 - loc.get_center_x();</span>
<span class='curline'><a href='../S/680.html#L596'>loc</a>               596 src/image.cpp  			srcrect.y += surf-&gt;h / 2 - loc.get_center_y();</span>
<span class='curline'><a href='../S/680.html#L612'>loc</a>               612 src/image.cpp  		loc.add_to_cache(is_empty_hex_, is_empty);</span>
<span class='curline'><a href='../S/680.html#L695'>loc</a>               695 src/image.cpp  surface load_from_disk(const locator&amp; loc)</span>
<span class='curline'><a href='../S/680.html#L697'>loc</a>               697 src/image.cpp  	switch(loc.get_type()) {</span>
<span class='curline'><a href='../S/680.html#L699'>loc</a>               699 src/image.cpp  		return load_image_file(loc);</span>
<span class='curline'><a href='../S/680.html#L701'>loc</a>               701 src/image.cpp  		return load_image_sub_file(loc);</span>
<span class='curline'><a href='../S/680.html#L1138'>loc</a>              1138 src/image.cpp  	loc::type type = i_locator.get_type();</span>
<span class='curline'><a href='../S/680.html#L1139'>loc</a>              1139 src/image.cpp  	if(type != loc::FILE &amp;&amp; type != loc::SUB_FILE) {</span>
<span class='curline'><a href='../S/755.html#L49'>loc</a>                49 src/image.hpp  			value(const std::string&amp; filename, const map_location&amp; loc, int center_x, int center_y, const std::string&amp; modifications);</span>
<span class='curline'><a href='../S/755.html#L77'>loc</a>                77 src/image.hpp  		locator(const std::string &amp;filename, const map_location &amp;loc,</span>
<span class='curline'><a href='../S/755.html#L124'>loc</a>               124 src/image.hpp  	surface load_from_disk(const locator &amp;loc);</span>
<span class='curline'><a href='../S/824.html#L347'>loc</a>               347 src/joystick.cpp const map_location joystick_manager::get_direction(const map_location&amp; loc, joystick_manager::DIRECTION direction)</span>
<span class='curline'><a href='../S/824.html#L349'>loc</a>               349 src/joystick.cpp 	map_location l = loc;</span>
<span class='curline'><a href='../S/824.html#L387'>loc</a>               387 src/joystick.cpp const map_location joystick_manager::get_next_hex(int x_axis, int y_axis, map_location loc)  {</span>
<span class='curline'><a href='../S/824.html#L391'>loc</a>               391 src/joystick.cpp 	if (x_axis == 0) return (y_axis &gt; 0) ? get_direction(loc, SOUTH) : get_direction(loc, NORTH);</span>
<span class='curline'><a href='../S/824.html#L392'>loc</a>               392 src/joystick.cpp 	if (y_axis == 0) return (x_axis &gt; 0) ? get_direction(loc, EAST) : get_direction(loc, WEST);</span>
<span class='curline'><a href='../S/824.html#L398'>loc</a>               398 src/joystick.cpp 		new_loc = get_direction(loc, NORTH_WEST);</span>
<span class='curline'><a href='../S/824.html#L401'>loc</a>               401 src/joystick.cpp 		new_loc = get_direction(loc, NORTH);</span>
<span class='curline'><a href='../S/824.html#L404'>loc</a>               404 src/joystick.cpp 		new_loc = get_direction(loc, NORTH_EAST);</span>
<span class='curline'><a href='../S/824.html#L407'>loc</a>               407 src/joystick.cpp 		new_loc = get_direction(loc, EAST);</span>
<span class='curline'><a href='../S/824.html#L410'>loc</a>               410 src/joystick.cpp 		new_loc = get_direction(loc, SOUTH_EAST);</span>
<span class='curline'><a href='../S/824.html#L413'>loc</a>               413 src/joystick.cpp 		new_loc = get_direction(loc, SOUTH);</span>
<span class='curline'><a href='../S/824.html#L416'>loc</a>               416 src/joystick.cpp 		new_loc = get_direction(loc, SOUTH_WEST);</span>
<span class='curline'><a href='../S/824.html#L419'>loc</a>               419 src/joystick.cpp 		new_loc = get_direction(loc, WEST);</span>
<span class='curline'><a href='../S/142.html#L93'>loc</a>                93 src/joystick.hpp 	const map_location get_direction(const map_location&amp; loc, joystick_manager::DIRECTION direction);</span>
<span class='curline'><a href='../S/1091.html#L29'>loc</a>                29 src/map/label.cpp inline bool is_shrouded(const display* disp, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/1091.html#L31'>loc</a>                31 src/map/label.cpp 	return disp-&gt;shrouded(loc) || disp-&gt;shrouded(loc.get_direction(map_location::SOUTH));</span>
<span class='curline'><a href='../S/1091.html#L37'>loc</a>                37 src/map/label.cpp inline bool is_fogged(const display* disp, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/1091.html#L39'>loc</a>                39 src/map/label.cpp 	return disp-&gt;fogged(loc);</span>
<span class='curline'><a href='../S/1091.html#L89'>loc</a>                89 src/map/label.cpp 		const map_location loc(i, resources::gamedata);</span>
<span class='curline'><a href='../S/1091.html#L91'>loc</a>                91 src/map/label.cpp 		add_label(loc, label);</span>
<span class='curline'><a href='../S/1091.html#L96'>loc</a>                96 src/map/label.cpp terrain_label* map_labels::get_label_private(const map_location&amp; loc, const std::string&amp; team_name)</span>
<span class='curline'><a href='../S/1091.html#L100'>loc</a>               100 src/map/label.cpp 		map_labels::label_map::const_iterator itor = label_map-&gt;second.find(loc);;</span>
<span class='curline'><a href='../S/1091.html#L107'>loc</a>               107 src/map/label.cpp const terrain_label* map_labels::get_label(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1091.html#L109'>loc</a>               109 src/map/label.cpp 	const terrain_label* res = get_label(loc, team_name());</span>
<span class='curline'><a href='../S/1091.html#L113'>loc</a>               113 src/map/label.cpp 		return get_label(loc, "");</span>
<span class='curline'><a href='../S/1091.html#L138'>loc</a>               138 src/map/label.cpp const terrain_label* map_labels::set_label(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1091.html#L158'>loc</a>               158 src/map/label.cpp 			&amp;&amp; (current_label = current_label_map-&gt;second.find(loc)) != current_label_map-&gt;second.end() )</span>
<span class='curline'><a href='../S/1091.html#L168'>loc</a>               168 src/map/label.cpp 			if ( terrain_label* global_label = get_label_private(loc, "") )</span>
<span class='curline'><a href='../S/1091.html#L180'>loc</a>               180 src/map/label.cpp 		terrain_label* global_label = get_label_private(loc, "");</span>
<span class='curline'><a href='../S/1091.html#L186'>loc</a>               186 src/map/label.cpp 				loc,</span>
<span class='curline'><a href='../S/1091.html#L194'>loc</a>               194 src/map/label.cpp 		add_label(loc, res);</span>
<span class='curline'><a href='../S/1091.html#L204'>loc</a>               204 src/map/label.cpp void map_labels::add_label(const map_location &amp;loc, terrain_label *new_label)</span>
<span class='curline'><a href='../S/1091.html#L206'>loc</a>               206 src/map/label.cpp 	labels_[new_label-&gt;team_name()][loc] = new_label;</span>
<span class='curline'><a href='../S/1091.html#L271'>loc</a>               271 src/map/label.cpp bool map_labels::visible_global_label(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1091.html#L275'>loc</a>               275 src/map/label.cpp 			|| glabels-&gt;second.find(loc) == glabels-&gt;second.end();</span>
<span class='curline'><a href='../S/1091.html#L314'>loc</a>               314 src/map/label.cpp 		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1091.html#L333'>loc</a>               333 src/map/label.cpp 				loc_(loc)</span>
<span class='curline'><a href='../S/1090.html#L47'>loc</a>                47 src/map/label.hpp 	const terrain_label* get_label(const map_location&amp; loc, const std::string&amp; team_name) const {</span>
<span class='curline'><a href='../S/1090.html#L48'>loc</a>                48 src/map/label.hpp 		return const_cast&lt;map_labels*&gt;(this)-&gt;get_label_private(loc, team_name);</span>
<span class='curline'><a href='../S/1090.html#L51'>loc</a>                51 src/map/label.hpp 	const terrain_label* get_label(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1090.html#L52'>loc</a>                52 src/map/label.hpp 	const terrain_label* set_label(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1090.html#L86'>loc</a>                86 src/map/label.hpp 	terrain_label* get_label_private(const map_location&amp; loc, const std::string&amp; team_name);</span>
<span class='curline'><a href='../S/1090.html#L107'>loc</a>               107 src/map/label.hpp 			const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1087.html#L220'>loc</a>               220 src/map/location.cpp map_location::DIRECTION map_location::get_relative_dir(const map_location &amp; loc) const</span>
<span class='curline'><a href='../S/1087.html#L222'>loc</a>               222 src/map/location.cpp 	return get_relative_dir(loc, map_location::RADIAL_SYMMETRY);</span>
<span class='curline'><a href='../S/1087.html#L225'>loc</a>               225 src/map/location.cpp map_location::DIRECTION map_location::get_relative_dir(const map_location &amp; loc, map_location::RELATIVE_DIR_MODE opt) const</span>
<span class='curline'><a href='../S/1087.html#L230'>loc</a>               230 src/map/location.cpp 		int dx = loc.x - x;</span>
<span class='curline'><a href='../S/1087.html#L231'>loc</a>               231 src/map/location.cpp 		int dy = loc.y - y;</span>
<span class='curline'><a href='../S/1087.html#L232'>loc</a>               232 src/map/location.cpp 		if (loc.x%2==0 &amp;&amp; x%2==1) dy--;</span>
<span class='curline'><a href='../S/1087.html#L254'>loc</a>               254 src/map/location.cpp 		map_location temp(loc);</span>
<span class='curline'><a href='../S/1089.html#L104'>loc</a>               104 src/map/location.hpp 	DIRECTION get_relative_dir(const map_location &amp; loc, map_location::RELATIVE_DIR_MODE mode /*= map_location::RADIAL_SYMMETRY*/ ) const;</span>
<span class='curline'><a href='../S/1089.html#L105'>loc</a>               105 src/map/location.hpp 	DIRECTION get_relative_dir(const map_location &amp; loc) const; //moved the default setting to .cpp file for ease of testing</span>
<span class='curline'><a href='../S/1085.html#L50'>loc</a>                50 src/map/map.cpp const terrain_type&amp; gamemap::get_terrain_info(const map_location &amp;loc) const</span>
<span class='curline'><a href='../S/1085.html#L52'>loc</a>                52 src/map/map.cpp 	return tdata_-&gt;get_terrain_info(get_terrain(loc));</span>
<span class='curline'><a href='../S/1085.html#L55'>loc</a>                55 src/map/map.cpp const t_translation::ter_list&amp; gamemap::underlying_mvt_terrain(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L56'>loc</a>                56 src/map/map.cpp 	{ return underlying_mvt_terrain(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L57'>loc</a>                57 src/map/map.cpp const t_translation::ter_list&amp; gamemap::underlying_def_terrain(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L58'>loc</a>                58 src/map/map.cpp 	{ return underlying_def_terrain(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L59'>loc</a>                59 src/map/map.cpp const t_translation::ter_list&amp; gamemap::underlying_union_terrain(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L60'>loc</a>                60 src/map/map.cpp 	{ return underlying_union_terrain(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L61'>loc</a>                61 src/map/map.cpp std::string gamemap::get_terrain_string(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L62'>loc</a>                62 src/map/map.cpp 	{ return get_terrain_string(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L63'>loc</a>                63 src/map/map.cpp std::string gamemap::get_terrain_editor_string(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L64'>loc</a>                64 src/map/map.cpp 	{ return get_terrain_editor_string(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L66'>loc</a>                66 src/map/map.cpp bool gamemap::is_village(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L67'>loc</a>                67 src/map/map.cpp 	{ return on_board(loc) &amp;&amp; is_village(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L68'>loc</a>                68 src/map/map.cpp int gamemap::gives_healing(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L69'>loc</a>                69 src/map/map.cpp 	{ return on_board(loc) ?  gives_healing(get_terrain(loc)) : 0; }</span>
<span class='curline'><a href='../S/1085.html#L70'>loc</a>                70 src/map/map.cpp bool gamemap::is_castle(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L71'>loc</a>                71 src/map/map.cpp 	{ return on_board(loc) &amp;&amp; is_castle(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L72'>loc</a>                72 src/map/map.cpp bool gamemap::is_keep(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L73'>loc</a>                73 src/map/map.cpp 	{ return on_board(loc) &amp;&amp; is_keep(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1085.html#L101'>loc</a>               101 src/map/map.cpp void gamemap::write_terrain(const map_location &amp;loc, config&amp; cfg) const</span>
<span class='curline'><a href='../S/1085.html#L103'>loc</a>               103 src/map/map.cpp 	cfg["terrain"] = t_translation::write_terrain_code(get_terrain(loc));</span>
<span class='curline'><a href='../S/1085.html#L233'>loc</a>               233 src/map/map.cpp void gamemap::overlay(const gamemap&amp; m, const config&amp; rules_cfg, map_location loc)</span>
<span class='curline'><a href='../S/1085.html#L235'>loc</a>               235 src/map/map.cpp 	int xpos = loc.x;</span>
<span class='curline'><a href='../S/1085.html#L236'>loc</a>               236 src/map/map.cpp 	int ypos = loc.y;</span>
<span class='curline'><a href='../S/1085.html#L301'>loc</a>               301 src/map/map.cpp t_translation::terrain_code gamemap::get_terrain(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L304'>loc</a>               304 src/map/map.cpp 	if(on_board_with_border(loc)) {</span>
<span class='curline'><a href='../S/1085.html#L305'>loc</a>               305 src/map/map.cpp 		return (*this)[loc];</span>
<span class='curline'><a href='../S/1085.html#L308'>loc</a>               308 src/map/map.cpp 	return loc == map_location::null_location() ? t_translation::NONE_TERRAIN : t_translation::terrain_code();</span>
<span class='curline'><a href='../S/1085.html#L341'>loc</a>               341 src/map/map.cpp const std::string* gamemap::is_starting_position(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L343'>loc</a>               343 src/map/map.cpp 	auto it = starting_positions_.right.find(loc);</span>
<span class='curline'><a href='../S/1085.html#L347'>loc</a>               347 src/map/map.cpp void gamemap::set_special_location(const std::string&amp; id, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/1085.html#L349'>loc</a>               349 src/map/map.cpp 	bool valid = loc.valid();</span>
<span class='curline'><a href='../S/1085.html#L353'>loc</a>               353 src/map/map.cpp 			starting_positions_.left.replace_data(it_left, loc);</span>
<span class='curline'><a href='../S/1085.html#L360'>loc</a>               360 src/map/map.cpp 		starting_positions_.left.insert(it_left, std::make_pair(id, loc));</span>
<span class='curline'><a href='../S/1085.html#L364'>loc</a>               364 src/map/map.cpp void gamemap::set_starting_position(int side, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/1085.html#L366'>loc</a>               366 src/map/map.cpp 	set_special_location(std::to_string(side), loc);</span>
<span class='curline'><a href='../S/1085.html#L369'>loc</a>               369 src/map/map.cpp bool gamemap::on_board(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L371'>loc</a>               371 src/map/map.cpp 	return loc.valid() &amp;&amp; loc.x &lt; w_ &amp;&amp; loc.y &lt; h_;</span>
<span class='curline'><a href='../S/1085.html#L374'>loc</a>               374 src/map/map.cpp bool gamemap::on_board_with_border(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1085.html#L377'>loc</a>               377 src/map/map.cpp 	       loc.x &gt;= -border_size() &amp;&amp;  loc.x &lt; w_ + border_size() &amp;&amp;</span>
<span class='curline'><a href='../S/1085.html#L378'>loc</a>               378 src/map/map.cpp 	       loc.y &gt;= -border_size() &amp;&amp;  loc.y &lt; h_ + border_size();</span>
<span class='curline'><a href='../S/1085.html#L381'>loc</a>               381 src/map/map.cpp void gamemap::set_terrain(const map_location&amp; loc, const t_translation::terrain_code &amp; terrain, const terrain_type_data::merge_mode mode, bool replace_if_failed) {</span>
<span class='curline'><a href='../S/1085.html#L382'>loc</a>               382 src/map/map.cpp 	if(!on_board_with_border(loc)) {</span>
<span class='curline'><a href='../S/1085.html#L387'>loc</a>               387 src/map/map.cpp 	t_translation::terrain_code new_terrain = tdata_-&gt;merge_terrains(get_terrain(loc), terrain, mode, replace_if_failed);</span>
<span class='curline'><a href='../S/1085.html#L393'>loc</a>               393 src/map/map.cpp 	if(on_board(loc)) {</span>
<span class='curline'><a href='../S/1085.html#L394'>loc</a>               394 src/map/map.cpp 		const bool old_village = is_village(loc);</span>
<span class='curline'><a href='../S/1085.html#L398'>loc</a>               398 src/map/map.cpp 			villages_.erase(std::remove(villages_.begin(),villages_.end(),loc),villages_.end());</span>
<span class='curline'><a href='../S/1085.html#L400'>loc</a>               400 src/map/map.cpp 			villages_.push_back(loc);</span>
<span class='curline'><a href='../S/1085.html#L404'>loc</a>               404 src/map/map.cpp 	(*this)[loc] = new_terrain;</span>
<span class='curline'><a href='../S/1086.html#L39'>loc</a>                39 src/map/map.hpp 	const t_translation::ter_list&amp; underlying_mvt_terrain(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L40'>loc</a>                40 src/map/map.hpp 	const t_translation::ter_list&amp; underlying_def_terrain(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L41'>loc</a>                41 src/map/map.hpp 	const t_translation::ter_list&amp; underlying_union_terrain(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L42'>loc</a>                42 src/map/map.hpp 	std::string get_terrain_string(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L43'>loc</a>                43 src/map/map.hpp 	std::string get_terrain_editor_string(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L45'>loc</a>                45 src/map/map.hpp 	bool is_village(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L46'>loc</a>                46 src/map/map.hpp 	int gives_healing(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L47'>loc</a>                47 src/map/map.hpp 	bool is_castle(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L48'>loc</a>                48 src/map/map.hpp 	bool is_keep(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L87'>loc</a>                87 src/map/map.hpp 	void overlay(const gamemap&amp; m, const config&amp; rules, map_location loc);</span>
<span class='curline'><a href='../S/1086.html#L104'>loc</a>               104 src/map/map.hpp 	const t_translation::terrain_code operator[](const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1086.html#L106'>loc</a>               106 src/map/map.hpp 		return tiles_.get(loc.x + border_size(), loc.y + border_size());</span>
<span class='curline'><a href='../S/1086.html#L110'>loc</a>               110 src/map/map.hpp 	t_translation::terrain_code&amp; operator[](const map_location&amp; loc)</span>
<span class='curline'><a href='../S/1086.html#L112'>loc</a>               112 src/map/map.hpp 		return tiles_.get(loc.x + border_size(), loc.y + border_size());</span>
<span class='curline'><a href='../S/1086.html#L122'>loc</a>               122 src/map/map.hpp 	t_translation::terrain_code get_terrain(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L125'>loc</a>               125 src/map/map.hpp 	void write_terrain(const map_location &amp;loc, config&amp; cfg) const;</span>
<span class='curline'><a href='../S/1086.html#L129'>loc</a>               129 src/map/map.hpp 	void set_starting_position(int side, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/1086.html#L132'>loc</a>               132 src/map/map.hpp 	void set_special_location(const std::string&amp; id, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/1086.html#L137'>loc</a>               137 src/map/map.hpp 	const std::string* is_starting_position(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L147'>loc</a>               147 src/map/map.hpp 	bool on_board(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L148'>loc</a>               148 src/map/map.hpp 	bool on_board_with_border(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1086.html#L160'>loc</a>               160 src/map/map.hpp 	const terrain_type&amp; get_terrain_info(const map_location &amp;loc) const;</span>
<span class='curline'><a href='../S/1086.html#L169'>loc</a>               169 src/map/map.hpp 	void set_terrain(const map_location&amp; loc, const t_translation::terrain_code &amp; terrain, const terrain_type_data::merge_mode mode=terrain_type_data::BOTH, bool replace_if_failed = false);</span>
<span class='curline'><a href='../S/918.html#L321'>loc</a>               321 src/menu_events.cpp 	map_location loc = last_hex;</span>
<span class='curline'><a href='../S/918.html#L327'>loc</a>               327 src/menu_events.cpp 		msg = actions::find_recruit_location(side_num, loc, recruited_from, name);</span>
<span class='curline'><a href='../S/918.html#L335'>loc</a>               335 src/menu_events.cpp 	if(!pc_.get_whiteboard() || !pc_.get_whiteboard()-&gt;save_recruit(name, side_num, loc)) {</span>
<span class='curline'><a href='../S/918.html#L341'>loc</a>               341 src/menu_events.cpp 		synced_context::run_and_throw("recruit", replay_helper::get_recruit(u_type-&gt;id(), loc, recruited_from));</span>
<span class='curline'><a href='../S/918.html#L593'>loc</a>               593 src/menu_events.cpp 	const map_location&amp; loc = mousehandler.get_last_hex();</span>
<span class='curline'><a href='../S/918.html#L594'>loc</a>               594 src/menu_events.cpp 	if(map().on_board(loc) == false || gui_-&gt;shrouded(loc)) {</span>
<span class='curline'><a href='../S/918.html#L598'>loc</a>               598 src/menu_events.cpp 	const terrain_type&amp; type = map().get_terrain_info(loc);</span>
<span class='curline'><a href='../S/918.html#L689'>loc</a>               689 src/menu_events.cpp 		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/918.html#L695'>loc</a>               695 src/menu_events.cpp 			"x", loc.wml_x(),</span>
<span class='curline'><a href='../S/918.html#L696'>loc</a>               696 src/menu_events.cpp 			"y", loc.wml_y(),</span>
<span class='curline'><a href='../S/918.html#L725'>loc</a>               725 src/menu_events.cpp 	const map_location&amp; loc = mousehandler.get_last_hex();</span>
<span class='curline'><a href='../S/918.html#L726'>loc</a>               726 src/menu_events.cpp 	const unit_map::iterator i = units().find(loc);</span>
<span class='curline'><a href='../S/918.html#L728'>loc</a>               728 src/menu_events.cpp 		if(!map().is_village(loc)) {</span>
<span class='curline'><a href='../S/918.html#L733'>loc</a>               733 src/menu_events.cpp 		int team = board().village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/918.html#L739'>loc</a>               739 src/menu_events.cpp 		actions::get_village(loc, team + 1);</span>
<span class='curline'><a href='../S/918.html#L748'>loc</a>               748 src/menu_events.cpp 		if(map().is_village(loc)) {</span>
<span class='curline'><a href='../S/918.html#L749'>loc</a>               749 src/menu_events.cpp 			actions::get_village(loc, side);</span>
<span class='curline'><a href='../S/918.html#L756'>loc</a>               756 src/menu_events.cpp 	const map_location loc = mousehandler.get_last_hex();</span>
<span class='curline'><a href='../S/918.html#L757'>loc</a>               757 src/menu_events.cpp 	synced_context::run_and_throw("debug_kill", config {"x", loc.wml_x(), "y", loc.wml_y()});</span>
<span class='curline'><a href='../S/918.html#L762'>loc</a>               762 src/menu_events.cpp 	const map_location&amp; loc = mousehandler.get_last_hex();</span>
<span class='curline'><a href='../S/918.html#L763'>loc</a>               763 src/menu_events.cpp 	if(map().on_board(loc) == false) {</span>
<span class='curline'><a href='../S/918.html#L767'>loc</a>               767 src/menu_events.cpp 	const terrain_label* old_label = gui_-&gt;labels().get_label(loc);</span>
<span class='curline'><a href='../S/918.html#L779'>loc</a>               779 src/menu_events.cpp 		const terrain_label* res = gui_-&gt;labels().set_label(loc, label, gui_-&gt;viewing_team(), team_name, color);</span>
<span class='curline'><a href='../S/918.html#L1296'>loc</a>              1296 src/menu_events.cpp 	map_location loc = last_search_hit_;</span>
<span class='curline'><a href='../S/918.html#L1304'>loc</a>              1304 src/menu_events.cpp 			loc = map_location(x, y);</span>
<span class='curline'><a href='../S/918.html#L1309'>loc</a>              1309 src/menu_events.cpp 	if(loc.valid() == false) {</span>
<span class='curline'><a href='../S/918.html#L1310'>loc</a>              1310 src/menu_events.cpp 		loc = map_location(map().w() - 1, map().h() - 1);</span>
<span class='curline'><a href='../S/918.html#L1313'>loc</a>              1313 src/menu_events.cpp 	map_location start = loc;</span>
<span class='curline'><a href='../S/918.html#L1316'>loc</a>              1316 src/menu_events.cpp 		loc.x = (loc.x + 1) % map().w();</span>
<span class='curline'><a href='../S/918.html#L1317'>loc</a>              1317 src/menu_events.cpp 		if(loc.x == 0)</span>
<span class='curline'><a href='../S/918.html#L1318'>loc</a>              1318 src/menu_events.cpp 			loc.y = (loc.y + 1) % map().h();</span>
<span class='curline'><a href='../S/918.html#L1321'>loc</a>              1321 src/menu_events.cpp 		if(!gui_-&gt;shrouded(loc)) {</span>
<span class='curline'><a href='../S/918.html#L1322'>loc</a>              1322 src/menu_events.cpp 			const terrain_label* label = gui_-&gt;labels().get_label(loc);</span>
<span class='curline'><a href='../S/918.html#L1333'>loc</a>              1333 src/menu_events.cpp 		if(!gui_-&gt;fogged(loc)) {</span>
<span class='curline'><a href='../S/918.html#L1334'>loc</a>              1334 src/menu_events.cpp 			unit_map::const_iterator ui = units().find(loc);</span>
<span class='curline'><a href='../S/918.html#L1348'>loc</a>              1348 src/menu_events.cpp 		if(loc == start)</span>
<span class='curline'><a href='../S/918.html#L1353'>loc</a>              1353 src/menu_events.cpp 		last_search_hit_ = loc;</span>
<span class='curline'><a href='../S/918.html#L1354'>loc</a>              1354 src/menu_events.cpp 		gui_-&gt;scroll_to_tile(loc, game_display::ONSCREEN, false);</span>
<span class='curline'><a href='../S/918.html#L1355'>loc</a>              1355 src/menu_events.cpp 		gui_-&gt;highlight_hex(loc);</span>
<span class='curline'><a href='../S/918.html#L1578'>loc</a>              1578 src/menu_events.cpp 	const map_location&amp; loc = mousehandler.get_last_hex();</span>
<span class='curline'><a href='../S/918.html#L1580'>loc</a>              1580 src/menu_events.cpp 	gui2::dialogs::terrain_layers::display(disp, loc, disp.video());</span>
<span class='curline'><a href='../S/918.html#L1811'>loc</a>              1811 src/menu_events.cpp 	const map_location loc = i-&gt;get_location();</span>
<span class='curline'><a href='../S/918.html#L1832'>loc</a>              1832 src/menu_events.cpp 			"x", loc.wml_x(),</span>
<span class='curline'><a href='../S/918.html#L1833'>loc</a>              1833 src/menu_events.cpp 			"y", loc.wml_y(),</span>
<span class='curline'><a href='../S/918.html#L1860'>loc</a>              1860 src/menu_events.cpp 	const map_location&amp; loc = mousehandler.get_last_hex();</span>
<span class='curline'><a href='../S/918.html#L1861'>loc</a>              1861 src/menu_events.cpp 	if(menu_handler_.map().on_board(loc)) {</span>
<span class='curline'><a href='../S/918.html#L1869'>loc</a>              1869 src/menu_events.cpp 		create_and_place(*menu_handler_.gui_, menu_handler_.map(), menu_handler_.units(), loc, *ut);</span>
<span class='curline'><a href='../S/754.html#L83'>loc</a>                83 src/minimap.cpp 			const map_location loc(x,y);</span>
<span class='curline'><a href='../S/754.html#L84'>loc</a>                84 src/minimap.cpp 			if(!map.on_board_with_border(loc))</span>
<span class='curline'><a href='../S/754.html#L87'>loc</a>                87 src/minimap.cpp 			const bool highlighted = reach_map &amp;&amp; reach_map-&gt;count(loc) != 0;</span>
<span class='curline'><a href='../S/754.html#L89'>loc</a>                89 src/minimap.cpp 			const bool shrouded = (resources::screen != nullptr &amp;&amp; resources::screen-&gt;is_blindfolded()) || (vw != nullptr &amp;&amp; vw-&gt;shrouded(loc));</span>
<span class='curline'><a href='../S/754.html#L91'>loc</a>                91 src/minimap.cpp 			const bool fogged = (vw != nullptr &amp;&amp; !shrouded &amp;&amp; vw-&gt;fogged(loc));</span>
<span class='curline'><a href='../S/754.html#L94'>loc</a>                94 src/minimap.cpp 					t_translation::VOID_TERRAIN : map[loc];</span>
<span class='curline'><a href='../S/754.html#L240'>loc</a>               240 src/minimap.cpp 				int side = (resources::gameboard ? resources::gameboard-&gt;village_owner(loc) : -1); //check needed for mp create dialog</span>
<span class='curline'><a href='../S/754.html#L256'>loc</a>               256 src/minimap.cpp 							if (vw-&gt;owns_village(loc))</span>
<span class='curline'><a href='../S/954.html#L352'>loc</a>               352 src/mouse_events.cpp map_location mouse_handler::current_unit_attacks_from(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/954.html#L354'>loc</a>               354 src/mouse_events.cpp 	if(loc == selected_hex_)</span>
<span class='curline'><a href='../S/954.html#L389'>loc</a>               389 src/mouse_events.cpp 		const unit_map::const_iterator target_unit = find_unit(loc);</span>
<span class='curline'><a href='../S/954.html#L404'>loc</a>               404 src/mouse_events.cpp 	const map_location::DIRECTION preferred = loc.get_relative_dir(previous_hex_);</span>
<span class='curline'><a href='../S/954.html#L405'>loc</a>               405 src/mouse_events.cpp 	const map_location::DIRECTION second_preferred = loc.get_relative_dir(previous_free_hex_);</span>
<span class='curline'><a href='../S/954.html#L410'>loc</a>               410 src/mouse_events.cpp 	get_adjacent_tiles(loc,adj);</span>
<span class='curline'><a href='../S/954.html#L1019'>loc</a>              1019 src/mouse_events.cpp std::set&lt;map_location&gt; mouse_handler::get_adj_enemies(const map_location&amp; loc, int side) const</span>
<span class='curline'><a href='../S/954.html#L1026'>loc</a>              1026 src/mouse_events.cpp 	get_adjacent_tiles(loc, adj);</span>
<span class='curline'><a href='../S/954.html#L1054'>loc</a>              1054 src/mouse_events.cpp 	for(const map_location &amp;loc : adj)</span>
<span class='curline'><a href='../S/954.html#L1058'>loc</a>              1058 src/mouse_events.cpp 		if (!pc_.get_map_const().on_board(loc)) continue;</span>
<span class='curline'><a href='../S/954.html#L1059'>loc</a>              1059 src/mouse_events.cpp 		unit_map::const_iterator i = pc_.gamestate().board_.units().find(loc);</span>
<span class='curline'><a href='../S/954.html#L1065'>loc</a>              1065 src/mouse_events.cpp 			current_paths_.destinations.insert(loc);</span>
<span class='curline'><a href='../S/17.html#L52'>loc</a>                52 src/mouse_events.hpp 	map_location current_unit_attacks_from(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/17.html#L71'>loc</a>                71 src/mouse_events.hpp 	std::set&lt;map_location&gt; get_adj_enemies(const map_location&amp; loc, int side) const;</span>
<span class='curline'><a href='../S/17.html#L103'>loc</a>               103 src/mouse_events.hpp 	void mouse_motion(int x, int y, const bool browse, bool update=false, map_location loc = map_location::null_location());</span>
<span class='curline'><a href='../S/1159.html#L78'>loc</a>                78 src/mouse_handler_base.cpp void mouse_handler_base::mouse_update(const bool browse, map_location loc)</span>
<span class='curline'><a href='../S/1159.html#L82'>loc</a>                82 src/mouse_handler_base.cpp 	mouse_motion(x, y, browse, true, loc);</span>
<span class='curline'><a href='../S/1159.html#L99'>loc</a>                99 src/mouse_handler_base.cpp 			const map_location&amp; loc = gui().minimap_location_on(x,y);</span>
<span class='curline'><a href='../S/1159.html#L100'>loc</a>               100 src/mouse_handler_base.cpp 			if(loc.valid()) {</span>
<span class='curline'><a href='../S/1159.html#L101'>loc</a>               101 src/mouse_handler_base.cpp 				if(loc != last_hex_) {</span>
<span class='curline'><a href='../S/1159.html#L102'>loc</a>               102 src/mouse_handler_base.cpp 					last_hex_ = loc;</span>
<span class='curline'><a href='../S/1159.html#L103'>loc</a>               103 src/mouse_handler_base.cpp 					gui().scroll_to_tile(loc,display::WARP,false);</span>
<span class='curline'><a href='../S/1159.html#L137'>loc</a>               137 src/mouse_handler_base.cpp 	map_location loc = gui().hex_clicked_on(event.x,event.y);</span>
<span class='curline'><a href='../S/1159.html#L138'>loc</a>               138 src/mouse_handler_base.cpp 	mouse_update(browse, loc);</span>
<span class='curline'><a href='../S/1159.html#L174'>loc</a>               174 src/mouse_handler_base.cpp 				if(loc.valid()) {</span>
<span class='curline'><a href='../S/1159.html#L175'>loc</a>               175 src/mouse_handler_base.cpp 					last_hex_ = loc;</span>
<span class='curline'><a href='../S/1159.html#L176'>loc</a>               176 src/mouse_handler_base.cpp 					gui().scroll_to_tile(loc,display::WARP,false);</span>
<span class='curline'><a href='../S/1159.html#L189'>loc</a>               189 src/mouse_handler_base.cpp 	mouse_update(browse, loc);</span>
<span class='curline'><a href='../S/1159.html#L229'>loc</a>               229 src/mouse_handler_base.cpp 	const map_location&amp; loc = gui().minimap_location_on(x, y);</span>
<span class='curline'><a href='../S/1159.html#L231'>loc</a>               231 src/mouse_handler_base.cpp 	if(loc.valid()) {</span>
<span class='curline'><a href='../S/1159.html#L233'>loc</a>               233 src/mouse_handler_base.cpp 		last_hex_ = loc;</span>
<span class='curline'><a href='../S/1159.html#L234'>loc</a>               234 src/mouse_handler_base.cpp 		gui().scroll_to_tile(loc,display::WARP, false);</span>
<span class='curline'><a href='../S/965.html#L60'>loc</a>                60 src/mouse_handler_base.hpp 	void mouse_update(const bool browse, map_location loc);</span>
<span class='curline'><a href='../S/847.html#L135'>loc</a>               135 src/pathfind/astarsearch.cpp 	size_t operator()(const map_location&amp; loc) const {</span>
<span class='curline'><a href='../S/847.html#L136'>loc</a>               136 src/pathfind/astarsearch.cpp 		return loc.y * w_ + loc.x;</span>
<span class='curline'><a href='../S/848.html#L54'>loc</a>                54 src/pathfind/pathfind.cpp map_location find_vacant_tile(const map_location&amp; loc, VACANT_TILE_TYPE vacancy,</span>
<span class='curline'><a href='../S/848.html#L64'>loc</a>                64 src/pathfind/pathfind.cpp 	if (!map.on_board(loc)) return map_location();</span>
<span class='curline'><a href='../S/848.html#L68'>loc</a>                68 src/pathfind/pathfind.cpp 	pending_tiles_to_check.insert(loc);</span>
<span class='curline'><a href='../S/848.html#L136'>loc</a>               136 src/pathfind/pathfind.cpp bool enemy_zoc(team const &amp;current_team, map_location const &amp;loc,</span>
<span class='curline'><a href='../S/848.html#L141'>loc</a>               141 src/pathfind/pathfind.cpp 	get_adjacent_tiles(loc,locs);</span>
<span class='curline'><a href='../S/848.html#L204'>loc</a>               204 src/pathfind/pathfind.cpp 		int operator()(const map_location&amp; loc) const {</span>
<span class='curline'><a href='../S/848.html#L205'>loc</a>               205 src/pathfind/pathfind.cpp 			return (*this)(loc.x, loc.y);</span>
<span class='curline'><a href='../S/848.html#L464'>loc</a>               464 src/pathfind/pathfind.cpp paths::dest_vect::const_iterator paths::dest_vect::find(const map_location &amp;loc) const</span>
<span class='curline'><a href='../S/848.html#L466'>loc</a>               466 src/pathfind/pathfind.cpp 	const_iterator i = std::lower_bound(begin(), end(), loc, step_compare);</span>
<span class='curline'><a href='../S/848.html#L467'>loc</a>               467 src/pathfind/pathfind.cpp 	if (i != end() &amp;&amp; i-&gt;curr != loc) return end();</span>
<span class='curline'><a href='../S/848.html#L471'>loc</a>               471 src/pathfind/pathfind.cpp void paths::dest_vect::insert(const map_location &amp;loc)</span>
<span class='curline'><a href='../S/848.html#L473'>loc</a>               473 src/pathfind/pathfind.cpp 	iterator i = std::lower_bound(begin(), end(), loc, step_compare);</span>
<span class='curline'><a href='../S/848.html#L474'>loc</a>               474 src/pathfind/pathfind.cpp 	if (i != end() &amp;&amp; i-&gt;curr == loc) return;</span>
<span class='curline'><a href='../S/848.html#L475'>loc</a>               475 src/pathfind/pathfind.cpp 	paths::step s { loc, map_location(), 0 };</span>
<span class='curline'><a href='../S/848.html#L500'>loc</a>               500 src/pathfind/pathfind.cpp bool paths::dest_vect::contains(const map_location &amp;loc) const</span>
<span class='curline'><a href='../S/848.html#L502'>loc</a>               502 src/pathfind/pathfind.cpp 	return find(loc) != end();</span>
<span class='curline'><a href='../S/848.html#L555'>loc</a>               555 src/pathfind/pathfind.cpp vision_path::vision_path(const unit&amp; viewer, map_location const &amp;loc,</span>
<span class='curline'><a href='../S/848.html#L564'>loc</a>               564 src/pathfind/pathfind.cpp 	find_routes(loc, viewer.movement_type().get_vision(),</span>
<span class='curline'><a href='../S/848.html#L581'>loc</a>               581 src/pathfind/pathfind.cpp                          int sight_range, const map_location &amp; loc,</span>
<span class='curline'><a href='../S/848.html#L588'>loc</a>               588 src/pathfind/pathfind.cpp 	const unit_map::const_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/848.html#L589'>loc</a>               589 src/pathfind/pathfind.cpp 	find_routes(loc, view_costs, slowed, sight_range, sight_range, 0,</span>
<span class='curline'><a href='../S/848.html#L608'>loc</a>               608 src/pathfind/pathfind.cpp jamming_path::jamming_path(const unit&amp; jammer, map_location const &amp;loc)</span>
<span class='curline'><a href='../S/848.html#L615'>loc</a>               615 src/pathfind/pathfind.cpp 	find_routes(loc, jammer.movement_type().get_jamming(),</span>
<span class='curline'><a href='../S/848.html#L697'>loc</a>               697 src/pathfind/pathfind.cpp double shortest_path_calculator::cost(const map_location&amp; loc, const double so_far) const</span>
<span class='curline'><a href='../S/848.html#L699'>loc</a>               699 src/pathfind/pathfind.cpp 	assert(map_.on_board(loc));</span>
<span class='curline'><a href='../S/848.html#L703'>loc</a>               703 src/pathfind/pathfind.cpp 	if (!see_all_ &amp;&amp; viewing_team_.shrouded(loc))</span>
<span class='curline'><a href='../S/848.html#L706'>loc</a>               706 src/pathfind/pathfind.cpp 	const t_translation::terrain_code terrain = map_[loc];</span>
<span class='curline'><a href='../S/848.html#L718'>loc</a>               718 src/pathfind/pathfind.cpp 			resources::gameboard-&gt;get_visible_unit(loc, viewing_team_, see_all_);</span>
<span class='curline'><a href='../S/848.html#L757'>loc</a>               757 src/pathfind/pathfind.cpp 	    &amp;&amp; enemy_zoc(teams_[unit_.side()-1], loc, viewing_team_, see_all_)</span>
<span class='curline'><a href='../S/848.html#L758'>loc</a>               758 src/pathfind/pathfind.cpp 			&amp;&amp; !unit_.get_ability_bool("skirmisher", loc, *resources::gameboard)) {</span>
<span class='curline'><a href='../S/848.html#L783'>loc</a>               783 src/pathfind/pathfind.cpp double move_type_path_calculator::cost(const map_location&amp; loc, const double so_far) const</span>
<span class='curline'><a href='../S/848.html#L785'>loc</a>               785 src/pathfind/pathfind.cpp 	assert(map_.on_board(loc));</span>
<span class='curline'><a href='../S/848.html#L786'>loc</a>               786 src/pathfind/pathfind.cpp 	if (viewing_team_.shrouded(loc))</span>
<span class='curline'><a href='../S/848.html#L789'>loc</a>               789 src/pathfind/pathfind.cpp 	const t_translation::terrain_code terrain = map_[loc];</span>
<span class='curline'><a href='../S/848.html#L815'>loc</a>               815 src/pathfind/pathfind.cpp double emergency_path_calculator::cost(const map_location&amp; loc, const double) const</span>
<span class='curline'><a href='../S/848.html#L817'>loc</a>               817 src/pathfind/pathfind.cpp 	assert(map_.on_board(loc));</span>
<span class='curline'><a href='../S/848.html#L819'>loc</a>               819 src/pathfind/pathfind.cpp 	return unit_.movement_cost(map_[loc]);</span>
<span class='curline'><a href='../S/849.html#L42'>loc</a>                42 src/pathfind/pathfind.hpp map_location find_vacant_tile(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/849.html#L52'>loc</a>                52 src/pathfind/pathfind.hpp bool enemy_zoc(team const &amp;current_team, map_location const &amp;loc,</span>
<span class='curline'><a href='../S/849.html#L60'>loc</a>                60 src/pathfind/pathfind.hpp 	virtual double cost(const map_location&amp; loc, const double so_far) const = 0;</span>
<span class='curline'><a href='../S/849.html#L108'>loc</a>               108 src/pathfind/pathfind.hpp 	vision_path(const unit&amp; viewer, map_location const &amp;loc,</span>
<span class='curline'><a href='../S/849.html#L111'>loc</a>               111 src/pathfind/pathfind.hpp 	            int sight_range, const map_location &amp; loc,</span>
<span class='curline'><a href='../S/849.html#L125'>loc</a>               125 src/pathfind/pathfind.hpp 	jamming_path(const unit&amp; jammer, map_location const &amp;loc);</span>
<span class='curline'><a href='../S/849.html#L209'>loc</a>               209 src/pathfind/pathfind.hpp 	virtual double cost(const map_location&amp; loc, const double so_far) const;</span>
<span class='curline'><a href='../S/849.html#L226'>loc</a>               226 src/pathfind/pathfind.hpp 	virtual double cost(const map_location&amp; loc, const double so_far) const;</span>
<span class='curline'><a href='../S/849.html#L243'>loc</a>               243 src/pathfind/pathfind.hpp 	virtual double cost(const map_location&amp; loc, const double so_far) const;</span>
<span class='curline'><a href='../S/849.html#L257'>loc</a>               257 src/pathfind/pathfind.hpp 	virtual double cost(const map_location&amp; loc, const double so_far) const;</span>
<span class='curline'><a href='../S/850.html#L112'>loc</a>               112 src/pathfind/teleport.cpp 	const map_location &amp;loc = u.get_location();</span>
<span class='curline'><a href='../S/850.html#L125'>loc</a>               125 src/pathfind/teleport.cpp 	if (ufilt.matches(u, loc)) {</span>
<span class='curline'><a href='../S/850.html#L127'>loc</a>               127 src/pathfind/teleport.cpp 		scoped_xy_unit teleport_unit("teleport_unit", loc, resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/850.html#L188'>loc</a>               188 src/pathfind/teleport.cpp 			for (const map_location &amp;loc : locations.first) {</span>
<span class='curline'><a href='../S/850.html#L189'>loc</a>               189 src/pathfind/teleport.cpp 				if(!viewing_team.fogged(loc))</span>
<span class='curline'><a href='../S/850.html#L190'>loc</a>               190 src/pathfind/teleport.cpp 					filter_locs.first.insert(loc);</span>
<span class='curline'><a href='../S/850.html#L192'>loc</a>               192 src/pathfind/teleport.cpp 			for (const map_location &amp;loc : locations.second) {</span>
<span class='curline'><a href='../S/850.html#L193'>loc</a>               193 src/pathfind/teleport.cpp 				if(!viewing_team.fogged(loc))</span>
<span class='curline'><a href='../S/850.html#L194'>loc</a>               194 src/pathfind/teleport.cpp 					filter_locs.second.insert(loc);</span>
<span class='curline'><a href='../S/850.html#L201'>loc</a>               201 src/pathfind/teleport.cpp 			std::set&lt;map_location&gt;::iterator loc = locations.second.begin();</span>
<span class='curline'><a href='../S/850.html#L202'>loc</a>               202 src/pathfind/teleport.cpp 			while(loc != locations.second.end()) {</span>
<span class='curline'><a href='../S/850.html#L205'>loc</a>               205 src/pathfind/teleport.cpp 					u = resources::gameboard-&gt;units().find(*loc);</span>
<span class='curline'><a href='../S/850.html#L207'>loc</a>               207 src/pathfind/teleport.cpp 					u = resources::gameboard-&gt;find_visible_unit(*loc, viewing_team);</span>
<span class='curline'><a href='../S/850.html#L210'>loc</a>               210 src/pathfind/teleport.cpp 					loc = locations.second.erase(loc);</span>
<span class='curline'><a href='../S/850.html#L212'>loc</a>               212 src/pathfind/teleport.cpp 					++loc;</span>
<span class='curline'><a href='../S/850.html#L233'>loc</a>               233 src/pathfind/teleport.cpp void teleport_map::get_adjacents(std::set&lt;map_location&gt;&amp; adjacents, map_location loc) const {</span>
<span class='curline'><a href='../S/850.html#L235'>loc</a>               235 src/pathfind/teleport.cpp 	if (teleport_map_.count(loc) == 0) {</span>
<span class='curline'><a href='../S/850.html#L238'>loc</a>               238 src/pathfind/teleport.cpp 		const std::set&lt;std::string&gt;&amp; keyset = (teleport_map_.find(loc)-&gt;second);</span>
<span class='curline'><a href='../S/851.html#L121'>loc</a>               121 src/pathfind/teleport.hpp 	void get_adjacents(std::set&lt;map_location&gt;&amp; adjacents, map_location loc) const;</span>
<span class='curline'><a href='../S/947.html#L37'>loc</a>                37 src/pathutils.cpp 	map_location loc = center.get_direction(map_location::SOUTH_WEST, radius);</span>
<span class='curline'><a href='../S/947.html#L42'>loc</a>                42 src/pathutils.cpp 			result.push_back(loc);</span>
<span class='curline'><a href='../S/947.html#L43'>loc</a>                43 src/pathutils.cpp 			loc = loc.get_direction(dir, 1);</span>
<span class='curline'><a href='../S/947.html#L108'>loc</a>               108 src/pathutils.cpp 		for (const map_location &amp;loc : locs)</span>
<span class='curline'><a href='../S/947.html#L109'>loc</a>               109 src/pathutils.cpp 			if ( loc != map_location::null_location() )</span>
<span class='curline'><a href='../S/947.html#L113'>loc</a>               113 src/pathutils.cpp 				map_location top = loc.get_direction(NORTH_WEST, radius_i);</span>
<span class='curline'><a href='../S/947.html#L116'>loc</a>               116 src/pathutils.cpp 					const int col_shift = std::min(col_begin, loc.x) - top.x;</span>
<span class='curline'><a href='../S/947.html#L121'>loc</a>               121 src/pathutils.cpp 				const int end_l = std::min(loc.x, col_end);</span>
<span class='curline'><a href='../S/947.html#L133'>loc</a>               133 src/pathutils.cpp 				const int end_r = std::min(loc.x + radius_i + 1, col_end);</span>
<span class='curline'><a href='../S/947.html#L255'>loc</a>               255 src/pathutils.cpp 				map_location const &amp;loc = adj[i];</span>
<span class='curline'><a href='../S/947.html#L256'>loc</a>               256 src/pathutils.cpp 				if ( with_border ? map.on_board_with_border(loc) :</span>
<span class='curline'><a href='../S/947.html#L257'>loc</a>               257 src/pathutils.cpp 				                   map.on_board(loc) ) {</span>
<span class='curline'><a href='../S/947.html#L258'>loc</a>               258 src/pathutils.cpp 					if ( !result.count(loc) &amp;&amp; !filtered_out.count(loc) ) {</span>
<span class='curline'><a href='../S/947.html#L259'>loc</a>               259 src/pathutils.cpp 						if ( pred(loc) )</span>
<span class='curline'><a href='../S/947.html#L260'>loc</a>               260 src/pathutils.cpp 							must_visit.insert(loc);</span>
<span class='curline'><a href='../S/947.html#L262'>loc</a>               262 src/pathutils.cpp 							filtered_out.insert(loc);</span>
<span class='curline'><a href='../S/818.html#L614'>loc</a>               614 src/play_controller.cpp 			const map_location&amp; loc = u.get_location();</span>
<span class='curline'><a href='../S/818.html#L615'>loc</a>               615 src/play_controller.cpp 			if(!gui_-&gt;fogged(loc) &amp;&amp;</span>
<span class='curline'><a href='../S/818.html#L616'>loc</a>               616 src/play_controller.cpp 					!(gamestate().board_.teams()[gui_-&gt;viewing_team()].is_enemy(u.side()) &amp;&amp; u.invisible(loc, gui_-&gt;get_disp_context())))</span>
<span class='curline'><a href='../S/84.html#L133'>loc</a>               133 src/playsingle_controller.cpp 		map_location loc(gamestate().board_.map().starting_position(scroll_team));</span>
<span class='curline'><a href='../S/84.html#L134'>loc</a>               134 src/playsingle_controller.cpp 		if ((loc.x &gt;= 0) &amp;&amp; (loc.y &gt;= 0)) {</span>
<span class='curline'><a href='../S/84.html#L135'>loc</a>               135 src/playsingle_controller.cpp 			gui_-&gt;scroll_to_tile(loc, game_display::WARP);</span>
<span class='curline'><a href='../S/791.html#L1015'>loc</a>              1015 src/preferences/game.cpp 	map.for_each_loc([&amp;](const map_location&amp; loc) {</span>
<span class='curline'><a href='../S/791.html#L1016'>loc</a>              1016 src/preferences/game.cpp 		const t_translation::terrain_code terrain = map.get_terrain(loc);</span>
<span class='curline'><a href='../S/791.html#L1018'>loc</a>              1018 src/preferences/game.cpp 		for (t_translation::terrain_code t : map.underlying_union_terrain(loc)) {</span>
<span class='curline'><a href='../S/1098.html#L71'>loc</a>                71 src/replay.cpp 			const map_location loc(u);</span>
<span class='curline'><a href='../S/1098.html#L72'>loc</a>                72 src/replay.cpp 			locs.insert(loc);</span>
<span class='curline'><a href='../S/1098.html#L74'>loc</a>                74 src/replay.cpp 			if(units.count(loc) == 0) {</span>
<span class='curline'><a href='../S/1098.html#L76'>loc</a>                76 src/replay.cpp 					   &lt;&lt; loc &lt;&lt; " but none found locally\n";</span>
<span class='curline'><a href='../S/1098.html#L92'>loc</a>                92 src/replay.cpp 		const map_location loc(un);</span>
<span class='curline'><a href='../S/1098.html#L93'>loc</a>                93 src/replay.cpp 		const unit_map::const_iterator u = units.find(loc);</span>
<span class='curline'><a href='../S/1098.html#L97'>loc</a>                97 src/replay.cpp 				   &lt;&lt; loc &lt;&lt; " but there is no local record of it\n";</span>
<span class='curline'><a href='../S/1098.html#L110'>loc</a>               110 src/replay.cpp 					   &lt;&lt; loc &lt;&lt; " data source: '" &lt;&lt; un[*str]</span>
<span class='curline'><a href='../S/1098.html#L201'>loc</a>               201 src/replay.cpp void replay::add_unit_checksum(const map_location&amp; loc,config&amp; cfg)</span>
<span class='curline'><a href='../S/1098.html#L207'>loc</a>               207 src/replay.cpp 	loc.write(cc);</span>
<span class='curline'><a href='../S/1098.html#L208'>loc</a>               208 src/replay.cpp 	unit_map::const_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/1098.html#L283'>loc</a>               283 src/replay.cpp void replay::add_rename(const std::string&amp; name, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/1098.html#L288'>loc</a>               288 src/replay.cpp 	loc.write(val);</span>
<span class='curline'><a href='../S/1098.html#L748'>loc</a>               748 src/replay.cpp 			const map_location loc(rename);</span>
<span class='curline'><a href='../S/1098.html#L751'>loc</a>               751 src/replay.cpp 			unit_map::iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/1098.html#L762'>loc</a>               762 src/replay.cpp 				   &lt;&lt; loc &lt;&lt; (u.valid() ? ", which is unrenamable" : ", where none exists (anymore)") &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/830.html#L74'>loc</a>                74 src/replay.hpp 	void add_rename(const std::string&amp; name, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/830.html#L76'>loc</a>                76 src/replay.hpp 	void add_unit_checksum(const map_location&amp; loc,config&amp; cfg);</span>
<span class='curline'><a href='../S/87.html#L23'>loc</a>                23 src/replay_helper.cpp config replay_helper::get_recruit(const std::string&amp; type_id, const map_location&amp; loc, const map_location&amp; from)</span>
<span class='curline'><a href='../S/87.html#L27'>loc</a>                27 src/replay_helper.cpp 	loc.write(val);</span>
<span class='curline'><a href='../S/87.html#L34'>loc</a>                34 src/replay_helper.cpp config replay_helper::get_recall(const std::string&amp; unit_id, const map_location&amp; loc, const map_location&amp; from)</span>
<span class='curline'><a href='../S/87.html#L39'>loc</a>                39 src/replay_helper.cpp 	loc.write(val);</span>
<span class='curline'><a href='../S/87.html#L141'>loc</a>               141 src/replay_helper.cpp config replay_helper::get_event(const std::string&amp; name, const map_location&amp; loc, const map_location*  last_select_loc)</span>
<span class='curline'><a href='../S/87.html#L145'>loc</a>               145 src/replay_helper.cpp 	if(loc.valid()) {</span>
<span class='curline'><a href='../S/87.html#L147'>loc</a>               147 src/replay_helper.cpp 		loc.write(source);</span>
<span class='curline'><a href='../S/966.html#L26'>loc</a>                26 src/replay_helper.hpp 	static config get_recruit(const std::string&amp; type_id, const map_location&amp; loc, const map_location&amp; from);</span>
<span class='curline'><a href='../S/966.html#L28'>loc</a>                28 src/replay_helper.hpp 	static config get_recall(const std::string&amp; unit_id, const map_location&amp; loc, const map_location&amp; from);</span>
<span class='curline'><a href='../S/966.html#L47'>loc</a>                47 src/replay_helper.hpp 	static config get_event(const std::string&amp; name, const map_location&amp; loc, const map_location*  last_select_loc);</span>
<span class='curline'><a href='../S/761.html#L764'>loc</a>               764 src/reports.cpp 		const map_location &amp;loc = enemy.get_location();</span>
<span class='curline'><a href='../S/761.html#L765'>loc</a>               765 src/reports.cpp 		if (viewing_team.fogged(loc) ||</span>
<span class='curline'><a href='../S/761.html#L766'>loc</a>               766 src/reports.cpp 		    (viewing_team.is_enemy(enemy.side()) &amp;&amp; enemy.invisible(loc, rc.dc())))</span>
<span class='curline'><a href='../S/761.html#L770'>loc</a>               770 src/reports.cpp 			int resistance = enemy.resistance_against(at, false, loc);</span>
<span class='curline'><a href='../S/761.html#L1251'>loc</a>              1251 src/reports.cpp 		for (const map_location &amp;loc : rc.map().villages()) {</span>
<span class='curline'><a href='../S/761.html#L1252'>loc</a>              1252 src/reports.cpp 			if (!viewing_team.shrouded(loc))</span>
<span class='curline'><a href='../S/184.html#L502'>loc</a>               502 src/scripting/game_lua_kernel.cpp 	map_location loc;</span>
<span class='curline'><a href='../S/184.html#L513'>loc</a>               513 src/scripting/game_lua_kernel.cpp 	if(!luaW_tolocation(L, 1, loc)) {</span>
<span class='curline'><a href='../S/184.html#L516'>loc</a>               516 src/scripting/game_lua_kernel.cpp 	unit_map::const_iterator ui = units().find(loc);</span>
<span class='curline'><a href='../S/184.html#L606'>loc</a>               606 src/scripting/game_lua_kernel.cpp 		map_location loc;</span>
<span class='curline'><a href='../S/184.html#L607'>loc</a>               607 src/scripting/game_lua_kernel.cpp 		luaW_tolocation(L, 3, loc); // If argument 3 isn't a location, loc is unchanged</span>
<span class='curline'><a href='../S/184.html#L610'>loc</a>               610 src/scripting/game_lua_kernel.cpp 		lua_pushboolean(L, unit_filter(filter, &amp;fc).matches(*u, loc));</span>
<span class='curline'><a href='../S/184.html#L613'>loc</a>               613 src/scripting/game_lua_kernel.cpp 		map_location loc = u-&gt;get_location();</span>
<span class='curline'><a href='../S/184.html#L614'>loc</a>               614 src/scripting/game_lua_kernel.cpp 		luaW_tolocation(L, 3, loc); // If argument 3 isn't a location, loc is unchanged</span>
<span class='curline'><a href='../S/184.html#L615'>loc</a>               615 src/scripting/game_lua_kernel.cpp 		lua_pushboolean(L, unit_filter(filter, &amp;fc).matches(*u, loc));</span>
<span class='curline'><a href='../S/184.html#L869'>loc</a>               869 src/scripting/game_lua_kernel.cpp 		for (map_location const &amp;loc : locs)</span>
<span class='curline'><a href='../S/184.html#L872'>loc</a>               872 src/scripting/game_lua_kernel.cpp 				t.place_shroud(loc);</span>
<span class='curline'><a href='../S/184.html#L874'>loc</a>               874 src/scripting/game_lua_kernel.cpp 				t.clear_shroud(loc);</span>
<span class='curline'><a href='../S/184.html#L899'>loc</a>               899 src/scripting/game_lua_kernel.cpp 	const map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L900'>loc</a>               900 src/scripting/game_lua_kernel.cpp 	if(!map().on_board(loc)) return luaL_argerror(L, 1, "not on board");</span>
<span class='curline'><a href='../S/184.html#L901'>loc</a>               901 src/scripting/game_lua_kernel.cpp 	game_display_-&gt;highlight_hex(loc);</span>
<span class='curline'><a href='../S/184.html#L902'>loc</a>               902 src/scripting/game_lua_kernel.cpp 	game_display_-&gt;display_unit_hex(loc);</span>
<span class='curline'><a href='../S/184.html#L955'>loc</a>               955 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L958'>loc</a>               958 src/scripting/game_lua_kernel.cpp 		get_terrain(loc);</span>
<span class='curline'><a href='../S/184.html#L972'>loc</a>               972 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L987'>loc</a>               987 src/scripting/game_lua_kernel.cpp 	bool result = board().change_terrain(loc, t_str, mode_str, replace_if_failed);</span>
<span class='curline'><a href='../S/184.html#L1047'>loc</a>              1047 src/scripting/game_lua_kernel.cpp 	map_location loc = map_location();</span>
<span class='curline'><a href='../S/184.html#L1060'>loc</a>              1060 src/scripting/game_lua_kernel.cpp 	if(luaW_tolocation(L, arg, loc)) {</span>
<span class='curline'><a href='../S/184.html#L1061'>loc</a>              1061 src/scripting/game_lua_kernel.cpp 		if(!board().map().on_board(loc)) return luaL_argerror(L, arg, "coordinates are not on board");</span>
<span class='curline'><a href='../S/184.html#L1073'>loc</a>              1073 src/scripting/game_lua_kernel.cpp 		tod_man().get_illuminated_time_of_day(board().units(), board().map(), loc, for_turn) :</span>
<span class='curline'><a href='../S/184.html#L1074'>loc</a>              1074 src/scripting/game_lua_kernel.cpp 		tod_man().get_time_of_day(loc, for_turn);</span>
<span class='curline'><a href='../S/184.html#L1105'>loc</a>              1105 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L1106'>loc</a>              1106 src/scripting/game_lua_kernel.cpp 	if (!board().map().is_village(loc))</span>
<span class='curline'><a href='../S/184.html#L1109'>loc</a>              1109 src/scripting/game_lua_kernel.cpp 	int side = board().village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/184.html#L1122'>loc</a>              1122 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L1125'>loc</a>              1125 src/scripting/game_lua_kernel.cpp 	if (!board().map().is_village(loc))</span>
<span class='curline'><a href='../S/184.html#L1128'>loc</a>              1128 src/scripting/game_lua_kernel.cpp 	int old_side = board().village_owner(loc) + 1;</span>
<span class='curline'><a href='../S/184.html#L1135'>loc</a>              1135 src/scripting/game_lua_kernel.cpp 		board().get_team(old_side).lose_village(loc);</span>
<span class='curline'><a href='../S/184.html#L1138'>loc</a>              1138 src/scripting/game_lua_kernel.cpp 		board().get_team(new_side).get_village(loc, old_side, (luaW_toboolean(L, 4) ? &amp;gamedata() : nullptr) );</span>
<span class='curline'><a href='../S/184.html#L1170'>loc</a>              1170 src/scripting/game_lua_kernel.cpp 	const map_location &amp;loc = game_display_-&gt;mouseover_hex();</span>
<span class='curline'><a href='../S/184.html#L1171'>loc</a>              1171 src/scripting/game_lua_kernel.cpp 	if (!board().map().on_board(loc)) return 0;</span>
<span class='curline'><a href='../S/184.html#L1172'>loc</a>              1172 src/scripting/game_lua_kernel.cpp 	lua_pushinteger(L, loc.wml_x());</span>
<span class='curline'><a href='../S/184.html#L1173'>loc</a>              1173 src/scripting/game_lua_kernel.cpp 	lua_pushinteger(L, loc.wml_y());</span>
<span class='curline'><a href='../S/184.html#L1188'>loc</a>              1188 src/scripting/game_lua_kernel.cpp 	const map_location &amp;loc = game_display_-&gt;selected_hex();</span>
<span class='curline'><a href='../S/184.html#L1189'>loc</a>              1189 src/scripting/game_lua_kernel.cpp 	if (!board().map().on_board(loc)) return 0;</span>
<span class='curline'><a href='../S/184.html#L1190'>loc</a>              1190 src/scripting/game_lua_kernel.cpp 	lua_pushinteger(L, loc.wml_x());</span>
<span class='curline'><a href='../S/184.html#L1191'>loc</a>              1191 src/scripting/game_lua_kernel.cpp 	lua_pushinteger(L, loc.wml_y());</span>
<span class='curline'><a href='../S/184.html#L1922'>loc</a>              1922 src/scripting/game_lua_kernel.cpp 			for (const map_location&amp; loc : location_set)</span>
<span class='curline'><a href='../S/184.html#L1925'>loc</a>              1925 src/scripting/game_lua_kernel.cpp 				s &lt;&lt; cost_map.get_pair_at(loc.x, loc.y).first;</span>
<span class='curline'><a href='../S/184.html#L1927'>loc</a>              1927 src/scripting/game_lua_kernel.cpp 				s &lt;&lt; cost_map.get_pair_at(loc.x, loc.y).second;</span>
<span class='curline'><a href='../S/184.html#L1928'>loc</a>              1928 src/scripting/game_lua_kernel.cpp 				game_display_-&gt;labels().set_label(loc, s.str());</span>
<span class='curline'><a href='../S/184.html#L1936'>loc</a>              1936 src/scripting/game_lua_kernel.cpp 	for (const map_location&amp; loc : location_set)</span>
<span class='curline'><a href='../S/184.html#L1940'>loc</a>              1940 src/scripting/game_lua_kernel.cpp 		lua_pushinteger(L, loc.wml_x());</span>
<span class='curline'><a href='../S/184.html#L1943'>loc</a>              1943 src/scripting/game_lua_kernel.cpp 		lua_pushinteger(L, loc.wml_y());</span>
<span class='curline'><a href='../S/184.html#L1946'>loc</a>              1946 src/scripting/game_lua_kernel.cpp 		lua_pushinteger(L, cost_map.get_pair_at(loc.x, loc.y).first);</span>
<span class='curline'><a href='../S/184.html#L1949'>loc</a>              1949 src/scripting/game_lua_kernel.cpp 		lua_pushinteger(L, cost_map.get_pair_at(loc.x, loc.y).second);</span>
<span class='curline'><a href='../S/184.html#L1996'>loc</a>              1996 src/scripting/game_lua_kernel.cpp void game_lua_kernel::put_unit_helper(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/184.html#L1999'>loc</a>              1999 src/scripting/game_lua_kernel.cpp 		game_display_-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/184.html#L2002'>loc</a>              2002 src/scripting/game_lua_kernel.cpp 	units().erase(loc);</span>
<span class='curline'><a href='../S/184.html#L2021'>loc</a>              2021 src/scripting/game_lua_kernel.cpp 	map_location loc;</span>
<span class='curline'><a href='../S/184.html#L2025'>loc</a>              2025 src/scripting/game_lua_kernel.cpp 		loc.set_wml_x(lua_tointeger(L, 1));</span>
<span class='curline'><a href='../S/184.html#L2026'>loc</a>              2026 src/scripting/game_lua_kernel.cpp 		loc.set_wml_y(luaL_checkinteger(L, 2));</span>
<span class='curline'><a href='../S/184.html#L2027'>loc</a>              2027 src/scripting/game_lua_kernel.cpp 		if (!map().on_board(loc)) {</span>
<span class='curline'><a href='../S/184.html#L2030'>loc</a>              2030 src/scripting/game_lua_kernel.cpp 	} else if (luaW_tolocation(L, 2, loc)) {</span>
<span class='curline'><a href='../S/184.html#L2031'>loc</a>              2031 src/scripting/game_lua_kernel.cpp 		if (!map().on_board(loc)) {</span>
<span class='curline'><a href='../S/184.html#L2038'>loc</a>              2038 src/scripting/game_lua_kernel.cpp 		if(u.on_map() &amp;&amp; u-&gt;get_location() == loc) {</span>
<span class='curline'><a href='../S/184.html#L2041'>loc</a>              2041 src/scripting/game_lua_kernel.cpp 		if (!loc.valid()) {</span>
<span class='curline'><a href='../S/184.html#L2042'>loc</a>              2042 src/scripting/game_lua_kernel.cpp 			loc = u-&gt;get_location();</span>
<span class='curline'><a href='../S/184.html#L2043'>loc</a>              2043 src/scripting/game_lua_kernel.cpp 			if (!map().on_board(loc))</span>
<span class='curline'><a href='../S/184.html#L2048'>loc</a>              2048 src/scripting/game_lua_kernel.cpp 		put_unit_helper(loc);</span>
<span class='curline'><a href='../S/184.html#L2049'>loc</a>              2049 src/scripting/game_lua_kernel.cpp 		u.put_map(loc);</span>
<span class='curline'><a href='../S/184.html#L2054'>loc</a>              2054 src/scripting/game_lua_kernel.cpp 		if (unit_arg == 1 &amp;&amp; !map().on_board(loc)) {</span>
<span class='curline'><a href='../S/184.html#L2055'>loc</a>              2055 src/scripting/game_lua_kernel.cpp 			loc.set_wml_x(cfg["x"]);</span>
<span class='curline'><a href='../S/184.html#L2056'>loc</a>              2056 src/scripting/game_lua_kernel.cpp 			loc.set_wml_y(cfg["y"]);</span>
<span class='curline'><a href='../S/184.html#L2057'>loc</a>              2057 src/scripting/game_lua_kernel.cpp 			if (!map().on_board(loc))</span>
<span class='curline'><a href='../S/184.html#L2063'>loc</a>              2063 src/scripting/game_lua_kernel.cpp 		put_unit_helper(loc);</span>
<span class='curline'><a href='../S/184.html#L2064'>loc</a>              2064 src/scripting/game_lua_kernel.cpp 		u-&gt;set_location(loc);</span>
<span class='curline'><a href='../S/184.html#L2068'>loc</a>              2068 src/scripting/game_lua_kernel.cpp 		put_unit_helper(loc);</span>
<span class='curline'><a href='../S/184.html#L2073'>loc</a>              2073 src/scripting/game_lua_kernel.cpp 		play_controller_.pump().fire("unit_placed", loc);</span>
<span class='curline'><a href='../S/184.html#L2087'>loc</a>              2087 src/scripting/game_lua_kernel.cpp 	map_location loc;</span>
<span class='curline'><a href='../S/184.html#L2092'>loc</a>              2092 src/scripting/game_lua_kernel.cpp 			loc = u-&gt;get_location();</span>
<span class='curline'><a href='../S/184.html#L2093'>loc</a>              2093 src/scripting/game_lua_kernel.cpp 			if (!map().on_board(loc)) {</span>
<span class='curline'><a href='../S/184.html#L2103'>loc</a>              2103 src/scripting/game_lua_kernel.cpp 	} else if (luaW_tolocation(L, 1, loc)) {</span>
<span class='curline'><a href='../S/184.html#L2104'>loc</a>              2104 src/scripting/game_lua_kernel.cpp 		if (!map().on_board(loc)) {</span>
<span class='curline'><a href='../S/184.html#L2109'>loc</a>              2109 src/scripting/game_lua_kernel.cpp 		loc.set_wml_x(cfg["x"]);</span>
<span class='curline'><a href='../S/184.html#L2110'>loc</a>              2110 src/scripting/game_lua_kernel.cpp 		loc.set_wml_y(cfg["y"]);</span>
<span class='curline'><a href='../S/184.html#L2111'>loc</a>              2111 src/scripting/game_lua_kernel.cpp 		if (!map().on_board(loc)) {</span>
<span class='curline'><a href='../S/184.html#L2118'>loc</a>              2118 src/scripting/game_lua_kernel.cpp 	units().erase(loc);</span>
<span class='curline'><a href='../S/184.html#L2207'>loc</a>              2207 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L2220'>loc</a>              2220 src/scripting/game_lua_kernel.cpp 	map_location res = find_vacant_tile(loc, pathfind::VACANT_ANY, u.get());</span>
<span class='curline'><a href='../S/184.html#L2236'>loc</a>              2236 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L2245'>loc</a>              2245 src/scripting/game_lua_kernel.cpp 		game_display_-&gt;float_label(loc, text, color);</span>
<span class='curline'><a href='../S/184.html#L2290'>loc</a>              2290 src/scripting/game_lua_kernel.cpp 	map_location loc = u.get_location();</span>
<span class='curline'><a href='../S/184.html#L2292'>loc</a>              2292 src/scripting/game_lua_kernel.cpp 		loc = luaW_checklocation(L, 4);</span>
<span class='curline'><a href='../S/184.html#L2295'>loc</a>              2295 src/scripting/game_lua_kernel.cpp 	lua_pushinteger(L, u.resistance_against(m, a, loc));</span>
<span class='curline'><a href='../S/184.html#L2569'>loc</a>              2569 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L2580'>loc</a>              2580 src/scripting/game_lua_kernel.cpp 		game_display_-&gt;scroll_to_tile(loc, scroll, check_fogged);</span>
<span class='curline'><a href='../S/184.html#L2592'>loc</a>              2592 src/scripting/game_lua_kernel.cpp 	const map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L2593'>loc</a>              2593 src/scripting/game_lua_kernel.cpp 	luaW_pushlocation(L, loc);</span>
<span class='curline'><a href='../S/184.html#L2614'>loc</a>              2614 src/scripting/game_lua_kernel.cpp 	const map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L2615'>loc</a>              2615 src/scripting/game_lua_kernel.cpp 	if(!map().on_board(loc)) return luaL_argerror(L, 1, "not on board");</span>
<span class='curline'><a href='../S/184.html#L2621'>loc</a>              2621 src/scripting/game_lua_kernel.cpp 		loc, false, highlight, fire_event);</span>
<span class='curline'><a href='../S/184.html#L2822'>loc</a>              2822 src/scripting/game_lua_kernel.cpp 	for (map_location const &amp;loc : res)</span>
<span class='curline'><a href='../S/184.html#L2825'>loc</a>              2825 src/scripting/game_lua_kernel.cpp 		lua_pushinteger(L, loc.wml_x());</span>
<span class='curline'><a href='../S/184.html#L2827'>loc</a>              2827 src/scripting/game_lua_kernel.cpp 		lua_pushinteger(L, loc.wml_y());</span>
<span class='curline'><a href='../S/184.html#L2872'>loc</a>              2872 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L2882'>loc</a>              2882 src/scripting/game_lua_kernel.cpp 	lua_pushboolean(L, t_filter.match(loc));</span>
<span class='curline'><a href='../S/184.html#L3160'>loc</a>              3160 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L3164'>loc</a>              3164 src/scripting/game_lua_kernel.cpp 		game_display_-&gt;add_overlay(loc, cfg["image"], cfg["halo"],</span>
<span class='curline'><a href='../S/184.html#L3177'>loc</a>              3177 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 1);</span>
<span class='curline'><a href='../S/184.html#L3182'>loc</a>              3182 src/scripting/game_lua_kernel.cpp 			game_display_-&gt;remove_single_overlay(loc, m);</span>
<span class='curline'><a href='../S/184.html#L3186'>loc</a>              3186 src/scripting/game_lua_kernel.cpp 			game_display_-&gt;remove_overlay(loc);</span>
<span class='curline'><a href='../S/184.html#L3813'>loc</a>              3813 src/scripting/game_lua_kernel.cpp 	map_location loc = luaW_checklocation(L, 2);</span>
<span class='curline'><a href='../S/184.html#L3820'>loc</a>              3820 src/scripting/game_lua_kernel.cpp 	lua_pushboolean(L, fog ? t.fogged(loc) : t.shrouded(loc));</span>
<span class='curline'><a href='../S/184.html#L4622'>loc</a>              4622 src/scripting/game_lua_kernel.cpp void game_lua_kernel::mouse_over_hex_callback(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/184.html#L4629'>loc</a>              4629 src/scripting/game_lua_kernel.cpp 	lua_push(L, loc.wml_x());</span>
<span class='curline'><a href='../S/184.html#L4630'>loc</a>              4630 src/scripting/game_lua_kernel.cpp 	lua_push(L, loc.wml_y());</span>
<span class='curline'><a href='../S/184.html#L4635'>loc</a>              4635 src/scripting/game_lua_kernel.cpp void game_lua_kernel::select_hex_callback(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/184.html#L4642'>loc</a>              4642 src/scripting/game_lua_kernel.cpp 	lua_push(L, loc.wml_x());</span>
<span class='curline'><a href='../S/184.html#L4643'>loc</a>              4643 src/scripting/game_lua_kernel.cpp 	lua_push(L, loc.wml_y());</span>
<span class='curline'><a href='../S/186.html#L118'>loc</a>               118 src/scripting/game_lua_kernel.hpp 	void put_unit_helper(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/186.html#L218'>loc</a>               218 src/scripting/game_lua_kernel.hpp 	void mouse_over_hex_callback(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/186.html#L219'>loc</a>               219 src/scripting/game_lua_kernel.hpp 	void select_hex_callback(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/195.html#L633'>loc</a>               633 src/scripting/lua_common.cpp bool luaW_tolocation(lua_State *L, int index, map_location&amp; loc) {</span>
<span class='curline'><a href='../S/195.html#L667'>loc</a>               667 src/scripting/lua_common.cpp 			loc = result;</span>
<span class='curline'><a href='../S/195.html#L674'>loc</a>               674 src/scripting/lua_common.cpp 		loc.set_wml_x(lua_tonumber(L, index));</span>
<span class='curline'><a href='../S/195.html#L676'>loc</a>               676 src/scripting/lua_common.cpp 		loc.set_wml_y(lua_tonumber(L, index));</span>
<span class='curline'><a href='../S/211.html#L91'>loc</a>                91 src/scripting/lua_common.hpp void luaW_pushlocation(lua_State *L, map_location const &amp;loc);</span>
<span class='curline'><a href='../S/211.html#L98'>loc</a>                98 src/scripting/lua_common.hpp bool luaW_tolocation(lua_State *L, int index, map_location &amp;loc);</span>
<span class='curline'><a href='../S/191.html#L152'>loc</a>               152 src/scripting/lua_formula_bridge.cpp 			luaW_pushlocation(L, loc_ref-&gt;loc());</span>
<span class='curline'><a href='../S/191.html#L186'>loc</a>               186 src/scripting/lua_formula_bridge.cpp 			static map_location loc;</span>
<span class='curline'><a href='../S/191.html#L193'>loc</a>               193 src/scripting/lua_formula_bridge.cpp 			} else if(luaW_tolocation(L, i, loc)) {</span>
<span class='curline'><a href='../S/191.html#L194'>loc</a>               194 src/scripting/lua_formula_bridge.cpp 				return variant(std::make_shared&lt;location_callable&gt;(loc));</span>
<span class='curline'><a href='../S/182.html#L121'>loc</a>               121 src/scripting/lua_map_location_ops.cpp 	map_location center, loc;</span>
<span class='curline'><a href='../S/182.html#L122'>loc</a>               122 src/scripting/lua_map_location_ops.cpp 	if(!luaW_tolocation(L, 1, loc) || !luaW_tolocation(L, 2, center)) {</span>
<span class='curline'><a href='../S/182.html#L127'>loc</a>               127 src/scripting/lua_map_location_ops.cpp 	luaW_pushlocation(L, loc.rotate_right_around_center(center, k));</span>
<span class='curline'><a href='../S/180.html#L29'>loc</a>                29 src/scripting/lua_pathfind_cost_calculator.hpp 	double cost(const map_location &amp;loc, const double so_far) const</span>
<span class='curline'><a href='../S/180.html#L33'>loc</a>                33 src/scripting/lua_pathfind_cost_calculator.hpp 		lua_pushinteger(L, loc.wml_x());</span>
<span class='curline'><a href='../S/180.html#L34'>loc</a>                34 src/scripting/lua_pathfind_cost_calculator.hpp 		lua_pushinteger(L, loc.wml_y());</span>
<span class='curline'><a href='../S/189.html#L70'>loc</a>                70 src/scripting/lua_unit.cpp bool lua_unit::put_map(const map_location &amp;loc)</span>
<span class='curline'><a href='../S/189.html#L73'>loc</a>                73 src/scripting/lua_unit.cpp 		std::pair&lt;unit_map::unit_iterator, bool&gt; res = resources::gameboard-&gt;units().replace(loc, ptr);</span>
<span class='curline'><a href='../S/189.html#L78'>loc</a>                78 src/scripting/lua_unit.cpp 			ERR_LUA &lt;&lt; "Could not move unit " &lt;&lt; ptr-&gt;underlying_id() &lt;&lt; " onto map location " &lt;&lt; loc &lt;&lt; '\n';</span>
<span class='curline'><a href='../S/189.html#L86'>loc</a>                86 src/scripting/lua_unit.cpp 			uid = resources::gameboard-&gt;units().replace(loc, it).first-&gt;underlying_id();</span>
<span class='curline'><a href='../S/189.html#L95'>loc</a>                95 src/scripting/lua_unit.cpp 			if (from != loc) { // This check is redundant in current usage</span>
<span class='curline'><a href='../S/189.html#L96'>loc</a>                96 src/scripting/lua_unit.cpp 				resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/189.html#L97'>loc</a>                97 src/scripting/lua_unit.cpp 				resources::gameboard-&gt;units().move(from, loc);</span>
<span class='curline'><a href='../S/189.html#L431'>loc</a>               431 src/scripting/lua_unit.cpp 		map_location loc = u.get_location();</span>
<span class='curline'><a href='../S/189.html#L432'>loc</a>               432 src/scripting/lua_unit.cpp 		modify_int_attrib("x", loc.set_wml_x(value); u.set_location(loc));</span>
<span class='curline'><a href='../S/189.html#L433'>loc</a>               433 src/scripting/lua_unit.cpp 		modify_int_attrib("y", loc.set_wml_y(value); u.set_location(loc));</span>
<span class='curline'><a href='../S/193.html#L110'>loc</a>               110 src/scripting/lua_unit.hpp 	bool put_map(const map_location &amp;loc);</span>
<span class='curline'><a href='../S/979.html#L349'>loc</a>               349 src/sdl/utils.cpp 				int loc;</span>
<span class='curline'><a href='../S/979.html#L351'>loc</a>               351 src/sdl/utils.cpp 				for (loc=0; loc&lt;4; loc++) {</span>
<span class='curline'><a href='../S/979.html#L352'>loc</a>               352 src/sdl/utils.cpp 				  a = pix[loc] &gt;&gt; 24;</span>
<span class='curline'><a href='../S/979.html#L353'>loc</a>               353 src/sdl/utils.cpp 				  r = pix[loc] &gt;&gt; 16;</span>
<span class='curline'><a href='../S/979.html#L354'>loc</a>               354 src/sdl/utils.cpp 				  g = pix[loc] &gt;&gt; 8;</span>
<span class='curline'><a href='../S/979.html#L355'>loc</a>               355 src/sdl/utils.cpp 				  b = pix[loc] &gt;&gt; 0;</span>
<span class='curline'><a href='../S/979.html#L363'>loc</a>               363 src/sdl/utils.cpp 				  temp = (a * bilin[loc]);</span>
<span class='curline'><a href='../S/132.html#L88'>loc</a>                88 src/serialization/preprocessor.cpp static std::string get_location(const std::string&amp; loc)</span>
<span class='curline'><a href='../S/132.html#L91'>loc</a>                91 src/serialization/preprocessor.cpp 	std::vector&lt; std::string &gt; pos = utils::quoted_split(loc, ' ');</span>
<span class='curline'><a href='../S/136.html#L38'>loc</a>                38 src/serialization/preprocessor.hpp 	               const std::string&amp; domain, int line, const std::string&amp; loc)</span>
<span class='curline'><a href='../S/136.html#L39'>loc</a>                39 src/serialization/preprocessor.hpp 		: value(val), arguments(args), optional_arguments(optargs), textdomain(domain), linenum(line), location(loc) {}</span>
<span class='curline'><a href='../S/149.html#L331'>loc</a>               331 src/server/ban.cpp 			struct tm* loc;</span>
<span class='curline'><a href='../S/149.html#L332'>loc</a>               332 src/server/ban.cpp 			loc = localtime(time);</span>
<span class='curline'><a href='../S/149.html#L346'>loc</a>               346 src/server/ban.cpp 							loc-&gt;tm_year = number;</span>
<span class='curline'><a href='../S/149.html#L349'>loc</a>               349 src/server/ban.cpp 							loc-&gt;tm_mon = number;</span>
<span class='curline'><a href='../S/149.html#L352'>loc</a>               352 src/server/ban.cpp 							loc-&gt;tm_mday = number;</span>
<span class='curline'><a href='../S/149.html#L355'>loc</a>               355 src/server/ban.cpp 							loc-&gt;tm_hour = number;</span>
<span class='curline'><a href='../S/149.html#L358'>loc</a>               358 src/server/ban.cpp 							loc-&gt;tm_min = number;</span>
<span class='curline'><a href='../S/149.html#L361'>loc</a>               361 src/server/ban.cpp 							loc-&gt;tm_sec = number;</span>
<span class='curline'><a href='../S/149.html#L370'>loc</a>               370 src/server/ban.cpp 			*time = mktime(loc);</span>
<span class='curline'><a href='../S/684.html#L185'>loc</a>               185 src/soundsource.cpp int positional_source::calculate_volume(const map_location &amp;loc, const display &amp;disp)</span>
<span class='curline'><a href='../S/684.html#L190'>loc</a>               190 src/soundsource.cpp 	if((check_shrouded_ &amp;&amp; disp.shrouded(loc)) || (check_fogged_ &amp;&amp; disp.fogged(loc)))</span>
<span class='curline'><a href='../S/684.html#L195'>loc</a>               195 src/soundsource.cpp 	int distance = distance_between(loc, center);</span>
<span class='curline'><a href='../S/92.html#L67'>loc</a>                67 src/soundsource.hpp 	int calculate_volume(const map_location &amp;loc, const display &amp;disp);</span>
<span class='curline'><a href='../S/854.html#L71'>loc</a>                71 src/synced_commands.cpp 	map_location loc(child, resources::gamedata);</span>
<span class='curline'><a href='../S/854.html#L102'>loc</a>               102 src/synced_commands.cpp 	const std::string res = actions::find_recruit_location(current_team_num, loc, from, type_id);</span>
<span class='curline'><a href='../S/854.html#L122'>loc</a>               122 src/synced_commands.cpp 	actions::recruit_unit(*u_type, current_team_num, loc, from, show, use_undo);</span>
<span class='curline'><a href='../S/854.html#L124'>loc</a>               124 src/synced_commands.cpp 	LOG_REPLAY &lt;&lt; "recruit: team=" &lt;&lt; current_team_num &lt;&lt; " '" &lt;&lt; type_id &lt;&lt; "' at (" &lt;&lt; loc</span>
<span class='curline'><a href='../S/854.html#L137'>loc</a>               137 src/synced_commands.cpp 	map_location loc(child, resources::gamedata);</span>
<span class='curline'><a href='../S/854.html#L140'>loc</a>               140 src/synced_commands.cpp 	if ( !actions::recall_unit(unit_id, current_team, loc, from, show, use_undo) ) {</span>
<span class='curline'><a href='../S/854.html#L403'>loc</a>               403 src/synced_commands.cpp 	map_location loc(child);</span>
<span class='curline'><a href='../S/854.html#L407'>loc</a>               407 src/synced_commands.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L416'>loc</a>               416 src/synced_commands.cpp 			advance_unit_at(advance_unit_params(loc).force_dialog(true));</span>
<span class='curline'><a href='../S/854.html#L417'>loc</a>               417 src/synced_commands.cpp 			i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L442'>loc</a>               442 src/synced_commands.cpp 			new_u-&gt;set_location(loc);</span>
<span class='curline'><a href='../S/854.html#L445'>loc</a>               445 src/synced_commands.cpp 			resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/854.html#L455'>loc</a>               455 src/synced_commands.cpp 	resources::screen-&gt;invalidate(loc);</span>
<span class='curline'><a href='../S/854.html#L467'>loc</a>               467 src/synced_commands.cpp 	map_location loc(child);</span>
<span class='curline'><a href='../S/854.html#L482'>loc</a>               482 src/synced_commands.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().replace(loc, created);</span>
<span class='curline'><a href='../S/854.html#L484'>loc</a>               484 src/synced_commands.cpp 	resources::game_events-&gt;pump().fire("unit_placed", loc);</span>
<span class='curline'><a href='../S/854.html#L485'>loc</a>               485 src/synced_commands.cpp 	unit_display::unit_recruited(loc);</span>
<span class='curline'><a href='../S/854.html#L488'>loc</a>               488 src/synced_commands.cpp 	if ( resources::gameboard-&gt;map().is_village(loc) )</span>
<span class='curline'><a href='../S/854.html#L489'>loc</a>               489 src/synced_commands.cpp 		actions::get_village(loc, created-&gt;side());</span>
<span class='curline'><a href='../S/854.html#L493'>loc</a>               493 src/synced_commands.cpp 	clearer.clear_unit(loc, *created);</span>
<span class='curline'><a href='../S/854.html#L520'>loc</a>               520 src/synced_commands.cpp 	const map_location loc(child["x"].to_int(), child["y"].to_int(), wml_loc());</span>
<span class='curline'><a href='../S/854.html#L521'>loc</a>               521 src/synced_commands.cpp 	const unit_map::iterator i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L524'>loc</a>               524 src/synced_commands.cpp 		resources::controller-&gt;pump().fire("last_breath", loc, loc);</span>
<span class='curline'><a href='../S/854.html#L526'>loc</a>               526 src/synced_commands.cpp 			unit_display::unit_die(loc, *i);</span>
<span class='curline'><a href='../S/854.html#L532'>loc</a>               532 src/synced_commands.cpp 		resources::controller-&gt;pump().fire("die", loc, loc);</span>
<span class='curline'><a href='../S/957.html#L340'>loc</a>               340 src/team.cpp   		map_location loc(v);</span>
<span class='curline'><a href='../S/957.html#L341'>loc</a>               341 src/team.cpp   		if (map.is_village(loc)) {</span>
<span class='curline'><a href='../S/957.html#L342'>loc</a>               342 src/team.cpp   			villages_.insert(loc);</span>
<span class='curline'><a href='../S/957.html#L344'>loc</a>               344 src/team.cpp   			WRN_NG &lt;&lt; "[side] " &lt;&lt; current_player() &lt;&lt; " [village] points to a non-village location " &lt;&lt; loc &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/957.html#L377'>loc</a>               377 src/team.cpp   bool team::get_village(const map_location&amp; loc, const int owner_side, game_data * gamedata)</span>
<span class='curline'><a href='../S/957.html#L379'>loc</a>               379 src/team.cpp   	villages_.insert(loc);</span>
<span class='curline'><a href='../S/957.html#L388'>loc</a>               388 src/team.cpp   			gamestate_changed = resources::game_events-&gt;pump().fire("capture",loc);</span>
<span class='curline'><a href='../S/957.html#L399'>loc</a>               399 src/team.cpp   void team::lose_village(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/957.html#L401'>loc</a>               401 src/team.cpp   	const std::set&lt;map_location&gt;::const_iterator vil = villages_.find(loc);</span>
<span class='curline'><a href='../S/957.html#L567'>loc</a>               567 src/team.cpp   bool team::shrouded(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/957.html#L570'>loc</a>               570 src/team.cpp   		return shroud_.value(loc.wml_x(),loc.wml_y());</span>
<span class='curline'><a href='../S/957.html#L572'>loc</a>               572 src/team.cpp   	return shroud_.shared_value(ally_shroud(resources::gameboard-&gt;teams()),loc.wml_x(),loc.wml_y());</span>
<span class='curline'><a href='../S/957.html#L575'>loc</a>               575 src/team.cpp   bool team::fogged(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/957.html#L577'>loc</a>               577 src/team.cpp   	if(shrouded(loc)) return true;</span>
<span class='curline'><a href='../S/957.html#L580'>loc</a>               580 src/team.cpp   	if ( fog_clearer_.count(loc) &gt; 0 )</span>
<span class='curline'><a href='../S/957.html#L584'>loc</a>               584 src/team.cpp   		return fog_.value(loc.wml_x(),loc.wml_y());</span>
<span class='curline'><a href='../S/957.html#L586'>loc</a>               586 src/team.cpp   	return fog_.shared_value(ally_fog(resources::gameboard-&gt;teams()),loc.wml_x(),loc.wml_y());</span>
<span class='curline'><a href='../S/1073.html#L183'>loc</a>               183 src/team.hpp   	bool owns_village(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1073.html#L184'>loc</a>               184 src/team.hpp   		{ return villages_.count(loc) &gt; 0; }</span>
<span class='curline'><a href='../S/1073.html#L308'>loc</a>               308 src/team.hpp   	bool shrouded(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1073.html#L309'>loc</a>               309 src/team.hpp   	bool fogged(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/1073.html#L314'>loc</a>               314 src/team.hpp   	bool clear_shroud(const map_location&amp; loc) { return shroud_.clear(loc.wml_x(),loc.wml_y()); }</span>
<span class='curline'><a href='../S/1073.html#L315'>loc</a>               315 src/team.hpp   	void place_shroud(const map_location&amp; loc) { shroud_.place(loc.wml_x(),loc.wml_y()); }</span>
<span class='curline'><a href='../S/1073.html#L316'>loc</a>               316 src/team.hpp   	bool clear_fog(const map_location&amp; loc) { return fog_.clear(loc.wml_x(),loc.wml_y()); }</span>
<span class='curline'><a href='../S/308.html#L193'>loc</a>               193 src/terrain/builder.cpp static unsigned int get_noise(const map_location&amp; loc, unsigned int index)</span>
<span class='curline'><a href='../S/308.html#L195'>loc</a>               195 src/terrain/builder.cpp 	unsigned int a = (loc.x + 92872973) ^ 918273;</span>
<span class='curline'><a href='../S/308.html#L196'>loc</a>               196 src/terrain/builder.cpp 	unsigned int b = (loc.y + 1672517) ^ 128123;</span>
<span class='curline'><a href='../S/308.html#L217'>loc</a>               217 src/terrain/builder.cpp bool terrain_builder::tilemap::on_map(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/308.html#L219'>loc</a>               219 src/terrain/builder.cpp 	if(loc.x &lt; -2 || loc.y &lt; -2 || loc.x &gt; (x_ + 1) || loc.y &gt; (y_ + 1)) {</span>
<span class='curline'><a href='../S/308.html#L226'>loc</a>               226 src/terrain/builder.cpp terrain_builder::tile&amp; terrain_builder::tilemap::operator[](const map_location&amp; loc)</span>
<span class='curline'><a href='../S/308.html#L228'>loc</a>               228 src/terrain/builder.cpp 	assert(on_map(loc));</span>
<span class='curline'><a href='../S/308.html#L230'>loc</a>               230 src/terrain/builder.cpp 	return tiles_[(loc.x + 2) + (loc.y + 2) * (x_ + 4)];</span>
<span class='curline'><a href='../S/308.html#L233'>loc</a>               233 src/terrain/builder.cpp const terrain_builder::tile&amp; terrain_builder::tilemap::operator[](const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/308.html#L235'>loc</a>               235 src/terrain/builder.cpp 	assert(on_map(loc));</span>
<span class='curline'><a href='../S/308.html#L237'>loc</a>               237 src/terrain/builder.cpp 	return tiles_[(loc.x + 2) + (loc.y + 2) * (x_ + 4)];</span>
<span class='curline'><a href='../S/308.html#L308'>loc</a>               308 src/terrain/builder.cpp 		const map_location&amp; loc, const std::string&amp; tod, const TERRAIN_TYPE terrain_type)</span>
<span class='curline'><a href='../S/308.html#L310'>loc</a>               310 src/terrain/builder.cpp 	if(!tile_map_.on_map(loc))</span>
<span class='curline'><a href='../S/308.html#L313'>loc</a>               313 src/terrain/builder.cpp 	tile&amp; tile_at = tile_map_[loc];</span>
<span class='curline'><a href='../S/308.html#L329'>loc</a>               329 src/terrain/builder.cpp bool terrain_builder::update_animation(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/308.html#L331'>loc</a>               331 src/terrain/builder.cpp 	if(!tile_map_.on_map(loc))</span>
<span class='curline'><a href='../S/308.html#L336'>loc</a>               336 src/terrain/builder.cpp 	tile&amp; btile = tile_map_[loc];</span>
<span class='curline'><a href='../S/308.html#L353'>loc</a>               353 src/terrain/builder.cpp void terrain_builder::rebuild_terrain(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/308.html#L355'>loc</a>               355 src/terrain/builder.cpp 	if(tile_map_.on_map(loc)) {</span>
<span class='curline'><a href='../S/308.html#L356'>loc</a>               356 src/terrain/builder.cpp 		tile&amp; btile = tile_map_[loc];</span>
<span class='curline'><a href='../S/308.html#L360'>loc</a>               360 src/terrain/builder.cpp 		const std::string filename = map().get_terrain_info(loc).minimap_image();</span>
<span class='curline'><a href='../S/308.html#L370'>loc</a>               370 src/terrain/builder.cpp 		if(map().get_terrain_info(loc).is_combined()) {</span>
<span class='curline'><a href='../S/308.html#L371'>loc</a>               371 src/terrain/builder.cpp 			const std::string filename_ovl = map().get_terrain_info(loc).minimap_image_overlay();</span>
<span class='curline'><a href='../S/308.html#L470'>loc</a>               470 src/terrain/builder.cpp 							locator = image::locator(filename, constraint.loc, ri.center_x, ri.center_y, modif);</span>
<span class='curline'><a href='../S/308.html#L548'>loc</a>               548 src/terrain/builder.cpp 	int vi = ret.loc.y - ret.loc.x / 2;</span>
<span class='curline'><a href='../S/308.html#L549'>loc</a>               549 src/terrain/builder.cpp 	int vj = ret.loc.x;</span>
<span class='curline'><a href='../S/308.html#L554'>loc</a>               554 src/terrain/builder.cpp 	ret.loc.x = rj;</span>
<span class='curline'><a href='../S/308.html#L555'>loc</a>               555 src/terrain/builder.cpp 	ret.loc.y = ri + (rj &gt;= 0 ? rj / 2 : (rj - 1) / 2);</span>
<span class='curline'><a href='../S/308.html#L643'>loc</a>               643 src/terrain/builder.cpp 		minx = std::min&lt;int&gt;(cons.loc.x, minx);</span>
<span class='curline'><a href='../S/308.html#L644'>loc</a>               644 src/terrain/builder.cpp 		miny = std::min&lt;int&gt;(2 * cons.loc.y + (cons.loc.x &amp; 1), miny);</span>
<span class='curline'><a href='../S/308.html#L653'>loc</a>               653 src/terrain/builder.cpp 		legacy_sum_assign(cons.loc, map_location(-minx, -((miny - 1) / 2)));</span>
<span class='curline'><a href='../S/308.html#L737'>loc</a>               737 src/terrain/builder.cpp 		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/308.html#L743'>loc</a>               743 src/terrain/builder.cpp 		if(c.loc == loc) {</span>
<span class='curline'><a href='../S/308.html#L751'>loc</a>               751 src/terrain/builder.cpp 		constraints.emplace_back(loc);</span>
<span class='curline'><a href='../S/308.html#L759'>loc</a>               759 src/terrain/builder.cpp 	int x = loc.x * tilewidth_ * 3 / 4;</span>
<span class='curline'><a href='../S/308.html#L760'>loc</a>               760 src/terrain/builder.cpp 	int y = loc.y * tilewidth_ + (loc.x % 2) * tilewidth_ / 2;</span>
<span class='curline'><a href='../S/308.html#L767'>loc</a>               767 src/terrain/builder.cpp 		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/308.html#L773'>loc</a>               773 src/terrain/builder.cpp 			constraints, loc, t_translation::ter_match(cfg["type"], t_translation::WILDCARD), global_images);</span>
<span class='curline'><a href='../S/308.html#L902'>loc</a>               902 src/terrain/builder.cpp 			map_location loc;</span>
<span class='curline'><a href='../S/308.html#L904'>loc</a>               904 src/terrain/builder.cpp 				loc.x = *v;</span>
<span class='curline'><a href='../S/308.html#L907'>loc</a>               907 src/terrain/builder.cpp 				loc.y = *v;</span>
<span class='curline'><a href='../S/308.html#L909'>loc</a>               909 src/terrain/builder.cpp 			if(loc.valid()) {</span>
<span class='curline'><a href='../S/308.html#L910'>loc</a>               910 src/terrain/builder.cpp 				add_constraints(pbr.constraints, loc, tc, br);</span>
<span class='curline'><a href='../S/308.html#L922'>loc</a>               922 src/terrain/builder.cpp 					loc = range.first-&gt;second;</span>
<span class='curline'><a href='../S/308.html#L923'>loc</a>               923 src/terrain/builder.cpp 					add_constraints(pbr.constraints, loc, tc, br);</span>
<span class='curline'><a href='../S/308.html#L967'>loc</a>               967 src/terrain/builder.cpp 			std::cerr &lt;&lt; "&gt;&gt;&gt;&gt; New constraint: location = (" &lt;&lt; constraint-&gt;second.loc</span>
<span class='curline'><a href='../S/308.html#L1010'>loc</a>              1010 src/terrain/builder.cpp 		const map_location&amp; loc,</span>
<span class='curline'><a href='../S/308.html#L1014'>loc</a>              1014 src/terrain/builder.cpp 	if(rule.modulo_constraints.x &gt; 0 &amp;&amp; (loc.x % rule.modulo_constraints.x != 0)) {</span>
<span class='curline'><a href='../S/308.html#L1017'>loc</a>              1017 src/terrain/builder.cpp 	if(rule.modulo_constraints.y &gt; 0 &amp;&amp; (loc.y % rule.modulo_constraints.y != 0)) {</span>
<span class='curline'><a href='../S/308.html#L1021'>loc</a>              1021 src/terrain/builder.cpp 	if(rule.location_constraints.valid() &amp;&amp; rule.location_constraints != loc) {</span>
<span class='curline'><a href='../S/308.html#L1026'>loc</a>              1026 src/terrain/builder.cpp 		unsigned int random = get_noise(loc, rule.get_hash()) % 100;</span>
<span class='curline'><a href='../S/308.html#L1034'>loc</a>              1034 src/terrain/builder.cpp 		const map_location tloc = legacy_sum(loc, cons.loc);</span>
<span class='curline'><a href='../S/308.html#L1066'>loc</a>              1066 src/terrain/builder.cpp void terrain_builder::apply_rule(const terrain_builder::building_rule&amp; rule, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/308.html#L1068'>loc</a>              1068 src/terrain/builder.cpp 	unsigned int rand_seed = get_noise(loc, rule.get_hash());</span>
<span class='curline'><a href='../S/308.html#L1071'>loc</a>              1071 src/terrain/builder.cpp 		const map_location tloc = legacy_sum(loc, constraint.loc);</span>
<span class='curline'><a href='../S/308.html#L1130'>loc</a>              1130 src/terrain/builder.cpp 			const map_location loc(x, y);</span>
<span class='curline'><a href='../S/308.html#L1131'>loc</a>              1131 src/terrain/builder.cpp 			const t_translation::terrain_code t = map().get_terrain(loc);</span>
<span class='curline'><a href='../S/308.html#L1133'>loc</a>              1133 src/terrain/builder.cpp 			terrain_by_type_[t].push_back(loc);</span>
<span class='curline'><a href='../S/308.html#L1137'>loc</a>              1137 src/terrain/builder.cpp 			if(!map().on_board(loc)) {</span>
<span class='curline'><a href='../S/308.html#L1138'>loc</a>              1138 src/terrain/builder.cpp 				tile_map_[loc].flags.insert("_border");</span>
<span class='curline'><a href='../S/308.html#L1140'>loc</a>              1140 src/terrain/builder.cpp 				tile_map_[loc].flags.insert("_board");</span>
<span class='curline'><a href='../S/308.html#L1191'>loc</a>              1191 src/terrain/builder.cpp 				const map_location loc = legacy_difference(*itor, min_constraint-&gt;loc);</span>
<span class='curline'><a href='../S/308.html#L1193'>loc</a>              1193 src/terrain/builder.cpp 				if(rule_matches(rule, loc, min_constraint)) {</span>
<span class='curline'><a href='../S/308.html#L1194'>loc</a>              1194 src/terrain/builder.cpp 					apply_rule(rule, loc);</span>
<span class='curline'><a href='../S/308.html#L1201'>loc</a>              1201 src/terrain/builder.cpp terrain_builder::tile* terrain_builder::get_tile(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/308.html#L1203'>loc</a>              1203 src/terrain/builder.cpp 	if(tile_map_.on_map(loc))</span>
<span class='curline'><a href='../S/308.html#L1204'>loc</a>              1204 src/terrain/builder.cpp 		return &amp;(tile_map_[loc]);</span>
<span class='curline'><a href='../S/303.html#L123'>loc</a>               123 src/terrain/builder.hpp 	const imagelist* get_terrain_at(const map_location&amp; loc, const std::string&amp; tod, TERRAIN_TYPE const terrain_type);</span>
<span class='curline'><a href='../S/303.html#L132'>loc</a>               132 src/terrain/builder.hpp 	bool update_animation(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/303.html#L141'>loc</a>               141 src/terrain/builder.hpp 	void rebuild_terrain(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/303.html#L271'>loc</a>               271 src/terrain/builder.hpp 			: loc()</span>
<span class='curline'><a href='../S/303.html#L281'>loc</a>               281 src/terrain/builder.hpp 		terrain_constraint(map_location loc)</span>
<span class='curline'><a href='../S/303.html#L282'>loc</a>               282 src/terrain/builder.hpp 			: loc(loc)</span>
<span class='curline'><a href='../S/303.html#L292'>loc</a>               292 src/terrain/builder.hpp 		map_location loc;</span>
<span class='curline'><a href='../S/303.html#L378'>loc</a>               378 src/terrain/builder.hpp 	tile* get_tile(const map_location&amp; loc);</span>
<span class='curline'><a href='../S/303.html#L481'>loc</a>               481 src/terrain/builder.hpp 		tile&amp; operator[](const map_location&amp; loc);</span>
<span class='curline'><a href='../S/303.html#L485'>loc</a>               485 src/terrain/builder.hpp 		const tile&amp; operator[](const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/303.html#L494'>loc</a>               494 src/terrain/builder.hpp 		bool on_map(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/303.html#L687'>loc</a>               687 src/terrain/builder.hpp 			const map_location&amp; loc,</span>
<span class='curline'><a href='../S/303.html#L703'>loc</a>               703 src/terrain/builder.hpp 			constraint_set&amp; constraints, const map_location&amp; loc, const config&amp; cfg, const config&amp; global_images);</span>
<span class='curline'><a href='../S/303.html#L806'>loc</a>               806 src/terrain/builder.hpp 	bool rule_matches(const building_rule&amp; rule, const map_location&amp; loc, const terrain_constraint* type_checked) const;</span>
<span class='curline'><a href='../S/303.html#L816'>loc</a>               816 src/terrain/builder.hpp 	void apply_rule(const building_rule&amp; rule, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/310.html#L100'>loc</a>               100 src/terrain/filter.cpp bool terrain_filter::match_internal(const map_location&amp; loc, const bool ignore_xy) const</span>
<span class='curline'><a href='../S/310.html#L102'>loc</a>               102 src/terrain/filter.cpp 	if (!this-&gt;fc_-&gt;get_disp_context().map().on_board_with_border(loc)) {</span>
<span class='curline'><a href='../S/310.html#L108'>loc</a>               108 src/terrain/filter.cpp 		if (!fc_-&gt;get_lua_kernel()-&gt;run_filter(lua_function.c_str(), loc)) {</span>
<span class='curline'><a href='../S/310.html#L115'>loc</a>               115 src/terrain/filter.cpp 		fc_-&gt;get_tod_man().get_area_by_id(cfg_["area"]).count(loc) == 0)</span>
<span class='curline'><a href='../S/310.html#L123'>loc</a>               123 src/terrain/filter.cpp 			const t_translation::terrain_code letter = fc_-&gt;get_disp_context().map().get_terrain_info(loc).number();</span>
<span class='curline'><a href='../S/310.html#L132'>loc</a>               132 src/terrain/filter.cpp 		if (!loc.matches_range(cfg_["x"], cfg_["y"])) {</span>
<span class='curline'><a href='../S/310.html#L144'>loc</a>               144 src/terrain/filter.cpp 						if (map_location(cfg, nullptr) == loc) {</span>
<span class='curline'><a href='../S/310.html#L158'>loc</a>               158 src/terrain/filter.cpp 			if (loc != fc_-&gt;get_disp_context().map().special_location(cfg_["location_id"])) {</span>
<span class='curline'><a href='../S/310.html#L165'>loc</a>               165 src/terrain/filter.cpp 		const unit_map::const_iterator u = fc_-&gt;get_disp_context().units().find(loc);</span>
<span class='curline'><a href='../S/310.html#L170'>loc</a>               170 src/terrain/filter.cpp 		if (!cache_.ufilter_-&gt;matches(*u, loc))</span>
<span class='curline'><a href='../S/310.html#L188'>loc</a>               188 src/terrain/filter.cpp 				bool viewer_sees = respect_fog ? !viewing_team.fogged(loc) : !viewing_team.shrouded(loc);</span>
<span class='curline'><a href='../S/310.html#L201'>loc</a>               201 src/terrain/filter.cpp 		get_adjacent_tiles(loc, adjacent);</span>
<span class='curline'><a href='../S/310.html#L261'>loc</a>               261 src/terrain/filter.cpp 			tod = fc_-&gt;get_tod_man().get_time_of_day(loc);</span>
<span class='curline'><a href='../S/310.html#L263'>loc</a>               263 src/terrain/filter.cpp 			tod = fc_-&gt;get_tod_man().get_illuminated_time_of_day(fc_-&gt;get_disp_context().units(), fc_-&gt;get_disp_context().map(),loc);</span>
<span class='curline'><a href='../S/310.html#L304'>loc</a>               304 src/terrain/filter.cpp 		if(!fc_-&gt;get_disp_context().map().is_village(loc))</span>
<span class='curline'><a href='../S/310.html#L309'>loc</a>               309 src/terrain/filter.cpp 		if(sides.empty() &amp;&amp; fc_-&gt;get_disp_context().village_owner(loc) == -1)</span>
<span class='curline'><a href='../S/310.html#L312'>loc</a>               312 src/terrain/filter.cpp 			if(fc_-&gt;get_disp_context().get_team(side).owns_village(loc)) {</span>
<span class='curline'><a href='../S/310.html#L322'>loc</a>               322 src/terrain/filter.cpp 		if(fc_-&gt;get_disp_context().village_owner(loc) != side_index) {</span>
<span class='curline'><a href='../S/310.html#L330'>loc</a>               330 src/terrain/filter.cpp 			t_translation::terrain_code t = map.get_terrain(loc);</span>
<span class='curline'><a href='../S/310.html#L332'>loc</a>               332 src/terrain/filter.cpp 			const wfl::terrain_callable callable(ter,loc);</span>
<span class='curline'><a href='../S/310.html#L348'>loc</a>               348 src/terrain/filter.cpp bool terrain_filter::match(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/310.html#L351'>loc</a>               351 src/terrain/filter.cpp 		return !fc_-&gt;get_disp_context().map().on_board(loc);</span>
<span class='curline'><a href='../S/310.html#L354'>loc</a>               354 src/terrain/filter.cpp 	std::vector&lt;map_location&gt; loc_vec(1, loc);</span>
<span class='curline'><a href='../S/310.html#L430'>loc</a>               430 src/terrain/filter.cpp 		for (const map_location &amp;loc : src) {</span>
<span class='curline'><a href='../S/310.html#L431'>loc</a>               431 src/terrain/filter.cpp 			if (f1(loc) &amp;&amp; f2(loc) &amp;&amp; f3(loc)) {</span>
<span class='curline'><a href='../S/310.html#L432'>loc</a>               432 src/terrain/filter.cpp 				dest.insert(loc);</span>
<span class='curline'><a href='../S/310.html#L442'>loc</a>               442 src/terrain/filter.cpp 			filter_final(src, dest, filter, f1, f2, [loc2](const map_location&amp; loc) { return loc == loc2; });</span>
<span class='curline'><a href='../S/310.html#L454'>loc</a>               454 src/terrain/filter.cpp 			filter_special_loc(src, dest, filter, f1, [&amp;area](const map_location&amp; loc) { return area.find(loc) != area.end(); });</span>
<span class='curline'><a href='../S/310.html#L466'>loc</a>               466 src/terrain/filter.cpp 			filter_area(src, dest, filter, [&amp;xy_vector](const map_location&amp; loc) { return std::find(xy_vector.begin(), xy_vector.end(), loc) != xy_vector.end(); });</span>
<span class='curline'><a href='../S/306.html#L43'>loc</a>                43 src/terrain/filter.hpp 	bool match(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/306.html#L44'>loc</a>                44 src/terrain/filter.hpp 	virtual bool operator()(const map_location&amp; loc) const { return this-&gt;match(loc); }</span>
<span class='curline'><a href='../S/306.html#L61'>loc</a>                61 src/terrain/filter.hpp 	bool match_internal(const map_location&amp; loc, const bool ignore_xy) const;</span>
<span class='curline'><a href='../S/730.html#L295'>loc</a>               295 src/tests/test_map_location.cpp static void reality_check_get_direction_helper(const map_location &amp; loc, const map_location::DIRECTION d)</span>
<span class='curline'><a href='../S/730.html#L299'>loc</a>               299 src/tests/test_map_location.cpp 	map_location temp(loc.vector_sum(lz));</span>
<span class='curline'><a href='../S/730.html#L300'>loc</a>               300 src/tests/test_map_location.cpp 	BOOST_CHECK_EQUAL(temp, loc.get_direction(d));</span>
<span class='curline'><a href='../S/730.html#L301'>loc</a>               301 src/tests/test_map_location.cpp 	BOOST_CHECK(tiles_adjacent(loc,temp));</span>
<span class='curline'><a href='../S/730.html#L302'>loc</a>               302 src/tests/test_map_location.cpp 	BOOST_CHECK(tiles_adjacent(temp,loc));</span>
<span class='curline'><a href='../S/730.html#L303'>loc</a>               303 src/tests/test_map_location.cpp 	BOOST_CHECK_EQUAL(distance_between(loc,temp), 1);</span>
<span class='curline'><a href='../S/856.html#L161'>loc</a>               161 src/tod_manager.cpp int tod_manager::get_current_time(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/856.html#L163'>loc</a>               163 src/tod_manager.cpp 	if ( loc != map_location::null_location() ) {</span>
<span class='curline'><a href='../S/856.html#L167'>loc</a>               167 src/tod_manager.cpp 			if (i-&gt;hexes.find(loc) != i-&gt;hexes.end())</span>
<span class='curline'><a href='../S/856.html#L175'>loc</a>               175 src/tod_manager.cpp const std::vector&lt;time_of_day&gt;&amp; tod_manager::times(const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/856.html#L177'>loc</a>               177 src/tod_manager.cpp 	if ( loc != map_location::null_location() ) {</span>
<span class='curline'><a href='../S/856.html#L181'>loc</a>               181 src/tod_manager.cpp 			if (i-&gt;hexes.find(loc) != i-&gt;hexes.end())</span>
<span class='curline'><a href='../S/856.html#L189'>loc</a>               189 src/tod_manager.cpp const time_of_day&amp; tod_manager::get_time_of_day(const map_location&amp; loc, int n_turn) const</span>
<span class='curline'><a href='../S/856.html#L194'>loc</a>               194 src/tod_manager.cpp 	if ( loc != map_location::null_location() )</span>
<span class='curline'><a href='../S/856.html#L199'>loc</a>               199 src/tod_manager.cpp 			if (i-&gt;hexes.find(loc) != i-&gt;hexes.end())</span>
<span class='curline'><a href='../S/856.html#L207'>loc</a>               207 src/tod_manager.cpp const time_of_day tod_manager::get_illuminated_time_of_day(const unit_map &amp; units, const gamemap &amp; map, const map_location&amp; loc, int for_turn) const</span>
<span class='curline'><a href='../S/856.html#L210'>loc</a>               210 src/tod_manager.cpp 	time_of_day tod = get_time_of_day(loc, for_turn);</span>
<span class='curline'><a href='../S/856.html#L212'>loc</a>               212 src/tod_manager.cpp 	if ( map.on_board_with_border(loc) )</span>
<span class='curline'><a href='../S/856.html#L215'>loc</a>               215 src/tod_manager.cpp 		const int terrain_light = map.get_terrain_info(loc).light_bonus(tod.lawful_bonus);</span>
<span class='curline'><a href='../S/856.html#L225'>loc</a>               225 src/tod_manager.cpp 		locs[0] = loc;</span>
<span class='curline'><a href='../S/856.html#L226'>loc</a>               226 src/tod_manager.cpp 		get_adjacent_tiles(loc,locs+1);</span>
<span class='curline'><a href='../S/1048.html#L43'>loc</a>                43 src/tod_manager.hpp 		int get_current_time(const map_location&amp; loc = map_location::null_location()) const;</span>
<span class='curline'><a href='../S/1048.html#L63'>loc</a>                63 src/tod_manager.hpp 		const time_of_day&amp; get_time_of_day(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1048.html#L73'>loc</a>                73 src/tod_manager.hpp 		const time_of_day get_illuminated_time_of_day(const unit_map &amp; units, const gamemap &amp; map, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1048.html#L140'>loc</a>               140 src/tod_manager.hpp 		const std::vector&lt;time_of_day&gt;&amp; times(const map_location&amp; loc = map_location::null_location()) const;</span>
<span class='curline'><a href='../S/995.html#L131'>loc</a>               131 src/units/abilities.cpp bool unit::get_ability_bool(const std::string&amp; tag_name, const map_location&amp; loc, const display_context&amp; dc) const</span>
<span class='curline'><a href='../S/995.html#L134'>loc</a>               134 src/units/abilities.cpp 		if (ability_active(tag_name, i, loc) &amp;&amp;</span>
<span class='curline'><a href='../S/995.html#L135'>loc</a>               135 src/units/abilities.cpp 			ability_affects_self(tag_name, i, loc))</span>
<span class='curline'><a href='../S/995.html#L145'>loc</a>               145 src/units/abilities.cpp 	get_adjacent_tiles(loc,adjacent);</span>
<span class='curline'><a href='../S/995.html#L160'>loc</a>               160 src/units/abilities.cpp 			    ability_affects_adjacent(tag_name,  j, i, loc, *it))</span>
<span class='curline'><a href='../S/995.html#L170'>loc</a>               170 src/units/abilities.cpp unit_ability_list unit::get_abilities(const std::string&amp; tag_name, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/995.html#L175'>loc</a>               175 src/units/abilities.cpp 		if (ability_active(tag_name, i, loc) &amp;&amp;</span>
<span class='curline'><a href='../S/995.html#L176'>loc</a>               176 src/units/abilities.cpp 			ability_affects_self(tag_name, i, loc))</span>
<span class='curline'><a href='../S/995.html#L178'>loc</a>               178 src/units/abilities.cpp 			res.push_back(unit_ability(&amp;i, loc));</span>
<span class='curline'><a href='../S/995.html#L186'>loc</a>               186 src/units/abilities.cpp 	get_adjacent_tiles(loc,adjacent);</span>
<span class='curline'><a href='../S/995.html#L201'>loc</a>               201 src/units/abilities.cpp 			    ability_affects_adjacent(tag_name, j, i, loc, *it))</span>
<span class='curline'><a href='../S/995.html#L297'>loc</a>               297 src/units/abilities.cpp bool unit::ability_active(const std::string&amp; ability,const config&amp; cfg,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/995.html#L302'>loc</a>               302 src/units/abilities.cpp 		if ( !unit_filter(vconfig(afilter), resources::filter_con, illuminates).matches(*this, loc) )</span>
<span class='curline'><a href='../S/995.html#L306'>loc</a>               306 src/units/abilities.cpp 	get_adjacent_tiles(loc,adjacent);</span>
<span class='curline'><a href='../S/995.html#L368'>loc</a>               368 src/units/abilities.cpp bool unit::ability_affects_adjacent(const std::string&amp; ability, const config&amp; cfg,int dir,const map_location&amp; loc,const unit&amp; from) const</span>
<span class='curline'><a href='../S/995.html#L385'>loc</a>               385 src/units/abilities.cpp 			unit_filter(vconfig(filter), resources::filter_con, illuminates).matches(*this, loc, from) ) {</span>
<span class='curline'><a href='../S/995.html#L392'>loc</a>               392 src/units/abilities.cpp bool unit::ability_affects_self(const std::string&amp; ability,const config&amp; cfg,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/995.html#L397'>loc</a>               397 src/units/abilities.cpp 	return unit_filter(vconfig(filter), resources::filter_con, ability == "illuminates").matches(*this, loc);</span>
<span class='curline'><a href='../S/995.html#L674'>loc</a>               674 src/units/abilities.cpp void attack_type::set_specials_context(const map_location&amp; loc, bool attacking) const</span>
<span class='curline'><a href='../S/995.html#L676'>loc</a>               676 src/units/abilities.cpp 	self_loc_ = loc;</span>
<span class='curline'><a href='../S/995.html#L787'>loc</a>               787 src/units/abilities.cpp 		                             const map_location &amp; loc,</span>
<span class='curline'><a href='../S/995.html#L793'>loc</a>               793 src/units/abilities.cpp 		if (for_listing &amp;&amp; !loc.valid())</span>
<span class='curline'><a href='../S/995.html#L815'>loc</a>               815 src/units/abilities.cpp 			return ufilt.matches(*un_it, loc);</span>
<span class='curline'><a href='../S/995.html#L819'>loc</a>               819 src/units/abilities.cpp 		if (!ufilt.matches(*un_it, loc, *u2)) {</span>
<span class='curline'><a href='../S/995.html#L970'>loc</a>               970 src/units/abilities.cpp 	loc=l;</span>
<span class='curline'><a href='../S/1002.html#L37'>loc</a>                37 src/units/abilities.hpp 	map_location loc;</span>
<span class='curline'><a href='../S/993.html#L376'>loc</a>               376 src/units/animation.cpp int unit_animation::matches(const display&amp; disp, const map_location&amp; loc, const map_location&amp; second_loc,</span>
<span class='curline'><a href='../S/993.html#L391'>loc</a>               391 src/units/animation.cpp 		if(!t_translation::terrain_matches(disp.get_map().get_terrain(loc), terrain_types_)) {</span>
<span class='curline'><a href='../S/993.html#L417'>loc</a>               417 src/units/animation.cpp 			if(!f(*my_unit, loc)) return MATCH_FAIL;</span>
<span class='curline'><a href='../S/1012.html#L45'>loc</a>                45 src/units/animation.hpp 	int matches(const display&amp; disp, const map_location&amp; loc, const map_location&amp; second_loc, const unit* my_unit, const std::string&amp; event = "", const int value = 0, hit_type hit = hit_type::INVALID, const_attack_ptr attack = nullptr, const_attack_ptr second_attack = nullptr, int value2 = 0) const;</span>
<span class='curline'><a href='../S/1006.html#L26'>loc</a>                26 src/units/animation_component.cpp const unit_animation* unit_animation_component::choose_animation(const display&amp; disp, const map_location&amp; loc,const std::string&amp; event,</span>
<span class='curline'><a href='../S/1006.html#L34'>loc</a>                34 src/units/animation_component.cpp 		int matching = i-&gt;matches(disp,loc,second_loc,&amp;u_,event,value,hit,attack,second_attack,swing_num);</span>
<span class='curline'><a href='../S/984.html#L62'>loc</a>                62 src/units/animation_component.hpp 			const map_location&amp; loc, const std::string&amp; event,</span>
<span class='curline'><a href='../S/1004.html#L77'>loc</a>                77 src/units/attack_type.hpp 	void set_specials_context(const map_location&amp; loc, bool attacking = true) const;</span>
<span class='curline'><a href='../S/1011.html#L57'>loc</a>                57 src/units/drawer.cpp 	map_location loc = u.get_location();</span>
<span class='curline'><a href='../S/1011.html#L101'>loc</a>               101 src/units/drawer.cpp 	const t_translation::terrain_code terrain = map.get_terrain(loc);</span>
<span class='curline'><a href='../S/1011.html#L108'>loc</a>               108 src/units/drawer.cpp 	if (u.invisible(loc, dc) &amp;&amp;</span>
<span class='curline'><a href='../S/1011.html#L112'>loc</a>               112 src/units/drawer.cpp 	if (loc == sel_hex &amp;&amp; params.highlight_ratio == 1.0) {</span>
<span class='curline'><a href='../S/1011.html#L157'>loc</a>               157 src/units/drawer.cpp 	const map_location dst = loc.get_direction(facing);</span>
<span class='curline'><a href='../S/1011.html#L158'>loc</a>               158 src/units/drawer.cpp 	const int xsrc = disp.get_location_x(loc);</span>
<span class='curline'><a href='../S/1011.html#L159'>loc</a>               159 src/units/drawer.cpp 	const int ysrc = disp.get_location_y(loc);</span>
<span class='curline'><a href='../S/1011.html#L187'>loc</a>               187 src/units/drawer.cpp 	if(draw_bars &amp;&amp; (preferences::show_side_colors() || sel_hex == loc)) {</span>
<span class='curline'><a href='../S/1011.html#L203'>loc</a>               203 src/units/drawer.cpp 			const std::string selected = sel_hex == loc ? "selected-" : "";</span>
<span class='curline'><a href='../S/1011.html#L216'>loc</a>               216 src/units/drawer.cpp 		disp.drawing_buffer_add(display::LAYER_UNIT_FIRST, loc,</span>
<span class='curline'><a href='../S/1011.html#L222'>loc</a>               222 src/units/drawer.cpp 		disp.drawing_buffer_add(display::LAYER_UNIT_FIRST, loc,</span>
<span class='curline'><a href='../S/1011.html#L276'>loc</a>               276 src/units/drawer.cpp 				loc, xsrc + xoff, ysrc + yoff + adjusted_params.y, orb);</span>
<span class='curline'><a href='../S/1011.html#L286'>loc</a>               286 src/units/drawer.cpp 		const fixed_t bar_alpha = (loc == mouse_hex || loc == sel_hex) ? ftofxp(1.0): ftofxp(0.8);</span>
<span class='curline'><a href='../S/1011.html#L289'>loc</a>               289 src/units/drawer.cpp 			loc, hp_bar_height, unit_energy,hp_color, bar_alpha);</span>
<span class='curline'><a href='../S/1011.html#L297'>loc</a>               297 src/units/drawer.cpp 				loc, xp_bar_height, filled, xp_color, bar_alpha);</span>
<span class='curline'><a href='../S/1011.html#L307'>loc</a>               307 src/units/drawer.cpp 					loc, xsrc+xoff, ysrc+yoff+adjusted_params.y, crown);</span>
<span class='curline'><a href='../S/1011.html#L315'>loc</a>               315 src/units/drawer.cpp 					loc, xsrc+xoff, ysrc+yoff+adjusted_params.y, ov_img);</span>
<span class='curline'><a href='../S/1011.html#L340'>loc</a>               340 src/units/drawer.cpp 		const map_location&amp; loc, size_t height, double filled,</span>
<span class='curline'><a href='../S/1011.html#L393'>loc</a>               393 src/units/drawer.cpp 	disp.drawing_buffer_add(display::LAYER_UNIT_BAR, loc, xpos, ypos, surf, top);</span>
<span class='curline'><a href='../S/1011.html#L394'>loc</a>               394 src/units/drawer.cpp 	disp.drawing_buffer_add(display::LAYER_UNIT_BAR, loc, xpos, ypos + top.h, surf, bot);</span>
<span class='curline'><a href='../S/1011.html#L403'>loc</a>               403 src/units/drawer.cpp 		disp.drawing_buffer_add(display::LAYER_UNIT_BAR, loc, xpos + bar_loc.x, ypos + bar_loc.y + unfilled, filled_surf);</span>
<span class='curline'><a href='../S/983.html#L74'>loc</a>                74 src/units/drawer.hpp 		const map_location&amp; loc, size_t height, double filled,</span>
<span class='curline'><a href='../S/1010.html#L58'>loc</a>                58 src/units/filter.cpp bool unit_filter::matches(const unit &amp; u, const map_location &amp; loc, const unit &amp; u2) const {</span>
<span class='curline'><a href='../S/1010.html#L59'>loc</a>                59 src/units/filter.cpp 	return impl_-&gt;matches(u,loc,&amp;u2);</span>
<span class='curline'><a href='../S/1010.html#L169'>loc</a>               169 src/units/filter.cpp 	virtual bool matches(const unit &amp; u, const map_location &amp; loc, const unit * u2) const;</span>
<span class='curline'><a href='../S/1010.html#L185'>loc</a>               185 src/units/filter.cpp 	bool internal_matches_filter(const unit &amp; u, const map_location &amp; loc, const unit* u2) const;</span>
<span class='curline'><a href='../S/1010.html#L223'>loc</a>               223 src/units/filter.cpp bool basic_unit_filter_impl::matches(const unit &amp; u, const map_location&amp; loc, const unit * u2) const</span>
<span class='curline'><a href='../S/1010.html#L227'>loc</a>               227 src/units/filter.cpp 	if(loc.valid()) {</span>
<span class='curline'><a href='../S/1010.html#L228'>loc</a>               228 src/units/filter.cpp 		scoped_xy_unit auto_store("this_unit", loc, fc_.get_disp_context().units());</span>
<span class='curline'><a href='../S/1010.html#L232'>loc</a>               232 src/units/filter.cpp 			matches = internal_matches_filter(u, loc, u2);</span>
<span class='curline'><a href='../S/1010.html#L234'>loc</a>               234 src/units/filter.cpp 			matches = internal_matches_filter(u, loc, u2);</span>
<span class='curline'><a href='../S/1010.html#L238'>loc</a>               238 src/units/filter.cpp 		matches = internal_matches_filter(u, loc, nullptr);</span>
<span class='curline'><a href='../S/1010.html#L245'>loc</a>               245 src/units/filter.cpp 				matches = matches &amp;&amp; cond_children_[i].matches(u,loc);</span>
<span class='curline'><a href='../S/1010.html#L248'>loc</a>               248 src/units/filter.cpp 				matches = matches || cond_children_[i].matches(u,loc);</span>
<span class='curline'><a href='../S/1010.html#L251'>loc</a>               251 src/units/filter.cpp 				matches = matches &amp;&amp; !cond_children_[i].matches(u,loc);</span>
<span class='curline'><a href='../S/1010.html#L257'>loc</a>               257 src/units/filter.cpp bool basic_unit_filter_impl::internal_matches_filter(const unit &amp; u, const map_location&amp; loc, const unit* u2) const</span>
<span class='curline'><a href='../S/1010.html#L283'>loc</a>               283 src/units/filter.cpp 		if (!filt.match(loc)) {</span>
<span class='curline'><a href='../S/1010.html#L304'>loc</a>               304 src/units/filter.cpp 			if (fc_.get_disp_context().map().on_board(loc))</span>
<span class='curline'><a href='../S/1010.html#L310'>loc</a>               310 src/units/filter.cpp 		} else if(!loc.matches_range(vcfg["x"], vcfg["y"])) {</span>
<span class='curline'><a href='../S/1010.html#L397'>loc</a>               397 src/units/filter.cpp 			if(!u.get_abilities(ability, loc).empty()) {</span>
<span class='curline'><a href='../S/1010.html#L498'>loc</a>               498 src/units/filter.cpp 	if (!vcfg["defense"].blank() &amp;&amp; vcfg["defense"].to_int(-1) != u.defense_modifier(fc_.get_disp_context().map().get_terrain(loc))) {</span>
<span class='curline'><a href='../S/1010.html#L502'>loc</a>               502 src/units/filter.cpp 	if (!vcfg["movement_cost"].blank() &amp;&amp; vcfg["movement_cost"].to_int(-1) != u.movement_cost(fc_.get_disp_context().map().get_terrain(loc))) {</span>
<span class='curline'><a href='../S/1010.html#L539'>loc</a>               539 src/units/filter.cpp 			bool fogged = fc_.get_disp_context().get_team(viewer).fogged(loc);</span>
<span class='curline'><a href='../S/1010.html#L540'>loc</a>               540 src/units/filter.cpp 			bool hiding = u.invisible(loc, fc_.get_disp_context())</span>
<span class='curline'><a href='../S/1010.html#L554'>loc</a>               554 src/units/filter.cpp 		get_adjacent_tiles(loc, adjacent);</span>
<span class='curline'><a href='../S/1010.html#L617'>loc</a>               617 src/units/filter.cpp 			const wfl::unit_callable main(loc,u);</span>
<span class='curline'><a href='../S/1003.html#L41'>loc</a>                41 src/units/filter.hpp 	virtual bool matches(const unit &amp; u, const map_location &amp; loc, const unit * u2 = nullptr) const = 0;</span>
<span class='curline'><a href='../S/1003.html#L67'>loc</a>                67 src/units/filter.hpp 	bool matches(const unit &amp; u, const map_location &amp; loc) const {</span>
<span class='curline'><a href='../S/1003.html#L68'>loc</a>                68 src/units/filter.hpp 		return impl_-&gt;matches(u,loc);</span>
<span class='curline'><a href='../S/1003.html#L75'>loc</a>                75 src/units/filter.hpp 	bool matches(const unit &amp; u, const map_location &amp; loc, const unit &amp; u2) const;</span>
<span class='curline'><a href='../S/1003.html#L78'>loc</a>                78 src/units/filter.hpp 	bool operator()(const unit &amp; u, const map_location &amp; loc) const {</span>
<span class='curline'><a href='../S/1003.html#L79'>loc</a>                79 src/units/filter.hpp 		return matches(u,loc);</span>
<span class='curline'><a href='../S/1003.html#L86'>loc</a>                86 src/units/filter.hpp 	bool operator()(const unit &amp; u, const map_location &amp; loc, const unit &amp; u2) const {</span>
<span class='curline'><a href='../S/1003.html#L87'>loc</a>                87 src/units/filter.hpp 		return matches(u,loc,u2);</span>
<span class='curline'><a href='../S/992.html#L131'>loc</a>               131 src/units/map.cpp 	const map_location &amp;loc = p-&gt;get_location();</span>
<span class='curline'><a href='../S/992.html#L133'>loc</a>               133 src/units/map.cpp 	if (!loc.valid()) {</span>
<span class='curline'><a href='../S/992.html#L143'>loc</a>               143 src/units/map.cpp 		&lt;&lt; " to location: (" &lt;&lt; loc &lt;&lt; ")\n";</span>
<span class='curline'><a href='../S/992.html#L157'>loc</a>               157 src/units/map.cpp 				   &lt;&lt; " ("  &lt;&lt; loc &lt;&lt; ") over " &lt;&lt; q-&gt;name()</span>
<span class='curline'><a href='../S/992.html#L185'>loc</a>               185 src/units/map.cpp 	std::pair&lt;lmap::iterator,bool&gt; linsert = lmap_.emplace(loc, uinsert.first);</span>
<span class='curline'><a href='../S/992.html#L197'>loc</a>               197 src/units/map.cpp 			   &lt;&lt; " - " &lt;&lt; p-&gt;id() &lt;&lt; " at location ("&lt;&lt;loc &lt;&lt;"); Occupied  by "</span>
<span class='curline'><a href='../S/992.html#L247'>loc</a>               247 src/units/map.cpp unit_ptr unit_map::extract(const map_location &amp;loc) {</span>
<span class='curline'><a href='../S/992.html#L249'>loc</a>               249 src/units/map.cpp 	lmap::iterator i = lmap_.find(loc);</span>
<span class='curline'><a href='../S/992.html#L258'>loc</a>               258 src/units/map.cpp 			&lt;&lt; " from location: (" &lt;&lt; loc &lt;&lt; ")\n";</span>
<span class='curline'><a href='../S/992.html#L275'>loc</a>               275 src/units/map.cpp size_t unit_map::erase(const map_location &amp;loc) {</span>
<span class='curline'><a href='../S/992.html#L277'>loc</a>               277 src/units/map.cpp 	unit_ptr u = extract(loc);</span>
<span class='curline'><a href='../S/992.html#L290'>loc</a>               290 src/units/map.cpp unit_map::unit_iterator unit_map::find(const map_location &amp;loc) {</span>
<span class='curline'><a href='../S/992.html#L292'>loc</a>               292 src/units/map.cpp 	return make_unit_iterator&lt;lmap::iterator&gt;(lmap_.find(loc) );</span>
<span class='curline'><a href='../S/997.html#L293'>loc</a>               293 src/units/map.hpp 	unit_iterator find(const map_location &amp;loc);</span>
<span class='curline'><a href='../S/997.html#L295'>loc</a>               295 src/units/map.hpp 	const_unit_iterator find(const map_location &amp;loc) const { return const_cast&lt;unit_map *&gt;(this)-&gt;find(loc); }</span>
<span class='curline'><a href='../S/997.html#L305'>loc</a>               305 src/units/map.hpp 	size_t count(const map_location&amp; loc) const { return lmap_.count(loc); }</span>
<span class='curline'><a href='../S/997.html#L376'>loc</a>               376 src/units/map.hpp 	unit_ptr extract(const map_location &amp;loc);</span>
<span class='curline'><a href='../S/989.html#L500'>loc</a>               500 src/units/udisplay.cpp void unit_draw_weapon(const map_location&amp; loc, unit&amp; attacker,</span>
<span class='curline'><a href='../S/989.html#L504'>loc</a>               504 src/units/udisplay.cpp 	if(!disp ||disp-&gt;video().update_locked() || disp-&gt;video().faked() || disp-&gt;fogged(loc) || preferences::show_combat() == false) {</span>
<span class='curline'><a href='../S/989.html#L508'>loc</a>               508 src/units/udisplay.cpp 	attacker.set_facing(loc.get_relative_dir(defender_loc));</span>
<span class='curline'><a href='../S/989.html#L509'>loc</a>               509 src/units/udisplay.cpp 	defender-&gt;set_facing(defender_loc.get_relative_dir(loc));</span>
<span class='curline'><a href='../S/989.html#L510'>loc</a>               510 src/units/udisplay.cpp 	animator.add_animation(&amp;attacker,"draw_weapon",loc,defender_loc,0,false,"",{0,0,0},unit_animation::hit_type::HIT,attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/989.html#L511'>loc</a>               511 src/units/udisplay.cpp 	animator.add_animation(defender,"draw_weapon",defender_loc,loc,0,false,"",{0,0,0},unit_animation::hit_type::MISS,secondary_attack,attack,0);</span>
<span class='curline'><a href='../S/989.html#L548'>loc</a>               548 src/units/udisplay.cpp void unit_die(const map_location&amp; loc, unit&amp; loser,</span>
<span class='curline'><a href='../S/989.html#L552'>loc</a>               552 src/units/udisplay.cpp 	if(!disp ||disp-&gt;video().update_locked() || disp-&gt;video().faked() || disp-&gt;fogged(loc) || preferences::show_combat() == false) {</span>
<span class='curline'><a href='../S/989.html#L557'>loc</a>               557 src/units/udisplay.cpp 	animator.add_animation(&amp;loser,"death",loc,winner_loc,0,false,"",{0,0,0},unit_animation::hit_type::KILL,attack,secondary_attack,0);</span>
<span class='curline'><a href='../S/989.html#L559'>loc</a>               559 src/units/udisplay.cpp 	animator.add_animation(winner,"victory",winner_loc,loc,0,true,"",{0,0,0},</span>
<span class='curline'><a href='../S/989.html#L703'>loc</a>               703 src/units/udisplay.cpp void unit_recruited(const map_location&amp; loc,const map_location&amp; leader_loc)</span>
<span class='curline'><a href='../S/989.html#L706'>loc</a>               706 src/units/udisplay.cpp 	if(!disp || disp-&gt;video().update_locked() || disp-&gt;video().faked() ||disp-&gt;fogged(loc)) return;</span>
<span class='curline'><a href='../S/989.html#L707'>loc</a>               707 src/units/udisplay.cpp 	unit_map::const_iterator u = disp-&gt;get_units().find(loc);</span>
<span class='curline'><a href='../S/989.html#L715'>loc</a>               715 src/units/udisplay.cpp 		disp-&gt;scroll_to_tiles(loc,leader_loc,game_display::ONSCREEN,true,0.0,false);</span>
<span class='curline'><a href='../S/989.html#L716'>loc</a>               716 src/units/udisplay.cpp 		leader-&gt;set_facing(leader_loc.get_relative_dir(loc));</span>
<span class='curline'><a href='../S/989.html#L717'>loc</a>               717 src/units/udisplay.cpp 		animator.add_animation(&amp;*leader, "recruiting", leader_loc, loc, 0, true);</span>
<span class='curline'><a href='../S/989.html#L719'>loc</a>               719 src/units/udisplay.cpp 		disp-&gt;scroll_to_tile(loc,game_display::ONSCREEN,true,false);</span>
<span class='curline'><a href='../S/989.html#L724'>loc</a>               724 src/units/udisplay.cpp 	animator.add_animation(&amp;*u, "recruited", loc, leader_loc);</span>
<span class='curline'><a href='../S/989.html#L728'>loc</a>               728 src/units/udisplay.cpp 	if (loc==disp-&gt;mouseover_hex()) disp-&gt;invalidate_unit();</span>
<span class='curline'><a href='../S/1013.html#L91'>loc</a>                91 src/units/udisplay.hpp void unit_draw_weapon( const map_location&amp; loc, unit&amp; u, const_attack_ptr attack=nullptr, const_attack_ptr secondary_attack=nullptr,const map_location&amp; defender_loc = map_location::null_location(), unit * defender=nullptr);</span>
<span class='curline'><a href='../S/1013.html#L97'>loc</a>                97 src/units/udisplay.hpp void unit_sheath_weapon( const map_location&amp; loc, unit* u=nullptr, const_attack_ptr attack=nullptr, const_attack_ptr secondary_attack=nullptr,const map_location&amp; defender_loc = map_location::null_location(), unit * defender=nullptr);</span>
<span class='curline'><a href='../S/1013.html#L104'>loc</a>               104 src/units/udisplay.hpp  void unit_die( const map_location&amp; loc, unit&amp; u,</span>
<span class='curline'><a href='../S/1013.html#L125'>loc</a>               125 src/units/udisplay.hpp void unit_recruited(const map_location&amp; loc,</span>
<span class='curline'><a href='../S/1007.html#L1575'>loc</a>              1575 src/units/unit.cpp int unit::resistance_against(const std::string&amp; damage_name,bool attacker,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1007.html#L1579'>loc</a>              1579 src/units/unit.cpp 	unit_ability_list resistance_abilities = get_abilities("resistance",loc);</span>
<span class='curline'><a href='../S/1007.html#L2306'>loc</a>              2306 src/units/unit.cpp bool unit::invisible(const map_location&amp; loc, const display_context&amp; dc, bool see_all) const</span>
<span class='curline'><a href='../S/1007.html#L2308'>loc</a>              2308 src/units/unit.cpp 	if(loc != get_location()) {</span>
<span class='curline'><a href='../S/1007.html#L2309'>loc</a>              2309 src/units/unit.cpp 		DBG_UT &lt;&lt; "unit::invisible called: id = " &lt;&lt; id() &lt;&lt; " loc = " &lt;&lt; loc &lt;&lt; " get_loc = " &lt;&lt; get_location() &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/1007.html#L2324'>loc</a>              2324 src/units/unit.cpp 		const auto itor = invisibility_cache_.find(loc);</span>
<span class='curline'><a href='../S/1007.html#L2332'>loc</a>              2332 src/units/unit.cpp 	bool is_inv = get_ability_bool(hides, loc, dc);</span>
<span class='curline'><a href='../S/1007.html#L2334'>loc</a>              2334 src/units/unit.cpp 		is_inv = (resources::gameboard ? !resources::gameboard-&gt;would_be_discovered(loc, side_,see_all) : true);</span>
<span class='curline'><a href='../S/1007.html#L2343'>loc</a>              2343 src/units/unit.cpp 		invisibility_cache_[loc] = is_inv;</span>
<span class='curline'><a href='../S/1007.html#L2351'>loc</a>              2351 src/units/unit.cpp 	map_location const&amp; loc = get_location();</span>
<span class='curline'><a href='../S/1007.html#L2352'>loc</a>              2352 src/units/unit.cpp 	if(!dc.map().on_board(loc)) {</span>
<span class='curline'><a href='../S/1007.html#L2360'>loc</a>              2360 src/units/unit.cpp 	if(team.is_enemy(side()) &amp;&amp; invisible(loc, dc)) {</span>
<span class='curline'><a href='../S/1007.html#L2369'>loc</a>              2369 src/units/unit.cpp 	if(team.fogged(loc)) {</span>
<span class='curline'><a href='../S/988.html#L806'>loc</a>               806 src/units/unit.hpp 	int damage_from(const attack_type&amp; attack, bool attacker, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/988.html#L808'>loc</a>               808 src/units/unit.hpp 		return resistance_against(attack, attacker, loc);</span>
<span class='curline'><a href='../S/988.html#L848'>loc</a>               848 src/units/unit.hpp 	int resistance_against(const std::string&amp; damage_name, bool attacker, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/988.html#L856'>loc</a>               856 src/units/unit.hpp 	int resistance_against(const attack_type&amp; atk, bool attacker, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/988.html#L858'>loc</a>               858 src/units/unit.hpp 		return resistance_against(atk.type(), attacker, loc);</span>
<span class='curline'><a href='../S/988.html#L1129'>loc</a>              1129 src/units/unit.hpp 	void set_location(const map_location&amp; loc)</span>
<span class='curline'><a href='../S/988.html#L1131'>loc</a>              1131 src/units/unit.hpp 		loc_ = loc;</span>
<span class='curline'><a href='../S/988.html#L1404'>loc</a>              1404 src/units/unit.hpp 	bool get_ability_bool(const std::string&amp; tag_name, const map_location&amp; loc, const display_context&amp; dc) const;</span>
<span class='curline'><a href='../S/988.html#L1428'>loc</a>              1428 src/units/unit.hpp 	unit_ability_list get_abilities(const std::string&amp; tag_name, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/988.html#L1484'>loc</a>              1484 src/units/unit.hpp 	bool ability_active(const std::string&amp; ability, const config&amp; cfg, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/988.html#L1493'>loc</a>              1493 src/units/unit.hpp 	bool ability_affects_adjacent(const std::string&amp; ability, const config&amp; cfg, int dir, const map_location&amp; loc, const unit&amp; from) const;</span>
<span class='curline'><a href='../S/988.html#L1501'>loc</a>              1501 src/units/unit.hpp 	bool ability_affects_self(const std::string&amp; ability, const config&amp; cfg, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/988.html#L1514'>loc</a>              1514 src/units/unit.hpp 	bool invisible(const map_location&amp; loc, const display_context&amp; dc, bool see_all = true) const;</span>
<span class='curline'><a href='../S/1099.html#L246'>loc</a>               246 src/variable.hpp 	scoped_xy_unit(const std::string&amp; var_name, map_location loc, const unit_map&amp; umap)</span>
<span class='curline'><a href='../S/1099.html#L247'>loc</a>               247 src/variable.hpp 		: scoped_wml_variable(var_name), loc_(loc), umap_(umap) {}</span>
<span class='curline'><a href='../S/1233.html#L904'>loc</a>               904 src/whiteboard/manager.cpp void manager::save_suppose_dead(unit&amp; curr_unit, map_location const&amp; loc)</span>
<span class='curline'><a href='../S/1233.html#L910'>loc</a>               910 src/whiteboard/manager.cpp 		sa.queue_suppose_dead(sa.get_turn_num_of(curr_unit),curr_unit,loc);</span>
<span class='curline'><a href='../S/1243.html#L156'>loc</a>               156 src/whiteboard/manager.hpp 	void save_suppose_dead(unit&amp; curr_unit, map_location const&amp; loc);</span>
<span class='curline'><a href='../S/1242.html#L507'>loc</a>               507 src/whiteboard/move.cpp 	for(map_location const&amp; loc : route_-&gt;steps)</span>
<span class='curline'><a href='../S/1242.html#L510'>loc</a>               510 src/whiteboard/move.cpp 		loc_cfg["x"]=loc.wml_x();</span>
<span class='curline'><a href='../S/1242.html#L511'>loc</a>               511 src/whiteboard/move.cpp 		loc_cfg["y"]=loc.wml_y();</span>
<span class='curline'><a href='../S/1229.html#L456'>loc</a>               456 src/whiteboard/side_actions.cpp 		void check_recruit_recall(const map_location &amp;loc) {</span>
<span class='curline'><a href='../S/1229.html#L458'>loc</a>               458 src/whiteboard/side_actions.cpp 			if(leader-&gt;can_recruit() &amp;&amp; dynamic_cast&lt;game_state*&gt;(resources::filter_con)-&gt;can_recruit_on(*leader, loc)) {</span>
<span class='curline'><a href='../S/1229.html#L699'>loc</a>               699 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::queue_suppose_dead(size_t turn, unit&amp; curr_unit, map_location const&amp; loc)</span>
<span class='curline'><a href='../S/1229.html#L701'>loc</a>               701 src/whiteboard/side_actions.cpp 	suppose_dead_ptr new_suppose_dead(std::make_shared&lt;suppose_dead&gt;(team_index(), hidden_, std::ref(curr_unit), loc));</span>
<span class='curline'><a href='../S/1227.html#L536'>loc</a>               536 src/whiteboard/side_actions.hpp 	iterator queue_suppose_dead(size_t turn_num, unit&amp; curr_unit, map_location const&amp; loc);</span>
<span class='curline'><a href='../S/1222.html#L60'>loc</a>                60 src/whiteboard/suppose_dead.cpp suppose_dead::suppose_dead(size_t team_index, bool hidden, unit&amp; curr_unit, map_location const&amp; loc)</span>
<span class='curline'><a href='../S/1222.html#L64'>loc</a>                64 src/whiteboard/suppose_dead.cpp 	, loc_(loc)</span>
<span class='curline'><a href='../S/1231.html#L32'>loc</a>                32 src/whiteboard/suppose_dead.hpp 	suppose_dead(size_t team_index, bool hidden, unit&amp; curr_unit, map_location const&amp; loc);</span>
<span class='curline'><a href='../S/1234.html#L126'>loc</a>               126 src/whiteboard/utility.cpp 	for(map_location const&amp; loc : std::make_pair(path.begin()+1,path.end())) {</span>
<span class='curline'><a href='../S/1234.html#L127'>loc</a>               127 src/whiteboard/utility.cpp 		result += u.movement_cost(map[loc]);</span>
<span class='curline'><a href='../S/665.html#L211'>loc</a>               211 src/widgets/button.cpp 	SDL_Rect const &amp;loc = location();</span>
<span class='curline'><a href='../S/665.html#L212'>loc</a>               212 src/widgets/button.cpp 	bool change_size = loc.h == 0 || loc.w == 0;</span>
<span class='curline'><a href='../S/665.html#L215'>loc</a>               215 src/widgets/button.cpp 		unsigned w = loc.w - (type_ == TYPE_PRESS || type_ == TYPE_TURBO ? horizontal_padding : checkbox_horizontal_padding + base_width_);</span>
<span class='curline'><a href='../S/665.html#L331'>loc</a>               331 src/widgets/button.cpp 	SDL_Rect const &amp;loc = location();</span>
<span class='curline'><a href='../S/665.html#L332'>loc</a>               332 src/widgets/button.cpp 	SDL_Rect clipArea = loc;</span>
<span class='curline'><a href='../S/665.html#L333'>loc</a>               333 src/widgets/button.cpp 	const int texty = loc.y + loc.h / 2 - textRect_.h / 2 + offset;</span>
<span class='curline'><a href='../S/665.html#L337'>loc</a>               337 src/widgets/button.cpp 		textx = loc.x + image-&gt;w / 2 - textRect_.w / 2 + offset;</span>
<span class='curline'><a href='../S/665.html#L340'>loc</a>               340 src/widgets/button.cpp 		textx = loc.x + image_w + checkbox_horizontal_padding / 2;</span>
<span class='curline'><a href='../S/665.html#L382'>loc</a>               382 src/widgets/button.cpp 	video().blit_surface(loc.x, loc.y, image);</span>
<span class='curline'><a href='../S/674.html#L59'>loc</a>                59 src/widgets/label.cpp 	const SDL_Rect&amp; loc = location();</span>
<span class='curline'><a href='../S/674.html#L60'>loc</a>                60 src/widgets/label.cpp 	if (!text_.empty() &amp;&amp; loc.w &gt; 0 &amp;&amp; loc.h &gt; 0)</span>
<span class='curline'><a href='../S/674.html#L61'>loc</a>                61 src/widgets/label.cpp 		font::draw_text(&amp;video(), loc, size_, get_color(), text_, loc.x, loc.y);</span>
<span class='curline'><a href='../S/671.html#L924'>loc</a>               924 src/widgets/menu.cpp 	SDL_Rect const &amp;loc = inner_location();</span>
<span class='curline'><a href='../S/671.html#L928'>loc</a>               928 src/widgets/menu.cpp 	SDL_Rect column = loc;</span>
<span class='curline'><a href='../S/671.html#L1064'>loc</a>              1064 src/widgets/menu.cpp 	SDL_Rect const &amp;loc = inner_location();</span>
<span class='curline'><a href='../S/671.html#L1065'>loc</a>              1065 src/widgets/menu.cpp 	if (x &gt;= loc.x  &amp;&amp; x &lt; loc.x + loc.w &amp;&amp; y &gt;= loc.y &amp;&amp; y &lt; loc.y + loc.h) {</span>
<span class='curline'><a href='../S/671.html#L1106'>loc</a>              1106 src/widgets/menu.cpp 	const SDL_Rect&amp; loc = inner_location();</span>
<span class='curline'><a href='../S/671.html#L1107'>loc</a>              1107 src/widgets/menu.cpp 	if(y &gt;= loc.y &amp;&amp; static_cast&lt;size_t&gt;(y) &lt; loc.y + height) {</span>
<span class='curline'><a href='../S/671.html#L1131'>loc</a>              1131 src/widgets/menu.cpp 	SDL_Rect const &amp;loc = inner_location();</span>
<span class='curline'><a href='../S/671.html#L1133'>loc</a>              1133 src/widgets/menu.cpp 	int y = loc.y + heading_height();</span>
<span class='curline'><a href='../S/671.html#L1139'>loc</a>              1139 src/widgets/menu.cpp 	SDL_Rect res = sdl::create_rect(loc.x, y, loc.w, get_item_height(item));</span>
<span class='curline'><a href='../S/671.html#L1157'>loc</a>              1157 src/widgets/menu.cpp 	if (loc.x &gt; 0 &amp;&amp; loc.y &gt; 0)</span>
<span class='curline'><a href='../S/671.html#L1200'>loc</a>              1200 src/widgets/menu.cpp 	const std::pair&lt;int,int&gt; loc(hit(mousex,mousey), hit_column(mousex));</span>
<span class='curline'><a href='../S/671.html#L1201'>loc</a>              1201 src/widgets/menu.cpp 	if(loc == cur_help_) {</span>
<span class='curline'><a href='../S/671.html#L1203'>loc</a>              1203 src/widgets/menu.cpp 	} else if(loc.first == -1) {</span>
<span class='curline'><a href='../S/671.html#L1211'>loc</a>              1211 src/widgets/menu.cpp 		if(size_t(loc.first) &lt; items_.size()) {</span>
<span class='curline'><a href='../S/671.html#L1212'>loc</a>              1212 src/widgets/menu.cpp 			const std::vector&lt;std::string&gt;&amp; row = items_[item_pos_[loc.first]].help;</span>
<span class='curline'><a href='../S/671.html#L1213'>loc</a>              1213 src/widgets/menu.cpp 			if(size_t(loc.second) &lt; row.size()) {</span>
<span class='curline'><a href='../S/671.html#L1214'>loc</a>              1214 src/widgets/menu.cpp 				const std::string&amp; help = row[loc.second];</span>
<span class='curline'><a href='../S/671.html#L1223'>loc</a>              1223 src/widgets/menu.cpp 	cur_help_ = loc;</span>
<span class='curline'><a href='../S/669.html#L209'>loc</a>               209 src/widgets/scrollbar.cpp 	SDL_Rect loc = location();</span>
<span class='curline'><a href='../S/669.html#L212'>loc</a>               212 src/widgets/scrollbar.cpp 	if(uh + dh &gt;= loc.h) {</span>
<span class='curline'><a href='../S/669.html#L213'>loc</a>               213 src/widgets/scrollbar.cpp 		loc.h = 0;</span>
<span class='curline'><a href='../S/669.html#L215'>loc</a>               215 src/widgets/scrollbar.cpp 		loc.y += uh;</span>
<span class='curline'><a href='../S/669.html#L216'>loc</a>               216 src/widgets/scrollbar.cpp 		loc.h -= uh + dh;</span>
<span class='curline'><a href='../S/669.html#L218'>loc</a>               218 src/widgets/scrollbar.cpp 	return loc;</span>
<span class='curline'><a href='../S/669.html#L223'>loc</a>               223 src/widgets/scrollbar.cpp 	SDL_Rect const &amp;loc = groove_area();</span>
<span class='curline'><a href='../S/669.html#L225'>loc</a>               225 src/widgets/scrollbar.cpp 		return loc;</span>
<span class='curline'><a href='../S/669.html#L226'>loc</a>               226 src/widgets/scrollbar.cpp 	int h = static_cast&lt;int&gt;(loc.h) * grip_height_ / full_height_;</span>
<span class='curline'><a href='../S/669.html#L229'>loc</a>               229 src/widgets/scrollbar.cpp 	int y = loc.y + (static_cast&lt;int&gt;(loc.h) - h) * grip_position_ / (full_height_ - grip_height_);</span>
<span class='curline'><a href='../S/669.html#L230'>loc</a>               230 src/widgets/scrollbar.cpp 	return {loc.x, y, loc.w, h};</span>
<span class='curline'><a href='../S/666.html#L188'>loc</a>               188 src/widgets/textbox.cpp 	SDL_Rect const &amp;loc = inner_location();</span>
<span class='curline'><a href='../S/666.html#L191'>loc</a>               191 src/widgets/textbox.cpp 	sdl::draw_solid_tinted_rectangle(loc.x,loc.y,loc.w,loc.h,0,0,0,</span>
<span class='curline'><a href='../S/666.html#L202'>loc</a>               202 src/widgets/textbox.cpp 		src.w = std::min&lt;size_t&gt;(loc.w,text_image_-&gt;w);</span>
<span class='curline'><a href='../S/666.html#L203'>loc</a>               203 src/widgets/textbox.cpp 		src.h = std::min&lt;size_t&gt;(loc.h,text_image_-&gt;h);</span>
<span class='curline'><a href='../S/666.html#L206'>loc</a>               206 src/widgets/textbox.cpp 		dest.x = loc.x;</span>
<span class='curline'><a href='../S/666.html#L207'>loc</a>               207 src/widgets/textbox.cpp 		dest.y = loc.y;</span>
<span class='curline'><a href='../S/666.html#L224'>loc</a>               224 src/widgets/textbox.cpp 				SDL_Rect rect = sdl::create_rect(loc.x + startx</span>
<span class='curline'><a href='../S/666.html#L225'>loc</a>               225 src/widgets/textbox.cpp 						, loc.y + starty - src.y</span>
<span class='curline'><a href='../S/666.html#L229'>loc</a>               229 src/widgets/textbox.cpp 				const clip_rect_setter clipper(surf, &amp;loc);</span>
<span class='curline'><a href='../S/666.html#L630'>loc</a>               630 src/widgets/textbox.cpp 	SDL_Rect const &amp;loc = inner_location();</span>
<span class='curline'><a href='../S/666.html#L633'>loc</a>               633 src/widgets/textbox.cpp 					   &amp;&amp; sdl::point_in_rect(mousex, mousey, loc));</span>
<span class='curline'><a href='../S/666.html#L638'>loc</a>               638 src/widgets/textbox.cpp 		const int x = mousex - loc.x + text_pos_;</span>
<span class='curline'><a href='../S/666.html#L639'>loc</a>               639 src/widgets/textbox.cpp 		const int y = mousey - loc.y;</span>
<span class='curline'><a href='../S/666.html#L676'>loc</a>               676 src/widgets/textbox.cpp 		if (!mouse_locked() &amp;&amp; event.type == SDL_MOUSEMOTION &amp;&amp; sdl::point_in_rect(mousex, mousey, loc))</span>
</pre>
</body>
</html>
