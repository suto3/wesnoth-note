<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>u_</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/1223.html#L2253'>u_</a>               2253 src/attack_prediction.cpp 	if(opponent.u_.firststrike &amp;&amp; !u_.firststrike) {</span>
<span class='curline'><a href='../S/1223.html#L2260'>u_</a>               2260 src/attack_prediction.cpp 	dump(u_);</span>
<span class='curline'><a href='../S/1223.html#L2262'>u_</a>               2262 src/attack_prediction.cpp 	dump(opponent.u_);</span>
<span class='curline'><a href='../S/1223.html#L2279'>u_</a>               2279 src/attack_prediction.cpp 	const std::vector&lt;combat_slice&gt; split = split_summary(u_, summary);</span>
<span class='curline'><a href='../S/1223.html#L2280'>u_</a>               2280 src/attack_prediction.cpp 	const std::vector&lt;combat_slice&gt; opp_split = split_summary(opponent.u_, opponent.summary);</span>
<span class='curline'><a href='../S/1223.html#L2283'>u_</a>               2283 src/attack_prediction.cpp 		fight_complexity(split.size(), opp_split.size(), u_, opponent.u_) &gt; MONTE_CARLO_SIMULATION_THRESHOLD</span>
<span class='curline'><a href='../S/1223.html#L2289'>u_</a>               2289 src/attack_prediction.cpp 		complex_fight(attack_prediction_mode::monte_carlo_simulation, u_, opponent.u_, u_.num_blows,</span>
<span class='curline'><a href='../S/1223.html#L2290'>u_</a>               2290 src/attack_prediction.cpp 		              opponent.u_.num_blows, summary, opponent.summary, self_not_hit, opp_not_hit, levelup_considered, split,</span>
<span class='curline'><a href='../S/1223.html#L2294'>u_</a>               2294 src/attack_prediction.cpp 		do_fight(u_, opponent.u_, u_.num_blows, opponent.u_.num_blows, summary, opponent.summary, self_not_hit,</span>
<span class='curline'><a href='../S/1223.html#L2322'>u_</a>               2322 src/attack_prediction.cpp 				do_fight(u_, opponent.u_, split[s].strikes, opp_split[t].strikes, sit_summary, sit_opp_summary,</span>
<span class='curline'><a href='../S/1223.html#L2382'>u_</a>               2382 src/attack_prediction.cpp 	poisoned = calculate_probability_of_debuff(poisoned, opponent.u_.poisons, touched, 1.0 - hp_dist[0],</span>
<span class='curline'><a href='../S/1223.html#L2383'>u_</a>               2383 src/attack_prediction.cpp 		u_.experience + game_config::kill_xp(opponent.u_.level) &gt;= u_.max_experience, opponent.hp_dist[0]);</span>
<span class='curline'><a href='../S/1223.html#L2384'>u_</a>               2384 src/attack_prediction.cpp 	opponent.poisoned = calculate_probability_of_debuff(opponent.poisoned, u_.poisons, opp_touched, 1.0 - opponent.hp_dist[0],</span>
<span class='curline'><a href='../S/1223.html#L2385'>u_</a>               2385 src/attack_prediction.cpp 		opponent.u_.experience + game_config::kill_xp(u_.level) &gt;= opponent.u_.max_experience, hp_dist[0]);</span>
<span class='curline'><a href='../S/1223.html#L2388'>u_</a>               2388 src/attack_prediction.cpp 		slowed = calculate_probability_of_debuff(slowed, opponent.u_.slows, touched, 1.0 - hp_dist[0],</span>
<span class='curline'><a href='../S/1223.html#L2389'>u_</a>               2389 src/attack_prediction.cpp 			u_.experience + game_config::kill_xp(opponent.u_.level) &gt;= u_.max_experience, opponent.hp_dist[0]);</span>
<span class='curline'><a href='../S/1223.html#L2390'>u_</a>               2390 src/attack_prediction.cpp 		opponent.slowed = calculate_probability_of_debuff(opponent.slowed, u_.slows, opp_touched, 1.0 - opponent.hp_dist[0],</span>
<span class='curline'><a href='../S/1223.html#L2391'>u_</a>               2391 src/attack_prediction.cpp 			opponent.u_.experience + game_config::kill_xp(u_.level) &gt;= opponent.u_.max_experience, hp_dist[0]);</span>
<span class='curline'><a href='../S/1223.html#L2401'>u_</a>               2401 src/attack_prediction.cpp 	if(u_.experience + opponent.u_.level &gt;= u_.max_experience) {</span>
<span class='curline'><a href='../S/1223.html#L2406'>u_</a>               2406 src/attack_prediction.cpp 	if(opponent.u_.experience + u_.level &gt;= opponent.u_.max_experience) {</span>
<span class='curline'><a href='../S/1223.html#L2421'>u_</a>               2421 src/attack_prediction.cpp 		total += hp_dist[i] * std::min&lt;unsigned int&gt;(i + healing, u_.max_hp);</span>
<span class='curline'><a href='../S/1223.html#L2480'>u_</a>               2480 src/attack_prediction.cpp 			int(strlen(label)) - 12, ':', u_.swarm_max, u_.damage, u_.hp, u_.chance_to_hit, untouched * 100.0);</span>
<span class='curline'><a href='../S/1223.html#L2482'>u_</a>               2482 src/attack_prediction.cpp 	if(u_.drains) {</span>
<span class='curline'><a href='../S/1223.html#L2486'>u_</a>               2486 src/attack_prediction.cpp 	if(u_.slows) {</span>
<span class='curline'><a href='../S/1223.html#L2490'>u_</a>               2490 src/attack_prediction.cpp 	if(u_.rounds &gt; 1) {</span>
<span class='curline'><a href='../S/1223.html#L2494'>u_</a>               2494 src/attack_prediction.cpp 	if(u_.swarm) {</span>
<span class='curline'><a href='../S/1223.html#L2498'>u_</a>               2498 src/attack_prediction.cpp 	if(u_.firststrike) {</span>
<span class='curline'><a href='../S/1223.html#L2527'>u_</a>               2527 src/attack_prediction.cpp 	printf("#%u: %s: %d %u %u %2g%% ", battle, label, u_.damage, u_.swarm_max, u_.hp,</span>
<span class='curline'><a href='../S/1223.html#L2528'>u_</a>               2528 src/attack_prediction.cpp 			static_cast&lt;float&gt;(u_.chance_to_hit));</span>
<span class='curline'><a href='../S/1223.html#L2530'>u_</a>               2530 src/attack_prediction.cpp 	if(u_.drains) {</span>
<span class='curline'><a href='../S/1223.html#L2534'>u_</a>               2534 src/attack_prediction.cpp 	if(u_.slows) {</span>
<span class='curline'><a href='../S/1223.html#L2538'>u_</a>               2538 src/attack_prediction.cpp 	if(u_.rounds &gt; 1) {</span>
<span class='curline'><a href='../S/1223.html#L2542'>u_</a>               2542 src/attack_prediction.cpp 	if(u_.swarm) {</span>
<span class='curline'><a href='../S/1223.html#L2546'>u_</a>               2546 src/attack_prediction.cpp 	if(u_.firststrike) {</span>
<span class='curline'><a href='../S/1223.html#L2574'>u_</a>               2574 src/attack_prediction.cpp 	poisoned = u_.is_poisoned ? 1.0 : 0.0;</span>
<span class='curline'><a href='../S/1223.html#L2575'>u_</a>               2575 src/attack_prediction.cpp 	slowed = u_.is_slowed ? 1.0 : 0.0;</span>
<span class='curline'><a href='../S/985.html#L65'>u_</a>                 65 src/attack_prediction.hpp 	const battle_context_unit_stats &amp;u_;</span>
<span class='curline'><a href='../S/40.html#L46'>u_</a>                 46 src/editor/action/action_unit.cpp 	mc.get_units().add(loc_,u_);</span>
<span class='curline'><a href='../S/62.html#L51'>u_</a>                 51 src/editor/action/action_unit.hpp 		unit u_;</span>
<span class='curline'><a href='../S/779.html#L175'>u_</a>                175 src/formula/callable_objects.cpp 		return variant(u_.id());</span>
<span class='curline'><a href='../S/779.html#L177'>u_</a>                177 src/formula/callable_objects.cpp 		return variant(u_.type_id());</span>
<span class='curline'><a href='../S/779.html#L179'>u_</a>                179 src/formula/callable_objects.cpp 		return variant(u_.name());</span>
<span class='curline'><a href='../S/779.html#L181'>u_</a>                181 src/formula/callable_objects.cpp 		return variant(u_.usage());</span>
<span class='curline'><a href='../S/779.html#L183'>u_</a>                183 src/formula/callable_objects.cpp 		return variant(u_.can_recruit());</span>
<span class='curline'><a href='../S/779.html#L185'>u_</a>                185 src/formula/callable_objects.cpp 		return variant(u_.get_state("not_living") ? 1 : 0);</span>
<span class='curline'><a href='../S/779.html#L188'>u_</a>                188 src/formula/callable_objects.cpp 		for(const attack_type&amp; att : u_.attacks()) {</span>
<span class='curline'><a href='../S/779.html#L194'>u_</a>                194 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.get_ability_list());</span>
<span class='curline'><a href='../S/779.html#L196'>u_</a>                196 src/formula/callable_objects.cpp 		return variant(u_.hitpoints());</span>
<span class='curline'><a href='../S/779.html#L198'>u_</a>                198 src/formula/callable_objects.cpp 		return variant(u_.max_hitpoints());</span>
<span class='curline'><a href='../S/779.html#L200'>u_</a>                200 src/formula/callable_objects.cpp 		return variant(u_.experience());</span>
<span class='curline'><a href='../S/779.html#L202'>u_</a>                202 src/formula/callable_objects.cpp 		return variant(u_.max_experience());</span>
<span class='curline'><a href='../S/779.html#L205'>u_</a>                205 src/formula/callable_objects.cpp 		return variant(u_.level());</span>
<span class='curline'><a href='../S/779.html#L207'>u_</a>                207 src/formula/callable_objects.cpp 		return variant(u_.total_movement());</span>
<span class='curline'><a href='../S/779.html#L209'>u_</a>                209 src/formula/callable_objects.cpp 		return variant(u_.movement_left());</span>
<span class='curline'><a href='../S/779.html#L211'>u_</a>                211 src/formula/callable_objects.cpp 		return variant(u_.attacks_left());</span>
<span class='curline'><a href='../S/779.html#L213'>u_</a>                213 src/formula/callable_objects.cpp 		return variant(u_.max_attacks());</span>
<span class='curline'><a href='../S/779.html#L215'>u_</a>                215 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.get_traits_list());</span>
<span class='curline'><a href='../S/779.html#L217'>u_</a>                217 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.recruits());</span>
<span class='curline'><a href='../S/779.html#L219'>u_</a>                219 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.advances_to());</span>
<span class='curline'><a href='../S/779.html#L221'>u_</a>                221 src/formula/callable_objects.cpp 		return formula_callable::convert_set(u_.get_states());</span>
<span class='curline'><a href='../S/779.html#L223'>u_</a>                223 src/formula/callable_objects.cpp 		return variant(u_.side()-1);</span>
<span class='curline'><a href='../S/779.html#L225'>u_</a>                225 src/formula/callable_objects.cpp 		return variant(u_.cost());</span>
<span class='curline'><a href='../S/779.html#L227'>u_</a>                227 src/formula/callable_objects.cpp 		return variant(u_.upkeep());</span>
<span class='curline'><a href='../S/779.html#L232'>u_</a>                232 src/formula/callable_objects.cpp 		return variant(u_.get_hidden());</span>
<span class='curline'><a href='../S/779.html#L234'>u_</a>                234 src/formula/callable_objects.cpp 		return variant(u_.incapacitated());</span>
<span class='curline'><a href='../S/779.html#L236'>u_</a>                236 src/formula/callable_objects.cpp 		return variant(u_.resting());</span>
<span class='curline'><a href='../S/779.html#L238'>u_</a>                238 src/formula/callable_objects.cpp 		return variant(u_.get_role());</span>
<span class='curline'><a href='../S/779.html#L240'>u_</a>                240 src/formula/callable_objects.cpp 		return variant(u_.race()-&gt;id());</span>
<span class='curline'><a href='../S/779.html#L242'>u_</a>                242 src/formula/callable_objects.cpp 		return variant(gender_string(u_.gender()));</span>
<span class='curline'><a href='../S/779.html#L244'>u_</a>                244 src/formula/callable_objects.cpp 		return variant(u_.variation());</span>
<span class='curline'><a href='../S/779.html#L246'>u_</a>                246 src/formula/callable_objects.cpp 		return variant(u_.get_emit_zoc());</span>
<span class='curline'><a href='../S/779.html#L248'>u_</a>                248 src/formula/callable_objects.cpp 		return variant(u_.alignment().to_string());</span>
<span class='curline'><a href='../S/779.html#L250'>u_</a>                250 src/formula/callable_objects.cpp 		return variant(map_location::write_direction(u_.facing()));</span>
<span class='curline'><a href='../S/779.html#L252'>u_</a>                252 src/formula/callable_objects.cpp 		if(u_.formula_manager().formula_vars()) {</span>
<span class='curline'><a href='../S/779.html#L253'>u_</a>                253 src/formula/callable_objects.cpp 			return variant(u_.formula_manager().formula_vars());</span>
<span class='curline'><a href='../S/779.html#L258'>u_</a>                258 src/formula/callable_objects.cpp 		return variant(std::make_shared&lt;config_callable&gt;(u_.variables()));</span>
<span class='curline'><a href='../S/779.html#L319'>u_</a>                319 src/formula/callable_objects.cpp 	return u_.underlying_id() - u_callable-&gt;u_.underlying_id();</span>
<span class='curline'><a href='../S/779.html#L325'>u_</a>                325 src/formula/callable_objects.cpp 		return variant(u_.id());</span>
<span class='curline'><a href='../S/779.html#L327'>u_</a>                327 src/formula/callable_objects.cpp 		return variant(u_.type_name());</span>
<span class='curline'><a href='../S/779.html#L329'>u_</a>                329 src/formula/callable_objects.cpp 		return variant(u_.alignment().to_string());</span>
<span class='curline'><a href='../S/779.html#L331'>u_</a>                331 src/formula/callable_objects.cpp 		return variant(u_.race_id());</span>
<span class='curline'><a href='../S/779.html#L333'>u_</a>                333 src/formula/callable_objects.cpp 		return formula_callable::convert_vector(u_.get_ability_list());</span>
<span class='curline'><a href='../S/779.html#L336'>u_</a>                336 src/formula/callable_objects.cpp 		for(const auto&amp; config : u_.possible_traits()) {</span>
<span class='curline'><a href='../S/779.html#L343'>u_</a>                343 src/formula/callable_objects.cpp 		for(const attack_type&amp; att : u_.attacks()) {</span>
<span class='curline'><a href='../S/779.html#L349'>u_</a>                349 src/formula/callable_objects.cpp 		return variant(u_.hitpoints());</span>
<span class='curline'><a href='../S/779.html#L351'>u_</a>                351 src/formula/callable_objects.cpp 		return variant(u_.experience_needed(true));</span>
<span class='curline'><a href='../S/779.html#L353'>u_</a>                353 src/formula/callable_objects.cpp 		return variant(u_.level());</span>
<span class='curline'><a href='../S/779.html#L355'>u_</a>                355 src/formula/callable_objects.cpp 		return variant(u_.movement());</span>
<span class='curline'><a href='../S/779.html#L357'>u_</a>                357 src/formula/callable_objects.cpp 		return variant(u_.musthave_status("unpoisonable"));</span>
<span class='curline'><a href='../S/779.html#L359'>u_</a>                359 src/formula/callable_objects.cpp 		return variant(u_.musthave_status("undrainable"));</span>
<span class='curline'><a href='../S/779.html#L361'>u_</a>                361 src/formula/callable_objects.cpp 		return variant(u_.musthave_status("unplagueable"));</span>
<span class='curline'><a href='../S/779.html#L363'>u_</a>                363 src/formula/callable_objects.cpp 		return variant(u_.cost());</span>
<span class='curline'><a href='../S/779.html#L365'>u_</a>                365 src/formula/callable_objects.cpp 		return variant(u_.recall_cost());</span>
<span class='curline'><a href='../S/779.html#L367'>u_</a>                367 src/formula/callable_objects.cpp 		return variant(u_.usage());</span>
<span class='curline'><a href='../S/779.html#L399'>u_</a>                399 src/formula/callable_objects.cpp 	return u_.id().compare(u_callable-&gt;u_.id());</span>
<span class='curline'><a href='../S/770.html#L118'>u_</a>                118 src/formula/callable_objects.hpp 	const unit&amp; get_unit() const { return u_; }</span>
<span class='curline'><a href='../S/770.html#L123'>u_</a>                123 src/formula/callable_objects.hpp 	const unit&amp; u_;</span>
<span class='curline'><a href='../S/770.html#L129'>u_</a>                129 src/formula/callable_objects.hpp 	explicit unit_type_callable(const unit_type&amp; u) : u_(u)</span>
<span class='curline'><a href='../S/770.html#L139'>u_</a>                139 src/formula/callable_objects.hpp 	const unit_type&amp; get_unit_type() const { return u_; }</span>
<span class='curline'><a href='../S/770.html#L142'>u_</a>                142 src/formula/callable_objects.hpp 	const unit_type&amp; u_;</span>
<span class='curline'><a href='../S/998.html#L46'>u_</a>                 46 src/units/abilities.cpp 		unit_map::const_iterator u_;</span>
<span class='curline'><a href='../S/998.html#L52'>u_</a>                 52 src/units/abilities.cpp 			if (u_.valid()) {</span>
<span class='curline'><a href='../S/998.html#L53'>u_</a>                 53 src/units/abilities.cpp 				u_-&gt;set_facing(new_dir);</span>
<span class='curline'><a href='../S/998.html#L58'>u_</a>                 58 src/units/abilities.cpp 			if (u_.valid()) {</span>
<span class='curline'><a href='../S/998.html#L59'>u_</a>                 59 src/units/abilities.cpp 				u_-&gt;set_facing(save_dir_);</span>
<span class='curline'><a href='../S/1009.html#L34'>u_</a>                 34 src/units/animation_component.cpp 		int matching = i-&gt;matches(disp,loc,second_loc,&amp;u_,event,value,hit,attack,second_attack,swing_num);</span>
<span class='curline'><a href='../S/1009.html#L54'>u_</a>                 54 src/units/animation_component.cpp 	if (preferences::show_standing_animations()&amp;&amp; !u_.incapacitated()) {</span>
<span class='curline'><a href='../S/1009.html#L55'>u_</a>                 55 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "standing"),</span>
<span class='curline'><a href='../S/1009.html#L58'>u_</a>                 58 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_disabled_"),</span>
<span class='curline'><a href='../S/1009.html#L66'>u_</a>                 66 src/units/animation_component.cpp 	start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_ghosted_"),</span>
<span class='curline'><a href='../S/1009.html#L74'>u_</a>                 74 src/units/animation_component.cpp 	start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_disabled_ghosted_"),</span>
<span class='curline'><a href='../S/1009.html#L81'>u_</a>                 81 src/units/animation_component.cpp 	start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "idling"),</span>
<span class='curline'><a href='../S/1009.html#L88'>u_</a>                 88 src/units/animation_component.cpp 	if (preferences::show_standing_animations() &amp;&amp; !u_.incapacitated()) {</span>
<span class='curline'><a href='../S/1009.html#L89'>u_</a>                 89 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "selected"),</span>
<span class='curline'><a href='../S/1009.html#L92'>u_</a>                 92 src/units/animation_component.cpp 		start_animation(INT_MAX, choose_animation(*disp, u_.loc_, "_disabled_selected_"),</span>
<span class='curline'><a href='../S/1009.html#L114'>u_</a>                114 src/units/animation_component.cpp 	anim_-&gt;start_animation(real_start_time, u_.loc_, u_.loc_.get_direction(u_.facing_),</span>
<span class='curline'><a href='../S/1009.html#L134'>u_</a>                134 src/units/animation_component.cpp 	    !disp.tile_nearly_on_screen(u_.loc_) || u_.incapacitated())</span>
<span class='curline'><a href='../S/1009.html#L166'>u_</a>                166 src/units/animation_component.cpp 		const t_translation::terrain_code terrain = map.get_terrain(u_.loc_);</span>
<span class='curline'><a href='../S/1009.html#L170'>u_</a>                170 src/units/animation_component.cpp 		if (u_.is_flying() &amp;&amp; height_adjust &lt; 0) {</span>
<span class='curline'><a href='../S/1009.html#L175'>u_</a>                175 src/units/animation_component.cpp 		params.image_mod = u_.image_mods();</span>
<span class='curline'><a href='../S/1009.html#L176'>u_</a>                176 src/units/animation_component.cpp 		params.halo_mod = u_.TC_image_mods();</span>
<span class='curline'><a href='../S/1009.html#L177'>u_</a>                177 src/units/animation_component.cpp 		params.image= u_.default_anim_image();</span>
<span class='curline'><a href='../S/987.html#L38'>u_</a>                 38 src/units/animation_component.hpp 		u_(my_unit),</span>
<span class='curline'><a href='../S/987.html#L50'>u_</a>                 50 src/units/animation_component.hpp 		u_(my_unit),</span>
<span class='curline'><a href='../S/987.html#L113'>u_</a>                113 src/units/animation_component.hpp 	const unit &amp; u_; /**&lt; A reference to the unit that owns this object. It does so with a scoped pointer, so this reference should not dangle. */</span>
<span class='curline'><a href='../S/1010.html#L2419'>u_</a>               2419 src/units/unit.cpp 	: u_(const_cast&lt;unit&amp;&gt;(u))</span>
<span class='curline'><a href='../S/1010.html#L2423'>u_</a>               2423 src/units/unit.cpp 		u_.set_movement(u_.total_movement());</span>
<span class='curline'><a href='../S/1010.html#L2431'>u_</a>               2431 src/units/unit.cpp 		if(!resources::gameboard-&gt;units().has_unit(&amp;u_)) {</span>
<span class='curline'><a href='../S/1010.html#L2439'>u_</a>               2439 src/units/unit.cpp 		u_.set_movement(moves_);</span>
<span class='curline'><a href='../S/991.html#L977'>u_</a>                977 src/units/unit.hpp 		explicit upkeep_value_visitor(const unit&amp; unit) : u_(unit) {}</span>
<span class='curline'><a href='../S/991.html#L982'>u_</a>                982 src/units/unit.hpp 			return u_.level();</span>
<span class='curline'><a href='../S/991.html#L997'>u_</a>                997 src/units/unit.hpp 		const unit&amp; u_;</span>
<span class='curline'><a href='../S/991.html#L1724'>u_</a>               1724 src/units/unit.hpp 	unit&amp; u_;</span>
</pre>
</body>
</html>
