<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>units</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4378.html#L721'>units</a>             721 data/ai/lua/ai_helper.lua function ai_helper.distance_map(units, map)</span>
<span class='curline'><a href='../S/4378.html#L731'>units</a>             731 data/ai/lua/ai_helper.lua             for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L741'>units</a>             741 data/ai/lua/ai_helper.lua                 for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L752'>units</a>             752 data/ai/lua/ai_helper.lua function ai_helper.inverse_distance_map(units, map)</span>
<span class='curline'><a href='../S/4378.html#L761'>units</a>             761 data/ai/lua/ai_helper.lua             for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L771'>units</a>             771 data/ai/lua/ai_helper.lua                 for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L902'>units</a>             902 data/ai/lua/ai_helper.lua     local units = {}</span>
<span class='curline'><a href='../S/4378.html#L904'>units</a>             904 data/ai/lua/ai_helper.lua         if (not unit.status.petrified) then table.insert(units, unit) end</span>
<span class='curline'><a href='../S/4378.html#L907'>units</a>             907 data/ai/lua/ai_helper.lua     return units</span>
<span class='curline'><a href='../S/4378.html#L914'>units</a>             914 data/ai/lua/ai_helper.lua     local units = {}</span>
<span class='curline'><a href='../S/4378.html#L916'>units</a>             916 data/ai/lua/ai_helper.lua         if (unit.moves &gt; 0) then table.insert(units, unit) end</span>
<span class='curline'><a href='../S/4378.html#L919'>units</a>             919 data/ai/lua/ai_helper.lua     return units</span>
<span class='curline'><a href='../S/4378.html#L927'>units</a>             927 data/ai/lua/ai_helper.lua     local units = {}</span>
<span class='curline'><a href='../S/4378.html#L930'>units</a>             930 data/ai/lua/ai_helper.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4378.html#L934'>units</a>             934 data/ai/lua/ai_helper.lua     return units</span>
<span class='curline'><a href='../S/4378.html#L961'>units</a>             961 data/ai/lua/ai_helper.lua     local units = {}</span>
<span class='curline'><a href='../S/4378.html#L965'>units</a>             965 data/ai/lua/ai_helper.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4378.html#L969'>units</a>             969 data/ai/lua/ai_helper.lua     return units</span>
<span class='curline'><a href='../S/4378.html#L1130'>units</a>            1130 data/ai/lua/ai_helper.lua function ai_helper.get_dst_src_units(units, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1142'>units</a>            1142 data/ai/lua/ai_helper.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1162'>units</a>            1162 data/ai/lua/ai_helper.lua function ai_helper.get_dst_src(units, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1168'>units</a>            1168 data/ai/lua/ai_helper.lua     if (not units) then</span>
<span class='curline'><a href='../S/4378.html#L1169'>units</a>            1169 data/ai/lua/ai_helper.lua         units = wesnoth.get_units { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4378.html#L1172'>units</a>            1172 data/ai/lua/ai_helper.lua     return ai_helper.get_dst_src_units(units, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1413'>units</a>            1413 data/ai/lua/ai_helper.lua function ai_helper.find_best_move(units, rating_function, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1434'>units</a>            1434 data/ai/lua/ai_helper.lua     if units.hitpoints then units = { units } end</span>
<span class='curline'><a href='../S/4378.html#L1437'>units</a>            1437 data/ai/lua/ai_helper.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1566'>units</a>            1566 data/ai/lua/ai_helper.lua function ai_helper.get_attacks(units, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1588'>units</a>            1588 data/ai/lua/ai_helper.lua     if (not units[1]) then return attacks end</span>
<span class='curline'><a href='../S/4378.html#L1590'>units</a>            1590 data/ai/lua/ai_helper.lua     local side = units[1].side  -- all units need to be on same side</span>
<span class='curline'><a href='../S/4378.html#L1601'>units</a>            1601 data/ai/lua/ai_helper.lua         for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1646'>units</a>            1646 data/ai/lua/ai_helper.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1715'>units</a>            1715 data/ai/lua/ai_helper.lua         for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1773'>units</a>            1773 data/ai/lua/ai_helper.lua function ai_helper.get_attack_combos_full(units, enemy, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1785'>units</a>            1785 data/ai/lua/ai_helper.lua     local all_attacks = ai_helper.get_attacks(units, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1802'>units</a>            1802 data/ai/lua/ai_helper.lua function ai_helper.get_attack_combos(units, enemy, cfg)</span>
<span class='curline'><a href='../S/4378.html#L1821'>units</a>            1821 data/ai/lua/ai_helper.lua     if units[1] and (units[1].side == wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4378.html#L1833'>units</a>            1833 data/ai/lua/ai_helper.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1848'>units</a>            1848 data/ai/lua/ai_helper.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4378.html#L1875'>units</a>            1875 data/ai/lua/ai_helper.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1165'>units</a>            1165 data/ai/lua/battle_calcs.lua     reach.units = LS.create()</span>
<span class='curline'><a href='../S/4380.html#L1190'>units</a>            1190 data/ai/lua/battle_calcs.lua         reach.units:insert(loc[1], loc[2], 1)</span>
<span class='curline'><a href='../S/4380.html#L1193'>units</a>            1193 data/ai/lua/battle_calcs.lua             reach.units:insert(xa, ya, 1)</span>
<span class='curline'><a href='../S/4380.html#L1203'>units</a>            1203 data/ai/lua/battle_calcs.lua function battle_calcs.get_attack_map(units, cfg)</span>
<span class='curline'><a href='../S/4380.html#L1214'>units</a>            1214 data/ai/lua/battle_calcs.lua     attack_map1.units = LS.create()</span>
<span class='curline'><a href='../S/4380.html#L1217'>units</a>            1217 data/ai/lua/battle_calcs.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1219'>units</a>            1219 data/ai/lua/battle_calcs.lua         attack_map1.units:union_merge(attack_map2.units, function(x, y, v1, v2)</span>
<span class='curline'><a href='../S/4380.html#L1230'>units</a>            1230 data/ai/lua/battle_calcs.lua function battle_calcs.relative_damage_map(units, enemies, cache)</span>
<span class='curline'><a href='../S/4380.html#L1241'>units</a>            1241 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1252'>units</a>            1252 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1271'>units</a>            1271 data/ai/lua/battle_calcs.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1287'>units</a>            1287 data/ai/lua/battle_calcs.lua     for i,_ in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1288'>units</a>            1288 data/ai/lua/battle_calcs.lua         my_attack_maps[i].units:iter(function(x, y, v)</span>
<span class='curline'><a href='../S/4380.html#L1294'>units</a>            1294 data/ai/lua/battle_calcs.lua         enemy_attack_maps[i].units:iter(function(x, y, v)</span>
<span class='curline'><a href='../S/4380.html#L1303'>units</a>            1303 data/ai/lua/battle_calcs.lua function battle_calcs.best_defense_map(units, cfg)</span>
<span class='curline'><a href='../S/4380.html#L1318'>units</a>            1318 data/ai/lua/battle_calcs.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1344'>units</a>            1344 data/ai/lua/battle_calcs.lua function battle_calcs.get_attack_combos_subset(units, enemy, cfg)</span>
<span class='curline'><a href='../S/4380.html#L1477'>units</a>            1477 data/ai/lua/battle_calcs.lua     if units[1] and (units[1].side == wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4380.html#L1497'>units</a>            1497 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1509'>units</a>            1509 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1561'>units</a>            1561 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4380.html#L1576'>units</a>            1576 data/ai/lua/battle_calcs.lua             attack.rating = battle_calcs.attack_rating(units[attack.unit_i], enemy, { x, y })</span>
<span class='curline'><a href='../S/4383.html#L37'>units</a>              37 data/ai/lua/ca_high_xp_attack.lua     local units = {}</span>
<span class='curline'><a href='../S/4383.html#L40'>units</a>              40 data/ai/lua/ca_high_xp_attack.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4383.html#L48'>units</a>              48 data/ai/lua/ca_high_xp_attack.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4383.html#L60'>units</a>              60 data/ai/lua/ca_high_xp_attack.lua                 for i_u,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4383.html#L137'>units</a>             137 data/ai/lua/ca_high_xp_attack.lua                 local attacker = units[i_a]</span>
<span class='curline'><a href='../S/4383.html#L182'>units</a>             182 data/ai/lua/ca_high_xp_attack.lua                     local unit = units[i_u]</span>
<span class='curline'><a href='../S/4383.html#L215'>units</a>             215 data/ai/lua/ca_high_xp_attack.lua                 local attacker = units[attack_info.ind_attacker]</span>
<span class='curline'><a href='../S/4375.html#L41'>units</a>              41 data/ai/lua/generic_rush_engine.lua                 local units = AH.get_live_units { side = s.side }</span>
<span class='curline'><a href='../S/4375.html#L42'>units</a>              42 data/ai/lua/generic_rush_engine.lua                 for i,u in ipairs(units) do total_hp = total_hp + u.hitpoints end</span>
<span class='curline'><a href='../S/4375.html#L45'>units</a>              45 data/ai/lua/generic_rush_engine.lua                     print('   Player ' .. s.side .. ' (' .. leader.type .. '): ' .. #units .. ' Units with total HP: ' .. total_hp)</span>
<span class='curline'><a href='../S/4375.html#L272'>units</a>             272 data/ai/lua/generic_rush_engine.lua             local units = wesnoth.get_units { side = wesnoth.current.side, canrecruit = 'no',</span>
<span class='curline'><a href='../S/4375.html#L275'>units</a>             275 data/ai/lua/generic_rush_engine.lua             if (not units[1]) then</span>
<span class='curline'><a href='../S/4375.html#L303'>units</a>             303 data/ai/lua/generic_rush_engine.lua             local enemy_attack_map = BC.get_attack_map(enemies).units</span>
<span class='curline'><a href='../S/4375.html#L333'>units</a>             333 data/ai/lua/generic_rush_engine.lua                 for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/4375.html#L518'>units</a>             518 data/ai/lua/generic_rush_engine.lua             local units = wesnoth.get_units {</span>
<span class='curline'><a href='../S/4375.html#L522'>units</a>             522 data/ai/lua/generic_rush_engine.lua             local unit, loc = R.retreat_injured_units(units)</span>
<span class='curline'><a href='../S/4375.html#L568'>units</a>             568 data/ai/lua/generic_rush_engine.lua             local units = wesnoth.get_units {</span>
<span class='curline'><a href='../S/4375.html#L574'>units</a>             574 data/ai/lua/generic_rush_engine.lua             if not units[1] then</span>
<span class='curline'><a href='../S/4377.html#L8'>units</a>               8 data/ai/lua/move_to_any_target.lua             local units = wesnoth.get_units {</span>
<span class='curline'><a href='../S/4377.html#L14'>units</a>              14 data/ai/lua/move_to_any_target.lua             if (not units[1]) then</span>
<span class='curline'><a href='../S/4377.html#L21'>units</a>              21 data/ai/lua/move_to_any_target.lua             for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/4379.html#L36'>units</a>              36 data/ai/lua/retreat.lua function retreat_functions.retreat_injured_units(units)</span>
<span class='curline'><a href='../S/4379.html#L39'>units</a>              39 data/ai/lua/retreat.lua     for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/4379.html#L175'>units</a>             175 data/ai/lua/retreat.lua                 local enemy_count = enemy_attack_map.units:get(loc[1], loc[2]) or 0</span>
<span class='curline'><a href='../S/4379.html#L202'>units</a>             202 data/ai/lua/retreat.lua     return best_unit, best_loc, enemy_attack_map.units:get(best_loc[1], best_loc[2]) or 0</span>
<span class='curline'><a href='../S/4324.html#L6'>units</a>               6 data/ai/micro_ais/cas/ca_assassin_move.lua     local units = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4324.html#L16'>units</a>              16 data/ai/micro_ais/cas/ca_assassin_move.lua     return units, target</span>
<span class='curline'><a href='../S/4324.html#L44'>units</a>              44 data/ai/micro_ais/cas/ca_assassin_move.lua     local units, target = get_units_target(cfg)</span>
<span class='curline'><a href='../S/4324.html#L45'>units</a>              45 data/ai/micro_ais/cas/ca_assassin_move.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4324.html#L53'>units</a>              53 data/ai/micro_ais/cas/ca_assassin_move.lua     local units, target = get_units_target(cfg)</span>
<span class='curline'><a href='../S/4324.html#L54'>units</a>              54 data/ai/micro_ais/cas/ca_assassin_move.lua     local unit = units[1]</span>
<span class='curline'><a href='../S/4330.html#L64'>units</a>              64 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         local units = AH.get_units_with_attacks { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4330.html#L65'>units</a>              65 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4323.html#L226'>units</a>             226 data/ai/micro_ais/cas/ca_bottleneck_move.lua     local units = {}</span>
<span class='curline'><a href='../S/4323.html#L228'>units</a>             228 data/ai/micro_ais/cas/ca_bottleneck_move.lua         units = AH.get_units_with_moves { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4323.html#L230'>units</a>             230 data/ai/micro_ais/cas/ca_bottleneck_move.lua         units = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }</span>
<span class='curline'><a href='../S/4323.html#L232'>units</a>             232 data/ai/micro_ais/cas/ca_bottleneck_move.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4323.html#L345'>units</a>             345 data/ai/micro_ais/cas/ca_bottleneck_move.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4323.html#L457'>units</a>             457 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local units = {}</span>
<span class='curline'><a href='../S/4323.html#L459'>units</a>             459 data/ai/micro_ais/cas/ca_bottleneck_move.lua             units = AH.get_units_with_moves { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4323.html#L461'>units</a>             461 data/ai/micro_ais/cas/ca_bottleneck_move.lua             units = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }</span>
<span class='curline'><a href='../S/4323.html#L464'>units</a>             464 data/ai/micro_ais/cas/ca_bottleneck_move.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4321.html#L22'>units</a>              22 data/ai/micro_ais/cas/ca_fast_move.lua     local units = {}</span>
<span class='curline'><a href='../S/4321.html#L24'>units</a>              24 data/ai/micro_ais/cas/ca_fast_move.lua         if (not unit.status.guardian) then table.insert(units, unit) end</span>
<span class='curline'><a href='../S/4321.html#L77'>units</a>              77 data/ai/micro_ais/cas/ca_fast_move.lua         local max_villages = math.floor(#units / 4. * village_value)</span>
<span class='curline'><a href='../S/4321.html#L125'>units</a>             125 data/ai/micro_ais/cas/ca_fast_move.lua         for i_u,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4321.html#L151'>units</a>             151 data/ai/micro_ais/cas/ca_fast_move.lua                         units[unit_info.i_unit],</span>
<span class='curline'><a href='../S/4321.html#L155'>units</a>             155 data/ai/micro_ais/cas/ca_fast_move.lua                 cost = cost / units[unit_info.i_unit].max_moves</span>
<span class='curline'><a href='../S/4321.html#L171'>units</a>             171 data/ai/micro_ais/cas/ca_fast_move.lua             local unit = units[best_unit_info.i_unit]</span>
<span class='curline'><a href='../S/4305.html#L14'>units</a>              14 data/ai/micro_ais/cas/ca_goto.lua     move_cost = move_cost + (enemy_attack_map.units:get(x,y) or 0) * multiplier</span>
<span class='curline'><a href='../S/4305.html#L68'>units</a>              68 data/ai/micro_ais/cas/ca_goto.lua     local units = {}</span>
<span class='curline'><a href='../S/4305.html#L72'>units</a>              72 data/ai/micro_ais/cas/ca_goto.lua                 table.insert(units, unit)</span>
<span class='curline'><a href='../S/4305.html#L76'>units</a>              76 data/ai/micro_ais/cas/ca_goto.lua         units = all_units</span>
<span class='curline'><a href='../S/4305.html#L78'>units</a>              78 data/ai/micro_ais/cas/ca_goto.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4305.html#L81'>units</a>              81 data/ai/micro_ais/cas/ca_goto.lua     GO_units, GO_locs = units, locs</span>
<span class='curline'><a href='../S/4305.html#L87'>units</a>              87 data/ai/micro_ais/cas/ca_goto.lua     local units, locs = GO_units, GO_locs</span>
<span class='curline'><a href='../S/4305.html#L121'>units</a>             121 data/ai/micro_ais/cas/ca_goto.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4322.html#L9'>units</a>               9 data/ai/micro_ais/cas/ca_hang_out.lua     local units = AH.get_units_with_moves {</span>
<span class='curline'><a href='../S/4322.html#L13'>units</a>              13 data/ai/micro_ais/cas/ca_hang_out.lua     return units</span>
<span class='curline'><a href='../S/4322.html#L32'>units</a>              32 data/ai/micro_ais/cas/ca_hang_out.lua         local units = wesnoth.get_units { side = wesnoth.current.side, { "and", H.get_child(cfg, "filter") } }</span>
<span class='curline'><a href='../S/4322.html#L33'>units</a>              33 data/ai/micro_ais/cas/ca_hang_out.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4322.html#L45'>units</a>              45 data/ai/micro_ais/cas/ca_hang_out.lua     local units = get_hang_out_units(cfg)</span>
<span class='curline'><a href='../S/4322.html#L88'>units</a>              88 data/ai/micro_ais/cas/ca_hang_out.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4322.html#L129'>units</a>             129 data/ai/micro_ais/cas/ca_hang_out.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4326.html#L87'>units</a>              87 data/ai/micro_ais/cas/ca_healer_move.lua                                 rating = rating + 15 * (enemy_attack_map.units:get(healee.x, healee.y) or 0)</span>
<span class='curline'><a href='../S/4326.html#L96'>units</a>              96 data/ai/micro_ais/cas/ca_healer_move.lua             local enemies_in_reach = enemy_attack_map.units:get(loc[1], loc[2]) or 0</span>
<span class='curline'><a href='../S/4290.html#L49'>units</a>              49 data/ai/micro_ais/cas/ca_messenger_attack.lua     local units = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4290.html#L54'>units</a>              54 data/ai/micro_ais/cas/ca_messenger_attack.lua     if (not units[1]) then return end</span>
<span class='curline'><a href='../S/4290.html#L56'>units</a>              56 data/ai/micro_ais/cas/ca_messenger_attack.lua     local attacks = AH.get_attacks(units, { simulate_combat = true })</span>
<span class='curline'><a href='../S/4308.html#L12'>units</a>              12 data/ai/micro_ais/cas/ca_protect_unit_attack.lua     local units = {}</span>
<span class='curline'><a href='../S/4308.html#L14'>units</a>              14 data/ai/micro_ais/cas/ca_protect_unit_attack.lua         table.insert(units, AH.get_units_with_attacks { id = u.id }[1])</span>
<span class='curline'><a href='../S/4308.html#L16'>units</a>              16 data/ai/micro_ais/cas/ca_protect_unit_attack.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4308.html#L18'>units</a>              18 data/ai/micro_ais/cas/ca_protect_unit_attack.lua     local attacks = AH.get_attacks(units, { simulate_combat = true })</span>
<span class='curline'><a href='../S/4308.html#L26'>units</a>              26 data/ai/micro_ais/cas/ca_protect_unit_attack.lua         local attack_map = BC.get_attack_map_unit(enemy).units</span>
<span class='curline'><a href='../S/4328.html#L7'>units</a>               7 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local units = {}</span>
<span class='curline'><a href='../S/4328.html#L9'>units</a>               9 data/ai/micro_ais/cas/ca_protect_unit_move.lua         table.insert(units, AH.get_units_with_moves { id = u.id }[1])</span>
<span class='curline'><a href='../S/4328.html#L11'>units</a>              11 data/ai/micro_ais/cas/ca_protect_unit_move.lua     return units</span>
<span class='curline'><a href='../S/4328.html#L29'>units</a>              29 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local units = wesnoth.get_units { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4328.html#L32'>units</a>              32 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local attack_map = BC.get_attack_map(units).units  -- enemy attack map</span>
<span class='curline'><a href='../S/4328.html#L33'>units</a>              33 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local enemy_attack_map = BC.get_attack_map(enemy_units).units  -- enemy attack map</span>
<span class='curline'><a href='../S/4296.html#L9'>units</a>               9 data/ai/micro_ais/cas/ca_simple_attack.lua     local units = AH.get_units_with_attacks {</span>
<span class='curline'><a href='../S/4296.html#L13'>units</a>              13 data/ai/micro_ais/cas/ca_simple_attack.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4296.html#L28'>units</a>              28 data/ai/micro_ais/cas/ca_simple_attack.lua     local attacks = AH.get_attacks(units, { include_occupied = true })</span>
<span class='curline'><a href='../S/4335.html#L7'>units</a>               7 data/ai/micro_ais/cas/ca_swarm_move.lua     local units = wesnoth.get_units { side = wesnoth.current.side }</span>
<span class='curline'><a href='../S/4335.html#L8'>units</a>               8 data/ai/micro_ais/cas/ca_swarm_move.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4335.html#L21'>units</a>              21 data/ai/micro_ais/cas/ca_swarm_move.lua     local units, units_no_moves = {}, {}</span>
<span class='curline'><a href='../S/4335.html#L24'>units</a>              24 data/ai/micro_ais/cas/ca_swarm_move.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4335.html#L33'>units</a>              33 data/ai/micro_ais/cas/ca_swarm_move.lua     local unit = units[math.random(#units)]</span>
<span class='curline'><a href='../S/4309.html#L28'>units</a>              28 data/ai/micro_ais/cas/ca_swarm_scatter.lua     local units = get_swarm_units(cfg)</span>
<span class='curline'><a href='../S/4309.html#L33'>units</a>              33 data/ai/micro_ais/cas/ca_swarm_scatter.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4304.html#L35'>units</a>              35 data/ai/micro_ais/cas/ca_wolves_move.lua     local avoid_map = BC.get_attack_map(avoid_units).units</span>
<span class='curline'><a href='../S/4310.html#L33'>units</a>              33 data/ai/micro_ais/cas/ca_wolves_wander.lua     local avoid_map = BC.get_attack_map(avoid_units).units</span>
<span class='curline'><a href='../S/4272.html#L115'>units</a>             115 data/ai/micro_ais/micro_ai_helper.lua         local units = wesnoth.get_units { side = side }</span>
<span class='curline'><a href='../S/4272.html#L116'>units</a>             116 data/ai/micro_ais/micro_ai_helper.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4541.html#L9'>units</a>               9 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua     local units = wesnoth.get_units { side = wesnoth.current.side,</span>
<span class='curline'><a href='../S/4541.html#L13'>units</a>              13 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4541.html#L18'>units</a>              18 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua     local units = wesnoth.get_units { side = wesnoth.current.side,</span>
<span class='curline'><a href='../S/4541.html#L33'>units</a>              33 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua     for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/4541.html#L57'>units</a>              57 data/campaigns/Eastern_Invasion/ai/ca_ogres_flee.lua                 local enemy_rating = - (enemy_attack_map.units:get(r[1], r[2]) or 0) * enemy_weight</span>
<span class='curline'><a href='../S/4640.html#L15'>units</a>              15 data/campaigns/Son_Of_The_Black_Eye/ai/ca_transport_S6.lua     local units = wesnoth.get_units { side = wesnoth.current.side, formula = 'movement_left &gt; 0' }</span>
<span class='curline'><a href='../S/4640.html#L17'>units</a>              17 data/campaigns/Son_Of_The_Black_Eye/ai/ca_transport_S6.lua     for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/4640.html#L27'>units</a>              27 data/campaigns/Son_Of_The_Black_Eye/ai/ca_transport_S6.lua     local units = wesnoth.get_units {}</span>
<span class='curline'><a href='../S/4640.html#L34'>units</a>              34 data/campaigns/Son_Of_The_Black_Eye/ai/ca_transport_S6.lua     for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/4998.html#L7'>units</a>               7 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua     local units = wesnoth.get_units {</span>
<span class='curline'><a href='../S/4998.html#L12'>units</a>              12 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4998.html#L15'>units</a>              15 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_aggressive_attack_no_suicide.lua     local attacks = AH.get_attacks(units, { include_occupied = true })</span>
<span class='curline'><a href='../S/4999.html#L8'>units</a>               8 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua     local units = wesnoth.get_units {</span>
<span class='curline'><a href='../S/4999.html#L13'>units</a>              13 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua     if (not units[1]) then return 0 end</span>
<span class='curline'><a href='../S/4999.html#L15'>units</a>              15 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua     local unit, dst, enemy_threat = R.retreat_injured_units(units)</span>
<span class='curline'><a href='../S/5525.html#L378'>units</a>             378 data/lua/wml-tags.lua 	local units = wesnoth.get_units(filter)</span>
<span class='curline'><a href='../S/5525.html#L383'>units</a>             383 data/lua/wml-tags.lua 	for i,u in ipairs(units) do</span>
<span class='curline'><a href='../S/5525.html#L663'>units</a>             663 data/lua/wml-tags.lua 	local units = wesnoth.get_units(cfg)</span>
<span class='curline'><a href='../S/5525.html#L665'>units</a>             665 data/lua/wml-tags.lua 	for i, unit in ipairs(units) do</span>
<span class='curline'><a href='../S/5529.html#L13'>units</a>              13 data/lua/wml/move_unit.lua 	local units = wesnoth.get_units(cfg)</span>
<span class='curline'><a href='../S/5529.html#L16'>units</a>              16 data/lua/wml/move_unit.lua 	for current_unit_index, current_unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4245.html#L66'>units</a>              66 data/multiplayer/eras.lua 				local units = 0</span>
<span class='curline'><a href='../S/4245.html#L71'>units</a>              71 data/multiplayer/eras.lua 						units = units + wesnoth.get_variable("unit_worth")</span>
<span class='curline'><a href='../S/4245.html#L75'>units</a>              75 data/multiplayer/eras.lua 				local total = units + team.gold + income</span>
<span class='curline'><a href='../S/4245.html#L77'>units</a>              77 data/multiplayer/eras.lua 				r, g, b, side, income, units, team.gold, total)</span>
<span class='curline'><a href='../S/4170.html#L178'>units</a>             178 data/multiplayer/scenarios/2p_Dark_Forecast.lua 			local units = unit_gold / gold_per_unit + units_amount + wesnoth.random(-1, 2)</span>
<span class='curline'><a href='../S/4170.html#L180'>units</a>             180 data/multiplayer/scenarios/2p_Dark_Forecast.lua 				units = units - 1</span>
<span class='curline'><a href='../S/4170.html#L186'>units</a>             186 data/multiplayer/scenarios/2p_Dark_Forecast.lua 				units = units / (end_spawns + 3)</span>
<span class='curline'><a href='../S/4170.html#L195'>units</a>             195 data/multiplayer/scenarios/2p_Dark_Forecast.lua 				units = math.ceil(units),</span>
<span class='curline'><a href='../S/4170.html#L202'>units</a>             202 data/multiplayer/scenarios/2p_Dark_Forecast.lua 				units = units_amount + 1,</span>
<span class='curline'><a href='../S/4170.html#L286'>units</a>             286 data/multiplayer/scenarios/2p_Dark_Forecast.lua 	local unit_types = get_spawn_types(next_spawn.units, next_spawn.gold, random_spawns[next_spawn.pool_num])</span>
<span class='curline'><a href='../S/4054.html#L211'>units</a>             211 data/tools/unit_tree/helpers.py             units = recruit.split(",")</span>
<span class='curline'><a href='../S/4054.html#L213'>units</a>             213 data/tools/unit_tree/helpers.py             multiplayer_side.units = {}</span>
<span class='curline'><a href='../S/4054.html#L215'>units</a>             215 data/tools/unit_tree/helpers.py             for u in units:</span>
<span class='curline'><a href='../S/4054.html#L218'>units</a>             218 data/tools/unit_tree/helpers.py                     multiplayer_side.units[uid] = True</span>
<span class='curline'><a href='../S/4054.html#L222'>units</a>             222 data/tools/unit_tree/helpers.py                     multiplayer_side.units[uid] = True</span>
<span class='curline'><a href='../S/4054.html#L263'>units</a>             263 data/tools/unit_tree/helpers.py             for units in addunits:</span>
<span class='curline'><a href='../S/4054.html#L264'>units</a>             264 data/tools/unit_tree/helpers.py                 r += units.get_all(tag = oftype)</span>
<span class='curline'><a href='../S/4054.html#L369'>units</a>             369 data/tools/unit_tree/helpers.py                 for uid in multiplayer_side.units:</span>
<span class='curline'><a href='../S/4052.html#L620'>units</a>             620 data/tools/unit_tree/html_output.py                             if un.id in ms.units:</span>
<span class='curline'><a href='../S/4053.html#L127'>units</a>             127 data/tools/unit_tree/wiki_output.py         units = units_per_race[race]</span>
<span class='curline'><a href='../S/4053.html#L135'>units</a>             135 data/tools/unit_tree/wiki_output.py         for u in units:</span>
<span class='curline'><a href='../S/4053.html#L159'>units</a>             159 data/tools/unit_tree/wiki_output.py         for unit in units:</span>
<span class='curline'><a href='../S/893.html#L59'>units</a>              59 src/actions/advancement.cpp 		const unit&amp; u = *resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L97'>units</a>              97 src/actions/advancement.cpp 		unit_map::iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L98'>units</a>              98 src/actions/advancement.cpp 		if (u == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/893.html#L136'>units</a>             136 src/actions/advancement.cpp 		u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L139'>units</a>             139 src/actions/advancement.cpp 		if (animate &amp;&amp; u != resources::gameboard-&gt;units().end() &amp;&amp; !resources::screen-&gt;video().update_locked()) {</span>
<span class='curline'><a href='../S/893.html#L192'>units</a>             192 src/actions/advancement.cpp 					unit_map::iterator u = resources::gameboard-&gt;units().find(loc_);</span>
<span class='curline'><a href='../S/893.html#L246'>units</a>             246 src/actions/advancement.cpp 		unit_map::iterator u = resources::gameboard-&gt;units().find(params.loc_);</span>
<span class='curline'><a href='../S/893.html#L257'>units</a>             257 src/actions/advancement.cpp 			u = resources::gameboard-&gt;units().find(params.loc_);</span>
<span class='curline'><a href='../S/893.html#L272'>units</a>             272 src/actions/advancement.cpp 		u = resources::gameboard-&gt;units().find(params.loc_);</span>
<span class='curline'><a href='../S/893.html#L316'>units</a>             316 src/actions/advancement.cpp 	unit_map::unit_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/893.html#L355'>units</a>             355 src/actions/advancement.cpp 	resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/893.html#L356'>units</a>             356 src/actions/advancement.cpp 	u = resources::gameboard-&gt;units().insert(new_unit).first;</span>
<span class='curline'><a href='../S/895.html#L68'>units</a>              68 src/actions/attack.cpp 		const_attack_ptr opp_weapon, const unit_map&amp; units) :</span>
<span class='curline'><a href='../S/895.html#L124'>units</a>             124 src/actions/attack.cpp 		backstab_pos = is_attacker &amp;&amp; backstab_check(u_loc, opp_loc, units, resources::gameboard-&gt;teams());</span>
<span class='curline'><a href='../S/895.html#L167'>units</a>             167 src/actions/attack.cpp 		damage_multiplier += combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(), u_loc, u.alignment(), u.is_fearless());</span>
<span class='curline'><a href='../S/895.html#L169'>units</a>             169 src/actions/attack.cpp 		int leader_bonus = under_leadership(units, u_loc).first;</span>
<span class='curline'><a href='../S/895.html#L322'>units</a>             322 src/actions/attack.cpp battle_context::battle_context(const unit_map&amp; units,</span>
<span class='curline'><a href='../S/895.html#L329'>units</a>             329 src/actions/attack.cpp 	const unit &amp;attacker = attacker_ptr ? *attacker_ptr : *units.find(attacker_loc);</span>
<span class='curline'><a href='../S/895.html#L330'>units</a>             330 src/actions/attack.cpp 	const unit &amp;defender = *units.find(defender_loc);</span>
<span class='curline'><a href='../S/895.html#L337'>units</a>             337 src/actions/attack.cpp 		attacker_weapon = choose_attacker_weapon(attacker, defender, units,</span>
<span class='curline'><a href='../S/895.html#L342'>units</a>             342 src/actions/attack.cpp 			units, attacker_loc, defender_loc, prev_def);</span>
<span class='curline'><a href='../S/895.html#L361'>units</a>             361 src/actions/attack.cpp 				true, defender, defender_loc, ddef, units);</span>
<span class='curline'><a href='../S/895.html#L363'>units</a>             363 src/actions/attack.cpp 				attacker, attacker_loc, adef, units);</span>
<span class='curline'><a href='../S/895.html#L475'>units</a>             475 src/actions/attack.cpp 		const unit &amp;defender, const unit_map&amp; units,</span>
<span class='curline'><a href='../S/895.html#L492'>units</a>             492 src/actions/attack.cpp 		*defender_weapon = choose_defender_weapon(attacker, defender, choices[0], units,</span>
<span class='curline'><a href='../S/895.html#L496'>units</a>             496 src/actions/attack.cpp 						true, defender, defender_loc, def_weapon, units);</span>
<span class='curline'><a href='../S/895.html#L504'>units</a>             504 src/actions/attack.cpp 			attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/895.html#L514'>units</a>             514 src/actions/attack.cpp 		int def_weapon = choose_defender_weapon(attacker, defender, choices[i], units,</span>
<span class='curline'><a href='../S/895.html#L523'>units</a>             523 src/actions/attack.cpp 				true, defender, defender_loc, def, units);</span>
<span class='curline'><a href='../S/895.html#L530'>units</a>             530 src/actions/attack.cpp 				attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/895.html#L579'>units</a>             579 src/actions/attack.cpp 		const unit &amp;defender, unsigned attacker_weapon, const unit_map&amp; units,</span>
<span class='curline'><a href='../S/895.html#L600'>units</a>             600 src/actions/attack.cpp 				choices[0], false, attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/895.html#L617'>units</a>             617 src/actions/attack.cpp 						choices[i], false, attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/895.html#L633'>units</a>             633 src/actions/attack.cpp 				true, defender, defender_loc, def.shared_from_this(), units);</span>
<span class='curline'><a href='../S/895.html#L635'>units</a>             635 src/actions/attack.cpp 				attacker, attacker_loc, att.shared_from_this(), units);</span>
<span class='curline'><a href='../S/895.html#L728'>units</a>             728 src/actions/attack.cpp 			unit_info(const map_location &amp;loc, int weapon, unit_map &amp;units);</span>
<span class='curline'><a href='../S/895.html#L762'>units</a>             762 src/actions/attack.cpp 	attack::unit_info::unit_info(const map_location&amp; loc, int weapon, unit_map&amp; units) :</span>
<span class='curline'><a href='../S/895.html#L765'>units</a>             765 src/actions/attack.cpp 		units_(units),</span>
<span class='curline'><a href='../S/895.html#L810'>units</a>             810 src/actions/attack.cpp 		a_(attacker, attack_with, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/895.html#L811'>units</a>             811 src/actions/attack.cpp 		d_(defender, defend_with, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/895.html#L812'>units</a>             812 src/actions/attack.cpp 		units_(resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/895.html#L1405'>units</a>            1405 src/actions/attack.cpp 	unit_map::const_iterator atku = resources::gameboard-&gt;units().find(attacker);</span>
<span class='curline'><a href='../S/895.html#L1406'>units</a>            1406 src/actions/attack.cpp 	if (atku != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/895.html#L1410'>units</a>            1410 src/actions/attack.cpp 	unit_map::const_iterator defu = resources::gameboard-&gt;units().find(defender);</span>
<span class='curline'><a href='../S/895.html#L1411'>units</a>            1411 src/actions/attack.cpp 	if (defu != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/895.html#L1416'>units</a>            1416 src/actions/attack.cpp std::pair&lt;int, map_location&gt; under_leadership(const unit_map&amp; units, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/895.html#L1418'>units</a>            1418 src/actions/attack.cpp 	const unit_map::const_iterator un = units.find(loc);</span>
<span class='curline'><a href='../S/895.html#L1419'>units</a>            1419 src/actions/attack.cpp 	if(un == units.end()) {</span>
<span class='curline'><a href='../S/895.html#L1427'>units</a>            1427 src/actions/attack.cpp int combat_modifier(const unit_map &amp; units, const gamemap &amp; map, const map_location &amp;loc, unit_type::ALIGNMENT alignment,</span>
<span class='curline'><a href='../S/895.html#L1431'>units</a>            1431 src/actions/attack.cpp 	int lawful_bonus = tod_m.get_illuminated_time_of_day(units, map, loc).lawful_bonus;</span>
<span class='curline'><a href='../S/895.html#L1464'>units</a>            1464 src/actions/attack.cpp                     const unit_map&amp; units, const std::vector&lt;team&gt;&amp; teams)</span>
<span class='curline'><a href='../S/895.html#L1466'>units</a>            1466 src/actions/attack.cpp 	const unit_map::const_iterator defender = units.find(defender_loc);</span>
<span class='curline'><a href='../S/895.html#L1467'>units</a>            1467 src/actions/attack.cpp 	if(defender == units.end()) return false; // No defender</span>
<span class='curline'><a href='../S/895.html#L1479'>units</a>            1479 src/actions/attack.cpp 		units.find(adj[(i+3)%6]);</span>
<span class='curline'><a href='../S/895.html#L1480'>units</a>            1480 src/actions/attack.cpp 	if(opp == units.end()) return false; // No opposite unit</span>
<span class='curline'><a href='../S/898.html#L88'>units</a>              88 src/actions/attack.hpp 		   const unit_map&amp; units);</span>
<span class='curline'><a href='../S/898.html#L144'>units</a>             144 src/actions/attack.hpp 	battle_context(const unit_map &amp;units,</span>
<span class='curline'><a href='../S/898.html#L177'>units</a>             177 src/actions/attack.hpp 	                           const unit_map&amp; units,</span>
<span class='curline'><a href='../S/898.html#L183'>units</a>             183 src/actions/attack.hpp 	                           unsigned attacker_weapon, const unit_map&amp; units,</span>
<span class='curline'><a href='../S/898.html#L211'>units</a>             211 src/actions/attack.hpp std::pair&lt;int, map_location&gt; under_leadership(const unit_map&amp; units, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/898.html#L217'>units</a>             217 src/actions/attack.hpp int combat_modifier(const unit_map &amp; units, const gamemap &amp; map, const map_location &amp;loc, unit_type::ALIGNMENT alignment,</span>
<span class='curline'><a href='../S/898.html#L240'>units</a>             240 src/actions/attack.hpp                     const unit_map&amp; units, const std::vector&lt;team&gt;&amp; teams);</span>
<span class='curline'><a href='../S/903.html#L66'>units</a>              66 src/actions/create.cpp 	unit_map::const_iterator u = resources::gameboard-&gt;units().begin(),</span>
<span class='curline'><a href='../S/903.html#L67'>units</a>              67 src/actions/create.cpp 			u_end = resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/903.html#L75'>units</a>              75 src/actions/create.cpp 	unit_map::const_iterator find_it = resources::gameboard-&gt;units().find(recruit_loc);</span>
<span class='curline'><a href='../S/903.html#L177'>units</a>             177 src/actions/create.cpp 	const unit_map::const_iterator find_it = resources::gameboard-&gt;units().find(recall_loc);</span>
<span class='curline'><a href='../S/903.html#L178'>units</a>             178 src/actions/create.cpp 	if ( find_it != resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/903.html#L196'>units</a>             196 src/actions/create.cpp 		unit_map::const_iterator u = resources::gameboard-&gt;units().begin(),</span>
<span class='curline'><a href='../S/903.html#L197'>units</a>             197 src/actions/create.cpp 				u_end = resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/903.html#L218'>units</a>             218 src/actions/create.cpp 		for(auto u = resources::gameboard-&gt;units().begin(); u != resources::gameboard-&gt;units().end(); ++u) {</span>
<span class='curline'><a href='../S/903.html#L280'>units</a>             280 src/actions/create.cpp 	const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L281'>units</a>             281 src/actions/create.cpp 	const unit_map::const_iterator u_end = units.end();</span>
<span class='curline'><a href='../S/903.html#L287'>units</a>             287 src/actions/create.cpp 	if ( resources::gameboard-&gt;units().count(recall_location) != 0 )</span>
<span class='curline'><a href='../S/903.html#L296'>units</a>             296 src/actions/create.cpp 	unit_map::const_iterator u = units.find(recall_from);</span>
<span class='curline'><a href='../S/903.html#L303'>units</a>             303 src/actions/create.cpp 	for ( u = units.begin(); best_result &lt; goal_result  &amp;&amp;  u != u_end; ++u ) {</span>
<span class='curline'><a href='../S/903.html#L410'>units</a>             410 src/actions/create.cpp 	const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L411'>units</a>             411 src/actions/create.cpp 	const unit_map::const_iterator u_end = units.end();</span>
<span class='curline'><a href='../S/903.html#L418'>units</a>             418 src/actions/create.cpp 	if ( resources::gameboard-&gt;units().count(recruit_location) != 0 )</span>
<span class='curline'><a href='../S/903.html#L432'>units</a>             432 src/actions/create.cpp 	unit_map::const_iterator u = units.find(recruited_from);</span>
<span class='curline'><a href='../S/903.html#L439'>units</a>             439 src/actions/create.cpp 	for ( u = units.begin(); best_result &lt; goal_result  &amp;&amp;  u != u_end; ++u ) {</span>
<span class='curline'><a href='../S/903.html#L539'>units</a>             539 src/actions/create.cpp 		const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L542'>units</a>             542 src/actions/create.cpp 		unit_map::const_iterator leader = units.find(recruited_from);</span>
<span class='curline'><a href='../S/903.html#L543'>units</a>             543 src/actions/create.cpp 		if ( leader != units.end()  &amp;&amp;  leader-&gt;can_recruit()  &amp;&amp;</span>
<span class='curline'><a href='../S/903.html#L548'>units</a>             548 src/actions/create.cpp 		for ( leader = units.begin(); leader != units.end(); ++leader )</span>
<span class='curline'><a href='../S/903.html#L567'>units</a>             567 src/actions/create.cpp 			un_it = resources::gameboard-&gt;units().find(current_loc);</span>
<span class='curline'><a href='../S/903.html#L568'>units</a>             568 src/actions/create.cpp 			if ( un_it == resources::gameboard-&gt;units().end() )</span>
<span class='curline'><a href='../S/903.html#L581'>units</a>             581 src/actions/create.cpp 		const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/903.html#L586'>units</a>             586 src/actions/create.cpp 		for ( unit_itor = units.begin(); unit_itor != units.end(); ++unit_itor ) {</span>
<span class='curline'><a href='../S/903.html#L630'>units</a>             630 src/actions/create.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().insert(u);</span>
<span class='curline'><a href='../S/876.html#L86'>units</a>              86 src/actions/heal.cpp 		unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/876.html#L108'>units</a>             108 src/actions/heal.cpp 		unit_map::iterator curer = units.end();</span>
<span class='curline'><a href='../S/876.html#L119'>units</a>             119 src/actions/heal.cpp 			unit_map::iterator cure_it = units.find(heal.second);</span>
<span class='curline'><a href='../S/876.html#L120'>units</a>             120 src/actions/heal.cpp 			assert(cure_it != units.end());</span>
<span class='curline'><a href='../S/876.html#L147'>units</a>             147 src/actions/heal.cpp 		if ( curer != units.end() )</span>
<span class='curline'><a href='../S/876.html#L181'>units</a>             181 src/actions/heal.cpp 		unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/876.html#L204'>units</a>             204 src/actions/heal.cpp 			unit_map::iterator healer = units.find(heal_it-&gt;second);</span>
<span class='curline'><a href='../S/876.html#L205'>units</a>             205 src/actions/heal.cpp 			assert(healer != units.end());</span>
<span class='curline'><a href='../S/876.html#L219'>units</a>             219 src/actions/heal.cpp 				healers.push_back(&amp;*units.find(heal.loc));</span>
<span class='curline'><a href='../S/876.html#L299'>units</a>             299 src/actions/heal.cpp 	for (unit &amp;patient : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/900.html#L101'>units</a>             101 src/actions/move.cpp move_unit_spectator::move_unit_spectator(const unit_map &amp;units)</span>
<span class='curline'><a href='../S/900.html#L102'>units</a>             102 src/actions/move.cpp 	: ambusher_(units.end()),failed_teleport_(units.end()),seen_enemies_(),seen_friends_(),unit_(units.end())</span>
<span class='curline'><a href='../S/900.html#L111'>units</a>             111 src/actions/move.cpp void move_unit_spectator::reset(const unit_map &amp;units)</span>
<span class='curline'><a href='../S/900.html#L113'>units</a>             113 src/actions/move.cpp 	ambusher_ = units.end();</span>
<span class='curline'><a href='../S/900.html#L114'>units</a>             114 src/actions/move.cpp 	failed_teleport_ = units.end();</span>
<span class='curline'><a href='../S/900.html#L117'>units</a>             117 src/actions/move.cpp 	unit_ = units.end();</span>
<span class='curline'><a href='../S/900.html#L360'>units</a>             360 src/actions/move.cpp 		move_it_(resources::gameboard-&gt;units().find(*begin_)),</span>
<span class='curline'><a href='../S/900.html#L361'>units</a>             361 src/actions/move.cpp 		orig_side_(( assert(move_it_ != resources::gameboard-&gt;units().end()),</span>
<span class='curline'><a href='../S/900.html#L421'>units</a>             421 src/actions/move.cpp 		const unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/900.html#L428'>units</a>             428 src/actions/move.cpp 			const unit_map::const_iterator neighbor_it = units.find(adjacent[i]);</span>
<span class='curline'><a href='../S/900.html#L430'>units</a>             430 src/actions/move.cpp 			if ( neighbor_it != units.end()  &amp;&amp;</span>
<span class='curline'><a href='../S/900.html#L452'>units</a>             452 src/actions/move.cpp 		const unit_map::const_iterator blocking_unit = resources::gameboard-&gt;units().find(hex);</span>
<span class='curline'><a href='../S/900.html#L455'>units</a>             455 src/actions/move.cpp 		if (blocking_unit == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/900.html#L529'>units</a>             529 src/actions/move.cpp 			resources::gameboard-&gt;units().move(*move_loc_, *step_to);</span>
<span class='curline'><a href='../S/900.html#L635'>units</a>             635 src/actions/move.cpp 		const unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/900.html#L640'>units</a>             640 src/actions/move.cpp 			if (units.count(ambushers_[i]) == 0) {</span>
<span class='curline'><a href='../S/900.html#L820'>units</a>             820 src/actions/move.cpp 		move_it_ = resources::gameboard-&gt;units().find(*move_loc_);</span>
<span class='curline'><a href='../S/900.html#L821'>units</a>             821 src/actions/move.cpp 		const bool found = move_it_ != resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/900.html#L894'>units</a>             894 src/actions/move.cpp 		unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/900.html#L898'>units</a>             898 src/actions/move.cpp 		unit_map::iterator ambusher = units.find(hex);</span>
<span class='curline'><a href='../S/900.html#L899'>units</a>             899 src/actions/move.cpp 		if ( ambusher != units.end() ) {</span>
<span class='curline'><a href='../S/900.html#L1062'>units</a>            1062 src/actions/move.cpp 			spectator_-&gt;set_failed_teleport(resources::gameboard-&gt;units().find(*obstructed_));</span>
<span class='curline'><a href='../S/900.html#L1281'>units</a>            1281 src/actions/move.cpp 	if(resources::gameboard-&gt;units().find(steps.front()) != resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/900.html#L1284'>units</a>            1284 src/actions/move.cpp 			resources::gameboard-&gt;units().find(steps.front())-&gt;side() - 1];</span>
<span class='curline'><a href='../S/899.html#L66'>units</a>              66 src/actions/move.hpp 	move_unit_spectator(const unit_map &amp;units);</span>
<span class='curline'><a href='../S/899.html#L73'>units</a>              73 src/actions/move.hpp 	void reset(const unit_map &amp;units);</span>
<span class='curline'><a href='../S/902.html#L86'>units</a>              86 src/actions/undo_action.cpp 		auto iter = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/902.html#L106'>units</a>             106 src/actions/undo_action.cpp 			u1.reset(new scoped_xy_unit("unit", who-&gt;get_location(), resources::gameboard-&gt;units()));</span>
<span class='curline'><a href='../S/902.html#L109'>units</a>             109 src/actions/undo_action.cpp 			u2.reset(new scoped_xy_unit("unit", who-&gt;get_location(), resources::gameboard-&gt;units()));</span>
<span class='curline'><a href='../S/889.html#L58'>units</a>              58 src/actions/undo_move_action.cpp 	unit_map &amp;   units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/889.html#L66'>units</a>              66 src/actions/undo_move_action.cpp 	unit_map::iterator u = units.find(rev_route.front());</span>
<span class='curline'><a href='../S/889.html#L67'>units</a>              67 src/actions/undo_move_action.cpp 	const unit_map::iterator u_end = units.find(rev_route.back());</span>
<span class='curline'><a href='../S/889.html#L68'>units</a>              68 src/actions/undo_move_action.cpp 	if ( u == units.end()  ||  u_end != units.end() ) {</span>
<span class='curline'><a href='../S/889.html#L81'>units</a>              81 src/actions/undo_move_action.cpp 	units.move(u-&gt;get_location(), rev_route.back());</span>
<span class='curline'><a href='../S/889.html#L85'>units</a>              85 src/actions/undo_move_action.cpp 	u = units.find(rev_route.back());</span>
<span class='curline'><a href='../S/882.html#L55'>units</a>              55 src/actions/undo_recall_action.cpp 	unit_map &amp;   units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/882.html#L59'>units</a>              59 src/actions/undo_recall_action.cpp 	unit_map::iterator un_it = units.find(recall_loc);</span>
<span class='curline'><a href='../S/882.html#L60'>units</a>              60 src/actions/undo_recall_action.cpp 	if ( un_it == units.end() ) {</span>
<span class='curline'><a href='../S/882.html#L82'>units</a>              82 src/actions/undo_recall_action.cpp 	units.erase(recall_loc);</span>
<span class='curline'><a href='../S/891.html#L56'>units</a>              56 src/actions/undo_recruit_action.cpp 	unit_map &amp;   units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/891.html#L60'>units</a>              60 src/actions/undo_recruit_action.cpp 	unit_map::iterator un_it = units.find(recruit_loc);</span>
<span class='curline'><a href='../S/891.html#L61'>units</a>              61 src/actions/undo_recruit_action.cpp 	if ( un_it == units.end() ) {</span>
<span class='curline'><a href='../S/891.html#L75'>units</a>              75 src/actions/undo_recruit_action.cpp 	units.erase(recruit_loc);</span>
<span class='curline'><a href='../S/896.html#L125'>units</a>             125 src/actions/unit_creator.cpp 			unit_map::const_iterator leader = board_-&gt;units().find_leader(team_.side());</span>
<span class='curline'><a href='../S/896.html#L188'>units</a>             188 src/actions/unit_creator.cpp 			board_-&gt;units().replace(loc, new_unit);</span>
<span class='curline'><a href='../S/896.html#L190'>units</a>             190 src/actions/unit_creator.cpp 			post_create(loc,*(board_-&gt;units().find(loc)),animate);</span>
<span class='curline'><a href='../S/896.html#L202'>units</a>             202 src/actions/unit_creator.cpp 			board_-&gt;units().replace(loc, recall_list_element);</span>
<span class='curline'><a href='../S/896.html#L204'>units</a>             204 src/actions/unit_creator.cpp 			post_create(loc,*(board_-&gt;units().find(loc)),animate);</span>
<span class='curline'><a href='../S/901.html#L58'>units</a>              58 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/901.html#L434'>units</a>             434 src/actions/vision.cpp 	unit_map::const_iterator find_it = resources::gameboard-&gt;units().find(viewer.underlying_id);</span>
<span class='curline'><a href='../S/901.html#L435'>units</a>             435 src/actions/vision.cpp 	const map_location &amp; real_loc = find_it == resources::gameboard-&gt;units().end() ?</span>
<span class='curline'><a href='../S/901.html#L548'>units</a>             548 src/actions/vision.cpp 	const unit_map &amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/901.html#L560'>units</a>             560 src/actions/vision.cpp 		unit_map::const_iterator find_it = units.find(event.sighter_id);</span>
<span class='curline'><a href='../S/901.html#L562'>units</a>             562 src/actions/vision.cpp 			find_it == units.end() ? map_location::null_location() :</span>
<span class='curline'><a href='../S/901.html#L660'>units</a>             660 src/actions/vision.cpp 	for (const unit &amp; viewer : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/901.html#L714'>units</a>             714 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/901.html#L727'>units</a>             727 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/901.html#L763'>units</a>             763 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/232.html#L181'>units</a>             181 src/ai/actions.cpp 	const unit_map::const_iterator attacker = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/232.html#L182'>units</a>             182 src/ai/actions.cpp 	const unit_map::const_iterator defender = resources::gameboard-&gt;units().find(defender_loc_);</span>
<span class='curline'><a href='../S/232.html#L184'>units</a>             184 src/ai/actions.cpp 	if(attacker==resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/232.html#L191'>units</a>             191 src/ai/actions.cpp 	if (defender==resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/232.html#L266'>units</a>             266 src/ai/actions.cpp 	battle_context bc(resources::gameboard-&gt;units(), attacker_loc_,</span>
<span class='curline'><a href='../S/232.html#L277'>units</a>             277 src/ai/actions.cpp 	const unit_map::const_iterator a_ = resources::gameboard-&gt;units().find(attacker_loc_);</span>
<span class='curline'><a href='../S/232.html#L278'>units</a>             278 src/ai/actions.cpp 	const unit_map::const_iterator d_ = resources::gameboard-&gt;units().find(defender_loc_);</span>
<span class='curline'><a href='../S/232.html#L343'>units</a>             343 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(from_);</span>
<span class='curline'><a href='../S/232.html#L344'>units</a>             344 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L459'>units</a>             459 src/ai/actions.cpp 		unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/232.html#L469'>units</a>             469 src/ai/actions.cpp 	::actions::move_unit_spectator move_spectator(resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/232.html#L470'>units</a>             470 src/ai/actions.cpp 	move_spectator.set_unit(resources::gameboard-&gt;units().find(from_));</span>
<span class='curline'><a href='../S/232.html#L606'>units</a>             606 src/ai/actions.cpp 	unit_map::const_iterator unit = resources::gameboard-&gt;units().find(recall_location_);</span>
<span class='curline'><a href='../S/232.html#L607'>units</a>             607 src/ai/actions.cpp 	if (unit==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L756'>units</a>             756 src/ai/actions.cpp 	unit_map::const_iterator unit = resources::gameboard-&gt;units().find(recruit_location_);</span>
<span class='curline'><a href='../S/232.html#L757'>units</a>             757 src/ai/actions.cpp 	if (unit==resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/232.html#L830'>units</a>             830 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/232.html#L831'>units</a>             831 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L858'>units</a>             858 src/ai/actions.cpp 	unit_map::const_iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/232.html#L859'>units</a>             859 src/ai/actions.cpp 	if (un==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/232.html#L896'>units</a>             896 src/ai/actions.cpp 	unit_map::iterator un = resources::gameboard-&gt;units().find(unit_location_);</span>
<span class='curline'><a href='../S/275.html#L149'>units</a>             149 src/ai/composite/goal.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/275.html#L260'>units</a>             260 src/ai/composite/goal.cpp 	unit_map &amp;units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/275.html#L265'>units</a>             265 src/ai/composite/goal.cpp 		for (const unit &amp;u : units)</span>
<span class='curline'><a href='../S/275.html#L280'>units</a>             280 src/ai/composite/goal.cpp 		for (const unit &amp;u : units)</span>
<span class='curline'><a href='../S/285.html#L111'>units</a>             111 src/ai/contexts.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(attacker_loc);</span>
<span class='curline'><a href='../S/285.html#L119'>units</a>             119 src/ai/contexts.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(attacker_loc);</span>
<span class='curline'><a href='../S/285.html#L353'>units</a>             353 src/ai/contexts.cpp   calculate_moves(resources::gameboard-&gt;units(),res,srcdst,dstsrc,enemy,assume_full_movement,remove_destinations);</span>
<span class='curline'><a href='../S/285.html#L356'>units</a>             356 src/ai/contexts.cpp void readonly_context_impl::calculate_moves(const unit_map&amp; units, std::map&lt;map_location,pathfind::paths&gt;&amp; res, move_map&amp; srcdst,</span>
<span class='curline'><a href='../S/285.html#L363'>units</a>             363 src/ai/contexts.cpp 	for(unit_map::const_iterator un_it = units.begin(); un_it != units.end(); ++un_it) {</span>
<span class='curline'><a href='../S/285.html#L442'>units</a>             442 src/ai/contexts.cpp 			if(src != dst &amp;&amp; (resources::gameboard-&gt;find_visible_unit(dst, current_team()) == resources::gameboard-&gt;units().end()) ) {</span>
<span class='curline'><a href='../S/285.html#L477'>units</a>             477 src/ai/contexts.cpp 	const unit_map::const_iterator itor = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/285.html#L478'>units</a>             478 src/ai/contexts.cpp 	if(itor == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/285.html#L1003'>units</a>            1003 src/ai/contexts.cpp 	const unit_map::iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/285.html#L1004'>units</a>            1004 src/ai/contexts.cpp 	if(leader == resources::gameboard-&gt;units().end() || leader-&gt;incapacitated()) {</span>
<span class='curline'><a href='../S/285.html#L1065'>units</a>            1065 src/ai/contexts.cpp 	unit_map&amp; units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/285.html#L1177'>units</a>            1177 src/ai/contexts.cpp 		unit_map::iterator i = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/285.html#L1249'>units</a>            1249 src/ai/contexts.cpp 			if (resources::gameboard-&gt;units().count(loc) == 0) {</span>
<span class='curline'><a href='../S/250.html#L200'>units</a>             200 src/ai/contexts.hpp 	virtual void calculate_moves(const unit_map&amp; units,</span>
<span class='curline'><a href='../S/250.html#L593'>units</a>             593 src/ai/contexts.hpp 	virtual void calculate_moves(const unit_map&amp; units,</span>
<span class='curline'><a href='../S/250.html#L599'>units</a>             599 src/ai/contexts.hpp 		target_-&gt;calculate_moves(units, possible_moves, srcdst, dstsrc, enemy, assume_full_movement, remove_destinations, see_all);</span>
<span class='curline'><a href='../S/250.html#L1289'>units</a>            1289 src/ai/contexts.hpp 	void calculate_moves(const unit_map&amp; units,</span>
<span class='curline'><a href='../S/239.html#L81'>units</a>              81 src/ai/default/aspect_attacks.cpp 		unit_map&amp; units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/239.html#L134'>units</a>             134 src/ai/default/aspect_attacks.cpp 	                 std::vector&lt;map_location&gt;&amp; units,</span>
<span class='curline'><a href='../S/239.html#L149'>units</a>             149 src/ai/default/aspect_attacks.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/239.html#L159'>units</a>             159 src/ai/default/aspect_attacks.cpp 	for(size_t i = 0; i != units.size(); ++i) {</span>
<span class='curline'><a href='../S/239.html#L160'>units</a>             160 src/ai/default/aspect_attacks.cpp 		const map_location current_unit = units[i];</span>
<span class='curline'><a href='../S/239.html#L323'>units</a>             323 src/ai/default/aspect_attacks.cpp 			units.erase(units.begin() + i);</span>
<span class='curline'><a href='../S/239.html#L337'>units</a>             337 src/ai/default/aspect_attacks.cpp 		                   units,result,cur_analysis, current_team);</span>
<span class='curline'><a href='../S/239.html#L346'>units</a>             346 src/ai/default/aspect_attacks.cpp 			units.insert(units.begin() + i, current_unit);</span>
<span class='curline'><a href='../S/238.html#L59'>units</a>              59 src/ai/default/aspect_attacks.hpp 	                std::vector&lt;map_location&gt;&amp; units,</span>
<span class='curline'><a href='../S/249.html#L45'>units</a>              45 src/ai/default/attack.cpp void attack_analysis::analyze(const gamemap&amp; map, unit_map&amp; units,</span>
<span class='curline'><a href='../S/249.html#L50'>units</a>              50 src/ai/default/attack.cpp 	const unit_map::const_iterator defend_it = units.find(target);</span>
<span class='curline'><a href='../S/249.html#L51'>units</a>              51 src/ai/default/attack.cpp 	assert(defend_it != units.end());</span>
<span class='curline'><a href='../S/249.html#L58'>units</a>              58 src/ai/default/attack.cpp 		const unit_map::const_iterator leader = units.find(adj[tile]);</span>
<span class='curline'><a href='../S/249.html#L59'>units</a>              59 src/ai/default/attack.cpp 		if(leader != units.end() &amp;&amp; leader-&gt;can_recruit() &amp;&amp; !ai_obj.current_team().is_enemy(leader-&gt;side())) {</span>
<span class='curline'><a href='../S/249.html#L80'>units</a>              80 src/ai/default/attack.cpp 		const unit_map::const_iterator att = units.find(movements[i].first);</span>
<span class='curline'><a href='../S/249.html#L106'>units</a>             106 src/ai/default/attack.cpp 		unit_ptr up = units.extract(m-&gt;first);</span>
<span class='curline'><a href='../S/249.html#L108'>units</a>             108 src/ai/default/attack.cpp 		units.insert(up);</span>
<span class='curline'><a href='../S/249.html#L133'>units</a>             133 src/ai/default/attack.cpp 			bc = new battle_context(units, m-&gt;second, target, -1, -1, m_aggression, prev_def);</span>
<span class='curline'><a href='../S/249.html#L253'>units</a>             253 src/ai/default/attack.cpp 		units.move(m-&gt;second, m-&gt;first);</span>
<span class='curline'><a href='../S/249.html#L418'>units</a>             418 src/ai/default/attack.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/249.html#L421'>units</a>             421 src/ai/default/attack.cpp 	unit_map::const_iterator unit = units.find(movements.front().first);</span>
<span class='curline'><a href='../S/249.html#L431'>units</a>             431 src/ai/default/attack.cpp 	unit = units.find(att_dst);</span>
<span class='curline'><a href='../S/249.html#L432'>units</a>             432 src/ai/default/attack.cpp 	if(unit == units.end()) {</span>
<span class='curline'><a href='../S/249.html#L439'>units</a>             439 src/ai/default/attack.cpp 		unit = units.find(att_src);</span>
<span class='curline'><a href='../S/249.html#L440'>units</a>             440 src/ai/default/attack.cpp 		if(unit != units.end()) {</span>
<span class='curline'><a href='../S/249.html#L452'>units</a>             452 src/ai/default/attack.cpp 	if(units.count(att_src)) {</span>
<span class='curline'><a href='../S/237.html#L69'>units</a>              69 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L283'>units</a>             283 src/ai/default/ca.cpp 	const unit_map::iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/237.html#L390'>units</a>             390 src/ai/default/ca.cpp 	const unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L530'>units</a>             530 src/ai/default/ca.cpp 	unit_map::const_iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/237.html#L541'>units</a>             541 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L595'>units</a>             595 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L726'>units</a>             726 src/ai/default/ca.cpp 		const unit_map::const_iterator u = resources::gameboard-&gt;units().find(j-&gt;second);</span>
<span class='curline'><a href='../S/237.html#L727'>units</a>             727 src/ai/default/ca.cpp 		if (u == resources::gameboard-&gt;units().end() || u-&gt;get_state("guardian")) {</span>
<span class='curline'><a href='../S/237.html#L976'>units</a>             976 src/ai/default/ca.cpp 	std::vector&lt;map_location&gt; units(unit_count);</span>
<span class='curline'><a href='../S/237.html#L990'>units</a>             990 src/ai/default/ca.cpp 		units[u] = itor-&gt;first;</span>
<span class='curline'><a href='../S/237.html#L1031'>units</a>            1031 src/ai/default/ca.cpp 			std::cerr &lt;&lt; units[u];</span>
<span class='curline'><a href='../S/237.html#L1092'>units</a>            1092 src/ai/default/ca.cpp 				DBG_AI_TESTING_AI_DEFAULT &lt;&lt; "Found a square.\nDispatched unit at " &lt;&lt; units[src_itor-&gt;second]</span>
<span class='curline'><a href='../S/237.html#L1094'>units</a>            1094 src/ai/default/ca.cpp 				moves.emplace_back(village1, units[src_itor-&gt;second]);</span>
<span class='curline'><a href='../S/237.html#L1096'>units</a>            1096 src/ai/default/ca.cpp 				DBG_AI_TESTING_AI_DEFAULT &lt;&lt; "Dispatched unit at " &lt;&lt; units[dst_itor-&gt;second]</span>
<span class='curline'><a href='../S/237.html#L1098'>units</a>            1098 src/ai/default/ca.cpp 				moves.emplace_back(village2, units[dst_itor-&gt;second]);</span>
<span class='curline'><a href='../S/237.html#L1101'>units</a>            1101 src/ai/default/ca.cpp 				reachmap.erase(units[src_itor-&gt;second]);</span>
<span class='curline'><a href='../S/237.html#L1102'>units</a>            1102 src/ai/default/ca.cpp 				reachmap.erase(units[dst_itor-&gt;second]);</span>
<span class='curline'><a href='../S/237.html#L1159'>units</a>            1159 src/ai/default/ca.cpp 					result.emplace_back(villages[perm[u]], units[u]);</span>
<span class='curline'><a href='../S/237.html#L1197'>units</a>            1197 src/ai/default/ca.cpp 					result.emplace_back(villages[perm[u]], units[u]);</span>
<span class='curline'><a href='../S/237.html#L1239'>units</a>            1239 src/ai/default/ca.cpp 					result.emplace_back(villages[v], units[perm[v]]);</span>
<span class='curline'><a href='../S/237.html#L1320'>units</a>            1320 src/ai/default/ca.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L1398'>units</a>            1398 src/ai/default/ca.cpp 	const unit_map&amp; units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/237.html#L1593'>units</a>            1593 src/ai/default/ca.cpp 			std::vector&lt;unit_map::unit_iterator&gt; allied_leaders = resources::gameboard-&gt;units().find_leaders(get_side());</span>
<span class='curline'><a href='../S/237.html#L1609'>units</a>            1609 src/ai/default/ca.cpp 	std::vector&lt;unit_map::unit_iterator&gt; ai_leaders = resources::gameboard-&gt;units().find_leaders(get_side());</span>
<span class='curline'><a href='../S/237.html#L1615'>units</a>            1615 src/ai/default/ca.cpp 	calculate_moves(resources::gameboard-&gt;units(), possible_moves, friends_srcdst, friends_dstsrc, false, true);</span>
<span class='curline'><a href='../S/237.html#L1632'>units</a>            1632 src/ai/default/ca.cpp 			const unit_map::const_iterator itor = resources::gameboard-&gt;units().find(i-&gt;first);</span>
<span class='curline'><a href='../S/237.html#L1634'>units</a>            1634 src/ai/default/ca.cpp 			if(itor != resources::gameboard-&gt;units().end() &amp;&amp; itor-&gt;can_recruit() &amp;&amp; itor-&gt;side() != get_side() &amp;&amp; (leader_team.total_income() + leader_team.gold() &gt; leader_team.minimum_recruit_price())){</span>
<span class='curline'><a href='../S/236.html#L50'>units</a>              50 src/ai/default/ca_move_to_targets.cpp 			const unit_map&amp; units, const move_map&amp; enemy_dstsrc)</span>
<span class='curline'><a href='../S/236.html#L51'>units</a>              51 src/ai/default/ca_move_to_targets.cpp 	  : unit_(u), map_(map), units_(units),</span>
<span class='curline'><a href='../S/236.html#L139'>units</a>             139 src/ai/default/ca_move_to_targets.cpp 	unit_map::const_iterator leader = resources::gameboard-&gt;units().find_leader(get_side());</span>
<span class='curline'><a href='../S/236.html#L276'>units</a>             276 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L632'>units</a>             632 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L681'>units</a>             681 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L722'>units</a>             722 src/ai/default/ca_move_to_targets.cpp bool move_to_targets_phase::move_group(const map_location&amp; dst, const std::vector&lt;map_location&gt;&amp; route, const std::set&lt;map_location&gt;&amp; units)</span>
<span class='curline'><a href='../S/236.html#L724'>units</a>             724 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/236.html#L732'>units</a>             732 src/ai/default/ca_move_to_targets.cpp 	LOG_AI &lt;&lt; "group has " &lt;&lt; units.size() &lt;&lt; " members\n";</span>
<span class='curline'><a href='../S/236.html#L761'>units</a>             761 src/ai/default/ca_move_to_targets.cpp 	for(std::set&lt;map_location&gt;::const_iterator i = units.begin(); i != units.end(); ++i) {</span>
<span class='curline'><a href='../S/236.html#L826'>units</a>             826 src/ai/default/ca_move_to_targets.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/248.html#L64'>units</a>              64 src/ai/default/ca_move_to_targets.hpp 	bool move_group(const map_location&amp; dst, const std::vector&lt;map_location&gt;&amp; route, const std::set&lt;map_location&gt;&amp; units);</span>
<span class='curline'><a href='../S/245.html#L72'>units</a>              72 src/ai/default/contexts.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/245.html#L135'>units</a>             135 src/ai/default/contexts.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/242.html#L81'>units</a>              81 src/ai/default/contexts.hpp 	void analyze(const gamemap&amp; map, unit_map&amp; units,</span>
<span class='curline'><a href='../S/246.html#L167'>units</a>             167 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L168'>units</a>             168 src/ai/default/recruitment.cpp 	const std::vector&lt;unit_map::const_iterator&gt; leaders = units.find_leaders(get_side());</span>
<span class='curline'><a href='../S/246.html#L171'>units</a>             171 src/ai/default/recruitment.cpp 		if (leader == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/246.html#L199'>units</a>             199 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L201'>units</a>             201 src/ai/default/recruitment.cpp 	const std::vector&lt;unit_map::const_iterator&gt; leaders = units.find_leaders(get_side());</span>
<span class='curline'><a href='../S/246.html#L678'>units</a>             678 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L685'>units</a>             685 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/246.html#L696'>units</a>             696 src/ai/default/recruitment.cpp 		std::vector&lt;unit_map::const_iterator&gt; leaders = units.find_leaders(side);</span>
<span class='curline'><a href='../S/246.html#L784'>units</a>             784 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L789'>units</a>             789 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/246.html#L921'>units</a>             921 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L926'>units</a>             926 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/246.html#L942'>units</a>             942 src/ai/default/recruitment.cpp 			const std::vector&lt;unit_map::const_iterator&gt; leaders = units.find_leaders(team.side());</span>
<span class='curline'><a href='../S/246.html#L1457'>units</a>            1457 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L1461'>units</a>            1461 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/246.html#L1659'>units</a>            1659 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L1666'>units</a>            1666 src/ai/default/recruitment.cpp 		const unit_map::const_iterator&amp; enemy_it = units.find(l);</span>
<span class='curline'><a href='../S/246.html#L1667'>units</a>            1667 src/ai/default/recruitment.cpp 		if(enemy_it == units.end()) {</span>
<span class='curline'><a href='../S/246.html#L1686'>units</a>            1686 src/ai/default/recruitment.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/246.html#L1687'>units</a>            1687 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/255.html#L108'>units</a>             108 src/ai/formula/ai.cpp 	attacks_callable(*this, resources::gameboard-&gt;units()),</span>
<span class='curline'><a href='../S/255.html#L212'>units</a>             212 src/ai/formula/ai.cpp     unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/255.html#L289'>units</a>             289 src/ai/formula/ai.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/255.html#L457'>units</a>             457 src/ai/formula/ai.cpp 		for(unit_map::const_iterator i = units.begin(); i != units.end(); ++i) {</span>
<span class='curline'><a href='../S/255.html#L471'>units</a>             471 src/ai/formula/ai.cpp 		for(const unit &amp;u : units) {</span>
<span class='curline'><a href='../S/255.html#L481'>units</a>             481 src/ai/formula/ai.cpp 		for(unit_map::const_iterator i = units.begin(); i != units.end(); ++i) {</span>
<span class='curline'><a href='../S/255.html#L491'>units</a>             491 src/ai/formula/ai.cpp 		for(unit_map::const_iterator i = units.begin(); i != units.end(); ++i) {</span>
<span class='curline'><a href='../S/255.html#L502'>units</a>             502 src/ai/formula/ai.cpp 		return variant(std::make_shared&lt;move_map_callable&gt;(get_srcdst(), get_dstsrc(), units));</span>
<span class='curline'><a href='../S/255.html#L509'>units</a>             509 src/ai/formula/ai.cpp 		return variant(std::make_shared&lt;move_map_callable&gt;(get_enemy_srcdst(), get_enemy_dstsrc(), units));</span>
<span class='curline'><a href='../S/255.html#L513'>units</a>             513 src/ai/formula/ai.cpp 		unit_map::const_iterator i = units.find_leader(get_side());</span>
<span class='curline'><a href='../S/255.html#L514'>units</a>             514 src/ai/formula/ai.cpp 		if(i == units.end()) {</span>
<span class='curline'><a href='../S/255.html#L681'>units</a>             681 src/ai/formula/ai.cpp 	fai_ca-&gt;evaluate(this,resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/260.html#L163'>units</a>             163 src/ai/formula/callable_objects.cpp 	bc_(resources::gameboard-&gt;units(), src, dst, weapon, -1, 1.0, nullptr,</span>
<span class='curline'><a href='../S/260.html#L164'>units</a>             164 src/ai/formula/callable_objects.cpp 		&amp;*resources::gameboard-&gt;units().find(move_from))</span>
<span class='curline'><a href='../S/260.html#L256'>units</a>             256 src/ai/formula/callable_objects.cpp 		for(unit_map::const_iterator i = resources::gameboard-&gt;units().begin(); i != resources::gameboard-&gt;units().end(); ++i) {</span>
<span class='curline'><a href='../S/260.html#L376'>units</a>             376 src/ai/formula/callable_objects.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/260.html#L380'>units</a>             380 src/ai/formula/callable_objects.cpp 	} else*/ if((unit = units.find(loc_)) == units.end()) {</span>
<span class='curline'><a href='../S/253.html#L32'>units</a>              32 src/ai/formula/callable_objects.hpp 	attack_map_callable(const ai::formula_ai&amp; ai, const unit_map&amp; units)</span>
<span class='curline'><a href='../S/253.html#L33'>units</a>              33 src/ai/formula/callable_objects.hpp 		: units_(units), ai_(ai)</span>
<span class='curline'><a href='../S/253.html#L197'>units</a>             197 src/ai/formula/callable_objects.hpp 	move_map_callable(const move_map&amp; srcdst, const move_map&amp; dstsrc, const unit_map&amp; units)</span>
<span class='curline'><a href='../S/253.html#L198'>units</a>             198 src/ai/formula/callable_objects.hpp 	  : srcdst_(srcdst), dstsrc_(dstsrc), units_(units)</span>
<span class='curline'><a href='../S/257.html#L94'>units</a>              94 src/ai/formula/candidates.cpp void move_candidate_action::evaluate(ai::formula_ai* ai, unit_map&amp; units)</span>
<span class='curline'><a href='../S/257.html#L102'>units</a>             102 src/ai/formula/candidates.cpp 	for(unit_map::unit_iterator i = units.begin() ; i != units.end() ; ++i)</span>
<span class='curline'><a href='../S/257.html#L150'>units</a>             150 src/ai/formula/candidates.cpp void attack_candidate_action::evaluate(ai::formula_ai* ai, unit_map&amp; units)</span>
<span class='curline'><a href='../S/257.html#L159'>units</a>             159 src/ai/formula/candidates.cpp 	for(unit_map::unit_iterator i = units.begin() ; i != units.end() ; ++i)</span>
<span class='curline'><a href='../S/262.html#L86'>units</a>              86 src/ai/formula/candidates.hpp 	virtual void evaluate(ai::formula_ai* ai, unit_map&amp; units);</span>
<span class='curline'><a href='../S/262.html#L98'>units</a>              98 src/ai/formula/candidates.hpp 	virtual void evaluate(ai::formula_ai* ai, unit_map&amp; units);</span>
<span class='curline'><a href='../S/252.html#L598'>units</a>             598 src/ai/formula/function_table.cpp 		return variant(combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(), loc, un.alignment(), un.is_fearless()));</span>
<span class='curline'><a href='../S/252.html#L650'>units</a>             650 src/ai/formula/function_table.cpp 		const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/252.html#L651'>units</a>             651 src/ai/formula/function_table.cpp 		const unit_map::const_iterator u = units.find(loc);</span>
<span class='curline'><a href='../S/252.html#L652'>units</a>             652 src/ai/formula/function_table.cpp 		if (u == units.end()){</span>
<span class='curline'><a href='../S/252.html#L712'>units</a>             712 src/ai/formula/function_table.cpp 		unit_map::const_iterator un = resources::gameboard-&gt;units().begin();</span>
<span class='curline'><a href='../S/252.html#L713'>units</a>             713 src/ai/formula/function_table.cpp 		unit_map::const_iterator end = resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/252.html#L742'>units</a>             742 src/ai/formula/function_table.cpp 		const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/252.html#L745'>units</a>             745 src/ai/formula/function_table.cpp 		if(units.count(attacker_location) == 0) {</span>
<span class='curline'><a href='../S/252.html#L753'>units</a>             753 src/ai/formula/function_table.cpp 		if(units.count(defender_location) == 0) {</span>
<span class='curline'><a href='../S/252.html#L759'>units</a>             759 src/ai/formula/function_table.cpp 		battle_context bc(units, args()[1]-&gt;evaluate(variables, add_debug_info(fdb, 1, "calculate_outcome:attacker_attack_location")).convert_to&lt;location_callable&gt;()-&gt;loc(),</span>
<span class='curline'><a href='../S/252.html#L760'>units</a>             760 src/ai/formula/function_table.cpp 			defender_location, weapon, -1, 1.0, nullptr, &amp;*units.find(attacker_location));</span>
<span class='curline'><a href='../S/252.html#L960'>units</a>             960 src/ai/formula/function_table.cpp                 unit_map::iterator unit_it = resources::gameboard-&gt;units().find(unit_loc);</span>
<span class='curline'><a href='../S/252.html#L962'>units</a>             962 src/ai/formula/function_table.cpp 		if( unit_it == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/252.html#L1010'>units</a>            1010 src/ai/formula/function_table.cpp                 unit_map::iterator unit_it = resources::gameboard-&gt;units().find(unit_loc);</span>
<span class='curline'><a href='../S/252.html#L1012'>units</a>            1012 src/ai/formula/function_table.cpp 		if( unit_it == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/252.html#L1064'>units</a>            1064 src/ai/formula/function_table.cpp                 unit_map::iterator unit_it = resources::gameboard-&gt;units().find(unit_loc);</span>
<span class='curline'><a href='../S/252.html#L1066'>units</a>            1066 src/ai/formula/function_table.cpp 		if( unit_it == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/252.html#L1174'>units</a>            1174 src/ai/formula/function_table.cpp 		if(resources::gameboard-&gt;units().count(move_from) == 0 || resources::gameboard-&gt;units().count(dst) == 0) {</span>
<span class='curline'><a href='../S/252.html#L1288'>units</a>            1288 src/ai/formula/function_table.cpp 		const unit_map::const_iterator i = resources::gameboard-&gt;units().find(loc-&gt;loc());</span>
<span class='curline'><a href='../S/252.html#L1289'>units</a>            1289 src/ai/formula/function_table.cpp 		if(i != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/252.html#L1340'>units</a>            1340 src/ai/formula/function_table.cpp 			unit_map::const_iterator un = resources::gameboard-&gt;units().find(range.first-&gt;second);</span>
<span class='curline'><a href='../S/252.html#L1341'>units</a>            1341 src/ai/formula/function_table.cpp 			assert(un != resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/261.html#L58'>units</a>              58 src/ai/formula/stage_unit_formulas.cpp 	unit_map &amp;units_ = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/292.html#L832'>units</a>             832 src/ai/lua/core.cpp 		for(unit_map::const_iterator u = resources::gameboard-&gt;units().begin(); u != resources::gameboard-&gt;units().end(); ++u) {</span>
<span class='curline'><a href='../S/292.html#L861'>units</a>             861 src/ai/lua/core.cpp 		for (unit_map::const_iterator u = resources::gameboard-&gt;units().begin(); u != resources::gameboard-&gt;units().end(); ++u) {</span>
<span class='curline'><a href='../S/293.html#L183'>units</a>             183 src/ai/lua/engine_lua.cpp 		bound_unit_ = unit_ptr(new unit(*resources::gameboard-&gt;units().find(loc)));</span>
<span class='curline'><a href='../S/293.html#L188'>units</a>             188 src/ai/lua/engine_lua.cpp 		if (resources::gameboard-&gt;units().find(bound_unit_-&gt;underlying_id()).valid())</span>
<span class='curline'><a href='../S/231.html#L49'>units</a>              49 src/ai/simulated_actions.cpp 	unit_map::iterator attack_unit = resources::gameboard-&gt;units().find(attacker_loc);</span>
<span class='curline'><a href='../S/231.html#L50'>units</a>              50 src/ai/simulated_actions.cpp 	unit_map::iterator defend_unit = resources::gameboard-&gt;units().find(defender_loc);</span>
<span class='curline'><a href='../S/231.html#L70'>units</a>              70 src/ai/simulated_actions.cpp 		(resources::gameboard-&gt;units()).erase(attacker_loc);</span>
<span class='curline'><a href='../S/231.html#L77'>units</a>              77 src/ai/simulated_actions.cpp 		(resources::gameboard-&gt;units()).erase(defender_loc);</span>
<span class='curline'><a href='../S/231.html#L100'>units</a>             100 src/ai/simulated_actions.cpp 	std::pair&lt;unit_map::unit_iterator, bool&gt; unit_move = resources::gameboard-&gt;units().move(from, to);</span>
<span class='curline'><a href='../S/231.html#L155'>units</a>             155 src/ai/simulated_actions.cpp 	unit_map::iterator stop_unit = resources::gameboard-&gt;units().find(unit_location);</span>
<span class='curline'><a href='../S/231.html#L187'>units</a>             187 src/ai/simulated_actions.cpp 	bool has_leader = resources::gameboard-&gt;units().find_leader(side).valid();</span>
<span class='curline'><a href='../S/231.html#L218'>units</a>             218 src/ai/simulated_actions.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().insert(new_unit);</span>
<span class='curline'><a href='../S/231.html#L233'>units</a>             233 src/ai/simulated_actions.cpp 	unit_map::iterator advance_unit = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/231.html#L264'>units</a>             264 src/ai/simulated_actions.cpp 	resources::gameboard-&gt;units().replace(loc, advanced_unit);</span>
<span class='curline'><a href='../S/682.html#L1819'>units</a>            1819 src/display.cpp 	for(const auto&amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/682.html#L2508'>units</a>            2508 src/display.cpp 		unit_map::const_iterator u_it = dc_-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/682.html#L2510'>units</a>            2510 src/display.cpp 		if (u_it != dc_-&gt;units().end()</span>
<span class='curline'><a href='../S/682.html#L3054'>units</a>            3054 src/display.cpp 	for (const unit &amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/682.html#L3062'>units</a>            3062 src/display.cpp 	for (const unit &amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/682.html#L3091'>units</a>            3091 src/display.cpp 		for (const unit &amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/958.html#L117'>units</a>             117 src/display.hpp 	const unit_map&amp; get_units() const {return dc_-&gt;units();}</span>
<span class='curline'><a href='../S/930.html#L38'>units</a>              38 src/display_context.cpp 		unit_map::const_iterator u_it = units().find(u_loc);</span>
<span class='curline'><a href='../S/930.html#L60'>units</a>              60 src/display_context.cpp 	const unit_map::const_iterator u = units().find(loc);</span>
<span class='curline'><a href='../S/930.html#L89'>units</a>              89 src/display_context.cpp 			const unit_map::const_iterator i = units().find(locs[n]);</span>
<span class='curline'><a href='../S/930.html#L137'>units</a>             137 src/display_context.cpp 	for (const unit &amp;u : units()) {</span>
<span class='curline'><a href='../S/930.html#L146'>units</a>             146 src/display_context.cpp 	for (const unit &amp;u : units()) {</span>
<span class='curline'><a href='../S/930.html#L155'>units</a>             155 src/display_context.cpp 	for (const unit &amp;u : units()) {</span>
<span class='curline'><a href='../S/930.html#L164'>units</a>             164 src/display_context.cpp 	res.units = side_units(tm.side());</span>
<span class='curline'><a href='../S/846.html#L37'>units</a>              37 src/display_context.hpp 		units(0),</span>
<span class='curline'><a href='../S/846.html#L47'>units</a>              47 src/display_context.hpp 	int units, upkeep, villages, expenses, net_income, gold;</span>
<span class='curline'><a href='../S/846.html#L55'>units</a>              55 src/display_context.hpp 	virtual const unit_map &amp; units() const = 0;</span>
<span class='curline'><a href='../S/40.html#L59'>units</a>              59 src/editor/action/action_unit.cpp 	unit_map&amp; units = mc.get_units();</span>
<span class='curline'><a href='../S/40.html#L60'>units</a>              60 src/editor/action/action_unit.cpp 	unit_map::const_unit_iterator unit_it = units.find(loc_);</span>
<span class='curline'><a href='../S/40.html#L63'>units</a>              63 src/editor/action/action_unit.cpp 	if (unit_it != units.end()) {</span>
<span class='curline'><a href='../S/40.html#L73'>units</a>              73 src/editor/action/action_unit.cpp 	unit_map&amp; units = mc.get_units();</span>
<span class='curline'><a href='../S/40.html#L74'>units</a>              74 src/editor/action/action_unit.cpp 	if (!units.erase(loc_)) {</span>
<span class='curline'><a href='../S/40.html#L97'>units</a>              97 src/editor/action/action_unit.cpp 	unit_map&amp; units = mc.get_units();</span>
<span class='curline'><a href='../S/40.html#L98'>units</a>              98 src/editor/action/action_unit.cpp 	units.move(loc_, new_loc_);</span>
<span class='curline'><a href='../S/40.html#L101'>units</a>             101 src/editor/action/action_unit.cpp 	unit&amp; u = *units.find(new_loc_);</span>
<span class='curline'><a href='../S/40.html#L134'>units</a>             134 src/editor/action/action_unit.cpp 	unit_map&amp; units = mc.get_units();</span>
<span class='curline'><a href='../S/40.html#L135'>units</a>             135 src/editor/action/action_unit.cpp 	unit_map::unit_iterator unit_it = units.find(loc_);</span>
<span class='curline'><a href='../S/40.html#L137'>units</a>             137 src/editor/action/action_unit.cpp 	if (unit_it != units.end()) {</span>
<span class='curline'><a href='../S/48.html#L50'>units</a>              50 src/editor/action/mouse/mouse_action_unit.cpp 		const unit_map&amp; units = disp.get_units();</span>
<span class='curline'><a href='../S/48.html#L51'>units</a>              51 src/editor/action/mouse/mouse_action_unit.cpp 		const unit_map::const_unit_iterator unit_it = units.find(hex);</span>
<span class='curline'><a href='../S/48.html#L52'>units</a>              52 src/editor/action/mouse/mouse_action_unit.cpp 		if (unit_it != units.end()) {</span>
<span class='curline'><a href='../S/48.html#L84'>units</a>              84 src/editor/action/mouse/mouse_action_unit.cpp 	const unit_map&amp; units = disp.get_units();</span>
<span class='curline'><a href='../S/48.html#L85'>units</a>              85 src/editor/action/mouse/mouse_action_unit.cpp 	const unit_map::const_unit_iterator unit_it = units.find(start_hex_);</span>
<span class='curline'><a href='../S/48.html#L86'>units</a>              86 src/editor/action/mouse/mouse_action_unit.cpp 	if (unit_it != units.end())</span>
<span class='curline'><a href='../S/48.html#L139'>units</a>             139 src/editor/action/mouse/mouse_action_unit.cpp 	const unit_map&amp; units = disp.get_units();</span>
<span class='curline'><a href='../S/48.html#L140'>units</a>             140 src/editor/action/mouse/mouse_action_unit.cpp 	const unit_map::const_unit_iterator unit_it = units.find(start_hex_);</span>
<span class='curline'><a href='../S/48.html#L141'>units</a>             141 src/editor/action/mouse/mouse_action_unit.cpp 	if (unit_it == units.end())</span>
<span class='curline'><a href='../S/73.html#L163'>units</a>             163 src/editor/controller/editor_controller.cpp 	resources::units = nullptr;</span>
<span class='curline'><a href='../S/73.html#L311'>units</a>             311 src/editor/controller/editor_controller.cpp 			const unit_map&amp; units = get_current_map_context().get_units();</span>
<span class='curline'><a href='../S/73.html#L313'>units</a>             313 src/editor/controller/editor_controller.cpp 					units.find(loc) != units.end());</span>
<span class='curline'><a href='../S/73.html#L1117'>units</a>            1117 src/editor/controller/editor_controller.cpp 	const unit_map &amp; units = get_current_map_context().get_units();</span>
<span class='curline'><a href='../S/73.html#L1118'>units</a>            1118 src/editor/controller/editor_controller.cpp 	const unit_map::const_unit_iterator un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1119'>units</a>            1119 src/editor/controller/editor_controller.cpp 	if(un != units.end()) {</span>
<span class='curline'><a href='../S/73.html#L1138'>units</a>            1138 src/editor/controller/editor_controller.cpp 	unit_map&amp; units = get_current_map_context().get_units();</span>
<span class='curline'><a href='../S/73.html#L1139'>units</a>            1139 src/editor/controller/editor_controller.cpp 	const unit_map::unit_iterator&amp; un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1144'>units</a>            1144 src/editor/controller/editor_controller.cpp 	if(un != units.end()) {</span>
<span class='curline'><a href='../S/73.html#L1155'>units</a>            1155 src/editor/controller/editor_controller.cpp 	unit_map&amp; units = get_current_map_context().get_units();</span>
<span class='curline'><a href='../S/73.html#L1156'>units</a>            1156 src/editor/controller/editor_controller.cpp 	const unit_map::unit_iterator&amp; un = units.find(loc);</span>
<span class='curline'><a href='../S/73.html#L1161'>units</a>            1161 src/editor/controller/editor_controller.cpp 	if(un != units.end()) {</span>
<span class='curline'><a href='../S/66.html#L90'>units</a>              90 src/editor/map/context_manager.cpp 		resources::units = &amp;context_manager_.get_map_context().get_units();</span>
<span class='curline'><a href='../S/741.html#L111'>units</a>             111 src/game_board.cpp 	for (const unit &amp; i : units())</span>
<span class='curline'><a href='../S/828.html#L474'>units</a>             474 src/game_config_manager.cpp 	if(config &amp;units = game_config_.child("units")) {</span>
<span class='curline'><a href='../S/828.html#L475'>units</a>             475 src/game_config_manager.cpp 		unit_types.set_config(units);</span>
<span class='curline'><a href='../S/831.html#L181'>units</a>             181 src/game_display.cpp 			if (dc_-&gt;units().count(selectedHex_)) {</span>
<span class='curline'><a href='../S/831.html#L217'>units</a>             217 src/game_display.cpp 	unit_map::const_iterator leader = dc_-&gt;units().find_leader(side);</span>
<span class='curline'><a href='../S/831.html#L430'>units</a>             430 src/game_display.cpp 						wb-&gt;get_temp_move_unit() : dc_-&gt;units().find(route_.steps.front());</span>
<span class='curline'><a href='../S/831.html#L431'>units</a>             431 src/game_display.cpp 		if(un != dc_-&gt;units().end()) {</span>
<span class='curline'><a href='../S/831.html#L476'>units</a>             476 src/game_display.cpp 		if(selectedUnit != dc_-&gt;units().end() &amp;&amp; mouseoveredUnit == dc_-&gt;units().end()) {</span>
<span class='curline'><a href='../S/831.html#L516'>units</a>             516 src/game_display.cpp 	const unit_map::const_iterator u = dc_-&gt;units().find(route_.steps.front());</span>
<span class='curline'><a href='../S/831.html#L517'>units</a>             517 src/game_display.cpp 	if(u != dc_-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1057.html#L382'>units</a>             382 src/game_events/action_wml.cpp 	std::vector&lt;fake_unit_ptr &gt; units;</span>
<span class='curline'><a href='../S/1057.html#L383'>units</a>             383 src/game_events/action_wml.cpp 	units.reserve(num_units);</span>
<span class='curline'><a href='../S/1057.html#L396'>units</a>             396 src/game_events/action_wml.cpp 		units.push_back(u);</span>
<span class='curline'><a href='../S/1057.html#L419'>units</a>             419 src/game_events/action_wml.cpp 			unit_display::move_unit(path_step, units[un].get_unit_ptr());</span>
<span class='curline'><a href='../S/1057.html#L420'>units</a>             420 src/game_events/action_wml.cpp 			units[un]-&gt;set_location(path_step[1]);</span>
<span class='curline'><a href='../S/1057.html#L421'>units</a>             421 src/game_events/action_wml.cpp 			units[un]-&gt;anim_comp().set_standing();</span>
<span class='curline'><a href='../S/1057.html#L458'>units</a>             458 src/game_events/action_wml.cpp 		std::vector&lt;unit_map::unit_iterator&gt; leaders = resources::gameboard-&gt;units().find_leaders(index + 1);</span>
<span class='curline'><a href='../S/1057.html#L481'>units</a>             481 src/game_events/action_wml.cpp 						if(pass_check || (resources::gameboard-&gt;units().count(loc) &gt; 0))</span>
<span class='curline'><a href='../S/1057.html#L495'>units</a>             495 src/game_events/action_wml.cpp 					if(pass_check || (resources::gameboard-&gt;units().count(loc) &gt; 0))</span>
<span class='curline'><a href='../S/1071.html#L56'>units</a>              56 src/game_events/conditional_wml.cpp 		for(const unit &amp;i : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/1054.html#L113'>units</a>             113 src/game_events/entity_location.cpp 		auto un_it = resources::gameboard-&gt;units().find(*this);</span>
<span class='curline'><a href='../S/1054.html#L119'>units</a>             119 src/game_events/entity_location.cpp 	return resources::gameboard-&gt;units().find(id_).get_shared_ptr();</span>
<span class='curline'><a href='../S/1061.html#L198'>units</a>             198 src/game_events/pump.cpp 	const unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/1061.html#L199'>units</a>             199 src/game_events/pump.cpp 	unit_map::const_iterator unit1 = units.find(ev.loc1);</span>
<span class='curline'><a href='../S/1061.html#L200'>units</a>             200 src/game_events/pump.cpp 	unit_map::const_iterator unit2 = units.find(ev.loc2);</span>
<span class='curline'><a href='../S/1061.html#L223'>units</a>             223 src/game_events/pump.cpp 	if(!special_matches &amp;&amp; unit1 != units.end()) {</span>
<span class='curline'><a href='../S/1061.html#L249'>units</a>             249 src/game_events/pump.cpp 	if(!special_matches &amp;&amp; unit2 != units.end()) {</span>
<span class='curline'><a href='../S/1061.html#L292'>units</a>             292 src/game_events/pump.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/1061.html#L293'>units</a>             293 src/game_events/pump.cpp 	scoped_xy_unit first_unit("unit", ev.loc1, units);</span>
<span class='curline'><a href='../S/1061.html#L294'>units</a>             294 src/game_events/pump.cpp 	scoped_xy_unit second_unit("second_unit", ev.loc2, units);</span>
<span class='curline'><a href='../S/1058.html#L80'>units</a>              80 src/game_events/wmi_manager.cpp 		const std::string&amp; id, const map_location&amp; hex, game_data&amp; gamedata, filter_context&amp; fc, unit_map&amp; units) const</span>
<span class='curline'><a href='../S/1058.html#L91'>units</a>              91 src/game_events/wmi_manager.cpp 	scoped_xy_unit highlighted_unit("unit", hex, units);</span>
<span class='curline'><a href='../S/1058.html#L111'>units</a>             111 src/game_events/wmi_manager.cpp 		unit_map&amp; units) const</span>
<span class='curline'><a href='../S/1058.html#L121'>units</a>             121 src/game_events/wmi_manager.cpp 	scoped_xy_unit highlighted_unit("unit", hex, units);</span>
<span class='curline'><a href='../S/1060.html#L61'>units</a>              61 src/game_events/wmi_manager.hpp 			unit_map&amp; units) const;</span>
<span class='curline'><a href='../S/1060.html#L77'>units</a>              77 src/game_events/wmi_manager.hpp 			unit_map&amp; units) const;</span>
<span class='curline'><a href='../S/86.html#L370'>units</a>             370 src/game_state.cpp 	unit_map::const_iterator leader = board_.units().find(hex);</span>
<span class='curline'><a href='../S/86.html#L371'>units</a>             371 src/game_state.cpp 	if ( leader != board_.units().end() ) {</span>
<span class='curline'><a href='../S/86.html#L375'>units</a>             375 src/game_state.cpp 		for ( leader = board_.units().begin(); leader != board_.units().end(); ++leader) {</span>
<span class='curline'><a href='../S/639.html#L49'>units</a>              49 src/gui/auxiliary/tips.cpp 	const std::set&lt;std::string&gt;&amp; units = preferences::encountered_units();</span>
<span class='curline'><a href='../S/639.html#L52'>units</a>              52 src/gui/auxiliary/tips.cpp 	const auto iter = std::remove_if(result.begin(), result.end(), [&amp;units](const game_tip&amp; tip) {</span>
<span class='curline'><a href='../S/639.html#L59'>units</a>              59 src/gui/auxiliary/tips.cpp 			: std::any_of(filters.begin(), filters.end(), [&amp;units](const std::string&amp; u) {</span>
<span class='curline'><a href='../S/639.html#L60'>units</a>              60 src/gui/auxiliary/tips.cpp 				return units.find(u) != units.end();</span>
<span class='curline'><a href='../S/427.html#L210'>units</a>             210 src/gui/dialogs/attack_predictions.cpp 	const int tod_modifier = combat_modifier(resources::gameboard-&gt;units(), resources::gameboard-&gt;map(),</span>
<span class='curline'><a href='../S/427.html#L220'>units</a>             220 src/gui/dialogs/attack_predictions.cpp 	const int leadership_bonus = under_leadership(resources::gameboard-&gt;units(), attacker.unit_.get_location()).first;</span>
<span class='curline'><a href='../S/403.html#L68'>units</a>              68 src/gui/dialogs/game_stats.cpp 	unit_map::const_iterator leader = board_.units().find_leader(side);</span>
<span class='curline'><a href='../S/403.html#L70'>units</a>              70 src/gui/dialogs/game_stats.cpp 	if(leader != board_.units().end()) {</span>
<span class='curline'><a href='../S/403.html#L158'>units</a>             158 src/gui/dialogs/game_stats.cpp 			column_stats["label"] = std::to_string(data.units);</span>
<span class='curline'><a href='../S/403.html#L217'>units</a>             217 src/gui/dialogs/game_stats.cpp 	stats_list.register_sorting_option(4, [this](const int i) { return team_data_[i].units; });</span>
<span class='curline'><a href='../S/447.html#L653'>units</a>             653 src/gui/dialogs/gamestate_inspector.cpp 	for(unit_map::const_iterator i = dc().units().begin(); i != dc().units().end(); ++i) {</span>
<span class='curline'><a href='../S/447.html#L663'>units</a>             663 src/gui/dialogs/gamestate_inspector.cpp 	unit_map::const_iterator u = dc().units().begin();</span>
<span class='curline'><a href='../S/447.html#L783'>units</a>             783 src/gui/dialogs/gamestate_inspector.cpp 	for(unit_map::const_iterator i = dc().units().begin(); i != dc().units().end();</span>
<span class='curline'><a href='../S/425.html#L211'>units</a>             211 src/gui/dialogs/unit_list.cpp 	const unit_map&amp; units = gui.get_units();</span>
<span class='curline'><a href='../S/425.html#L212'>units</a>             212 src/gui/dialogs/unit_list.cpp 	for(unit_map::const_iterator i = units.begin(); i != units.end(); ++i) {</span>
<span class='curline'><a href='../S/461.html#L42'>units</a>              42 src/gui/dialogs/unit_list.hpp 	static bool execute(unit_ptr_vector&amp; units, map_location&amp; scroll_to, CVideo&amp; video)</span>
<span class='curline'><a href='../S/461.html#L44'>units</a>              44 src/gui/dialogs/unit_list.hpp 		if(units.empty()) {</span>
<span class='curline'><a href='../S/461.html#L49'>units</a>              49 src/gui/dialogs/unit_list.hpp 		return unit_list(units, scroll_to).show(video);</span>
<span class='curline'><a href='../S/421.html#L75'>units</a>              75 src/gui/dialogs/unit_recall.cpp static void dump_recall_list_to_console(const T&amp; units)</span>
<span class='curline'><a href='../S/421.html#L79'>units</a>              79 src/gui/dialogs/unit_recall.cpp 	LOG_DP &lt;&lt; "size: " &lt;&lt; units.size() &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/421.html#L82'>units</a>              82 src/gui/dialogs/unit_recall.cpp 	for(const unit_const_ptr&amp; u_ptr : units) {</span>
<span class='curline'><a href='../S/421.html#L129'>units</a>             129 src/gui/dialogs/unit_recall.cpp 	unit_map&amp; units = resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/421.html#L133'>units</a>             133 src/gui/dialogs/unit_recall.cpp 		if(team.is_local_human() &amp;&amp; !team.recruits().empty() &amp;&amp; units.find_leader(team.side()) !=units.end()) {</span>
<span class='curline'><a href='../S/421.html#L140'>units</a>             140 src/gui/dialogs/unit_recall.cpp 		unit_map::const_iterator leader = resources::gameboard-&gt;units().find_leader(side_num);</span>
<span class='curline'><a href='../S/421.html#L141'>units</a>             141 src/gui/dialogs/unit_recall.cpp 		if(leader != resources::gameboard-&gt;units().end() &amp;&amp; !leader-&gt;name().empty()) {</span>
<span class='curline'><a href='../S/809.html#L476'>units</a>             476 src/help/help_impl.cpp 		std::set&lt;std::string, string_less&gt; &amp;units = special_units[s-&gt;first];</span>
<span class='curline'><a href='../S/809.html#L477'>units</a>             477 src/help/help_impl.cpp 		for (std::set&lt;std::string, string_less&gt;::iterator u = units.begin(); u != units.end(); ++u) {</span>
<span class='curline'><a href='../S/809.html#L542'>units</a>             542 src/help/help_impl.cpp 		std::set&lt;std::string, string_less&gt; &amp;units = ability_units[a-&gt;first];</span>
<span class='curline'><a href='../S/809.html#L543'>units</a>             543 src/help/help_impl.cpp 		for (std::set&lt;std::string, string_less&gt;::iterator u = units.begin(); u != units.end(); ++u) {</span>
<span class='curline'><a href='../S/918.html#L445'>units</a>             445 src/menu_events.cpp 	for(auto&amp; u : units()) {</span>
<span class='curline'><a href='../S/918.html#L481'>units</a>             481 src/menu_events.cpp bool units_alive(int side_num, const unit_map&amp; units)</span>
<span class='curline'><a href='../S/918.html#L483'>units</a>             483 src/menu_events.cpp 	for(auto&amp; unit : units) {</span>
<span class='curline'><a href='../S/918.html#L493'>units</a>             493 src/menu_events.cpp 		int side_num, const unit_map&amp; units, const game_board&amp; board, const std::shared_ptr&lt;wb::manager&gt;&amp; whiteb)</span>
<span class='curline'><a href='../S/918.html#L495'>units</a>             495 src/menu_events.cpp 	for(auto&amp; unit : units) {</span>
<span class='curline'><a href='../S/918.html#L510'>units</a>             510 src/menu_events.cpp 		int side_num, const unit_map&amp; units, const game_board&amp; board, const std::shared_ptr&lt;wb::manager&gt;&amp; whiteb)</span>
<span class='curline'><a href='../S/918.html#L512'>units</a>             512 src/menu_events.cpp 	for(auto&amp; unit : units) {</span>
<span class='curline'><a href='../S/918.html#L539'>units</a>             539 src/menu_events.cpp 			&amp;&amp; units_alive(side_num, units())) {</span>
<span class='curline'><a href='../S/918.html#L548'>units</a>             548 src/menu_events.cpp 	else if(preferences::yellow_confirm() &amp;&amp; partmoved_units(side_num, units(), board(), pc_.get_whiteboard())) {</span>
<span class='curline'><a href='../S/918.html#L557'>units</a>             557 src/menu_events.cpp 	else if(preferences::green_confirm() &amp;&amp; unmoved_units(side_num, units(), board(), pc_.get_whiteboard())) {</span>
<span class='curline'><a href='../S/918.html#L577'>units</a>             577 src/menu_events.cpp 	unit_map::const_iterator i = units().find_leader(side_num);</span>
<span class='curline'><a href='../S/918.html#L578'>units</a>             578 src/menu_events.cpp 	if(i != units().end()) {</span>
<span class='curline'><a href='../S/918.html#L586'>units</a>             586 src/menu_events.cpp 	if(un != units().end()) {</span>
<span class='curline'><a href='../S/918.html#L606'>units</a>             606 src/menu_events.cpp 	if(un == units().end() || gui_-&gt;viewing_side() != un-&gt;side()) {</span>
<span class='curline'><a href='../S/918.html#L630'>units</a>             630 src/menu_events.cpp 	if(res != units().end()) {</span>
<span class='curline'><a href='../S/918.html#L719'>units</a>             719 src/menu_events.cpp 		create_and_place(*gui_, map(), units(), destination, *selection.first, selection.second);</span>
<span class='curline'><a href='../S/918.html#L726'>units</a>             726 src/menu_events.cpp 	const unit_map::iterator i = units().find(loc);</span>
<span class='curline'><a href='../S/918.html#L727'>units</a>             727 src/menu_events.cpp 	if(i == units().end()) {</span>
<span class='curline'><a href='../S/918.html#L804'>units</a>             804 src/menu_events.cpp 	if(i == units().end() || !i-&gt;move_interrupted()) {</span>
<span class='curline'><a href='../S/918.html#L805'>units</a>             805 src/menu_events.cpp 		i = units().find(mousehandler.get_selected_hex());</span>
<span class='curline'><a href='../S/918.html#L806'>units</a>             806 src/menu_events.cpp 		if(i == units().end() || !i-&gt;move_interrupted()) {</span>
<span class='curline'><a href='../S/918.html#L819'>units</a>             819 src/menu_events.cpp 	assert(ui != units().end());</span>
<span class='curline'><a href='../S/918.html#L855'>units</a>             855 src/menu_events.cpp 		for(auto&amp; unit : units()) {</span>
<span class='curline'><a href='../S/918.html#L901'>units</a>             901 src/menu_events.cpp 			if(units().count(next_stop)) {</span>
<span class='curline'><a href='../S/918.html#L947'>units</a>             947 src/menu_events.cpp 	const unit_map::iterator un = units().find(mousehandler.get_selected_hex());</span>
<span class='curline'><a href='../S/918.html#L948'>units</a>             948 src/menu_events.cpp 	if(un != units().end() &amp;&amp; un-&gt;side() == side_num &amp;&amp; un-&gt;movement_left() &gt;= 0) {</span>
<span class='curline'><a href='../S/918.html#L963'>units</a>             963 src/menu_events.cpp 	const unit_map::iterator un = units().find(mousehandler.get_selected_hex());</span>
<span class='curline'><a href='../S/918.html#L964'>units</a>             964 src/menu_events.cpp 	if(un != units().end() &amp;&amp; un-&gt;side() == side_num &amp;&amp; un-&gt;movement_left() &gt;= 0) {</span>
<span class='curline'><a href='../S/918.html#L1334'>units</a>            1334 src/menu_events.cpp 			unit_map::const_iterator ui = units().find(loc);</span>
<span class='curline'><a href='../S/918.html#L1335'>units</a>            1335 src/menu_events.cpp 			if(ui != units().end()) {</span>
<span class='curline'><a href='../S/918.html#L1807'>units</a>            1807 src/menu_events.cpp 	if(i == menu_handler_.units().end()) {</span>
<span class='curline'><a href='../S/918.html#L1869'>units</a>            1869 src/menu_events.cpp 		create_and_place(*menu_handler_.gui_, menu_handler_.map(), menu_handler_.units(), loc, *ut);</span>
<span class='curline'><a href='../S/140.html#L123'>units</a>             123 src/menu_events.hpp 	unit_map&amp; units();</span>
<span class='curline'><a href='../S/954.html#L836'>units</a>             836 src/mouse_events.cpp 		unit_map::const_iterator const u = pc_.gamestate().board_.units().find(steps.front());</span>
<span class='curline'><a href='../S/954.html#L1059'>units</a>            1059 src/mouse_events.cpp 		unit_map::const_iterator i = pc_.gamestate().board_.units().find(loc);</span>
<span class='curline'><a href='../S/954.html#L1096'>units</a>            1096 src/mouse_events.cpp 	if (board.units().begin() == board.units().end()) {</span>
<span class='curline'><a href='../S/954.html#L1102'>units</a>            1102 src/mouse_events.cpp 		it = board.units().begin();</span>
<span class='curline'><a href='../S/954.html#L1107'>units</a>            1107 src/mouse_events.cpp 			if (it == board.units().begin())</span>
<span class='curline'><a href='../S/954.html#L1108'>units</a>            1108 src/mouse_events.cpp 				it = board.units().end();</span>
<span class='curline'><a href='../S/954.html#L1111'>units</a>            1111 src/mouse_events.cpp 			if (it == board.units().end())</span>
<span class='curline'><a href='../S/954.html#L1112'>units</a>            1112 src/mouse_events.cpp 				it = board.units().begin();</span>
<span class='curline'><a href='../S/848.html#L62'>units</a>              62 src/pathfind/pathfind.cpp 	const unit_map &amp; units = board-&gt;units();</span>
<span class='curline'><a href='../S/848.html#L94'>units</a>              94 src/pathfind/pathfind.cpp 			if (units.find(l) == units.end() &amp;&amp; !pass_check_and_unreachable) return l;</span>
<span class='curline'><a href='../S/848.html#L588'>units</a>             588 src/pathfind/pathfind.cpp 	const unit_map::const_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/848.html#L632'>units</a>             632 src/pathfind/pathfind.cpp 	unit_map::const_iterator it = resources::gameboard-&gt;units().find(rt.steps.front());</span>
<span class='curline'><a href='../S/848.html#L633'>units</a>             633 src/pathfind/pathfind.cpp 	if (it == resources::gameboard-&gt;units().end()) return marked_route();</span>
<span class='curline'><a href='../S/850.html#L127'>units</a>             127 src/pathfind/teleport.cpp 		scoped_xy_unit teleport_unit("teleport_unit", loc, resources::gameboard-&gt;units());</span>
<span class='curline'><a href='../S/850.html#L205'>units</a>             205 src/pathfind/teleport.cpp 					u = resources::gameboard-&gt;units().find(*loc);</span>
<span class='curline'><a href='../S/850.html#L209'>units</a>             209 src/pathfind/teleport.cpp 				if (u != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/818.html#L128'>units</a>             128 src/play_controller.cpp 	resources::units = nullptr;</span>
<span class='curline'><a href='../S/818.html#L216'>units</a>             216 src/play_controller.cpp 		resources::units = &amp;gamestate().board_.units_;</span>
<span class='curline'><a href='../S/818.html#L299'>units</a>             299 src/play_controller.cpp 	resources::units = nullptr;</span>
<span class='curline'><a href='../S/818.html#L312'>units</a>             312 src/play_controller.cpp 	resources::units = &amp;gamestate().board_.units_;</span>
<span class='curline'><a href='../S/818.html#L357'>units</a>             357 src/play_controller.cpp 	for (const unit&amp; u : gamestate().board_.units()) {</span>
<span class='curline'><a href='../S/818.html#L563'>units</a>             563 src/play_controller.cpp 	for (const unit&amp; u : gamestate().board_.units()) {</span>
<span class='curline'><a href='../S/818.html#L613'>units</a>             613 src/play_controller.cpp 		for (const unit&amp; u : gamestate().board_.units()){</span>
<span class='curline'><a href='../S/1024.html#L146'>units</a>             146 src/play_controller.hpp 		return gamestate().board_.units();</span>
<span class='curline'><a href='../S/84.html#L382'>units</a>             382 src/playsingle_controller.cpp 		if (gamestate().board_.side_units(current_side()) == 0 &amp;&amp; !(gamestate().board_.units().size() == 0 &amp;&amp; current_side() == 1)) {</span>
<span class='curline'><a href='../S/791.html#L998'>units</a>             998 src/preferences/game.cpp void encounter_start_units(const unit_map&amp; units){</span>
<span class='curline'><a href='../S/791.html#L999'>units</a>             999 src/preferences/game.cpp 	for (unit_map::const_iterator help_unit_it = units.begin();</span>
<span class='curline'><a href='../S/791.html#L1000'>units</a>            1000 src/preferences/game.cpp 		 help_unit_it != units.end(); ++help_unit_it) {</span>
<span class='curline'><a href='../S/791.html#L1026'>units</a>            1026 src/preferences/game.cpp 	preferences::encounter_start_units(gameboard_.units());</span>
<span class='curline'><a href='../S/793.html#L241'>units</a>             241 src/preferences/game.hpp 	void encounter_start_units(const unit_map&amp; units);</span>
<span class='curline'><a href='../S/1098.html#L59'>units</a>              59 src/replay.cpp static void verify(const unit_map&amp; units, const config&amp; cfg) {</span>
<span class='curline'><a href='../S/1098.html#L64'>units</a>              64 src/replay.cpp 	if(nunits != units.size()) {</span>
<span class='curline'><a href='../S/1098.html#L66'>units</a>              66 src/replay.cpp 			   &lt;&lt; nunits &lt;&lt; " according to data source. " &lt;&lt; units.size() &lt;&lt; " locally\n";</span>
<span class='curline'><a href='../S/1098.html#L74'>units</a>              74 src/replay.cpp 			if(units.count(loc) == 0) {</span>
<span class='curline'><a href='../S/1098.html#L80'>units</a>              80 src/replay.cpp 		for(unit_map::const_iterator j = units.begin(); j != units.end(); ++j) {</span>
<span class='curline'><a href='../S/1098.html#L93'>units</a>              93 src/replay.cpp 		const unit_map::const_iterator u = units.find(loc);</span>
<span class='curline'><a href='../S/1098.html#L94'>units</a>              94 src/replay.cpp 		if(u == units.end()) {</span>
<span class='curline'><a href='../S/1098.html#L208'>units</a>             208 src/replay.cpp 	unit_map::const_iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/1098.html#L751'>units</a>             751 src/replay.cpp 			unit_map::iterator u = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/1098.html#L796'>units</a>             796 src/replay.cpp 					verify(resources::gameboard-&gt;units(), cfg_verify);</span>
<span class='curline'><a href='../S/1098.html#L871'>units</a>             871 src/replay.cpp 			verify(resources::gameboard-&gt;units(), child);</span>
<span class='curline'><a href='../S/761.html#L338'>units</a>             338 src/reports.cpp 	int cm = combat_modifier(rc.units(), rc.map(), rc.screen().displayed_unit_hex(), u-&gt;alignment(),</span>
<span class='curline'><a href='../S/761.html#L656'>units</a>             656 src/reports.cpp 	int tod_bonus = combat_modifier(rc.units(), rc.map(), displayed_unit_hex, u.alignment(), u.is_fearless());</span>
<span class='curline'><a href='../S/761.html#L658'>units</a>             658 src/reports.cpp 	int leader_bonus = under_leadership(rc.units(), displayed_unit_hex).first;</span>
<span class='curline'><a href='../S/761.html#L758'>units</a>             758 src/reports.cpp 	for (const unit &amp;enemy : rc.units())</span>
<span class='curline'><a href='../S/761.html#L858'>units</a>             858 src/reports.cpp 			battle_context weapon(rc.units(), attacker_pos, defender-&gt;get_location(), i, -1, 0.0, nullptr, attacker);</span>
<span class='curline'><a href='../S/761.html#L1090'>units</a>            1090 src/reports.cpp 		tod = rc.tod().get_illuminated_time_of_day(rc.units(), rc.map(), mouseover_hex);</span>
<span class='curline'><a href='../S/761.html#L1142'>units</a>            1142 src/reports.cpp 		local_tod = rc.tod().get_illuminated_time_of_day(rc.units(), rc.map(),mouseover_hex);</span>
<span class='curline'><a href='../S/1158.html#L51'>units</a>              51 src/reports.hpp 		const unit_map &amp; units() { return dc_.units(); }</span>
<span class='curline'><a href='../S/695.html#L34'>units</a>              34 src/resources.cpp 	unit_map             *units = nullptr;</span>
<span class='curline'><a href='../S/677.html#L64'>units</a>              64 src/resources.hpp 	extern unit_map               *units;</span>
<span class='curline'><a href='../S/928.html#L377'>units</a>             377 src/save_index.cpp 			int units = 0, recall_units = 0;</span>
<span class='curline'><a href='../S/928.html#L389'>units</a>             389 src/save_index.cpp 					units++;</span>
<span class='curline'><a href='../S/928.html#L400'>units</a>             400 src/save_index.cpp 				units--;</span>
<span class='curline'><a href='../S/928.html#L426'>units</a>             426 src/save_index.cpp 			leader_config["units"] = units;</span>
<span class='curline'><a href='../S/184.html#L505'>units</a>             505 src/scripting/game_lua_kernel.cpp 		for(const unit&amp; u : units()) {</span>
<span class='curline'><a href='../S/184.html#L516'>units</a>             516 src/scripting/game_lua_kernel.cpp 	unit_map::const_iterator ui = units().find(loc);</span>
<span class='curline'><a href='../S/184.html#L719'>units</a>             719 src/scripting/game_lua_kernel.cpp 	bool b = game_state_.get_wml_menu_items().fire_item(m, l1, gamedata(), game_state_, units());</span>
<span class='curline'><a href='../S/184.html#L1073'>units</a>            1073 src/scripting/game_lua_kernel.cpp 		tod_man().get_illuminated_time_of_day(board().units(), board().map(), loc, for_turn) :</span>
<span class='curline'><a href='../S/184.html#L1580'>units</a>            1580 src/scripting/game_lua_kernel.cpp 		unit_map::const_unit_iterator ui = units().find(src);</span>
<span class='curline'><a href='../S/184.html#L1688'>units</a>            1688 src/scripting/game_lua_kernel.cpp 		unit_map::const_unit_iterator ui = units().find(src);</span>
<span class='curline'><a href='../S/184.html#L1830'>units</a>            1830 src/scripting/game_lua_kernel.cpp 		unit_map::const_unit_iterator ui = units().find(src);</span>
<span class='curline'><a href='../S/184.html#L2015'>units</a>            2015 src/scripting/game_lua_kernel.cpp 	units().erase(loc);</span>
<span class='curline'><a href='../S/184.html#L2078'>units</a>            2078 src/scripting/game_lua_kernel.cpp 		units().insert(u);</span>
<span class='curline'><a href='../S/184.html#L2131'>units</a>            2131 src/scripting/game_lua_kernel.cpp 	units().erase(loc);</span>
<span class='curline'><a href='../S/184.html#L2174'>units</a>            2174 src/scripting/game_lua_kernel.cpp 			units().erase(u-&gt;get_location());</span>
<span class='curline'><a href='../S/184.html#L2195'>units</a>            2195 src/scripting/game_lua_kernel.cpp 		u = units().extract(u-&gt;get_location());</span>
<span class='curline'><a href='../S/184.html#L2512'>units</a>            2512 src/scripting/game_lua_kernel.cpp 	battle_context context(units(), att.get_location(),</span>
<span class='curline'><a href='../S/184.html#L3726'>units</a>            3726 src/scripting/game_lua_kernel.cpp 	units().move(src_loc, vacant_dst);</span>
<span class='curline'><a href='../S/184.html#L3729'>units</a>            3729 src/scripting/game_lua_kernel.cpp 	u = &amp;*units().find(vacant_dst);</span>
<span class='curline'><a href='../S/184.html#L4542'>units</a>            4542 src/scripting/game_lua_kernel.cpp 	unit_map::const_unit_iterator ui = units().find(u.get_location());</span>
<span class='curline'><a href='../S/186.html#L55'>units</a>              55 src/scripting/game_lua_kernel.hpp 	unit_map &amp; units();</span>
<span class='curline'><a href='../S/191.html#L145'>units</a>             145 src/scripting/lua_formula_bridge.cpp 			unit_map::iterator un_it = resources::gameboard-&gt;units().find(u.get_location());</span>
<span class='curline'><a href='../S/199.html#L104'>units</a>             104 src/scripting/lua_team.cpp 	return_int_attrib("num_units", d().units);</span>
<span class='curline'><a href='../S/189.html#L51'>units</a>              51 src/scripting/lua_unit.cpp 	unit_map::unit_iterator ui = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/189.html#L61'>units</a>              61 src/scripting/lua_unit.cpp 	unit_map::unit_iterator ui = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/189.html#L73'>units</a>              73 src/scripting/lua_unit.cpp 		std::pair&lt;unit_map::unit_iterator, bool&gt; res = resources::gameboard-&gt;units().replace(loc, ptr);</span>
<span class='curline'><a href='../S/189.html#L86'>units</a>              86 src/scripting/lua_unit.cpp 			uid = resources::gameboard-&gt;units().replace(loc, it).first-&gt;underlying_id();</span>
<span class='curline'><a href='../S/189.html#L92'>units</a>              92 src/scripting/lua_unit.cpp 		unit_map::unit_iterator ui = resources::gameboard-&gt;units().find(uid);</span>
<span class='curline'><a href='../S/189.html#L93'>units</a>              93 src/scripting/lua_unit.cpp 		if (ui != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/189.html#L96'>units</a>              96 src/scripting/lua_unit.cpp 				resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/189.html#L97'>units</a>              97 src/scripting/lua_unit.cpp 				resources::gameboard-&gt;units().move(from, loc);</span>
<span class='curline'><a href='../S/1043.html#L128'>units</a>             128 src/side_filter.cpp 		for(const unit &amp;u : fc_-&gt;get_disp_context().units()) {</span>
<span class='curline'><a href='../S/854.html#L80'>units</a>              80 src/synced_commands.cpp 	else if ( resources::gameboard-&gt;units().find(from) == resources::gameboard-&gt;units().end() ) {</span>
<span class='curline'><a href='../S/854.html#L182'>units</a>             182 src/synced_commands.cpp 	unit_map::iterator u = resources::gameboard-&gt;units().find(src);</span>
<span class='curline'><a href='../S/854.html#L200'>units</a>             200 src/synced_commands.cpp 	unit_map::const_iterator tgt = resources::gameboard-&gt;units().find(dst);</span>
<span class='curline'><a href='../S/854.html#L290'>units</a>             290 src/synced_commands.cpp 	u = resources::gameboard-&gt;units().find(src);</span>
<span class='curline'><a href='../S/854.html#L407'>units</a>             407 src/synced_commands.cpp 	unit_map::iterator i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L408'>units</a>             408 src/synced_commands.cpp 	if (i == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/854.html#L417'>units</a>             417 src/synced_commands.cpp 			i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L445'>units</a>             445 src/synced_commands.cpp 			resources::gameboard-&gt;units().erase(loc);</span>
<span class='curline'><a href='../S/854.html#L446'>units</a>             446 src/synced_commands.cpp 			resources::gameboard-&gt;units().insert(new_u);</span>
<span class='curline'><a href='../S/854.html#L482'>units</a>             482 src/synced_commands.cpp 	std::pair&lt;unit_map::iterator, bool&gt; add_result = resources::gameboard-&gt;units().replace(loc, created);</span>
<span class='curline'><a href='../S/854.html#L521'>units</a>             521 src/synced_commands.cpp 	const unit_map::iterator i = resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/854.html#L522'>units</a>             522 src/synced_commands.cpp 	if (i != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/854.html#L534'>units</a>             534 src/synced_commands.cpp 			resources::gameboard-&gt;units().erase(i);</span>
<span class='curline'><a href='../S/310.html#L165'>units</a>             165 src/terrain/filter.cpp 		const unit_map::const_iterator u = fc_-&gt;get_disp_context().units().find(loc);</span>
<span class='curline'><a href='../S/310.html#L263'>units</a>             263 src/terrain/filter.cpp 			tod = fc_-&gt;get_tod_man().get_illuminated_time_of_day(fc_-&gt;get_disp_context().units(), fc_-&gt;get_disp_context().map(),loc);</span>
<span class='curline'><a href='../S/718.html#L88'>units</a>              88 src/tests/utils/game_config_manager.cpp 			if (config &amp;units = cfg_.child("units")) {</span>
<span class='curline'><a href='../S/718.html#L89'>units</a>              89 src/tests/utils/game_config_manager.cpp 				unit_types.set_config(units);</span>
<span class='curline'><a href='../S/856.html#L207'>units</a>             207 src/tod_manager.cpp const time_of_day tod_manager::get_illuminated_time_of_day(const unit_map &amp; units, const gamemap &amp; map, const map_location&amp; loc, int for_turn) const</span>
<span class='curline'><a href='../S/856.html#L228'>units</a>             228 src/tod_manager.cpp 			const unit_map::const_iterator itor = units.find(locs[i]);</span>
<span class='curline'><a href='../S/856.html#L229'>units</a>             229 src/tod_manager.cpp 			if (itor != units.end() &amp;&amp;</span>
<span class='curline'><a href='../S/1048.html#L73'>units</a>              73 src/tod_manager.hpp 		const time_of_day get_illuminated_time_of_day(const unit_map &amp; units, const gamemap &amp; map, const map_location&amp; loc,</span>
<span class='curline'><a href='../S/995.html#L141'>units</a>             141 src/units/abilities.cpp 	assert(resources::units);</span>
<span class='curline'><a href='../S/995.html#L142'>units</a>             142 src/units/abilities.cpp 	const unit_map&amp; units = *resources::units;</span>
<span class='curline'><a href='../S/995.html#L147'>units</a>             147 src/units/abilities.cpp 		const unit_map::const_iterator it = units.find(adjacent[i]);</span>
<span class='curline'><a href='../S/995.html#L148'>units</a>             148 src/units/abilities.cpp 		if (it == units.end() || it-&gt;incapacitated())</span>
<span class='curline'><a href='../S/995.html#L182'>units</a>             182 src/units/abilities.cpp 	assert(resources::units);</span>
<span class='curline'><a href='../S/995.html#L183'>units</a>             183 src/units/abilities.cpp 	const unit_map&amp; units = *resources::units;</span>
<span class='curline'><a href='../S/995.html#L188'>units</a>             188 src/units/abilities.cpp 		const unit_map::const_iterator it = units.find(adjacent[i]);</span>
<span class='curline'><a href='../S/995.html#L189'>units</a>             189 src/units/abilities.cpp 		if (it == units.end() || it-&gt;incapacitated())</span>
<span class='curline'><a href='../S/995.html#L308'>units</a>             308 src/units/abilities.cpp 	assert(resources::units);</span>
<span class='curline'><a href='../S/995.html#L309'>units</a>             309 src/units/abilities.cpp 	const unit_map&amp; units = *resources::units;</span>
<span class='curline'><a href='../S/995.html#L320'>units</a>             320 src/units/abilities.cpp 			unit_map::const_iterator unit = units.find(adjacent[index]);</span>
<span class='curline'><a href='../S/995.html#L321'>units</a>             321 src/units/abilities.cpp 			if (unit == units.end())</span>
<span class='curline'><a href='../S/995.html#L874'>units</a>             874 src/units/abilities.cpp 	assert(resources::units);</span>
<span class='curline'><a href='../S/995.html#L875'>units</a>             875 src/units/abilities.cpp 	const unit_map&amp; units = *resources::units;</span>
<span class='curline'><a href='../S/995.html#L877'>units</a>             877 src/units/abilities.cpp 	unit_map::const_iterator self  = units.find(self_loc_);</span>
<span class='curline'><a href='../S/995.html#L878'>units</a>             878 src/units/abilities.cpp 	unit_map::const_iterator other = units.find(other_loc_);</span>
<span class='curline'><a href='../S/995.html#L915'>units</a>             915 src/units/abilities.cpp 			unit_map::const_iterator unit = units.find(adjacent[index]);</span>
<span class='curline'><a href='../S/995.html#L916'>units</a>             916 src/units/abilities.cpp 			if (unit == units.end() || !filter.matches(*unit, adjacent[index], *self))</span>
<span class='curline'><a href='../S/1010.html#L84'>units</a>              84 src/units/filter.cpp 		for(const unit &amp; u : fc_.get_disp_context().units()) {</span>
<span class='curline'><a href='../S/1010.html#L95'>units</a>              95 src/units/filter.cpp 		return fc_.get_disp_context().units().begin().get_shared_ptr();</span>
<span class='curline'><a href='../S/1010.html#L228'>units</a>             228 src/units/filter.cpp 		scoped_xy_unit auto_store("this_unit", loc, fc_.get_disp_context().units());</span>
<span class='curline'><a href='../S/1010.html#L231'>units</a>             231 src/units/filter.cpp 			scoped_xy_unit u2_auto_store("other_unit", loc2, fc_.get_disp_context().units());</span>
<span class='curline'><a href='../S/1010.html#L552'>units</a>             552 src/units/filter.cpp 		const unit_map&amp; units = fc_.get_disp_context().units();</span>
<span class='curline'><a href='../S/1010.html#L570'>units</a>             570 src/units/filter.cpp 				unit_map::const_iterator unit_itor = units.find(adjacent[*j]);</span>
<span class='curline'><a href='../S/1010.html#L571'>units</a>             571 src/units/filter.cpp 				if (unit_itor == units.end() || !filt(*unit_itor, u)) {</span>
<span class='curline'><a href='../S/1010.html#L648'>units</a>             648 src/units/filter.cpp 	for (const unit &amp; u : fc_.get_disp_context().units()) {</span>
<span class='curline'><a href='../S/1010.html#L661'>units</a>             661 src/units/filter.cpp 	const unit_map &amp; units = fc_.get_disp_context().units();</span>
<span class='curline'><a href='../S/1010.html#L662'>units</a>             662 src/units/filter.cpp 	for(unit_map::const_iterator u = units.begin(); u != units.end(); u++) {</span>
<span class='curline'><a href='../S/989.html#L589'>units</a>             589 src/units/udisplay.cpp 	const unit_map::const_iterator att = board.units().find(a);</span>
<span class='curline'><a href='../S/989.html#L633'>units</a>             633 src/units/udisplay.cpp 		unit_map::const_iterator leader = board.units().find(ability.second);</span>
<span class='curline'><a href='../S/989.html#L643'>units</a>             643 src/units/udisplay.cpp 		unit_map::const_iterator helper = board.units().find(ability.second);</span>
<span class='curline'><a href='../S/989.html#L683'>units</a>             683 src/units/udisplay.cpp 	const unit_map&amp; units = disp-&gt;get_units();</span>
<span class='curline'><a href='../S/989.html#L687'>units</a>             687 src/units/udisplay.cpp 			unit_map::const_iterator leader = units.find(ability.second);</span>
<span class='curline'><a href='../S/989.html#L688'>units</a>             688 src/units/udisplay.cpp 			assert(leader != units.end());</span>
<span class='curline'><a href='../S/989.html#L696'>units</a>             696 src/units/udisplay.cpp 			unit_map::const_iterator helper = units.find(ability.second);</span>
<span class='curline'><a href='../S/989.html#L697'>units</a>             697 src/units/udisplay.cpp 			assert(helper != units.end());</span>
<span class='curline'><a href='../S/1007.html#L2431'>units</a>            2431 src/units/unit.cpp 		if(!resources::gameboard-&gt;units().has_unit(&amp;u_)) {</span>
<span class='curline'><a href='../S/1237.html#L140'>units</a>             140 src/whiteboard/attack.cpp 	unit_map::const_iterator survivor = resources::gameboard-&gt;units().find(get_dest_hex());</span>
<span class='curline'><a href='../S/1237.html#L237'>units</a>             237 src/whiteboard/attack.cpp 	if(resources::gameboard-&gt;units().find(target_hex_) == resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/1237.html#L245'>units</a>             245 src/whiteboard/attack.cpp 	if(!resources::gameboard-&gt;get_team(get_unit()-&gt;side()).is_enemy(resources::gameboard-&gt;units().find(target_hex_)-&gt;side())){</span>
<span class='curline'><a href='../S/1236.html#L370'>units</a>             370 src/whiteboard/highlighter.cpp 	return resources::gameboard-&gt;units();</span>
<span class='curline'><a href='../S/1233.html#L523'>units</a>             523 src/whiteboard/manager.cpp 			unit_map::iterator unit_iter = resources::gameboard-&gt;units().find(unit_id);</span>
<span class='curline'><a href='../S/1233.html#L534'>units</a>             534 src/whiteboard/manager.cpp 		unit_map::iterator unit_iter = resources::gameboard-&gt;units().find(unit_id);</span>
<span class='curline'><a href='../S/1233.html#L574'>units</a>             574 src/whiteboard/manager.cpp 		hex_has_unit = resources::gameboard-&gt;units().find(selected_hex) != resources::gameboard-&gt;units().end();</span>
<span class='curline'><a href='../S/1233.html#L797'>units</a>             797 src/whiteboard/manager.cpp 	return resources::gameboard-&gt;units().find(temp_move_unit_underlying_id_);</span>
<span class='curline'><a href='../S/1233.html#L1152'>units</a>            1152 src/whiteboard/manager.cpp 	mapbuilder_.reset(new mapbuilder(resources::gameboard-&gt;units()));</span>
<span class='curline'><a href='../S/1244.html#L65'>units</a>              65 src/whiteboard/mapbuilder.cpp 	for (unit&amp; u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/1244.html#L72'>units</a>              72 src/whiteboard/mapbuilder.cpp 			removers_.push_back(new temporary_unit_remover(resources::gameboard-&gt;units(), u.get_location()));</span>
<span class='curline'><a href='../S/1242.html#L103'>units</a>             103 src/whiteboard/move.cpp 	unit_map::iterator unit_itor = resources::gameboard-&gt;units().find(cfg["unit_"]);</span>
<span class='curline'><a href='../S/1242.html#L104'>units</a>             104 src/whiteboard/move.cpp 	if(unit_itor == resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/1242.html#L240'>units</a>             240 src/whiteboard/move.cpp 	unit_map::const_iterator unit_it = resources::gameboard-&gt;units().find(final_location);</span>
<span class='curline'><a href='../S/1242.html#L248'>units</a>             248 src/whiteboard/move.cpp 	else if ( unit_it == resources::gameboard-&gt;units().end()  ||  unit_it-&gt;id() != unit_id_ )</span>
<span class='curline'><a href='../S/1242.html#L289'>units</a>             289 src/whiteboard/move.cpp 	unit_map::iterator itor = resources::gameboard-&gt;units().find(unit_underlying_id_);</span>
<span class='curline'><a href='../S/1242.html#L374'>units</a>             374 src/whiteboard/move.cpp 			unit_map::iterator unit_it = resources::gameboard-&gt;units().find(get_dest_hex());</span>
<span class='curline'><a href='../S/1242.html#L375'>units</a>             375 src/whiteboard/move.cpp 			assert(unit_it != resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/1242.html#L462'>units</a>             462 src/whiteboard/move.cpp 	unit_it = resources::gameboard-&gt;units().find(get_source_hex());</span>
<span class='curline'><a href='../S/1242.html#L463'>units</a>             463 src/whiteboard/move.cpp 	if(unit_it == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1235.html#L207'>units</a>             207 src/whiteboard/recall.cpp 	if(resources::gameboard-&gt;units().find(recall_hex_) != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1223.html#L185'>units</a>             185 src/whiteboard/recruit.cpp 	if(resources::gameboard-&gt;units().find(recruit_hex_) != resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1222.html#L76'>units</a>              76 src/whiteboard/suppose_dead.cpp 	unit_map::iterator unit_itor = resources::gameboard-&gt;units().find(cfg["unit_"]);</span>
<span class='curline'><a href='../S/1222.html#L77'>units</a>              77 src/whiteboard/suppose_dead.cpp 	if(unit_itor == resources::gameboard-&gt;units().end())</span>
<span class='curline'><a href='../S/1222.html#L100'>units</a>             100 src/whiteboard/suppose_dead.cpp 	unit_map::iterator itor = resources::gameboard-&gt;units().find(unit_underlying_id_);</span>
<span class='curline'><a href='../S/1222.html#L129'>units</a>             129 src/whiteboard/suppose_dead.cpp 	unit_map::iterator unit_it = resources::gameboard-&gt;units().find(loc_);</span>
<span class='curline'><a href='../S/1222.html#L130'>units</a>             130 src/whiteboard/suppose_dead.cpp 	assert(unit_it == resources::gameboard-&gt;units().end());</span>
<span class='curline'><a href='../S/1222.html#L161'>units</a>             161 src/whiteboard/suppose_dead.cpp 	unit_map::const_iterator unit_it = resources::gameboard-&gt;units().find(get_source_hex());</span>
<span class='curline'><a href='../S/1222.html#L162'>units</a>             162 src/whiteboard/suppose_dead.cpp 	if(unit_it == resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/1234.html#L68'>units</a>              68 src/whiteboard/utility.cpp 	for (unit_map::const_iterator unit = resources::gameboard-&gt;units().begin(); unit != resources::gameboard-&gt;units().end(); unit++)</span>
<span class='curline'><a href='../S/1234.html#L84'>units</a>              84 src/whiteboard/utility.cpp 	for(unit&amp; u : resources::gameboard-&gt;units())</span>
</pre>
</body>
</html>
