<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>att_attack</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4370.html#L112'>att_attack</a>        112 data/ai/lua/battle_calcs.lua         return cache[cind].att_damage, cache[cind].def_damage, cache[cind].att_attack, cache[cind].def_attack</span>
<span class='curline'><a href='../S/4370.html#L166'>att_attack</a>        166 data/ai/lua/battle_calcs.lua             att_attack = attacker_info.attacks[att_weapon],</span>
<span class='curline'><a href='../S/4370.html#L660'>att_attack</a>        660 data/ai/lua/battle_calcs.lua     local att_damage, def_damage, att_attack, def_attack =</span>
<span class='curline'><a href='../S/4370.html#L664'>att_attack</a>        664 data/ai/lua/battle_calcs.lua     local att_strikes, def_strikes = att_attack.number, 0</span>
<span class='curline'><a href='../S/4370.html#L669'>att_attack</a>        669 data/ai/lua/battle_calcs.lua     if att_attack.swarm then</span>
<span class='curline'><a href='../S/4370.html#L687'>att_attack</a>        687 data/ai/lua/battle_calcs.lua     if att_attack.magical then att_hit_prob = 0.7 end</span>
<span class='curline'><a href='../S/4370.html#L691'>att_attack</a>        691 data/ai/lua/battle_calcs.lua     if att_attack.marksman and (att_hit_prob &lt; 0.6) then</span>
<span class='curline'><a href='../S/4370.html#L700'>att_attack</a>        700 data/ai/lua/battle_calcs.lua         att = { strikes = att_strikes, max_hits = att_max_hits, firststrike = att_attack.firststrike },</span>
<span class='curline'><a href='../S/4370.html#L708'>att_attack</a>        708 data/ai/lua/battle_calcs.lua     local def_stats = battle_calcs.hp_distribution(def_coeffs, att_hit_prob, def_hit_prob, defender.hitpoints, att_damage, att_attack)</span>
</pre>
</body>
</html>
