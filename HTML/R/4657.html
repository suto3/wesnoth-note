<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>defense</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4370.html#L1329'>defense</a>          1329 data/ai/lua/battle_calcs.lua             local defense = 100 - wesnoth.unit_defense(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4370.html#L1331'>defense</a>          1331 data/ai/lua/battle_calcs.lua             if (defense &gt; (defense_map:get(loc[1], loc[2]) or -9e99)) then</span>
<span class='curline'><a href='../S/4370.html#L1332'>defense</a>          1332 data/ai/lua/battle_calcs.lua                 defense_map:insert(loc[1], loc[2], defense)</span>
<span class='curline'><a href='../S/4372.html#L96'>defense</a>            96 data/ai/lua/generic_recruit_engine.lua                 local defense = wesnoth.unit_defense(unit, terrain)</span>
<span class='curline'><a href='../S/4372.html#L97'>defense</a>            97 data/ai/lua/generic_recruit_engine.lua                 if defense &lt; best_defense then</span>
<span class='curline'><a href='../S/4372.html#L98'>defense</a>            98 data/ai/lua/generic_recruit_engine.lua                     best_defense = defense</span>
<span class='curline'><a href='../S/4372.html#L125'>defense</a>           125 data/ai/lua/generic_recruit_engine.lua                     local defense = defender_defense</span>
<span class='curline'><a href='../S/4372.html#L142'>defense</a>           142 data/ai/lua/generic_recruit_engine.lua                                     if mod.value &gt; defense then</span>
<span class='curline'><a href='../S/4372.html#L143'>defense</a>           143 data/ai/lua/generic_recruit_engine.lua                                         defense = mod.value</span>
<span class='curline'><a href='../S/4372.html#L146'>defense</a>           146 data/ai/lua/generic_recruit_engine.lua                                     defense = mod.value</span>
<span class='curline'><a href='../S/4372.html#L149'>defense</a>           149 data/ai/lua/generic_recruit_engine.lua                                 defense = defense + mod.add</span>
<span class='curline'><a href='../S/4372.html#L151'>defense</a>           151 data/ai/lua/generic_recruit_engine.lua                                 defense = defense - mod.sub</span>
<span class='curline'><a href='../S/4372.html#L153'>defense</a>           153 data/ai/lua/generic_recruit_engine.lua                                 defense = defense * mod.multiply</span>
<span class='curline'><a href='../S/4372.html#L155'>defense</a>           155 data/ai/lua/generic_recruit_engine.lua                                 defense = defense / mod.divide</span>
<span class='curline'><a href='../S/4372.html#L211'>defense</a>           211 data/ai/lua/generic_recruit_engine.lua                     defense = defense/100.0</span>
<span class='curline'><a href='../S/4372.html#L228'>defense</a>           228 data/ai/lua/generic_recruit_engine.lua                     local attack_damage = base_damage*attack.number*defense-drain_recovery</span>
<span class='curline'><a href='../S/4372.html#L233'>defense</a>           233 data/ai/lua/generic_recruit_engine.lua                         poison_damage = 8*(1-((1-defense)^attack.number))</span>
<span class='curline'><a href='../S/4372.html#L285'>defense</a>           285 data/ai/lua/generic_recruit_engine.lua                 defense = { attack = best_high_defense_attack, damage = best_high_defense_damage, poison_damage = high_defense_poison },</span>
<span class='curline'><a href='../S/4372.html#L479'>defense</a>           479 data/ai/lua/generic_recruit_engine.lua                     recruit_effectiveness[recruit_id].damage = recruit_effectiveness[recruit_id].damage + analysis.defense.damage * enemy_counts[unit_type]^2</span>
<span class='curline'><a href='../S/4372.html#L480'>defense</a>           480 data/ai/lua/generic_recruit_engine.lua                     if analysis.defense.poison_damage and analysis.defense.poison_damage &gt; 0 then</span>
<span class='curline'><a href='../S/4372.html#L483'>defense</a>           483 data/ai/lua/generic_recruit_engine.lua                             analysis.defense.poison_damage * enemy_counts[unit_type]^2</span>
<span class='curline'><a href='../S/4372.html#L487'>defense</a>           487 data/ai/lua/generic_recruit_engine.lua                     local attack_type = analysis.defense.attack.type</span>
<span class='curline'><a href='../S/4372.html#L493'>defense</a>           493 data/ai/lua/generic_recruit_engine.lua                     local attack_range = analysis.defense.attack.range</span>
<span class='curline'><a href='../S/4372.html#L652'>defense</a>           652 data/ai/lua/generic_recruit_engine.lua             local best_scores = {offense = 0, defense = 0, move = 0}</span>
<span class='curline'><a href='../S/4372.html#L729'>defense</a>           729 data/ai/lua/generic_recruit_engine.lua                 local unit_score = {offense = offense_score, defense = defense_score, move = move_score}</span>
<span class='curline'><a href='../S/4307.html#L213'>defense</a>           213 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         local defense = (100. - wesnoth.unit_defense(unit_copy, wesnoth.get_terrain(x, y))) / 100.</span>
<span class='curline'><a href='../S/4307.html#L214'>defense</a>           214 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         defense_maps[unit_copy.id][x][y] = { defense = defense }</span>
<span class='curline'><a href='../S/4307.html#L217'>defense</a>           217 data/ai/micro_ais/cas/ca_fast_attack_utils.lua     return defense_maps[unit_copy.id][x][y].defense</span>
<span class='curline'><a href='../S/4316.html#L110'>defense</a>           110 data/ai/micro_ais/cas/ca_healer_move.lua                 local defense = 100 - wesnoth.unit_defense(healer, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4316.html#L111'>defense</a>           111 data/ai/micro_ais/cas/ca_healer_move.lua                 rating = rating + defense / 10.</span>
<span class='curline'><a href='../S/4319.html#L62'>defense</a>            62 data/ai/micro_ais/cas/ca_stationed_guardian.lua                 local defense = 100 - wesnoth.unit_defense(guardian, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/4319.html#L65'>defense</a>            65 data/ai/micro_ais/cas/ca_stationed_guardian.lua                     if (nh[1] == xa) and (nh[2] == ya) and (defense &gt; best_defense) then</span>
<span class='curline'><a href='../S/4319.html#L66'>defense</a>            66 data/ai/micro_ais/cas/ca_stationed_guardian.lua                         best_defense, attack_loc = defense, { xa, ya }</span>
<span class='curline'><a href='../S/4293.html#L49'>defense</a>            49 data/ai/micro_ais/cas/ca_zone_guardian.lua                     local defense = 100 - wesnoth.unit_defense(guardian, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/4293.html#L52'>defense</a>            52 data/ai/micro_ais/cas/ca_zone_guardian.lua                         if (nh[1] == xa) and (nh[2] == ya) and (defense &gt; best_defense) then</span>
<span class='curline'><a href='../S/4293.html#L53'>defense</a>            53 data/ai/micro_ais/cas/ca_zone_guardian.lua                             best_defense, attack_loc = defense, { xa, ya }</span>
<span class='curline'><a href='../S/286.html#L500'>defense</a>           500 src/ai/contexts.cpp 		const int defense = itor-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;second));</span>
<span class='curline'><a href='../S/286.html#L501'>defense</a>           501 src/ai/contexts.cpp 		if(defense &gt; pos.chance_to_hit) {</span>
<span class='curline'><a href='../S/286.html#L508'>defense</a>           508 src/ai/contexts.cpp 		if(defense &lt; pos.chance_to_hit || support - vulnerability &gt; pos.support - pos.vulnerability) {</span>
<span class='curline'><a href='../S/286.html#L510'>defense</a>           510 src/ai/contexts.cpp 			pos.chance_to_hit = defense;</span>
<span class='curline'><a href='../S/286.html#L1133'>defense</a>          1133 src/ai/contexts.cpp 			int64_t defense = 100 - un.defense_modifier(terrain);</span>
<span class='curline'><a href='../S/286.html#L1134'>defense</a>          1134 src/ai/contexts.cpp 			int64_t rating_64 = hp * defense * most_damage * village_bonus / 200;</span>
<span class='curline'><a href='../S/240.html#L355'>defense</a>           355 src/ai/default/aspect_attacks.cpp 	const int defense = u.defense_modifier(terrain);</span>
<span class='curline'><a href='../S/240.html#L356'>defense</a>           356 src/ai/default/aspect_attacks.cpp 	int rating = 100 - defense;</span>
<span class='curline'><a href='../S/238.html#L1473'>defense</a>          1473 src/ai/default/ca.cpp 					const int defense = i-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(hex));</span>
<span class='curline'><a href='../S/238.html#L1475'>defense</a>          1475 src/ai/default/ca.cpp 					const double their_power = power_projection(hex,get_enemy_dstsrc()) * double(defense)/100.0;</span>
<span class='curline'><a href='../S/238.html#L1483'>defense</a>          1483 src/ai/default/ca.cpp 					const int modified_defense = defense - (resources::gameboard-&gt;map().is_village(hex) ? 10 : 0);</span>
<span class='curline'><a href='../S/237.html#L453'>defense</a>           453 src/ai/default/ca_move_to_targets.cpp 				const int defense = best-&gt;defense_modifier(map_.get_terrain(*i));</span>
<span class='curline'><a href='../S/237.html#L457'>defense</a>           457 src/ai/default/ca_move_to_targets.cpp 				if(best_loc.valid() == false || defense &lt; best_defense || (defense == best_defense &amp;&amp; vulnerability &lt; best_vulnerability)) {</span>
<span class='curline'><a href='../S/237.html#L459'>defense</a>           459 src/ai/default/ca_move_to_targets.cpp 					best_defense = defense;</span>
<span class='curline'><a href='../S/237.html#L548'>defense</a>           548 src/ai/default/ca_move_to_targets.cpp 				const int defense = un.defense_modifier(map_.get_terrain(i-&gt;second));</span>
<span class='curline'><a href='../S/237.html#L550'>defense</a>           550 src/ai/default/ca_move_to_targets.cpp 				const double threat = (power_projection(i-&gt;second,enemy_dstsrc)*defense)/100;</span>
<span class='curline'><a href='../S/237.html#L786'>defense</a>           786 src/ai/default/ca_move_to_targets.cpp 			int defense = un-&gt;defense_modifier(map_.get_terrain(*j));</span>
<span class='curline'><a href='../S/237.html#L787'>defense</a>           787 src/ai/default/ca_move_to_targets.cpp 			if(best_loc.valid() == false || defense &lt; best_defense) {</span>
<span class='curline'><a href='../S/237.html#L789'>defense</a>           789 src/ai/default/ca_move_to_targets.cpp 				best_defense = defense;</span>
<span class='curline'><a href='../S/237.html#L838'>defense</a>           838 src/ai/default/ca_move_to_targets.cpp 		int defense = 0;</span>
<span class='curline'><a href='../S/237.html#L840'>defense</a>           840 src/ai/default/ca_move_to_targets.cpp 			defense += un.defense_modifier(map_.get_terrain(*j));</span>
<span class='curline'><a href='../S/237.html#L843'>defense</a>           843 src/ai/default/ca_move_to_targets.cpp 		defense /= battlefield.size();</span>
<span class='curline'><a href='../S/237.html#L851'>defense</a>           851 src/ai/default/ca_move_to_targets.cpp 		const int rating = (defense*best_attack*un.hitpoints())/(100*un.max_hitpoints());</span>
<span class='curline'><a href='../S/246.html#L104'>defense</a>           104 src/ai/default/contexts.cpp 	const int defense = u.defense_modifier(terrain);</span>
<span class='curline'><a href='../S/246.html#L105'>defense</a>           105 src/ai/default/contexts.cpp 	int rating = 100 - defense;</span>
<span class='curline'><a href='../S/247.html#L662'>defense</a>           662 src/ai/default/recruitment.cpp 		int defense = 100 - u_info-&gt;movement_type().defense_modifier(terrain);</span>
<span class='curline'><a href='../S/247.html#L663'>defense</a>           663 src/ai/default/recruitment.cpp 		summed_defense += defense * count;</span>
<span class='curline'><a href='../S/809.html#L658'>defense</a>           658 src/help/help_topic_generators.cpp 				const int defense = 100 - movement_type.defense_modifier(terrain);</span>
<span class='curline'><a href='../S/809.html#L660'>defense</a>           660 src/help/help_topic_generators.cpp 				if (defense &lt;= 10) {</span>
<span class='curline'><a href='../S/809.html#L662'>defense</a>           662 src/help/help_topic_generators.cpp 				} else if (defense &lt;= 30) {</span>
<span class='curline'><a href='../S/809.html#L664'>defense</a>           664 src/help/help_topic_generators.cpp 				} else if (defense &lt;= 50) {</span>
<span class='curline'><a href='../S/809.html#L671'>defense</a>           671 src/help/help_topic_generators.cpp 				str &lt;&lt; "&lt;format&gt;color=" &lt;&lt; color &lt;&lt; " text='"&lt;&lt; defense &lt;&lt; "%'&lt;/format&gt;";</span>
<span class='curline'><a href='../S/809.html#L674'>defense</a>           674 src/help/help_topic_generators.cpp 				str &lt;&lt; defense &lt;&lt; "%";</span>
<span class='curline'><a href='../S/809.html#L706'>defense</a>           706 src/help/help_topic_generators.cpp 						str &lt;&lt; "&lt;format&gt;color='"&lt;&lt; color &lt;&lt;"' text='" &lt;&lt; defense &lt;&lt; "%'&lt;/format&gt;";</span>
<span class='curline'><a href='../S/809.html#L713'>defense</a>           713 src/help/help_topic_generators.cpp 						str &lt;&lt; defense &lt;&lt; '%';</span>
<span class='curline'><a href='../S/758.html#L208'>defense</a>           208 src/movetype.hpp 	{ return defense_.defense(terrain); }</span>
<span class='curline'><a href='../S/760.html#L1449'>defense</a>          1449 src/reports.cpp 	int defense = 100 - u-&gt;defense_modifier(terrain);</span>
<span class='curline'><a href='../S/760.html#L1451'>defense</a>          1451 src/reports.cpp 		str &lt;&lt; " " &lt;&lt; defense &lt;&lt; "%," &lt;&lt; move_cost;</span>
<span class='curline'><a href='../S/760.html#L1453'>defense</a>          1453 src/reports.cpp 		str &lt;&lt; " " &lt;&lt; defense &lt;&lt; "%,‒";</span>
</pre>
</body>
</html>
