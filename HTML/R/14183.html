<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>unit</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4368.html#L206'>unit</a>              206 data/ai/lua/ai_helper.lua function ai_helper.checked_move_core(ai, unit, x, y, move_type)</span>
<span class='curline'><a href='../S/4368.html#L207'>unit</a>              207 data/ai/lua/ai_helper.lua     local check = ai.check_move(unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L211'>unit</a>              211 data/ai/lua/ai_helper.lua             ai.stopunit_moves(unit)</span>
<span class='curline'><a href='../S/4368.html#L212'>unit</a>              212 data/ai/lua/ai_helper.lua             ai_helper.checked_action_error(move_type .. ' from ' .. unit.x .. ',' .. unit.y .. ' to ' .. x .. ',' .. y, check.status .. ' (' .. check.result .. ')')</span>
<span class='curline'><a href='../S/4368.html#L218'>unit</a>              218 data/ai/lua/ai_helper.lua         return ai.move_full(unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L220'>unit</a>              220 data/ai/lua/ai_helper.lua         return ai.move(unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L224'>unit</a>              224 data/ai/lua/ai_helper.lua function ai_helper.checked_move_full(ai, unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L225'>unit</a>              225 data/ai/lua/ai_helper.lua     return ai_helper.checked_move_core(ai, unit, x, y, 'ai.move_full')</span>
<span class='curline'><a href='../S/4368.html#L228'>unit</a>              228 data/ai/lua/ai_helper.lua function ai_helper.checked_move(ai, unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L229'>unit</a>              229 data/ai/lua/ai_helper.lua     return ai_helper.checked_move_core(ai, unit, x, y, 'ai.move')</span>
<span class='curline'><a href='../S/4368.html#L243'>unit</a>              243 data/ai/lua/ai_helper.lua function ai_helper.checked_stopunit_all(ai, unit)</span>
<span class='curline'><a href='../S/4368.html#L244'>unit</a>              244 data/ai/lua/ai_helper.lua     local check = ai.check_stopunit(unit)</span>
<span class='curline'><a href='../S/4368.html#L247'>unit</a>              247 data/ai/lua/ai_helper.lua         ai_helper.checked_action_error('ai.stopunit_all of ' .. unit.x .. ',' .. unit.y, check.status .. ' (' .. check.result .. ')')</span>
<span class='curline'><a href='../S/4368.html#L251'>unit</a>              251 data/ai/lua/ai_helper.lua     return ai.stopunit_all(unit)</span>
<span class='curline'><a href='../S/4368.html#L254'>unit</a>              254 data/ai/lua/ai_helper.lua function ai_helper.checked_stopunit_attacks(ai, unit)</span>
<span class='curline'><a href='../S/4368.html#L255'>unit</a>              255 data/ai/lua/ai_helper.lua     local check = ai.check_stopunit(unit)</span>
<span class='curline'><a href='../S/4368.html#L258'>unit</a>              258 data/ai/lua/ai_helper.lua         ai_helper.checked_action_error('ai.stopunit_attacks of ' .. unit.x .. ',' .. unit.y, check.status .. ' (' .. check.result .. ')')</span>
<span class='curline'><a href='../S/4368.html#L262'>unit</a>              262 data/ai/lua/ai_helper.lua     return ai.stopunit_attacks(unit)</span>
<span class='curline'><a href='../S/4368.html#L265'>unit</a>              265 data/ai/lua/ai_helper.lua function ai_helper.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4368.html#L266'>unit</a>              266 data/ai/lua/ai_helper.lua     local check = ai.check_stopunit(unit)</span>
<span class='curline'><a href='../S/4368.html#L269'>unit</a>              269 data/ai/lua/ai_helper.lua         ai_helper.checked_action_error('ai.stopunit_moves of ' .. unit.x .. ',' .. unit.y, check.status .. ' (' .. check.result .. ')')</span>
<span class='curline'><a href='../S/4368.html#L273'>unit</a>              273 data/ai/lua/ai_helper.lua     return ai.stopunit_moves(unit)</span>
<span class='curline'><a href='../S/4368.html#L315'>unit</a>              315 data/ai/lua/ai_helper.lua     local unit = wesnoth.get_unit(src_x, src_y)</span>
<span class='curline'><a href='../S/4368.html#L316'>unit</a>              316 data/ai/lua/ai_helper.lua     if (not unit) then</span>
<span class='curline'><a href='../S/4368.html#L333'>unit</a>              333 data/ai/lua/ai_helper.lua     if (unit.moves &gt; 0) then</span>
<span class='curline'><a href='../S/4368.html#L335'>unit</a>              335 data/ai/lua/ai_helper.lua             move_result = ai.stopunit_moves(unit)</span>
<span class='curline'><a href='../S/4368.html#L340'>unit</a>              340 data/ai/lua/ai_helper.lua             if (not unit) or (not unit.valid) then</span>
<span class='curline'><a href='../S/4368.html#L346'>unit</a>              346 data/ai/lua/ai_helper.lua             local unit_old_moves = unit.moves</span>
<span class='curline'><a href='../S/4368.html#L375'>unit</a>              375 data/ai/lua/ai_helper.lua             if (not unit) or (not unit.valid) or (unit.x ~= src_x) or (unit.y ~= src_y) then</span>
<span class='curline'><a href='../S/4368.html#L379'>unit</a>              379 data/ai/lua/ai_helper.lua             local check_result = ai.check_move(unit, dst_x, dst_y)</span>
<span class='curline'><a href='../S/4368.html#L383'>unit</a>              383 data/ai/lua/ai_helper.lua                         ai.stopunit_moves(unit)</span>
<span class='curline'><a href='../S/4368.html#L390'>unit</a>              390 data/ai/lua/ai_helper.lua                 move_result = ai.move(unit, dst_x, dst_y)</span>
<span class='curline'><a href='../S/4368.html#L392'>unit</a>              392 data/ai/lua/ai_helper.lua                 move_result = ai.move_full(unit, dst_x, dst_y)</span>
<span class='curline'><a href='../S/4368.html#L396'>unit</a>              396 data/ai/lua/ai_helper.lua             if (not unit) or (not unit.valid) then</span>
<span class='curline'><a href='../S/4368.html#L401'>unit</a>              401 data/ai/lua/ai_helper.lua             if (unit.x == src_x) and (unit.y == src_y) then</span>
<span class='curline'><a href='../S/4368.html#L402'>unit</a>              402 data/ai/lua/ai_helper.lua                 if (not gamestate_changed) and (unit.moves == unit_old_moves) then</span>
<span class='curline'><a href='../S/4368.html#L404'>unit</a>              404 data/ai/lua/ai_helper.lua                     ai.stopunit_moves(unit)</span>
<span class='curline'><a href='../S/4368.html#L415'>unit</a>              415 data/ai/lua/ai_helper.lua     if (not unit) or (not unit.valid) then</span>
<span class='curline'><a href='../S/4368.html#L418'>unit</a>              418 data/ai/lua/ai_helper.lua     if (unit.x ~= dst_x) or (unit.y ~= dst_y) then</span>
<span class='curline'><a href='../S/4368.html#L433'>unit</a>              433 data/ai/lua/ai_helper.lua     local old_attacks_left = unit.attacks_left</span>
<span class='curline'><a href='../S/4368.html#L435'>unit</a>              435 data/ai/lua/ai_helper.lua     local check_result = ai.check_attack(unit, target, weapon)</span>
<span class='curline'><a href='../S/4368.html#L438'>unit</a>              438 data/ai/lua/ai_helper.lua             ai.stopunit_all(unit)</span>
<span class='curline'><a href='../S/4368.html#L443'>unit</a>              443 data/ai/lua/ai_helper.lua     move_result = ai.attack(unit, target, weapon)</span>
<span class='curline'><a href='../S/4368.html#L447'>unit</a>              447 data/ai/lua/ai_helper.lua     if (not unit) or (not unit.valid) then</span>
<span class='curline'><a href='../S/4368.html#L451'>unit</a>              451 data/ai/lua/ai_helper.lua     if (unit.attacks_left == old_attacks_left) and (not gamestate_changed) then</span>
<span class='curline'><a href='../S/4368.html#L452'>unit</a>              452 data/ai/lua/ai_helper.lua         ai.stopunit_all(unit)</span>
<span class='curline'><a href='../S/4368.html#L642'>unit</a>              642 data/ai/lua/ai_helper.lua function ai_helper.get_closest_location(hex, location_filter, unit)</span>
<span class='curline'><a href='../S/4368.html#L679'>unit</a>              679 data/ai/lua/ai_helper.lua         if unit then</span>
<span class='curline'><a href='../S/4368.html#L681'>unit</a>              681 data/ai/lua/ai_helper.lua                 local movecost = wesnoth.unit_movement_cost(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4368.html#L682'>unit</a>              682 data/ai/lua/ai_helper.lua                 if (movecost &lt;= unit.max_moves) then return loc end</span>
<span class='curline'><a href='../S/4368.html#L694'>unit</a>              694 data/ai/lua/ai_helper.lua function ai_helper.get_passable_locations(location_filter, unit)</span>
<span class='curline'><a href='../S/4368.html#L709'>unit</a>              709 data/ai/lua/ai_helper.lua     if unit then</span>
<span class='curline'><a href='../S/4368.html#L712'>unit</a>              712 data/ai/lua/ai_helper.lua             local movecost = wesnoth.unit_movement_cost(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4368.html#L713'>unit</a>              713 data/ai/lua/ai_helper.lua             if (movecost &lt;= unit.max_moves) then table.insert(locs, loc) end</span>
<span class='curline'><a href='../S/4368.html#L731'>unit</a>              731 data/ai/lua/ai_helper.lua             for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L732'>unit</a>              732 data/ai/lua/ai_helper.lua                 dist = dist + M.distance_between(unit.x, unit.y, x, y)</span>
<span class='curline'><a href='../S/4368.html#L741'>unit</a>              741 data/ai/lua/ai_helper.lua                 for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L742'>unit</a>              742 data/ai/lua/ai_helper.lua                     dist = dist + M.distance_between(unit.x, unit.y, x, y)</span>
<span class='curline'><a href='../S/4368.html#L761'>unit</a>              761 data/ai/lua/ai_helper.lua             for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L762'>unit</a>              762 data/ai/lua/ai_helper.lua                 dist = dist + 1. / (M.distance_between(unit.x, unit.y, x, y) + 1)</span>
<span class='curline'><a href='../S/4368.html#L771'>unit</a>              771 data/ai/lua/ai_helper.lua                 for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L772'>unit</a>              772 data/ai/lua/ai_helper.lua                     dist = dist + 1. / (M.distance_between(unit.x, unit.y, x, y) + 1)</span>
<span class='curline'><a href='../S/4368.html#L903'>unit</a>              903 data/ai/lua/ai_helper.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L904'>unit</a>              904 data/ai/lua/ai_helper.lua         if (not unit.status.petrified) then table.insert(units, unit) end</span>
<span class='curline'><a href='../S/4368.html#L915'>unit</a>              915 data/ai/lua/ai_helper.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L916'>unit</a>              916 data/ai/lua/ai_helper.lua         if (unit.moves &gt; 0) then table.insert(units, unit) end</span>
<span class='curline'><a href='../S/4368.html#L928'>unit</a>              928 data/ai/lua/ai_helper.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L929'>unit</a>              929 data/ai/lua/ai_helper.lua         if (unit.attacks_left &gt; 0) and (#unit.attacks &gt; 0) then</span>
<span class='curline'><a href='../S/4368.html#L930'>unit</a>              930 data/ai/lua/ai_helper.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4368.html#L963'>unit</a>              963 data/ai/lua/ai_helper.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L964'>unit</a>              964 data/ai/lua/ai_helper.lua         if unit:matches(filter_plus_vision) then</span>
<span class='curline'><a href='../S/4368.html#L965'>unit</a>              965 data/ai/lua/ai_helper.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4368.html#L972'>unit</a>              972 data/ai/lua/ai_helper.lua function ai_helper.is_visible_unit(viewing_side, unit)</span>
<span class='curline'><a href='../S/4368.html#L986'>unit</a>              986 data/ai/lua/ai_helper.lua     if (not unit) then return false end</span>
<span class='curline'><a href='../S/4368.html#L989'>unit</a>              989 data/ai/lua/ai_helper.lua         and unit:matches({ { "filter_vision", { side = viewing_side, visible = 'no' } } })</span>
<span class='curline'><a href='../S/4368.html#L1023'>unit</a>             1023 data/ai/lua/ai_helper.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L1024'>unit</a>             1024 data/ai/lua/ai_helper.lua         if wesnoth.is_enemy(side, unit.side)</span>
<span class='curline'><a href='../S/4368.html#L1025'>unit</a>             1025 data/ai/lua/ai_helper.lua            and (not unit.status.petrified)</span>
<span class='curline'><a href='../S/4368.html#L1026'>unit</a>             1026 data/ai/lua/ai_helper.lua            and unit:matches(filter_plus_vision)</span>
<span class='curline'><a href='../S/4368.html#L1028'>unit</a>             1028 data/ai/lua/ai_helper.lua             table.insert(enemies, unit)</span>
<span class='curline'><a href='../S/4368.html#L1035'>unit</a>             1035 data/ai/lua/ai_helper.lua function ai_helper.is_attackable_enemy(unit, side, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1047'>unit</a>             1047 data/ai/lua/ai_helper.lua     if (not unit)</span>
<span class='curline'><a href='../S/4368.html#L1048'>unit</a>             1048 data/ai/lua/ai_helper.lua         or (not wesnoth.is_enemy(side, unit.side))</span>
<span class='curline'><a href='../S/4368.html#L1049'>unit</a>             1049 data/ai/lua/ai_helper.lua         or unit.status.petrified</span>
<span class='curline'><a href='../S/4368.html#L1050'>unit</a>             1050 data/ai/lua/ai_helper.lua         or (not ai_helper.is_visible_unit(viewing_side, unit))</span>
<span class='curline'><a href='../S/4368.html#L1092'>unit</a>             1092 data/ai/lua/ai_helper.lua function ai_helper.has_ability(unit, ability)</span>
<span class='curline'><a href='../S/4368.html#L1095'>unit</a>             1095 data/ai/lua/ai_helper.lua     local abilities = H.get_child(unit.__cfg, "abilities")</span>
<span class='curline'><a href='../S/4368.html#L1102'>unit</a>             1102 data/ai/lua/ai_helper.lua function ai_helper.has_weapon_special(unit, special)</span>
<span class='curline'><a href='../S/4368.html#L1105'>unit</a>             1105 data/ai/lua/ai_helper.lua     for weapon_number,att in ipairs(unit.attacks) do</span>
<span class='curline'><a href='../S/4368.html#L1142'>unit</a>             1142 data/ai/lua/ai_helper.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1143'>unit</a>             1143 data/ai/lua/ai_helper.lua         local tmp = unit.moves</span>
<span class='curline'><a href='../S/4368.html#L1145'>unit</a>             1145 data/ai/lua/ai_helper.lua             unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/4368.html#L1147'>unit</a>             1147 data/ai/lua/ai_helper.lua         local reach = wesnoth.find_reach(unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1149'>unit</a>             1149 data/ai/lua/ai_helper.lua             unit.moves = tmp</span>
<span class='curline'><a href='../S/4368.html#L1154'>unit</a>             1154 data/ai/lua/ai_helper.lua             table.insert(tmp, { x = unit.x, y = unit.y })</span>
<span class='curline'><a href='../S/4368.html#L1231'>unit</a>             1231 data/ai/lua/ai_helper.lua function ai_helper.next_hop(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1242'>unit</a>             1242 data/ai/lua/ai_helper.lua     local path, cost = ai_helper.find_path_with_shroud(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1247'>unit</a>             1247 data/ai/lua/ai_helper.lua     local next_hop, nh_cost = { unit.x, unit.y }, 0</span>
<span class='curline'><a href='../S/4368.html#L1252'>unit</a>             1252 data/ai/lua/ai_helper.lua         local sub_path, sub_cost = ai_helper.find_path_with_shroud(unit, path[i][1], path[i][2], cfg)</span>
<span class='curline'><a href='../S/4368.html#L1254'>unit</a>             1254 data/ai/lua/ai_helper.lua         if sub_cost &lt;= unit.moves then</span>
<span class='curline'><a href='../S/4368.html#L1262'>unit</a>             1262 data/ai/lua/ai_helper.lua                     if unit_in_way and (unit_in_way.side == unit.side) then</span>
<span class='curline'><a href='../S/4368.html#L1280'>unit</a>             1280 data/ai/lua/ai_helper.lua function ai_helper.can_reach(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1292'>unit</a>             1292 data/ai/lua/ai_helper.lua     local viewing_side = cfg.viewing_side or unit.side</span>
<span class='curline'><a href='../S/4368.html#L1307'>unit</a>             1307 data/ai/lua/ai_helper.lua             and (unit_in_way.side ~= unit.side)</span>
<span class='curline'><a href='../S/4368.html#L1314'>unit</a>             1314 data/ai/lua/ai_helper.lua         if unit_in_way and (unit_in_way.side == unit.side) then</span>
<span class='curline'><a href='../S/4368.html#L1322'>unit</a>             1322 data/ai/lua/ai_helper.lua     local old_moves = unit.moves</span>
<span class='curline'><a href='../S/4368.html#L1323'>unit</a>             1323 data/ai/lua/ai_helper.lua     if (cfg.moves == 'max') then unit.moves = unit.max_moves end</span>
<span class='curline'><a href='../S/4368.html#L1326'>unit</a>             1326 data/ai/lua/ai_helper.lua     local path, cost = ai_helper.find_path_with_shroud(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1327'>unit</a>             1327 data/ai/lua/ai_helper.lua     if (cost &lt;= unit.moves) then can_reach = true end</span>
<span class='curline'><a href='../S/4368.html#L1329'>unit</a>             1329 data/ai/lua/ai_helper.lua     unit.moves = old_moves</span>
<span class='curline'><a href='../S/4368.html#L1334'>unit</a>             1334 data/ai/lua/ai_helper.lua function ai_helper.get_reachable_unocc(unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1344'>unit</a>             1344 data/ai/lua/ai_helper.lua     local viewing_side = cfg and cfg.viewing_side or unit.side</span>
<span class='curline'><a href='../S/4368.html#L1346'>unit</a>             1346 data/ai/lua/ai_helper.lua     local old_moves = unit.moves</span>
<span class='curline'><a href='../S/4368.html#L1348'>unit</a>             1348 data/ai/lua/ai_helper.lua         if (cfg.moves == 'max') then unit.moves = unit.max_moves end</span>
<span class='curline'><a href='../S/4368.html#L1352'>unit</a>             1352 data/ai/lua/ai_helper.lua     local initial_reach = wesnoth.find_reach(unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1361'>unit</a>             1361 data/ai/lua/ai_helper.lua     reach:insert(unit.x, unit.y, 1)</span>
<span class='curline'><a href='../S/4368.html#L1363'>unit</a>             1363 data/ai/lua/ai_helper.lua     unit.moves = old_moves</span>
<span class='curline'><a href='../S/4368.html#L1368'>unit</a>             1368 data/ai/lua/ai_helper.lua function ai_helper.find_path_with_shroud(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1381'>unit</a>             1381 data/ai/lua/ai_helper.lua     local viewing_side = (cfg and cfg.viewing_side) or unit.side</span>
<span class='curline'><a href='../S/4368.html#L1401'>unit</a>             1401 data/ai/lua/ai_helper.lua         path, cost = wesnoth.find_path(unit, x, y, cfg_copy)</span>
<span class='curline'><a href='../S/4368.html#L1407'>unit</a>             1407 data/ai/lua/ai_helper.lua         path, cost = wesnoth.find_path(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1437'>unit</a>             1437 data/ai/lua/ai_helper.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1439'>unit</a>             1439 data/ai/lua/ai_helper.lua         local reach_map = ai_helper.get_reachable_unocc(unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1450'>unit</a>             1450 data/ai/lua/ai_helper.lua                 max_rating, best_hex, best_unit = rating, { x, y }, unit</span>
<span class='curline'><a href='../S/4368.html#L1459'>unit</a>             1459 data/ai/lua/ai_helper.lua function ai_helper.move_unit_out_of_way(ai, unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1469'>unit</a>             1469 data/ai/lua/ai_helper.lua     local viewing_side = cfg.viewing_side or unit.side</span>
<span class='curline'><a href='../S/4368.html#L1477'>unit</a>             1477 data/ai/lua/ai_helper.lua     local reach = wesnoth.find_reach(unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1489'>unit</a>             1489 data/ai/lua/ai_helper.lua                 rating = rating + (loc[1] - unit.x) * dx * 0.01</span>
<span class='curline'><a href='../S/4368.html#L1490'>unit</a>             1490 data/ai/lua/ai_helper.lua                 rating = rating + (loc[2] - unit.y) * dy * 0.01</span>
<span class='curline'><a href='../S/4368.html#L1503'>unit</a>             1503 data/ai/lua/ai_helper.lua         ai_helper.checked_move(ai, unit, best_hex[1], best_hex[2])</span>
<span class='curline'><a href='../S/4368.html#L1507'>unit</a>             1507 data/ai/lua/ai_helper.lua function ai_helper.movefull_stopunit(ai, unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L1519'>unit</a>             1519 data/ai/lua/ai_helper.lua     local next_hop = ai_helper.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L1520'>unit</a>             1520 data/ai/lua/ai_helper.lua     if next_hop and ((next_hop[1] ~= unit.x) or (next_hop[2] ~= unit.y)) then</span>
<span class='curline'><a href='../S/4368.html#L1521'>unit</a>             1521 data/ai/lua/ai_helper.lua         return ai_helper.checked_move_full(ai, unit, next_hop[1], next_hop[2])</span>
<span class='curline'><a href='../S/4368.html#L1523'>unit</a>             1523 data/ai/lua/ai_helper.lua         return ai_helper.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4368.html#L1527'>unit</a>             1527 data/ai/lua/ai_helper.lua function ai_helper.movefull_outofway_stopunit(ai, unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1534'>unit</a>             1534 data/ai/lua/ai_helper.lua     local viewing_side = cfg and cfg.viewing_side or unit.side</span>
<span class='curline'><a href='../S/4368.html#L1545'>unit</a>             1545 data/ai/lua/ai_helper.lua     local path, cost = ai_helper.find_path_with_shroud(unit, x, y, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1546'>unit</a>             1546 data/ai/lua/ai_helper.lua     if (cost &lt;= unit.moves) then</span>
<span class='curline'><a href='../S/4368.html#L1548'>unit</a>             1548 data/ai/lua/ai_helper.lua         if unit_in_way and (unit_in_way ~= unit)</span>
<span class='curline'><a href='../S/4368.html#L1556'>unit</a>             1556 data/ai/lua/ai_helper.lua     local next_hop = ai_helper.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4368.html#L1557'>unit</a>             1557 data/ai/lua/ai_helper.lua     if next_hop and ((next_hop[1] ~= unit.x) or (next_hop[2] ~= unit.y)) then</span>
<span class='curline'><a href='../S/4368.html#L1558'>unit</a>             1558 data/ai/lua/ai_helper.lua         ai_helper.checked_move_full(ai, unit, next_hop[1], next_hop[2])</span>
<span class='curline'><a href='../S/4368.html#L1560'>unit</a>             1560 data/ai/lua/ai_helper.lua         ai_helper.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4368.html#L1601'>unit</a>             1601 data/ai/lua/ai_helper.lua         for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1602'>unit</a>             1602 data/ai/lua/ai_helper.lua             old_moves[i] = unit.moves</span>
<span class='curline'><a href='../S/4368.html#L1603'>unit</a>             1603 data/ai/lua/ai_helper.lua             unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/4368.html#L1612'>unit</a>             1612 data/ai/lua/ai_helper.lua     for i,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L1615'>unit</a>             1615 data/ai/lua/ai_helper.lua         if ai_helper.is_attackable_enemy(unit, side, cfg) then</span>
<span class='curline'><a href='../S/4368.html#L1616'>unit</a>             1616 data/ai/lua/ai_helper.lua             enemy_map:insert(unit.x, unit.y, i)</span>
<span class='curline'><a href='../S/4368.html#L1619'>unit</a>             1619 data/ai/lua/ai_helper.lua         if (unit.side == side) then</span>
<span class='curline'><a href='../S/4368.html#L1620'>unit</a>             1620 data/ai/lua/ai_helper.lua             my_unit_map:insert(unit.x, unit.y, i)</span>
<span class='curline'><a href='../S/4368.html#L1622'>unit</a>             1622 data/ai/lua/ai_helper.lua             if ai_helper.is_visible_unit(viewing_side, unit) then</span>
<span class='curline'><a href='../S/4368.html#L1623'>unit</a>             1623 data/ai/lua/ai_helper.lua                 other_unit_map:insert(unit.x, unit.y, i)</span>
<span class='curline'><a href='../S/4368.html#L1646'>unit</a>             1646 data/ai/lua/ai_helper.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1648'>unit</a>             1648 data/ai/lua/ai_helper.lua         if reaches:get(unit.x, unit.y) then</span>
<span class='curline'><a href='../S/4368.html#L1649'>unit</a>             1649 data/ai/lua/ai_helper.lua             reach = reaches:get(unit.x, unit.y)</span>
<span class='curline'><a href='../S/4368.html#L1651'>unit</a>             1651 data/ai/lua/ai_helper.lua             reach = wesnoth.find_reach(unit, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1652'>unit</a>             1652 data/ai/lua/ai_helper.lua             reaches:insert(unit.x, unit.y, reach)</span>
<span class='curline'><a href='../S/4368.html#L1661'>unit</a>             1661 data/ai/lua/ai_helper.lua                 if my_unit_map:get(loc[1], loc[2]) and ((loc[1] ~= unit.x) or (loc[2] ~= unit.y)) then</span>
<span class='curline'><a href='../S/4368.html#L1693'>unit</a>             1693 data/ai/lua/ai_helper.lua                             local unit_dst = wesnoth.copy_unit(unit)</span>
<span class='curline'><a href='../S/4368.html#L1701'>unit</a>             1701 data/ai/lua/ai_helper.lua                             src = { x = unit.x, y = unit.y },</span>
<span class='curline'><a href='../S/4368.html#L1715'>unit</a>             1715 data/ai/lua/ai_helper.lua         for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1716'>unit</a>             1716 data/ai/lua/ai_helper.lua             unit.moves = old_moves[i]</span>
<span class='curline'><a href='../S/4368.html#L1823'>unit</a>             1823 data/ai/lua/ai_helper.lua         for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4368.html#L1824'>unit</a>             1824 data/ai/lua/ai_helper.lua             if (unit.moves == 0) then</span>
<span class='curline'><a href='../S/4368.html#L1825'>unit</a>             1825 data/ai/lua/ai_helper.lua                 blocked_hexes:insert(unit.x, unit.y)</span>
<span class='curline'><a href='../S/4368.html#L1833'>unit</a>             1833 data/ai/lua/ai_helper.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1834'>unit</a>             1834 data/ai/lua/ai_helper.lua         if (unit.side ~= wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4368.html#L1835'>unit</a>             1835 data/ai/lua/ai_helper.lua             old_moves[i] = unit.moves</span>
<span class='curline'><a href='../S/4368.html#L1836'>unit</a>             1836 data/ai/lua/ai_helper.lua             unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/4368.html#L1848'>unit</a>             1848 data/ai/lua/ai_helper.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1849'>unit</a>             1849 data/ai/lua/ai_helper.lua             if ((unit.x == xa) and (unit.y == ya)) or (not blocked_hexes:get(xa, ya)) then</span>
<span class='curline'><a href='../S/4368.html#L1853'>unit</a>             1853 data/ai/lua/ai_helper.lua                 local cost = M.distance_between(unit.x, unit.y, xa, ya)</span>
<span class='curline'><a href='../S/4368.html#L1857'>unit</a>             1857 data/ai/lua/ai_helper.lua                 if (cost &lt;= unit.moves) then</span>
<span class='curline'><a href='../S/4368.html#L1859'>unit</a>             1859 data/ai/lua/ai_helper.lua                     path, cost = ai_helper.find_path_with_shroud(unit, xa, ya, cfg)</span>
<span class='curline'><a href='../S/4368.html#L1862'>unit</a>             1862 data/ai/lua/ai_helper.lua                 if (cost &lt;= unit.moves) then</span>
<span class='curline'><a href='../S/4368.html#L1865'>unit</a>             1865 data/ai/lua/ai_helper.lua                         attacks_dst_src[dst] = { 0, unit.x * 1000 + unit.y }</span>
<span class='curline'><a href='../S/4368.html#L1868'>unit</a>             1868 data/ai/lua/ai_helper.lua                         table.insert(attacks_dst_src[dst], unit.x * 1000 + unit.y )</span>
<span class='curline'><a href='../S/4368.html#L1875'>unit</a>             1875 data/ai/lua/ai_helper.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4368.html#L1876'>unit</a>             1876 data/ai/lua/ai_helper.lua         if (unit.side ~= wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4368.html#L1877'>unit</a>             1877 data/ai/lua/ai_helper.lua             unit.moves = old_moves[i]</span>
<span class='curline'><a href='../S/4370.html#L14'>unit</a>               14 data/ai/lua/battle_calcs.lua function battle_calcs.unit_attack_info(unit, cache)</span>
<span class='curline'><a href='../S/4370.html#L27'>unit</a>               27 data/ai/lua/battle_calcs.lua     local cind = 'UI-' .. unit.id .. unit.max_hitpoints .. unit.side</span>
<span class='curline'><a href='../S/4370.html#L35'>unit</a>               35 data/ai/lua/battle_calcs.lua     local unit_cfg = unit.__cfg</span>
<span class='curline'><a href='../S/4370.html#L79'>unit</a>               79 data/ai/lua/battle_calcs.lua         unit_info.resist_mod[attack_type] = wesnoth.unit_resistance(unit, attack_type) / 100.</span>
<span class='curline'><a href='../S/4370.html#L1144'>unit</a>             1144 data/ai/lua/battle_calcs.lua function battle_calcs.get_attack_map_unit(unit, cfg)</span>
<span class='curline'><a href='../S/4370.html#L1159'>unit</a>             1159 data/ai/lua/battle_calcs.lua     if (unit.side ~= wesnoth.current.side) then max_moves = true end</span>
<span class='curline'><a href='../S/4370.html#L1161'>unit</a>             1161 data/ai/lua/battle_calcs.lua     local old_moves = unit.moves</span>
<span class='curline'><a href='../S/4370.html#L1162'>unit</a>             1162 data/ai/lua/battle_calcs.lua     if max_moves then unit.moves = unit.max_moves end</span>
<span class='curline'><a href='../S/4370.html#L1171'>unit</a>             1171 data/ai/lua/battle_calcs.lua     if (unit.side ~= wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4370.html#L1173'>unit</a>             1173 data/ai/lua/battle_calcs.lua         for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4370.html#L1174'>unit</a>             1174 data/ai/lua/battle_calcs.lua             if (unit.moves &gt; 0) then</span>
<span class='curline'><a href='../S/4370.html#L1175'>unit</a>             1175 data/ai/lua/battle_calcs.lua                 table.insert(units_MP, unit)</span>
<span class='curline'><a href='../S/4370.html#L1176'>unit</a>             1176 data/ai/lua/battle_calcs.lua                 wesnoth.extract_unit(unit)</span>
<span class='curline'><a href='../S/4370.html#L1182'>unit</a>             1182 data/ai/lua/battle_calcs.lua     local initial_reach = wesnoth.find_reach(unit, cfg)</span>
<span class='curline'><a href='../S/4370.html#L1185'>unit</a>             1185 data/ai/lua/battle_calcs.lua     if (unit.side ~= wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4370.html#L1191'>unit</a>             1191 data/ai/lua/battle_calcs.lua         reach.hitpoints:insert(loc[1], loc[2], unit.hitpoints)</span>
<span class='curline'><a href='../S/4370.html#L1194'>unit</a>             1194 data/ai/lua/battle_calcs.lua             reach.hitpoints:insert(xa, ya, unit.hitpoints)</span>
<span class='curline'><a href='../S/4370.html#L1198'>unit</a>             1198 data/ai/lua/battle_calcs.lua     if max_moves then unit.moves = old_moves end</span>
<span class='curline'><a href='../S/4370.html#L1217'>unit</a>             1217 data/ai/lua/battle_calcs.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1218'>unit</a>             1218 data/ai/lua/battle_calcs.lua         local attack_map2 = battle_calcs.get_attack_map_unit(unit, cfg)</span>
<span class='curline'><a href='../S/4370.html#L1241'>unit</a>             1241 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1242'>unit</a>             1242 data/ai/lua/battle_calcs.lua         my_attack_maps[i] = battle_calcs.get_attack_map_unit(unit, cfg)</span>
<span class='curline'><a href='../S/4370.html#L1252'>unit</a>             1252 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1256'>unit</a>             1256 data/ai/lua/battle_calcs.lua                 battle_calcs.attack_rating(unit, enemy, { unit.x, unit.y }, { enemy_leader_weight = 1 }, cache)</span>
<span class='curline'><a href='../S/4370.html#L1271'>unit</a>             1271 data/ai/lua/battle_calcs.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1273'>unit</a>             1273 data/ai/lua/battle_calcs.lua                 battle_calcs.attack_rating(enemy, unit, { enemy.x, enemy.y }, { enemy_leader_weight = 1 }, cache)</span>
<span class='curline'><a href='../S/4370.html#L1278'>unit</a>             1278 data/ai/lua/battle_calcs.lua                 best_unit = unit</span>
<span class='curline'><a href='../S/4370.html#L1315'>unit</a>             1315 data/ai/lua/battle_calcs.lua         for _,unit in ipairs(cfg.ignore_these_units) do wesnoth.extract_unit(unit) end</span>
<span class='curline'><a href='../S/4370.html#L1318'>unit</a>             1318 data/ai/lua/battle_calcs.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1322'>unit</a>             1322 data/ai/lua/battle_calcs.lua         if (unit.side ~= wesnoth.current.side) then max_moves = true end</span>
<span class='curline'><a href='../S/4370.html#L1323'>unit</a>             1323 data/ai/lua/battle_calcs.lua         local old_moves = unit.moves</span>
<span class='curline'><a href='../S/4370.html#L1324'>unit</a>             1324 data/ai/lua/battle_calcs.lua         if max_moves then unit.moves = unit.max_moves end</span>
<span class='curline'><a href='../S/4370.html#L1325'>unit</a>             1325 data/ai/lua/battle_calcs.lua         local reach = wesnoth.find_reach(unit, cfg)</span>
<span class='curline'><a href='../S/4370.html#L1326'>unit</a>             1326 data/ai/lua/battle_calcs.lua         if max_moves then unit.moves = old_moves end</span>
<span class='curline'><a href='../S/4370.html#L1329'>unit</a>             1329 data/ai/lua/battle_calcs.lua             local defense = 100 - wesnoth.unit_defense(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4370.html#L1338'>unit</a>             1338 data/ai/lua/battle_calcs.lua         for _,unit in ipairs(cfg.ignore_these_units) do wesnoth.put_unit(unit) end</span>
<span class='curline'><a href='../S/4370.html#L1497'>unit</a>             1497 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1498'>unit</a>             1498 data/ai/lua/battle_calcs.lua         if (unit.side ~= wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4370.html#L1499'>unit</a>             1499 data/ai/lua/battle_calcs.lua             old_moves[i] = unit.moves</span>
<span class='curline'><a href='../S/4370.html#L1500'>unit</a>             1500 data/ai/lua/battle_calcs.lua             unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/4370.html#L1509'>unit</a>             1509 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1518'>unit</a>             1518 data/ai/lua/battle_calcs.lua             if (not blocked_hexes:get(xa, ya) or ((xa == unit.x) and (ya == unit.y))) then</span>
<span class='curline'><a href='../S/4370.html#L1523'>unit</a>             1523 data/ai/lua/battle_calcs.lua                 local cost = M.distance_between(unit.x, unit.y, xa, ya)</span>
<span class='curline'><a href='../S/4370.html#L1527'>unit</a>             1527 data/ai/lua/battle_calcs.lua                 if (cost &lt;= unit.moves) then</span>
<span class='curline'><a href='../S/4370.html#L1529'>unit</a>             1529 data/ai/lua/battle_calcs.lua                     path, cost = AH.find_path_with_shroud(unit, xa, ya)</span>
<span class='curline'><a href='../S/4370.html#L1533'>unit</a>             1533 data/ai/lua/battle_calcs.lua                 if (cost &lt;= unit.moves) then</span>
<span class='curline'><a href='../S/4370.html#L1537'>unit</a>             1537 data/ai/lua/battle_calcs.lua                     loc.hit_prob = wesnoth.unit_defense(unit, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/4370.html#L1548'>unit</a>             1548 data/ai/lua/battle_calcs.lua             locs.src = unit.x * 1000 + unit.y  -- The current position of the unit</span>
<span class='curline'><a href='../S/4370.html#L1561'>unit</a>             1561 data/ai/lua/battle_calcs.lua     for i,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4370.html#L1562'>unit</a>             1562 data/ai/lua/battle_calcs.lua         if (unit.side ~= wesnoth.current.side) then</span>
<span class='curline'><a href='../S/4370.html#L1563'>unit</a>             1563 data/ai/lua/battle_calcs.lua             unit.moves = old_moves[i]</span>
<span class='curline'><a href='../S/4373.html#L38'>unit</a>               38 data/ai/lua/ca_high_xp_attack.lua     for _,unit in ipairs(attacks_aspect.own) do</span>
<span class='curline'><a href='../S/4373.html#L39'>unit</a>               39 data/ai/lua/ca_high_xp_attack.lua         if (unit.attacks_left &gt; 0) and (#unit.attacks &gt; 0) and (not unit.canrecruit) then</span>
<span class='curline'><a href='../S/4373.html#L40'>unit</a>               40 data/ai/lua/ca_high_xp_attack.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4373.html#L42'>unit</a>               42 data/ai/lua/ca_high_xp_attack.lua             local level = unit.level</span>
<span class='curline'><a href='../S/4373.html#L60'>unit</a>               60 data/ai/lua/ca_high_xp_attack.lua                 for i_u,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4373.html#L61'>unit</a>               61 data/ai/lua/ca_high_xp_attack.lua                     if (M.distance_between(enemy.x, enemy.y, unit.x, unit.y) &lt;= unit.moves + 1) then</span>
<span class='curline'><a href='../S/4373.html#L62'>unit</a>               62 data/ai/lua/ca_high_xp_attack.lua                         if (unit.level &gt;= XP_to_levelup) then</span>
<span class='curline'><a href='../S/4373.html#L182'>unit</a>              182 data/ai/lua/ca_high_xp_attack.lua                     local unit = units[i_u]</span>
<span class='curline'><a href='../S/4373.html#L186'>unit</a>              186 data/ai/lua/ca_high_xp_attack.lua                         if reaches:get(unit.x, unit.y) then</span>
<span class='curline'><a href='../S/4373.html#L187'>unit</a>              187 data/ai/lua/ca_high_xp_attack.lua                             reach = reaches:get(unit.x, unit.y)</span>
<span class='curline'><a href='../S/4373.html#L189'>unit</a>              189 data/ai/lua/ca_high_xp_attack.lua                             reach = wesnoth.find_reach(unit)</span>
<span class='curline'><a href='../S/4373.html#L190'>unit</a>              190 data/ai/lua/ca_high_xp_attack.lua                             reaches:insert(unit.x, unit.y, reach)</span>
<span class='curline'><a href='../S/4373.html#L202'>unit</a>              202 data/ai/lua/ca_high_xp_attack.lua                         if (unit.id == occupied) then</span>
<span class='curline'><a href='../S/4372.html#L56'>unit</a>               56 data/ai/lua/generic_recruit_engine.lua             local unit = wesnoth.create_unit {</span>
<span class='curline'><a href='../S/4372.html#L63'>unit</a>               63 data/ai/lua/generic_recruit_engine.lua             local abilities = H.get_child(unit.__cfg, "abilities")</span>
<span class='curline'><a href='../S/4372.html#L83'>unit</a>               83 data/ai/lua/generic_recruit_engine.lua         function poisonable(unit)</span>
<span class='curline'><a href='../S/4372.html#L84'>unit</a>               84 data/ai/lua/generic_recruit_engine.lua             return not unit.status.unpoisonable</span>
<span class='curline'><a href='../S/4372.html#L87'>unit</a>               87 data/ai/lua/generic_recruit_engine.lua         function drainable(unit)</span>
<span class='curline'><a href='../S/4372.html#L88'>unit</a>               88 data/ai/lua/generic_recruit_engine.lua             return not unit.status.undrainable</span>
<span class='curline'><a href='../S/4372.html#L91'>unit</a>               91 data/ai/lua/generic_recruit_engine.lua         function get_best_defense(unit)</span>
<span class='curline'><a href='../S/4372.html#L96'>unit</a>               96 data/ai/lua/generic_recruit_engine.lua                 local defense = wesnoth.unit_defense(unit, terrain)</span>
<span class='curline'><a href='../S/4372.html#L259'>unit</a>              259 data/ai/lua/generic_recruit_engine.lua             local unit = wesnoth.create_unit {</span>
<span class='curline'><a href='../S/4372.html#L265'>unit</a>              265 data/ai/lua/generic_recruit_engine.lua             local can_poison = poisonable(unit) and (not wesnoth.unit_ability(unit, 'regenerate'))</span>
<span class='curline'><a href='../S/4372.html#L266'>unit</a>              266 data/ai/lua/generic_recruit_engine.lua             local flat_defense = wesnoth.unit_defense(unit, "Gt")</span>
<span class='curline'><a href='../S/4372.html#L267'>unit</a>              267 data/ai/lua/generic_recruit_engine.lua             local best_defense = get_best_defense(unit)</span>
<span class='curline'><a href='../S/4372.html#L279'>unit</a>              279 data/ai/lua/generic_recruit_engine.lua             best_flat_attack, best_flat_damage, flat_poison = get_best_attack(recruit, unit, flat_defense, recruit_best_defense, can_poison)</span>
<span class='curline'><a href='../S/4372.html#L280'>unit</a>              280 data/ai/lua/generic_recruit_engine.lua             best_high_defense_attack, best_high_defense_damage, high_defense_poison = get_best_attack(recruit, unit, best_defense, recruit_flat_defense, can_poison)</span>
<span class='curline'><a href='../S/4372.html#L281'>unit</a>              281 data/ai/lua/generic_recruit_engine.lua             best_retaliation, best_retaliation_damage, retaliation_poison = get_best_attack(unit, recruit, recruit_flat_defense, best_defense, can_poison_retaliation)</span>
<span class='curline'><a href='../S/4372.html#L295'>unit</a>              295 data/ai/lua/generic_recruit_engine.lua         function can_slow(unit)</span>
<span class='curline'><a href='../S/4372.html#L296'>unit</a>              296 data/ai/lua/generic_recruit_engine.lua             for defender_attack in H.child_range(unit.__cfg, 'attack') do</span>
<span class='curline'><a href='../S/4372.html#L360'>unit</a>              360 data/ai/lua/generic_recruit_engine.lua                 local unit = wesnoth.get_unit(c[1], c[2])</span>
<span class='curline'><a href='../S/4372.html#L361'>unit</a>              361 data/ai/lua/generic_recruit_engine.lua                 if (not AH.is_visible_unit(wesnoth.current.side, unit)) then</span>
<span class='curline'><a href='../S/4372.html#L410'>unit</a>              410 data/ai/lua/generic_recruit_engine.lua             for i, unit in ipairs(enemies) do</span>
<span class='curline'><a href='../S/4372.html#L411'>unit</a>              411 data/ai/lua/generic_recruit_engine.lua                 add_unit_type(unit.type)</span>
<span class='curline'><a href='../S/4372.html#L566'>unit</a>              566 data/ai/lua/generic_recruit_engine.lua                     local unit = wesnoth.get_unit(recruit_data.recruit.best_hex[1], recruit_data.recruit.best_hex[2])</span>
<span class='curline'><a href='../S/4372.html#L567'>unit</a>              567 data/ai/lua/generic_recruit_engine.lua                     local path, cost = wesnoth.find_path(unit, recruit_data.recruit.target_hex[1], recruit_data.recruit.target_hex[2], {viewing_side=0, max_cost=unit.max_moves+1})</span>
<span class='curline'><a href='../S/4372.html#L568'>unit</a>              568 data/ai/lua/generic_recruit_engine.lua                     if cost &gt; unit.max_moves then</span>
<span class='curline'><a href='../S/4372.html#L624'>unit</a>              624 data/ai/lua/generic_recruit_engine.lua                     local unit = wesnoth.get_unit(c[1], c[2])</span>
<span class='curline'><a href='../S/4372.html#L625'>unit</a>              625 data/ai/lua/generic_recruit_engine.lua                     if (not AH.is_visible_unit(wesnoth.current.side, unit)) then</span>
<span class='curline'><a href='../S/4372.html#L885'>unit</a>              885 data/ai/lua/generic_recruit_engine.lua                 for u,unit in ipairs(test_units) do</span>
<span class='curline'><a href='../S/4372.html#L895'>unit</a>              895 data/ai/lua/generic_recruit_engine.lua                         for x,unit in ipairs(test_units) do</span>
<span class='curline'><a href='../S/4372.html#L896'>unit</a>              896 data/ai/lua/generic_recruit_engine.lua                             local path, unit_distance = wesnoth.find_path(unit, c[1], c[2], {viewing_side=0, max_cost=fastest_unit_speed+1})</span>
<span class='curline'><a href='../S/4372.html#L900'>unit</a>              900 data/ai/lua/generic_recruit_engine.lua                             if unit_distance &lt;= unit.max_moves then</span>
<span class='curline'><a href='../S/4365.html#L70'>unit</a>               70 data/ai/lua/generic_rush_engine.lua         local function get_reachable_enemy_leaders(unit)</span>
<span class='curline'><a href='../S/4365.html#L79'>unit</a>               79 data/ai/lua/generic_rush_engine.lua                 local path, cost = wesnoth.find_path(unit, e.x, e.y, { ignore_units = true, viewing_side = 0 })</span>
<span class='curline'><a href='../S/4365.html#L234'>unit</a>              234 data/ai/lua/generic_rush_engine.lua                         local unit = wesnoth.get_unit(loc[1], loc[2])</span>
<span class='curline'><a href='../S/4365.html#L235'>unit</a>              235 data/ai/lua/generic_rush_engine.lua                         if (not AH.is_visible_unit(wesnoth.current.side, unit)) then</span>
<span class='curline'><a href='../S/4365.html#L238'>unit</a>              238 data/ai/lua/generic_rush_engine.lua                         elseif unit.moves &gt; 0 then</span>
<span class='curline'><a href='../S/4365.html#L383'>unit</a>              383 data/ai/lua/generic_rush_engine.lua                 self.data.unit, self.data.village = best_unit, best_village</span>
<span class='curline'><a href='../S/4365.html#L398'>unit</a>              398 data/ai/lua/generic_rush_engine.lua             if AH.show_messages() then W.message { speaker = self.data.unit.id, message = 'Grab villages' } end</span>
<span class='curline'><a href='../S/4365.html#L400'>unit</a>              400 data/ai/lua/generic_rush_engine.lua             AH.movefull_stopunit(ai, self.data.unit, self.data.village)</span>
<span class='curline'><a href='../S/4365.html#L401'>unit</a>              401 data/ai/lua/generic_rush_engine.lua             self.data.unit, self.data.village = nil, nil</span>
<span class='curline'><a href='../S/4365.html#L522'>unit</a>              522 data/ai/lua/generic_rush_engine.lua             local unit, loc = R.retreat_injured_units(units)</span>
<span class='curline'><a href='../S/4365.html#L523'>unit</a>              523 data/ai/lua/generic_rush_engine.lua             if unit then</span>
<span class='curline'><a href='../S/4365.html#L524'>unit</a>              524 data/ai/lua/generic_rush_engine.lua                 self.data.retreat_unit = unit</span>
<span class='curline'><a href='../S/4365.html#L582'>unit</a>              582 data/ai/lua/generic_rush_engine.lua             local unit = wesnoth.get_units({</span>
<span class='curline'><a href='../S/4365.html#L592'>unit</a>              592 data/ai/lua/generic_rush_engine.lua                     local path, cost = wesnoth.find_path(unit, v[1], v[2], { ignore_units = true, max_cost = best_cost })</span>
<span class='curline'><a href='../S/4365.html#L601'>unit</a>              601 data/ai/lua/generic_rush_engine.lua                 local x, y = wesnoth.find_vacant_tile(target[1], target[2], unit)</span>
<span class='curline'><a href='../S/4365.html#L602'>unit</a>              602 data/ai/lua/generic_rush_engine.lua                 local dest = AH.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4365.html#L603'>unit</a>              603 data/ai/lua/generic_rush_engine.lua                 AH.checked_move(ai, unit, dest[1], dest[2])</span>
<span class='curline'><a href='../S/4367.html#L19'>unit</a>               19 data/ai/lua/move_to_any_target.lua             local unit, destination</span>
<span class='curline'><a href='../S/4367.html#L24'>unit</a>               24 data/ai/lua/move_to_any_target.lua                     unit = u</span>
<span class='curline'><a href='../S/4367.html#L27'>unit</a>               27 data/ai/lua/move_to_any_target.lua                     destination = AH.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4367.html#L41'>unit</a>               41 data/ai/lua/move_to_any_target.lua             self.data.unit = unit</span>
<span class='curline'><a href='../S/4367.html#L47'>unit</a>               47 data/ai/lua/move_to_any_target.lua             AH.checked_move(ai, self.data.unit, self.data.destination[1], self.data.destination[2])</span>
<span class='curline'><a href='../S/4366.html#L7'>unit</a>                7 data/ai/lua/patrol.lua     local unit = wesnoth.get_units({name=n})[1]</span>
<span class='curline'><a href='../S/4366.html#L9'>unit</a>                9 data/ai/lua/patrol.lua     local x, y = unit.x, unit.y</span>
<span class='curline'><a href='../S/4366.html#L24'>unit</a>               24 data/ai/lua/patrol.lua         x, y = unit.x, unit.y</span>
<span class='curline'><a href='../S/4366.html#L28'>unit</a>               28 data/ai/lua/patrol.lua         ai.move_full(unit, wp[wpn].x, wp[wpn].y) -- @note: should we change this to ai.move()?</span>
<span class='curline'><a href='../S/4369.html#L12'>unit</a>               12 data/ai/lua/retreat.lua function retreat_functions.min_hp(unit)</span>
<span class='curline'><a href='../S/4369.html#L15'>unit</a>               15 data/ai/lua/retreat.lua     local hp_per_level = wesnoth.unit_defense(unit, wesnoth.get_terrain(unit.x, unit.y))/15</span>
<span class='curline'><a href='../S/4369.html#L16'>unit</a>               16 data/ai/lua/retreat.lua     local level = unit.level</span>
<span class='curline'><a href='../S/4369.html#L19'>unit</a>               19 data/ai/lua/retreat.lua     if unit.canrecruit then level = level+2 end</span>
<span class='curline'><a href='../S/4369.html#L24'>unit</a>               24 data/ai/lua/retreat.lua     if unit.status.poisoned then min_hp = min_hp + 8 end</span>
<span class='curline'><a href='../S/4369.html#L27'>unit</a>               27 data/ai/lua/retreat.lua     if min_hp &gt; unit.max_hitpoints - 4 then</span>
<span class='curline'><a href='../S/4369.html#L28'>unit</a>               28 data/ai/lua/retreat.lua         min_hp = unit.max_hitpoints - 4</span>
<span class='curline'><a href='../S/4314.html#L19'>unit</a>               19 data/ai/micro_ais/cas/ca_assassin_move.lua local function custom_cost(x, y, unit, enemy_rating_map, prefer_map)</span>
<span class='curline'><a href='../S/4314.html#L28'>unit</a>               28 data/ai/micro_ais/cas/ca_assassin_move.lua     local move_cost = wesnoth.unit_movement_cost(unit, terrain)</span>
<span class='curline'><a href='../S/4314.html#L54'>unit</a>               54 data/ai/micro_ais/cas/ca_assassin_move.lua     local unit = units[1]</span>
<span class='curline'><a href='../S/4314.html#L75'>unit</a>               75 data/ai/micro_ais/cas/ca_assassin_move.lua             enemy_copy.x = unit.x</span>
<span class='curline'><a href='../S/4314.html#L76'>unit</a>               76 data/ai/micro_ais/cas/ca_assassin_move.lua             enemy_copy.y = unit.y + 1 -- this even works at map border</span>
<span class='curline'><a href='../S/4314.html#L78'>unit</a>               78 data/ai/micro_ais/cas/ca_assassin_move.lua             local _, _, att_weapon, _ = wesnoth.simulate_combat(enemy_copy, unit)</span>
<span class='curline'><a href='../S/4314.html#L98'>unit</a>               98 data/ai/micro_ais/cas/ca_assassin_move.lua         local hit_chance = (wesnoth.unit_defense(unit, wesnoth.get_terrain(x, y))) / 100.</span>
<span class='curline'><a href='../S/4314.html#L101'>unit</a>              101 data/ai/micro_ais/cas/ca_assassin_move.lua         rating = rating / unit.max_hitpoints</span>
<span class='curline'><a href='../S/4314.html#L108'>unit</a>              108 data/ai/micro_ais/cas/ca_assassin_move.lua     local is_skirmisher = wesnoth.unit_ability(unit, "skirmisher")</span>
<span class='curline'><a href='../S/4314.html#L123'>unit</a>              123 data/ai/micro_ais/cas/ca_assassin_move.lua                 enemy_rating_map:insert(xa, ya, (enemy_rating_map:get(xa, ya) or 0) + unit.max_moves)</span>
<span class='curline'><a href='../S/4314.html#L141'>unit</a>              141 data/ai/micro_ais/cas/ca_assassin_move.lua     local path, cost = wesnoth.find_path(unit, target.x, target.y,</span>
<span class='curline'><a href='../S/4314.html#L143'>unit</a>              143 data/ai/micro_ais/cas/ca_assassin_move.lua             return custom_cost(x, y, unit, enemy_rating_map, prefer_map)</span>
<span class='curline'><a href='../S/4314.html#L152'>unit</a>              152 data/ai/micro_ais/cas/ca_assassin_move.lua         local sub_path, sub_cost = AH.find_path_with_shroud(unit, path[i][1], path[i][2])</span>
<span class='curline'><a href='../S/4314.html#L153'>unit</a>              153 data/ai/micro_ais/cas/ca_assassin_move.lua         if sub_cost &lt;= unit.moves then</span>
<span class='curline'><a href='../S/4314.html#L164'>unit</a>              164 data/ai/micro_ais/cas/ca_assassin_move.lua         AH.checked_move_full(ai, unit, farthest_hex[1], farthest_hex[2])</span>
<span class='curline'><a href='../S/4314.html#L166'>unit</a>              166 data/ai/micro_ais/cas/ca_assassin_move.lua         AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4321.html#L25'>unit</a>               25 data/ai/micro_ais/cas/ca_big_animals.lua     local unit = get_big_animals(cfg)[1]</span>
<span class='curline'><a href='../S/4321.html#L39'>unit</a>               39 data/ai/micro_ais/cas/ca_big_animals.lua     local goal = MAIUV.get_mai_unit_variables(unit, cfg.ai_id)</span>
<span class='curline'><a href='../S/4321.html#L48'>unit</a>               48 data/ai/micro_ais/cas/ca_big_animals.lua         MAIUV.set_mai_unit_variables(unit, cfg.ai_id, goal)</span>
<span class='curline'><a href='../S/4321.html#L51'>unit</a>               51 data/ai/micro_ais/cas/ca_big_animals.lua     local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4321.html#L83'>unit</a>               83 data/ai/micro_ais/cas/ca_big_animals.lua     if (best_hex[1] ~= unit.x) or (best_hex[2] ~= unit.y) then</span>
<span class='curline'><a href='../S/4321.html#L84'>unit</a>               84 data/ai/micro_ais/cas/ca_big_animals.lua         AH.checked_move(ai, unit, best_hex[1], best_hex[2])  -- Partial move only</span>
<span class='curline'><a href='../S/4321.html#L85'>unit</a>               85 data/ai/micro_ais/cas/ca_big_animals.lua         if (not unit) or (not unit.valid) then return end</span>
<span class='curline'><a href='../S/4321.html#L87'>unit</a>               87 data/ai/micro_ais/cas/ca_big_animals.lua         AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4321.html#L88'>unit</a>               88 data/ai/micro_ais/cas/ca_big_animals.lua         if (not unit) or (not unit.valid) then return end</span>
<span class='curline'><a href='../S/4321.html#L89'>unit</a>               89 data/ai/micro_ais/cas/ca_big_animals.lua         MAIUV.delete_mai_unit_variables(unit, cfg.ai_id)</span>
<span class='curline'><a href='../S/4321.html#L93'>unit</a>               93 data/ai/micro_ais/cas/ca_big_animals.lua     if (unit.x == goal.goal_x) and (unit.y == goal.goal_y) then</span>
<span class='curline'><a href='../S/4321.html#L94'>unit</a>               94 data/ai/micro_ais/cas/ca_big_animals.lua         MAIUV.delete_mai_unit_variables(unit, cfg.ai_id)</span>
<span class='curline'><a href='../S/4321.html#L99'>unit</a>               99 data/ai/micro_ais/cas/ca_big_animals.lua     for xa,ya in H.adjacent_tiles(unit.x, unit.y) do</span>
<span class='curline'><a href='../S/4321.html#L109'>unit</a>              109 data/ai/micro_ais/cas/ca_big_animals.lua         AH.checked_attack(ai, unit, target)</span>
<span class='curline'><a href='../S/4320.html#L65'>unit</a>               65 data/ai/micro_ais/cas/ca_bottleneck_attack.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4320.html#L66'>unit</a>               66 data/ai/micro_ais/cas/ca_bottleneck_attack.lua             AH.checked_stopunit_attacks(ai, unit)</span>
<span class='curline'><a href='../S/4313.html#L15'>unit</a>               15 data/ai/micro_ais/cas/ca_bottleneck_move.lua     local unit = wesnoth.get_units { side = wesnoth.current.side, canrecruit = 'yes' }[1]</span>
<span class='curline'><a href='../S/4313.html#L16'>unit</a>               16 data/ai/micro_ais/cas/ca_bottleneck_move.lua     if (not unit) then unit = wesnoth.get_units { side = wesnoth.current.side }[1] end</span>
<span class='curline'><a href='../S/4313.html#L17'>unit</a>               17 data/ai/micro_ais/cas/ca_bottleneck_move.lua     local dummy_unit = wesnoth.copy_unit(unit)</span>
<span class='curline'><a href='../S/4313.html#L119'>unit</a>              119 data/ai/micro_ais/cas/ca_bottleneck_move.lua local function bottleneck_get_rating(unit, x, y, has_leadership, is_healer, data)</span>
<span class='curline'><a href='../S/4313.html#L143'>unit</a>              143 data/ai/micro_ais/cas/ca_bottleneck_move.lua         if (unit.hitpoints &lt; unit.max_hitpoints) then</span>
<span class='curline'><a href='../S/4313.html#L157'>unit</a>              157 data/ai/micro_ais/cas/ca_bottleneck_move.lua     if (unit.hitpoints &lt; unit.max_hitpoints) then</span>
<span class='curline'><a href='../S/4313.html#L175'>unit</a>              175 data/ai/micro_ais/cas/ca_bottleneck_move.lua         rating = rating + unit.hitpoints/10. + unit.experience/100.</span>
<span class='curline'><a href='../S/4313.html#L191'>unit</a>              191 data/ai/micro_ais/cas/ca_bottleneck_move.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4313.html#L192'>unit</a>              192 data/ai/micro_ais/cas/ca_bottleneck_move.lua         occ_hexes:insert(unit.x, unit.y)</span>
<span class='curline'><a href='../S/4313.html#L298'>unit</a>              298 data/ai/micro_ais/cas/ca_bottleneck_move.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4313.html#L300'>unit</a>              300 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local is_healer = (unit.__cfg.usage == "healer")</span>
<span class='curline'><a href='../S/4313.html#L301'>unit</a>              301 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local has_leadership = AH.has_ability(unit, "leadership")</span>
<span class='curline'><a href='../S/4313.html#L303'>unit</a>              303 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local rating = bottleneck_get_rating(unit, unit.x, unit.y, has_leadership, is_healer, data)</span>
<span class='curline'><a href='../S/4313.html#L304'>unit</a>              304 data/ai/micro_ais/cas/ca_bottleneck_move.lua         current_rating_map:insert(unit.x, unit.y, rating)</span>
<span class='curline'><a href='../S/4313.html#L309'>unit</a>              309 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local best_move_away = bottleneck_move_out_of_way(unit, data)</span>
<span class='curline'><a href='../S/4313.html#L310'>unit</a>              310 data/ai/micro_ais/cas/ca_bottleneck_move.lua         if (not best_move_away) then current_rating_map:insert(unit.x, unit.y, 20000) end</span>
<span class='curline'><a href='../S/4313.html#L345'>unit</a>              345 data/ai/micro_ais/cas/ca_bottleneck_move.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4313.html#L346'>unit</a>              346 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local is_healer = (unit.__cfg.usage == "healer")</span>
<span class='curline'><a href='../S/4313.html#L347'>unit</a>              347 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local has_leadership = AH.has_ability(unit, "leadership")</span>
<span class='curline'><a href='../S/4313.html#L349'>unit</a>              349 data/ai/micro_ais/cas/ca_bottleneck_move.lua         local reach = wesnoth.find_reach(unit)</span>
<span class='curline'><a href='../S/4313.html#L351'>unit</a>              351 data/ai/micro_ais/cas/ca_bottleneck_move.lua             local rating = bottleneck_get_rating(unit, loc[1], loc[2], has_leadership, is_healer, data)</span>
<span class='curline'><a href='../S/4313.html#L363'>unit</a>              363 data/ai/micro_ais/cas/ca_bottleneck_move.lua             if (rating &lt;= current_rating_map:get(unit.x, unit.y)) then rating = 0 end</span>
<span class='curline'><a href='../S/4313.html#L373'>unit</a>              373 data/ai/micro_ais/cas/ca_bottleneck_move.lua                 max_rating, best_unit, best_hex = rating, unit, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4313.html#L381'>unit</a>              381 data/ai/micro_ais/cas/ca_bottleneck_move.lua                     (unit.max_experience - unit.experience &lt;= 8 * attack.defender_level)</span>
<span class='curline'><a href='../S/4313.html#L383'>unit</a>              383 data/ai/micro_ais/cas/ca_bottleneck_move.lua                     for n_weapon,weapon in ipairs(unit.attacks) do</span>
<span class='curline'><a href='../S/4313.html#L384'>unit</a>              384 data/ai/micro_ais/cas/ca_bottleneck_move.lua                         local att_stats, def_stats = BC.simulate_combat_loc(unit, { attack.x, attack.y }, attack.defender, n_weapon)</span>
<span class='curline'><a href='../S/4313.html#L392'>unit</a>              392 data/ai/micro_ais/cas/ca_bottleneck_move.lua                         if (unit.max_experience - unit.experience &lt;= attack.defender_level) then</span>
<span class='curline'><a href='../S/4313.html#L398'>unit</a>              398 data/ai/micro_ais/cas/ca_bottleneck_move.lua                             if (unit.max_experience - unit.experience &lt;= 8 * attack.defender_level)</span>
<span class='curline'><a href='../S/4313.html#L419'>unit</a>              419 data/ai/micro_ais/cas/ca_bottleneck_move.lua                             max_rating, best_unit, best_hex = level_up_rating, unit, { loc[1], loc[2] }</span>
<span class='curline'><a href='../S/4313.html#L464'>unit</a>              464 data/ai/micro_ais/cas/ca_bottleneck_move.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4313.html#L465'>unit</a>              465 data/ai/micro_ais/cas/ca_bottleneck_move.lua             AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4292.html#L22'>unit</a>               22 data/ai/micro_ais/cas/ca_fast_combat.lua             for _,unit in ipairs(attacks_aspect.own) do</span>
<span class='curline'><a href='../S/4292.html#L23'>unit</a>               23 data/ai/micro_ais/cas/ca_fast_combat.lua                 if (not unit.canrecruit) then</span>
<span class='curline'><a href='../S/4292.html#L24'>unit</a>               24 data/ai/micro_ais/cas/ca_fast_combat.lua                     table.insert(data.fast_combat_units, unit)</span>
<span class='curline'><a href='../S/4292.html#L81'>unit</a>               81 data/ai/micro_ais/cas/ca_fast_combat.lua         local unit = data.fast_combat_units[i]</span>
<span class='curline'><a href='../S/4292.html#L82'>unit</a>               82 data/ai/micro_ais/cas/ca_fast_combat.lua         local unit_info = FAU.get_unit_info(unit, data.gamedata)</span>
<span class='curline'><a href='../S/4292.html#L83'>unit</a>               83 data/ai/micro_ais/cas/ca_fast_combat.lua         local unit_copy = FAU.get_unit_copy(unit.id, data.gamedata)</span>
<span class='curline'><a href='../S/4292.html#L85'>unit</a>               85 data/ai/micro_ais/cas/ca_fast_combat.lua         if (unit.attacks_left &gt; 0) and (#unit.attacks &gt; 0) then</span>
<span class='curline'><a href='../S/4292.html#L86'>unit</a>               86 data/ai/micro_ais/cas/ca_fast_combat.lua             local attacks = AH.get_attacks({ unit }, { include_occupied = cfg.include_occupied_attack_hexes, viewing_side = viewing_side })</span>
<span class='curline'><a href='../S/4282.html#L27'>unit</a>               27 data/ai/micro_ais/cas/ca_fast_combat_leader.lua         for _,unit in ipairs(attacks_aspect.own) do</span>
<span class='curline'><a href='../S/4282.html#L28'>unit</a>               28 data/ai/micro_ais/cas/ca_fast_combat_leader.lua             if unit.canrecruit and (unit.attacks_left &gt; 0) and (#unit.attacks &gt; 0) then</span>
<span class='curline'><a href='../S/4282.html#L29'>unit</a>               29 data/ai/micro_ais/cas/ca_fast_combat_leader.lua                 leader = unit</span>
<span class='curline'><a href='../S/4311.html#L8'>unit</a>                8 data/ai/micro_ais/cas/ca_fast_move.lua     local unit = AH.get_units_with_moves { side = wesnoth.current.side, canrecruit = 'no' }[1]</span>
<span class='curline'><a href='../S/4311.html#L10'>unit</a>               10 data/ai/micro_ais/cas/ca_fast_move.lua     if unit then return 20000 end</span>
<span class='curline'><a href='../S/4311.html#L23'>unit</a>               23 data/ai/micro_ais/cas/ca_fast_move.lua     for _,unit in ipairs(all_units_MP) do</span>
<span class='curline'><a href='../S/4311.html#L24'>unit</a>               24 data/ai/micro_ais/cas/ca_fast_move.lua         if (not unit.status.guardian) then table.insert(units, unit) end</span>
<span class='curline'><a href='../S/4311.html#L125'>unit</a>              125 data/ai/micro_ais/cas/ca_fast_move.lua         for i_u,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4311.html#L126'>unit</a>              126 data/ai/micro_ais/cas/ca_fast_move.lua             local dist = M.distance_between(unit.x, unit.y, goal.x, goal.y)</span>
<span class='curline'><a href='../S/4311.html#L129'>unit</a>              129 data/ai/micro_ais/cas/ca_fast_move.lua                 dist = dist / unit.max_moves,</span>
<span class='curline'><a href='../S/4311.html#L130'>unit</a>              130 data/ai/micro_ais/cas/ca_fast_move.lua                 rating = - math.ceil(dist / unit.max_moves) - dist / 10.,  -- Combination of fastest and closest unit</span>
<span class='curline'><a href='../S/4311.html#L171'>unit</a>              171 data/ai/micro_ais/cas/ca_fast_move.lua             local unit = units[best_unit_info.i_unit]</span>
<span class='curline'><a href='../S/4311.html#L175'>unit</a>              175 data/ai/micro_ais/cas/ca_fast_move.lua             local path = AH.find_path_with_shroud(unit, goal.x, goal.y, { ignore_units = true })</span>
<span class='curline'><a href='../S/4311.html#L178'>unit</a>              178 data/ai/micro_ais/cas/ca_fast_move.lua             local short_goal, index = { unit.x, unit.y }, 1</span>
<span class='curline'><a href='../S/4311.html#L181'>unit</a>              181 data/ai/micro_ais/cas/ca_fast_move.lua                 local _, sub_cost = AH.find_path_with_shroud(unit, path[i][1], path[i][2], { ignore_units = true })</span>
<span class='curline'><a href='../S/4311.html#L183'>unit</a>              183 data/ai/micro_ais/cas/ca_fast_move.lua                 if (sub_cost &lt;= unit.moves) then</span>
<span class='curline'><a href='../S/4311.html#L198'>unit</a>              198 data/ai/micro_ais/cas/ca_fast_move.lua             local reach = wesnoth.find_reach(unit)</span>
<span class='curline'><a href='../S/4311.html#L211'>unit</a>              211 data/ai/micro_ais/cas/ca_fast_move.lua                         if (unit_in_way == unit) or (not AH.is_visible_unit(wesnoth.current.side, unit_in_way)) then</span>
<span class='curline'><a href='../S/4311.html#L215'>unit</a>              215 data/ai/micro_ais/cas/ca_fast_move.lua                         if unit_in_way and (unit_in_way.side == unit.side) then</span>
<span class='curline'><a href='../S/4311.html#L246'>unit</a>              246 data/ai/micro_ais/cas/ca_fast_move.lua                 wesnoth.extract_unit(unit)</span>
<span class='curline'><a href='../S/4311.html#L247'>unit</a>              247 data/ai/micro_ais/cas/ca_fast_move.lua                 local old_x, old_y = unit.x, unit.y</span>
<span class='curline'><a href='../S/4311.html#L256'>unit</a>              256 data/ai/micro_ais/cas/ca_fast_move.lua                     unit.x, unit.y = pre_rating.x, pre_rating.y</span>
<span class='curline'><a href='../S/4311.html#L257'>unit</a>              257 data/ai/micro_ais/cas/ca_fast_move.lua                     local _,cost = AH.find_path_with_shroud(unit, short_goal[1], short_goal[2])</span>
<span class='curline'><a href='../S/4311.html#L266'>unit</a>              266 data/ai/micro_ais/cas/ca_fast_move.lua                 unit.x, unit.y = old_x, old_y</span>
<span class='curline'><a href='../S/4311.html#L267'>unit</a>              267 data/ai/micro_ais/cas/ca_fast_move.lua                 wesnoth.put_unit(unit)</span>
<span class='curline'><a href='../S/4311.html#L272'>unit</a>              272 data/ai/micro_ais/cas/ca_fast_move.lua                 local move_result = AH.robust_move_and_attack(ai, unit, best_hex, nil, { dx = dx, dy = dy })</span>
<span class='curline'><a href='../S/4285.html#L43'>unit</a>               43 data/ai/micro_ais/cas/ca_forest_animals_move.lua     local unit = get_forest_animals(cfg)[1]</span>
<span class='curline'><a href='../S/4285.html#L69'>unit</a>               69 data/ai/micro_ais/cas/ca_forest_animals_move.lua         if (M.distance_between(unit.x, unit.y, enemy.x, enemy.y) &lt;= unit.max_moves+1) then</span>
<span class='curline'><a href='../S/4285.html#L77'>unit</a>               77 data/ai/micro_ais/cas/ca_forest_animals_move.lua         local reach = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4285.html#L97'>unit</a>               97 data/ai/micro_ais/cas/ca_forest_animals_move.lua             if (unit.x ~= reachable_wander_terrain[rand][1]) or (unit.y ~= reachable_wander_terrain[rand][2]) then</span>
<span class='curline'><a href='../S/4285.html#L98'>unit</a>               98 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 AH.checked_move(ai, unit, reachable_wander_terrain[rand][1], reachable_wander_terrain[rand][2])</span>
<span class='curline'><a href='../S/4285.html#L103'>unit</a>              103 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 local dist = M.distance_between(loc[1], loc[2], unit.x, unit.y)</span>
<span class='curline'><a href='../S/4285.html#L110'>unit</a>              110 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 local x,y = wesnoth.find_vacant_tile(best_hex[1], best_hex[2], unit)</span>
<span class='curline'><a href='../S/4285.html#L111'>unit</a>              111 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 local next_hop = AH.next_hop(unit, x, y)</span>
<span class='curline'><a href='../S/4285.html#L112'>unit</a>              112 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 if (not next_hop) then next_hop = { unit.x, unit.y } end</span>
<span class='curline'><a href='../S/4285.html#L114'>unit</a>              114 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 if (unit.x ~= next_hop[1]) or (unit.y ~= next_hop[2]) then</span>
<span class='curline'><a href='../S/4285.html#L115'>unit</a>              115 data/ai/micro_ais/cas/ca_forest_animals_move.lua                     AH.checked_move(ai, unit, next_hop[1], next_hop[2])</span>
<span class='curline'><a href='../S/4285.html#L120'>unit</a>              120 data/ai/micro_ais/cas/ca_forest_animals_move.lua         if (not unit) or (not unit.valid) then return end</span>
<span class='curline'><a href='../S/4285.html#L127'>unit</a>              127 data/ai/micro_ais/cas/ca_forest_animals_move.lua             if (M.distance_between(unit.x, unit.y, enemy.x, enemy.y) &lt;= unit.max_moves+1) then</span>
<span class='curline'><a href='../S/4285.html#L138'>unit</a>              138 data/ai/micro_ais/cas/ca_forest_animals_move.lua         local farthest_hex = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4285.html#L146'>unit</a>              146 data/ai/micro_ais/cas/ca_forest_animals_move.lua             if (unit.type == rabbit_type) and hole_map:get(x, y) then</span>
<span class='curline'><a href='../S/4285.html#L149'>unit</a>              149 data/ai/micro_ais/cas/ca_forest_animals_move.lua                 if (x == unit.x) and (y == unit.y) then rating = rating - 10 end</span>
<span class='curline'><a href='../S/4285.html#L155'>unit</a>              155 data/ai/micro_ais/cas/ca_forest_animals_move.lua         AH.movefull_stopunit(ai, unit, farthest_hex)</span>
<span class='curline'><a href='../S/4285.html#L156'>unit</a>              156 data/ai/micro_ais/cas/ca_forest_animals_move.lua         if (not unit) or (not unit.valid) then return end</span>
<span class='curline'><a href='../S/4285.html#L159'>unit</a>              159 data/ai/micro_ais/cas/ca_forest_animals_move.lua         if (unit.type == rabbit_type) and hole_map:get(farthest_hex[1], farthest_hex[2]) then</span>
<span class='curline'><a href='../S/4285.html#L167'>unit</a>              167 data/ai/micro_ais/cas/ca_forest_animals_move.lua     if unit and unit.valid then AH.checked_stopunit_all(ai, unit) end</span>
<span class='curline'><a href='../S/4295.html#L9'>unit</a>                9 data/ai/micro_ais/cas/ca_goto.lua local function custom_cost(x, y, unit, enemy_map, enemy_attack_map, multiplier)</span>
<span class='curline'><a href='../S/4295.html#L11'>unit</a>               11 data/ai/micro_ais/cas/ca_goto.lua     local move_cost = wesnoth.unit_movement_cost(unit, terrain)</span>
<span class='curline'><a href='../S/4295.html#L70'>unit</a>               70 data/ai/micro_ais/cas/ca_goto.lua         for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4295.html#L71'>unit</a>               71 data/ai/micro_ais/cas/ca_goto.lua             if (not MAIUV.get_mai_unit_variables(unit, cfg.ai_id, "release")) then</span>
<span class='curline'><a href='../S/4295.html#L72'>unit</a>               72 data/ai/micro_ais/cas/ca_goto.lua                 table.insert(units, unit)</span>
<span class='curline'><a href='../S/4295.html#L121'>unit</a>              121 data/ai/micro_ais/cas/ca_goto.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4295.html#L126'>unit</a>              126 data/ai/micro_ais/cas/ca_goto.lua                 local hex, _, rating = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4295.html#L130'>unit</a>              130 data/ai/micro_ais/cas/ca_goto.lua                     r = r - M.distance_between(x, y, unit.x, unit.y) / 1000.</span>
<span class='curline'><a href='../S/4295.html#L136'>unit</a>              136 data/ai/micro_ais/cas/ca_goto.lua                     closest_hex, best_unit = hex, unit</span>
<span class='curline'><a href='../S/4295.html#L141'>unit</a>              141 data/ai/micro_ais/cas/ca_goto.lua                     path, cost = wesnoth.find_path(unit, loc[1], loc[2],</span>
<span class='curline'><a href='../S/4295.html#L143'>unit</a>              143 data/ai/micro_ais/cas/ca_goto.lua                             return custom_cost(x, y, unit, enemy_map, enemy_attack_map, cfg.avoid_enemies)</span>
<span class='curline'><a href='../S/4295.html#L156'>unit</a>              156 data/ai/micro_ais/cas/ca_goto.lua                     path, cost = AH.find_path_with_shroud(unit, loc[1], loc[2], { ignore_units = cfg.ignore_units })</span>
<span class='curline'><a href='../S/4295.html#L165'>unit</a>              165 data/ai/micro_ais/cas/ca_goto.lua                 if (cost &lt;= unit.moves) then cost = 0 end</span>
<span class='curline'><a href='../S/4295.html#L171'>unit</a>              171 data/ai/micro_ais/cas/ca_goto.lua                 if unit_in_way and (unit_in_way ~= unit) then</span>
<span class='curline'><a href='../S/4295.html#L177'>unit</a>              177 data/ai/micro_ais/cas/ca_goto.lua                     closest_hex, best_unit, best_path = loc, unit, path</span>
<span class='curline'><a href='../S/4312.html#L33'>unit</a>               33 data/ai/micro_ais/cas/ca_hang_out.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4312.html#L34'>unit</a>               34 data/ai/micro_ais/cas/ca_hang_out.lua             MAIUV.delete_mai_unit_variables(unit, cfg.ai_id)</span>
<span class='curline'><a href='../S/4312.html#L88'>unit</a>               88 data/ai/micro_ais/cas/ca_hang_out.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4312.html#L90'>unit</a>               90 data/ai/micro_ais/cas/ca_hang_out.lua         if (not MAIUV.get_mai_unit_variables(unit, cfg.ai_id, "moved")) then</span>
<span class='curline'><a href='../S/4312.html#L94'>unit</a>               94 data/ai/micro_ais/cas/ca_hang_out.lua             local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4312.html#L102'>unit</a>              102 data/ai/micro_ais/cas/ca_hang_out.lua                         rating = rating + unit.max_moves / 100.</span>
<span class='curline'><a href='../S/4312.html#L106'>unit</a>              106 data/ai/micro_ais/cas/ca_hang_out.lua                         local rating = rating - M.distance_between(x, y, unit.x, unit.y) / 1000.</span>
<span class='curline'><a href='../S/4312.html#L117'>unit</a>              117 data/ai/micro_ais/cas/ca_hang_out.lua             if best_hex_unit and ((best_hex_unit[1] ~= unit.x) or (best_hex_unit[2] ~= unit.y)) then</span>
<span class='curline'><a href='../S/4312.html#L120'>unit</a>              120 data/ai/micro_ais/cas/ca_hang_out.lua                     best_hex, best_unit = best_hex_unit, unit</span>
<span class='curline'><a href='../S/4312.html#L129'>unit</a>              129 data/ai/micro_ais/cas/ca_hang_out.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4312.html#L130'>unit</a>              130 data/ai/micro_ais/cas/ca_hang_out.lua             AH.checked_stopunit_moves(ai, unit)</span>
<span class='curline'><a href='../S/4312.html#L133'>unit</a>              133 data/ai/micro_ais/cas/ca_hang_out.lua             if unit and unit.valid then MAIUV.delete_mai_unit_variables(unit, cfg.ai_id) end</span>
<span class='curline'><a href='../S/4323.html#L40'>unit</a>               40 data/ai/micro_ais/cas/ca_messenger_escort_move.lua     for _,unit in ipairs(escorts) do</span>
<span class='curline'><a href='../S/4323.html#L42'>unit</a>               42 data/ai/micro_ais/cas/ca_messenger_escort_move.lua         local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4323.html#L45'>unit</a>               45 data/ai/micro_ais/cas/ca_messenger_escort_move.lua         local unit_rating = unit.max_moves / 100. + unit.hitpoints / 1000.</span>
<span class='curline'><a href='../S/4323.html#L81'>unit</a>               81 data/ai/micro_ais/cas/ca_messenger_escort_move.lua                 best_unit, best_hex = unit, { x, y }</span>
<span class='curline'><a href='../S/4298.html#L41'>unit</a>               41 data/ai/micro_ais/cas/ca_protect_unit_attack.lua             local unit = wesnoth.get_unit(attack.src.x, attack.src.y)</span>
<span class='curline'><a href='../S/4298.html#L52'>unit</a>               52 data/ai/micro_ais/cas/ca_protect_unit_attack.lua                         local min_hp = unit.hitpoints</span>
<span class='curline'><a href='../S/4298.html#L55'>unit</a>               55 data/ai/micro_ais/cas/ca_protect_unit_attack.lua                             local att_stats, def_stats = wesnoth.simulate_combat(enemy_attack.enemy, n_weapon, unit)</span>
<span class='curline'><a href='../S/4298.html#L58'>unit</a>               58 data/ai/micro_ais/cas/ca_protect_unit_attack.lua                             local min_hp_weapon = unit.hitpoints</span>
<span class='curline'><a href='../S/4298.html#L67'>unit</a>               67 data/ai/micro_ais/cas/ca_protect_unit_attack.lua                         max_counter_damage = max_counter_damage + unit.hitpoints - min_hp</span>
<span class='curline'><a href='../S/4298.html#L68'>unit</a>               68 data/ai/micro_ais/cas/ca_protect_unit_attack.lua                         counter_damage_table[str] = unit.hitpoints - min_hp</span>
<span class='curline'><a href='../S/4290.html#L9'>unit</a>                9 data/ai/micro_ais/cas/ca_protect_unit_finish.lua         local unit = AH.get_units_with_moves { id = u.id }[1]</span>
<span class='curline'><a href='../S/4290.html#L10'>unit</a>               10 data/ai/micro_ais/cas/ca_protect_unit_finish.lua         if unit then</span>
<span class='curline'><a href='../S/4290.html#L11'>unit</a>               11 data/ai/micro_ais/cas/ca_protect_unit_finish.lua             local path, cost = AH.find_path_with_shroud(unit, u.goal_x, u.goal_y)</span>
<span class='curline'><a href='../S/4290.html#L12'>unit</a>               12 data/ai/micro_ais/cas/ca_protect_unit_finish.lua             if (cost &lt;= unit.moves) and ((unit.x ~= u.goal_x) or (unit.y ~= u.goal_y)) then</span>
<span class='curline'><a href='../S/4290.html#L13'>unit</a>               13 data/ai/micro_ais/cas/ca_protect_unit_finish.lua                 PU_unit = unit</span>
<span class='curline'><a href='../S/4318.html#L27'>unit</a>               27 data/ai/micro_ais/cas/ca_protect_unit_move.lua     for _,unit in ipairs(protected_units) do wesnoth.extract_unit(unit) end</span>
<span class='curline'><a href='../S/4318.html#L36'>unit</a>               36 data/ai/micro_ais/cas/ca_protect_unit_move.lua     for _,unit in ipairs(protected_units) do wesnoth.put_unit(unit) end</span>
<span class='curline'><a href='../S/4318.html#L42'>unit</a>               42 data/ai/micro_ais/cas/ca_protect_unit_move.lua         if (unit.id == u.id) then goal = { u.goal_x, u.goal_y } end</span>
<span class='curline'><a href='../S/4318.html#L45'>unit</a>               45 data/ai/micro_ais/cas/ca_protect_unit_move.lua     local reach_map = AH.get_reachable_unocc(unit)</span>
<span class='curline'><a href='../S/4318.html#L50'>unit</a>               50 data/ai/micro_ais/cas/ca_protect_unit_move.lua         terrain_defense_map:insert(x, y, 100 - wesnoth.unit_defense(unit, wesnoth.get_terrain(x, y)))</span>
<span class='curline'><a href='../S/4318.html#L90'>unit</a>               90 data/ai/micro_ais/cas/ca_protect_unit_move.lua     AH.movefull_stopunit(ai, unit, AH.get_LS_xy(best_hex))</span>
<span class='curline'><a href='../S/4328.html#L51'>unit</a>               51 data/ai/micro_ais/cas/ca_recruit_random.lua         local unit = wesnoth.get_unit(x, y)</span>
<span class='curline'><a href='../S/4328.html#L52'>unit</a>               52 data/ai/micro_ais/cas/ca_recruit_random.lua         if (not unit) then</span>
<span class='curline'><a href='../S/4325.html#L8'>unit</a>                8 data/ai/micro_ais/cas/ca_swarm_move.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4325.html#L9'>unit</a>                9 data/ai/micro_ais/cas/ca_swarm_move.lua         if (unit.moves &gt; 0) then return cfg.ca_score end</span>
<span class='curline'><a href='../S/4325.html#L22'>unit</a>               22 data/ai/micro_ais/cas/ca_swarm_move.lua     for _,unit in ipairs(all_units) do</span>
<span class='curline'><a href='../S/4325.html#L23'>unit</a>               23 data/ai/micro_ais/cas/ca_swarm_move.lua         if (unit.moves &gt; 0) then</span>
<span class='curline'><a href='../S/4325.html#L24'>unit</a>               24 data/ai/micro_ais/cas/ca_swarm_move.lua             table.insert(units, unit)</span>
<span class='curline'><a href='../S/4325.html#L26'>unit</a>               26 data/ai/micro_ais/cas/ca_swarm_move.lua             table.insert(units_no_moves, unit)</span>
<span class='curline'><a href='../S/4325.html#L33'>unit</a>               33 data/ai/micro_ais/cas/ca_swarm_move.lua     local unit = units[math.random(#units)]</span>
<span class='curline'><a href='../S/4325.html#L36'>unit</a>               36 data/ai/micro_ais/cas/ca_swarm_move.lua     local best_hex = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4325.html#L42'>unit</a>               42 data/ai/micro_ais/cas/ca_swarm_move.lua             if (M.distance_between(unit.x, unit.y, unit_noMP.x, unit_noMP.y) &lt;= vision_distance) then</span>
<span class='curline'><a href='../S/4325.html#L49'>unit</a>               49 data/ai/micro_ais/cas/ca_swarm_move.lua             rating = rating + M.distance_between(x, y, unit.x, unit.y)</span>
<span class='curline'><a href='../S/4325.html#L67'>unit</a>               67 data/ai/micro_ais/cas/ca_swarm_move.lua     AH.movefull_stopunit(ai, unit, best_hex)</span>
<span class='curline'><a href='../S/4299.html#L33'>unit</a>               33 data/ai/micro_ais/cas/ca_swarm_scatter.lua     for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4299.html#L36'>unit</a>               36 data/ai/micro_ais/cas/ca_swarm_scatter.lua             if (M.distance_between(unit.x, unit.y, enemy.x, enemy.y) &lt;= vision_distance) then</span>
<span class='curline'><a href='../S/4299.html#L42'>unit</a>               42 data/ai/micro_ais/cas/ca_swarm_scatter.lua             local best_hex = AH.find_best_move(unit, function(x, y)</span>
<span class='curline'><a href='../S/4299.html#L50'>unit</a>               50 data/ai/micro_ais/cas/ca_swarm_scatter.lua             AH.movefull_stopunit(ai, unit, best_hex)</span>
<span class='curline'><a href='../S/4262.html#L116'>unit</a>              116 data/ai/micro_ais/micro_ai_helper.lua         for _,unit in ipairs(units) do</span>
<span class='curline'><a href='../S/4262.html#L117'>unit</a>              117 data/ai/micro_ais/micro_ai_helper.lua             MAIUV.delete_mai_unit_variables(unit, CA_parms.ai_id)</span>
<span class='curline'><a href='../S/4263.html#L16'>unit</a>               16 data/ai/micro_ais/micro_ai_unit_variables.lua function micro_ai_unit_variables.modify_mai_unit_variables(unit, ai_id, action, vars_table)</span>
<span class='curline'><a href='../S/4263.html#L22'>unit</a>               22 data/ai/micro_ais/micro_ai_unit_variables.lua     local variables = unit.variables.__cfg</span>
<span class='curline'><a href='../S/4263.html#L51'>unit</a>               51 data/ai/micro_ais/micro_ai_unit_variables.lua     unit.variables.__cfg = variables</span>
<span class='curline'><a href='../S/4263.html#L54'>unit</a>               54 data/ai/micro_ais/micro_ai_unit_variables.lua function micro_ai_unit_variables.delete_mai_unit_variables(unit, ai_id)</span>
<span class='curline'><a href='../S/4263.html#L55'>unit</a>               55 data/ai/micro_ais/micro_ai_unit_variables.lua    micro_ai_unit_variables.modify_mai_unit_variables(unit, ai_id, "delete")</span>
<span class='curline'><a href='../S/4263.html#L58'>unit</a>               58 data/ai/micro_ais/micro_ai_unit_variables.lua function micro_ai_unit_variables.insert_mai_unit_variables(unit, ai_id, vars_table)</span>
<span class='curline'><a href='../S/4263.html#L59'>unit</a>               59 data/ai/micro_ais/micro_ai_unit_variables.lua    micro_ai_unit_variables.modify_mai_unit_variables(unit, ai_id, "insert", vars_table)</span>
<span class='curline'><a href='../S/4263.html#L62'>unit</a>               62 data/ai/micro_ais/micro_ai_unit_variables.lua function micro_ai_unit_variables.set_mai_unit_variables(unit, ai_id, vars_table)</span>
<span class='curline'><a href='../S/4263.html#L63'>unit</a>               63 data/ai/micro_ais/micro_ai_unit_variables.lua     micro_ai_unit_variables.modify_mai_unit_variables(unit, ai_id, "set", vars_table)</span>
<span class='curline'><a href='../S/4263.html#L66'>unit</a>               66 data/ai/micro_ais/micro_ai_unit_variables.lua function micro_ai_unit_variables.get_mai_unit_variables(unit, ai_id, key)</span>
<span class='curline'><a href='../S/4263.html#L73'>unit</a>               73 data/ai/micro_ais/micro_ai_unit_variables.lua     for mai in H.child_range(unit.variables.__cfg, "micro_ai") do</span>
<span class='curline'><a href='../S/4256.html#L55'>unit</a>               55 data/ai/micro_ais/scenarios/simple_attack.cfg                 function close_to_advancing(unit)</span>
<span class='curline'><a href='../S/4256.html#L56'>unit</a>               56 data/ai/micro_ais/scenarios/simple_attack.cfg                     if (unit.experience &gt;= unit.max_experience-1) then</span>
<span class='curline'><a href='../S/4621.html#L16'>unit</a>               16 data/campaigns/Dead_Water/units/Kraken.cfg         unit=Cuttle Fish</span>
<span class='curline'><a href='../S/4747.html#L20'>unit</a>               20 data/campaigns/Legend_of_Wesmere/units/ogres/Great_Ogre.cfg         unit=Ogre</span>
<span class='curline'><a href='../S/4989.html#L15'>unit</a>               15 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua     local unit, dst, enemy_threat = R.retreat_injured_units(units)</span>
<span class='curline'><a href='../S/4989.html#L17'>unit</a>               17 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua     if unit then</span>
<span class='curline'><a href='../S/4989.html#L18'>unit</a>               18 data/campaigns/The_Rise_Of_Wesnoth/ai/ca_retreat.lua         data.retreat_unit = unit</span>
<span class='curline'><a href='../S/5139.html#L89'>unit</a>               89 data/campaigns/tutorial/lua/character_selection.lua 	local unit = wesnoth.get_variable("student_store")</span>
<span class='curline'><a href='../S/5139.html#L94'>unit</a>               94 data/campaigns/tutorial/lua/character_selection.lua 			id = unit.id,</span>
<span class='curline'><a href='../S/5139.html#L99'>unit</a>               99 data/campaigns/tutorial/lua/character_selection.lua 			facing = unit.facing,</span>
<span class='curline'><a href='../S/5139.html#L100'>unit</a>              100 data/campaigns/tutorial/lua/character_selection.lua 		}, unit.x, unit.y )</span>
<span class='curline'><a href='../S/5139.html#L102'>unit</a>              102 data/campaigns/tutorial/lua/character_selection.lua 		wesnoth.put_unit(unit)</span>
<span class='curline'><a href='../S/5132.html#L179'>unit</a>              179 data/campaigns/tutorial/scenarios/01_Tutorial_part_1.cfg                 local unit = wesnoth.get_units({id = "student"})[1]</span>
<span class='curline'><a href='../S/5132.html#L180'>unit</a>              180 data/campaigns/tutorial/scenarios/01_Tutorial_part_1.cfg                 local hp_diff = unit.max_hitpoints - unit.hitpoints</span>
<span class='curline'><a href='../S/5132.html#L184'>unit</a>              184 data/campaigns/tutorial/scenarios/01_Tutorial_part_1.cfg                 wesnoth.set_variable("student_hp", unit.hitpoints)</span>
<span class='curline'><a href='../S/3821.html#L17'>unit</a>               17 data/core/units/drakes/Armageddon.cfg         unit=Inferno Drake</span>
<span class='curline'><a href='../S/3982.html#L25'>unit</a>               25 data/core/units/dwarves/Arcanister.cfg         unit=Dwarvish Runemaster</span>
<span class='curline'><a href='../S/3980.html#L25'>unit</a>               25 data/core/units/dwarves/Runesmith.cfg         unit=Dwarvish Fighter</span>
<span class='curline'><a href='../S/3786.html#L16'>unit</a>               16 data/core/units/khalifate/Khalid.cfg         unit=Shuja</span>
<span class='curline'><a href='../S/3867.html#L18'>unit</a>               18 data/core/units/monsters/Wolf_Dire.cfg         unit=Great Wolf</span>
<span class='curline'><a href='../S/3859.html#L18'>unit</a>               18 data/core/units/monsters/Wolf_Great.cfg         unit=Wolf</span>
<span class='curline'><a href='../S/3958.html#L20'>unit</a>               20 data/core/units/orcs/Nightblade.cfg         unit=Orcish Slayer</span>
<span class='curline'><a href='../S/3954.html#L23'>unit</a>               23 data/core/units/trolls/Troll_Shaman.cfg         unit=Troll Whelp</span>
<span class='curline'><a href='../S/3771.html#L17'>unit</a>               17 data/core/units/undead/Necro_Ancient_Lich.cfg         unit=Lich</span>
<span class='curline'><a href='../S/3768.html#L24'>unit</a>               24 data/core/units/undead/Skele_Death_Knight.cfg         unit=Revenant</span>
<span class='curline'><a href='../S/5515.html#L164'>unit</a>              164 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L165'>unit</a>              165 data/lua/wml-tags.lua 		local v = unit.extra_recruit</span>
<span class='curline'><a href='../S/5515.html#L170'>unit</a>              170 data/lua/wml-tags.lua 		unit.extra_recruit = v</span>
<span class='curline'><a href='../S/5515.html#L196'>unit</a>              196 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L197'>unit</a>              197 data/lua/wml-tags.lua 		local v = unit.extra_recruit</span>
<span class='curline'><a href='../S/5515.html#L206'>unit</a>              206 data/lua/wml-tags.lua 		unit.extra_recruit = v</span>
<span class='curline'><a href='../S/5515.html#L229'>unit</a>              229 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L230'>unit</a>              230 data/lua/wml-tags.lua 		unit.extra_recruit = v</span>
<span class='curline'><a href='../S/5515.html#L435'>unit</a>              435 data/lua/wml-tags.lua 	for i,unit in ipairs(wesnoth.get_units(unit_filter)) do</span>
<span class='curline'><a href='../S/5515.html#L438'>unit</a>              438 data/lua/wml-tags.lua 			local saved_moves = unit.moves</span>
<span class='curline'><a href='../S/5515.html#L439'>unit</a>              439 data/lua/wml-tags.lua 			unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/5515.html#L440'>unit</a>              440 data/lua/wml-tags.lua 			unit_reach = location_set.of_pairs(wesnoth.find_reach(unit, reach_param))</span>
<span class='curline'><a href='../S/5515.html#L441'>unit</a>              441 data/lua/wml-tags.lua 			unit.moves = saved_moves</span>
<span class='curline'><a href='../S/5515.html#L443'>unit</a>              443 data/lua/wml-tags.lua 			unit_reach = location_set.of_pairs(wesnoth.find_reach(unit, reach_param))</span>
<span class='curline'><a href='../S/5515.html#L523'>unit</a>              523 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L524'>unit</a>              524 data/lua/wml-tags.lua 		unit.status.petrified = true</span>
<span class='curline'><a href='../S/5515.html#L526'>unit</a>              526 data/lua/wml-tags.lua 		wesnoth.extract_unit(unit)</span>
<span class='curline'><a href='../S/5515.html#L527'>unit</a>              527 data/lua/wml-tags.lua 		wesnoth.put_unit(unit)</span>
<span class='curline'><a href='../S/5515.html#L530'>unit</a>              530 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_recall_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L531'>unit</a>              531 data/lua/wml-tags.lua 		unit.status.petrified = true</span>
<span class='curline'><a href='../S/5515.html#L536'>unit</a>              536 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L537'>unit</a>              537 data/lua/wml-tags.lua 		unit.status.petrified = false</span>
<span class='curline'><a href='../S/5515.html#L539'>unit</a>              539 data/lua/wml-tags.lua 		wesnoth.extract_unit(unit)</span>
<span class='curline'><a href='../S/5515.html#L540'>unit</a>              540 data/lua/wml-tags.lua 		wesnoth.put_unit(unit)</span>
<span class='curline'><a href='../S/5515.html#L543'>unit</a>              543 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_recall_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L544'>unit</a>              544 data/lua/wml-tags.lua 		unit.status.petrified = false</span>
<span class='curline'><a href='../S/5515.html#L551'>unit</a>              551 data/lua/wml-tags.lua 	for index, unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5515.html#L554'>unit</a>              554 data/lua/wml-tags.lua 			wesnoth.transform_unit( unit, transform_to )</span>
<span class='curline'><a href='../S/5515.html#L556'>unit</a>              556 data/lua/wml-tags.lua 			local hitpoints = unit.hitpoints</span>
<span class='curline'><a href='../S/5515.html#L557'>unit</a>              557 data/lua/wml-tags.lua 			local experience = unit.experience</span>
<span class='curline'><a href='../S/5515.html#L558'>unit</a>              558 data/lua/wml-tags.lua 			local recall_cost = unit.recall_cost</span>
<span class='curline'><a href='../S/5515.html#L559'>unit</a>              559 data/lua/wml-tags.lua 			local status = helper.get_child( unit.__cfg, "status" )</span>
<span class='curline'><a href='../S/5515.html#L561'>unit</a>              561 data/lua/wml-tags.lua 			unit.experience = unit.max_experience</span>
<span class='curline'><a href='../S/5515.html#L562'>unit</a>              562 data/lua/wml-tags.lua 			wesnoth.advance_unit(unit, false, false)</span>
<span class='curline'><a href='../S/5515.html#L564'>unit</a>              564 data/lua/wml-tags.lua 			unit.hitpoints = hitpoints</span>
<span class='curline'><a href='../S/5515.html#L565'>unit</a>              565 data/lua/wml-tags.lua 			unit.experience = experience</span>
<span class='curline'><a href='../S/5515.html#L566'>unit</a>              566 data/lua/wml-tags.lua 			recall_cost = unit.recall_cost</span>
<span class='curline'><a href='../S/5515.html#L568'>unit</a>              568 data/lua/wml-tags.lua 			for key, value in pairs(status) do unit.status[key] = value end</span>
<span class='curline'><a href='../S/5515.html#L569'>unit</a>              569 data/lua/wml-tags.lua 			if unit.status.unpoisonable then unit.status.poisoned = nil end</span>
<span class='curline'><a href='../S/5515.html#L594'>unit</a>              594 data/lua/wml-tags.lua 	local unit = wesnoth.get_units(helper.get_child(cfg, "filter"))[1] or</span>
<span class='curline'><a href='../S/5515.html#L604'>unit</a>              604 data/lua/wml-tags.lua 	local id = cfg.bca_id or ("bca-" .. unit.__cfg.underlying_id)</span>
<span class='curline'><a href='../S/5515.html#L606'>unit</a>              606 data/lua/wml-tags.lua 	local ux = unit.x -- @note: did I get it right that coordinates in C++ differ by 1 from thos in-game(and in Lua)?</span>
<span class='curline'><a href='../S/5515.html#L607'>unit</a>              607 data/lua/wml-tags.lua 	local uy = unit.y</span>
<span class='curline'><a href='../S/5515.html#L665'>unit</a>              665 data/lua/wml-tags.lua 	for i, unit in ipairs(units) do</span>
<span class='curline'><a href='../S/5515.html#L667'>unit</a>              667 data/lua/wml-tags.lua 			unit.hitpoints = unit.max_hitpoints</span>
<span class='curline'><a href='../S/5515.html#L668'>unit</a>              668 data/lua/wml-tags.lua 			unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/5515.html#L669'>unit</a>              669 data/lua/wml-tags.lua 			unit.attacks_left = unit.max_attacks</span>
<span class='curline'><a href='../S/5515.html#L670'>unit</a>              670 data/lua/wml-tags.lua 			unit.status.poisoned = false</span>
<span class='curline'><a href='../S/5515.html#L671'>unit</a>              671 data/lua/wml-tags.lua 			unit.status.slowed = false</span>
<span class='curline'><a href='../S/5515.html#L673'>unit</a>              673 data/lua/wml-tags.lua 		wesnoth.put_recall_unit(unit, unit.side)</span>
<span class='curline'><a href='../S/5515.html#L818'>unit</a>              818 data/lua/wml-tags.lua 	local unit = wesnoth.create_unit(unit_cfg)</span>
<span class='curline'><a href='../S/5515.html#L822'>unit</a>              822 data/lua/wml-tags.lua 	local x = cfg.x or unit.x or -1</span>
<span class='curline'><a href='../S/5515.html#L823'>unit</a>              823 data/lua/wml-tags.lua 	local y = cfg.y or unit.y or -1</span>
<span class='curline'><a href='../S/5515.html#L824'>unit</a>              824 data/lua/wml-tags.lua 	wesnoth.add_known_unit(unit.type)</span>
<span class='curline'><a href='../S/5515.html#L827'>unit</a>              827 data/lua/wml-tags.lua 			x,y = wesnoth.find_vacant_tile(x, y, check_passability and unit)</span>
<span class='curline'><a href='../S/5515.html#L829'>unit</a>              829 data/lua/wml-tags.lua 		unit:to_map(x, y, cfg.fire_event)</span>
<span class='curline'><a href='../S/5515.html#L844'>unit</a>              844 data/lua/wml-tags.lua 			wesnoth.advance_unit(unit, animate, cfg.fire_event)</span>
<span class='curline'><a href='../S/5515.html#L847'>unit</a>              847 data/lua/wml-tags.lua 		unit:to_recall()</span>
<span class='curline'><a href='../S/5515.html#L854'>unit</a>              854 data/lua/wml-tags.lua 	local unit = wesnoth.get_units(filter)[1]</span>
<span class='curline'><a href='../S/5515.html#L855'>unit</a>              855 data/lua/wml-tags.lua 	if not unit then</span>
<span class='curline'><a href='../S/5515.html#L859'>unit</a>              859 data/lua/wml-tags.lua 	wesnoth.teleport(unit, cfg.x, cfg.y, cfg.check_passability == false, cfg.clear_shroud ~= false, cfg.animate)</span>
<span class='curline'><a href='../S/5525.html#L4'>unit</a>                4 data/lua/wml/animate_unit.lua local function get_fake_attack(unit, cfg)</span>
<span class='curline'><a href='../S/5525.html#L9'>unit</a>                9 data/lua/wml/animate_unit.lua local function get_real_attack(unit, filter)</span>
<span class='curline'><a href='../S/5525.html#L10'>unit</a>               10 data/lua/wml/animate_unit.lua 	for i, atk in ipairs(unit.attacks) do</span>
<span class='curline'><a href='../S/5525.html#L19'>unit</a>               19 data/lua/wml/animate_unit.lua 	local unit</span>
<span class='curline'><a href='../S/5525.html#L21'>unit</a>               21 data/lua/wml/animate_unit.lua 		unit = wesnoth.get_units{</span>
<span class='curline'><a href='../S/5525.html#L26'>unit</a>               26 data/lua/wml/animate_unit.lua 		unit = wesnoth.get_unit(</span>
<span class='curline'><a href='../S/5525.html#L32'>unit</a>               32 data/lua/wml/animate_unit.lua 	if unit and not wesnoth.is_fogged(wesnoth.current.side, unit.x, unit.y) then</span>
<span class='curline'><a href='../S/5525.html#L43'>unit</a>               43 data/lua/wml/animate_unit.lua 			primary = get_attack(unit, primary)</span>
<span class='curline'><a href='../S/5525.html#L46'>unit</a>               46 data/lua/wml/animate_unit.lua 			secondary = get_attack(unit, secondary)</span>
<span class='curline'><a href='../S/5525.html#L69'>unit</a>               69 data/lua/wml/animate_unit.lua 		wesnoth.scroll_to_tile(unit.x, unit.y, true, false, true, false)</span>
<span class='curline'><a href='../S/5525.html#L75'>unit</a>               75 data/lua/wml/animate_unit.lua 				local dir = wesnoth.map.get_relative_dir(unit.x, unit.y, facing_loc[1], facing_loc[2])</span>
<span class='curline'><a href='../S/5525.html#L76'>unit</a>               76 data/lua/wml/animate_unit.lua 				unit.facing = dir</span>
<span class='curline'><a href='../S/5525.html#L77'>unit</a>               77 data/lua/wml/animate_unit.lua 				facing = wesnoth.map.get_direction(unit.x, unit.y, dir)</span>
<span class='curline'><a href='../S/5525.html#L84'>unit</a>               84 data/lua/wml/animate_unit.lua 		if cfg.female_text and unit.gender == 'female' then</span>
<span class='curline'><a href='../S/5525.html#L86'>unit</a>               86 data/lua/wml/animate_unit.lua 		elseif cfg.male_text and unit.gender == 'male' then</span>
<span class='curline'><a href='../S/5525.html#L90'>unit</a>               90 data/lua/wml/animate_unit.lua 		anim:add(unit, flag, hits, {</span>
<span class='curline'><a href='../S/5528.html#L7'>unit</a>                7 data/lua/wml/find_path.lua 	local unit = wesnoth.get_units(filter_unit)[1] or helper.wml_error("[find_path]'s filter didn't match any unit")</span>
<span class='curline'><a href='../S/5528.html#L13'>unit</a>               13 data/lua/wml/find_path.lua 	wesnoth.set_variable("this_unit", unit.__cfg) -- cfg field needed</span>
<span class='curline'><a href='../S/5528.html#L33'>unit</a>               33 data/lua/wml/find_path.lua 	if not allow_multiple_turns then max_cost = unit.moves end --to avoid wrong calculation on already moved units</span>
<span class='curline'><a href='../S/5528.html#L43'>unit</a>               43 data/lua/wml/find_path.lua 			local distance = wesnoth.map.distance_between ( unit.x, unit.y, location[1], location[2] )</span>
<span class='curline'><a href='../S/5528.html#L45'>unit</a>               45 data/lua/wml/find_path.lua 			local path, cost = wesnoth.find_path( unit, location[1], location[2], { max_cost = max_cost, ignore_units = ignore_units, ignore_teleport = ignore_teleport, viewing_side = viewing_side } )</span>
<span class='curline'><a href='../S/5528.html#L57'>unit</a>               57 data/lua/wml/find_path.lua 		local path, cost = wesnoth.find_path( unit, current_location[1], current_location[2], { max_cost = max_cost, ignore_units = ignore_units, ignore_teleport = ignore_teleport, viewing_side = viewing_side } )</span>
<span class='curline'><a href='../S/5528.html#L63'>unit</a>               63 data/lua/wml/find_path.lua 			turns = math.ceil( ( ( cost - unit.moves ) / unit.max_moves ) + 1 )</span>
<span class='curline'><a href='../S/5528.html#L80'>unit</a>               80 data/lua/wml/find_path.lua 		wesnoth.set_variable ( string.format( "%s", variable ), { hexes = current_distance, from_x = unit.x, from_y = unit.y, to_x = current_location[1], to_y = current_location[2], movement_cost = cost, required_turns = turns } )</span>
<span class='curline'><a href='../S/5528.html#L83'>unit</a>               83 data/lua/wml/find_path.lua 			local sub_path, sub_cost = wesnoth.find_path( unit, path_loc[1], path_loc[2], { max_cost = max_cost, ignore_units = ignore_units, ignore_teleport = ignore_teleport, viewing_side = viewing_side } )</span>
<span class='curline'><a href='../S/5528.html#L89'>unit</a>               89 data/lua/wml/find_path.lua 				sub_turns = math.ceil( ( ( sub_cost - unit.moves ) / unit.max_moves ) + 1 )</span>
<span class='curline'><a href='../S/5535.html#L21'>unit</a>               21 data/lua/wml/kill.lua 	for i,unit in ipairs(dead_men_walking) do</span>
<span class='curline'><a href='../S/5535.html#L22'>unit</a>               22 data/lua/wml/kill.lua 		local death_loc = {x = tonumber(unit.x) or 0, y = tonumber(unit.y) or 0}</span>
<span class='curline'><a href='../S/5535.html#L49'>unit</a>               49 data/lua/wml/kill.lua 			anim:add(unit, "death", "kill", "hits", {primary = primary, secondary = secondary})</span>
<span class='curline'><a href='../S/5535.html#L68'>unit</a>               68 data/lua/wml/kill.lua 		if unit.valid == "map" then unit:erase() end</span>
<span class='curline'><a href='../S/5536.html#L51'>unit</a>               51 data/lua/wml/modify_unit.lua 				local unit = wesnoth.get_variable(unit_path)</span>
<span class='curline'><a href='../S/5536.html#L52'>unit</a>               52 data/lua/wml/modify_unit.lua 				unit = wesnoth.create_unit(unit)</span>
<span class='curline'><a href='../S/5536.html#L53'>unit</a>               53 data/lua/wml/modify_unit.lua 				wesnoth.add_modification(unit, current_tag, mod)</span>
<span class='curline'><a href='../S/5536.html#L54'>unit</a>               54 data/lua/wml/modify_unit.lua 				unit = unit.__cfg;</span>
<span class='curline'><a href='../S/5536.html#L55'>unit</a>               55 data/lua/wml/modify_unit.lua 				wesnoth.set_variable(unit_path, unit)</span>
<span class='curline'><a href='../S/5536.html#L60'>unit</a>               60 data/lua/wml/modify_unit.lua 					local unit = wesnoth.get_variable(unit_path)</span>
<span class='curline'><a href='../S/5536.html#L61'>unit</a>               61 data/lua/wml/modify_unit.lua 					unit = wesnoth.create_unit(unit)</span>
<span class='curline'><a href='../S/5536.html#L62'>unit</a>               62 data/lua/wml/modify_unit.lua 					wesnoth.effects[apply_to](unit, mod)</span>
<span class='curline'><a href='../S/5536.html#L63'>unit</a>               63 data/lua/wml/modify_unit.lua 					unit = unit.__cfg;</span>
<span class='curline'><a href='../S/5536.html#L64'>unit</a>               64 data/lua/wml/modify_unit.lua 					wesnoth.set_variable(unit_path, unit)</span>
<span class='curline'><a href='../S/5522.html#L18'>unit</a>               18 data/lua/wml/object.lua 	local unit, command_type, text</span>
<span class='curline'><a href='../S/5522.html#L22'>unit</a>               22 data/lua/wml/object.lua 		unit = wesnoth.get_units(filter)[1]</span>
<span class='curline'><a href='../S/5522.html#L24'>unit</a>               24 data/lua/wml/object.lua 		unit = wesnoth.get_unit(context.x1, context.y1)</span>
<span class='curline'><a href='../S/5522.html#L28'>unit</a>               28 data/lua/wml/object.lua 	if unit then</span>
<span class='curline'><a href='../S/5522.html#L39'>unit</a>               39 data/lua/wml/object.lua 	if unit then</span>
<span class='curline'><a href='../S/5522.html#L49'>unit</a>               49 data/lua/wml/object.lua 			wesnoth.add_modification(unit, "object", helper.literal(cfg), add)</span>
<span class='curline'><a href='../S/5522.html#L51'>unit</a>               51 data/lua/wml/object.lua 			wesnoth.add_modification(unit, "object", helper.parsed(cfg), add)</span>
<span class='curline'><a href='../S/5522.html#L55'>unit</a>               55 data/lua/wml/object.lua 			wesnoth.select_unit(unit, false)</span>
<span class='curline'><a href='../S/5522.html#L56'>unit</a>               56 data/lua/wml/object.lua 			wesnoth.highlight_hex(unit.x, unit.y)</span>
<span class='curline'><a href='../S/5522.html#L98'>unit</a>               98 data/lua/wml/object.lua 	for _,unit in ipairs(wesnoth.get_units(cfg)) do</span>
<span class='curline'><a href='../S/5522.html#L99'>unit</a>               99 data/lua/wml/object.lua 		wesnoth.remove_modifications(unit, {id = obj_id})</span>
<span class='curline'><a href='../S/5521.html#L54'>unit</a>               54 data/lua/wml/role.lua 			local unit = wesnoth.get_units{role=role}[1]</span>
<span class='curline'><a href='../S/5521.html#L55'>unit</a>               55 data/lua/wml/role.lua 			if unit then</span>
<span class='curline'><a href='../S/5521.html#L60'>unit</a>               60 data/lua/wml/role.lua 			local unit = wesnoth.get_recall_units{role=role}[1]</span>
<span class='curline'><a href='../S/5521.html#L61'>unit</a>               61 data/lua/wml/role.lua 			if unit then</span>
<span class='curline'><a href='../S/5521.html#L62'>unit</a>               62 data/lua/wml/role.lua 				recall.id = unit.id</span>
<span class='curline'><a href='../S/5521.html#L77'>unit</a>               77 data/lua/wml/role.lua 			local unit = wesnoth.get_units(filter)[1]</span>
<span class='curline'><a href='../S/5521.html#L78'>unit</a>               78 data/lua/wml/role.lua 			if unit then</span>
<span class='curline'><a href='../S/5521.html#L79'>unit</a>               79 data/lua/wml/role.lua 				unit.role = role</span>
<span class='curline'><a href='../S/5521.html#L93'>unit</a>               93 data/lua/wml/role.lua 			local unit = wesnoth.get_recall_units(filter)[1]</span>
<span class='curline'><a href='../S/5521.html#L94'>unit</a>               94 data/lua/wml/role.lua 			if unit then</span>
<span class='curline'><a href='../S/5521.html#L95'>unit</a>               95 data/lua/wml/role.lua 				unit.role = role</span>
<span class='curline'><a href='../S/5521.html#L97'>unit</a>               97 data/lua/wml/role.lua 					recall.id = unit.id</span>
<span class='curline'><a href='../S/4235.html#L16'>unit</a>               16 data/multiplayer/eras.lua 	for i, unit in ipairs(wesnoth.get_units { canrecruit = true, T.filter_wml { max_moves = 4 } }) do</span>
<span class='curline'><a href='../S/4235.html#L17'>unit</a>               17 data/multiplayer/eras.lua 		if not unit.variables.dont_make_me_quick then</span>
<span class='curline'><a href='../S/4235.html#L18'>unit</a>               18 data/multiplayer/eras.lua 			wesnoth.add_modification(unit, "trait", trait_quick )</span>
<span class='curline'><a href='../S/4235.html#L19'>unit</a>               19 data/multiplayer/eras.lua 			unit.moves = unit.max_moves</span>
<span class='curline'><a href='../S/4235.html#L20'>unit</a>               20 data/multiplayer/eras.lua 			unit.hitpoints = unit.max_hitpoints</span>
<span class='curline'><a href='../S/4235.html#L68'>unit</a>               68 data/multiplayer/eras.lua 				for i, unit in ipairs( wesnoth.get_units { side = side } ) do</span>
<span class='curline'><a href='../S/4235.html#L69'>unit</a>               69 data/multiplayer/eras.lua 					if not unit.__cfg.canrecruit then</span>
<span class='curline'><a href='../S/4235.html#L70'>unit</a>               70 data/multiplayer/eras.lua 						wesnoth.fire("unit_worth", { id = unit.id })</span>
<span class='curline'><a href='../S/4160.html#L263'>unit</a>              263 data/multiplayer/scenarios/2p_Dark_Forecast.lua 	for i, unit in ipairs(wesnoth.get_units { side = 2 }) do</span>
<span class='curline'><a href='../S/4160.html#L264'>unit</a>              264 data/multiplayer/scenarios/2p_Dark_Forecast.lua 		unit.side = 1</span>
<span class='curline'><a href='../S/4089.html#L3582'>unit</a>             3582 data/scenario-test.cfg                         local unit = wesnoth.get_unit(args.x1, args.y1)</span>
<span class='curline'><a href='../S/4089.html#L3584'>unit</a>             3584 data/scenario-test.cfg                         local msg = string.format(raw_msg, unit.status.not_living, unit.status.unpoisonable, unit.status.undrainable, unit.status.unplagueable)</span>
<span class='curline'><a href='../S/4089.html#L3608'>unit</a>             3608 data/scenario-test.cfg                             unit.status.not_living = not unit.status.not_living</span>
<span class='curline'><a href='../S/4089.html#L3610'>unit</a>             3610 data/scenario-test.cfg                             unit.status.unpoisonable = not unit.status.unpoisonable</span>
<span class='curline'><a href='../S/4089.html#L3612'>unit</a>             3612 data/scenario-test.cfg                             unit.status.undrainable = not unit.status.undrainable</span>
<span class='curline'><a href='../S/4089.html#L3614'>unit</a>             3614 data/scenario-test.cfg                             unit.status.unplagueable = not unit.status.unplagueable</span>
<span class='curline'><a href='../S/4065.html#L1'>unit</a>                1 data/tools/addon_manager/jquery.js (function(){var _jQuery=window.jQuery,_$=window.$;var jQuery=window.jQuery=window.$=function(selector,context){return new jQuery.fn.init(selector,context)};var quickExpr=/^[^&lt;]*(&lt;(.|\s)+&gt;)[^&gt;]*$|^#(\w+)$/,isSimple=/^.[^:#\[\.]*$/,undefined;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(selector.nodeType){this[0]=selector;this.length=1;return this}if(typeof selector=="string"){var match=quickExpr.exec(selector);if(match&amp;&amp;(match[1]||!context)){if(match[1]){selector=jQuery.clean([match[1]],context)}else{var elem=document.getElementById(match[3]);if(elem){if(elem.id!=match[3]){return jQuery().find(selector)}return jQuery(elem)}selector=[]}}else{return jQuery(context).find(selector)}}else{if(jQuery.isFunction(selector)){return jQuery(document)[jQuery.fn.ready?"ready":"load"](selector)}}return this.setArray(jQuery.makeArray(selector))},jquery:"1.2.6",size:function(){return this.length},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num]},pushStack:function(elems){var ret=jQuery(elems);ret.prevObject=this;return ret},setArray:function(elems){this.length=0;Array.prototype.push.apply(this,elems);return this},each:function(callback,args){return jQuery.each(this,callback,args)},index:function(elem){var ret=-1;return jQuery.inArray(elem&amp;&amp;elem.jquery?elem[0]:elem,this)},attr:function(name,value,type){var options=name;if(name.constructor==String){if(value===undefined){return this[0]&amp;&amp;jQuery[type||"attr"](this[0],name)}else{options={};options[name]=value}}return this.each(function(i){for(name in options){jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name))}})},css:function(key,value){if((key=="width"||key=="height")&amp;&amp;parseFloat(value)&lt;0){value=undefined}return this.attr(key,value,"curCSS")},text:function(text){if(typeof text!="object"&amp;&amp;text!=null){return this.empty().append((this[0]&amp;&amp;this[0].ownerDocument||document).createTextNode(text))}var ret="";jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this])}})});return ret},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html)})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1){this.insertBefore(elem,this.firstChild)}})},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})},end:function(){return this.prevObject||jQuery([])},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem)});return this.pushStack(/[^+&gt;] [^+&gt;]/.test(selector)||selector.indexOf("..")&gt;-1?jQuery.unique(elems):elems)},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&amp;&amp;!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement("div");container.appendChild(clone);return jQuery.clean([container.innerHTML])[0]}else{return this.cloneNode(true)}});var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null}});if(events===true){this.find("*").andSelf().each(function(i){if(this.nodeType==3){return }var events=jQuery.data(this,"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data)}}})}return ret},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&amp;&amp;jQuery.grep(this,function(elem,i){return selector.call(elem,i)})||jQuery.multiFilter(selector,this))},not:function(selector){if(selector.constructor==String){if(isSimple.test(selector)){return this.pushStack(jQuery.multiFilter(selector,this,true))}else{selector=jQuery.multiFilter(selector,this)}}var isArrayLike=selector.length&amp;&amp;selector[selector.length-1]!==undefined&amp;&amp;!selector.nodeType;return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)&lt;0:this!=selector})},add:function(selector){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof selector=="string"?jQuery(selector):jQuery.makeArray(selector))))},is:function(selector){return !!selector&amp;&amp;jQuery.multiFilter(selector,this).length&gt;0},hasClass:function(selector){return this.is("."+selector)},val:function(value){if(value==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index&lt;0){return null}for(var i=one?index:0,max=one?index+1:options.length;i&lt;max;i++){var option=options[i];if(option.selected){value=jQuery.browser.msie&amp;&amp;!option.attributes.value.specified?option.text:option.value;if(one){return value}values.push(value)}}return values}else{return(this[0].value||"").replace(/\r/g,"")}}return undefined}if(value.constructor==Number){value+=""}return this.each(function(){if(this.nodeType!=1){return }if(value.constructor==Array&amp;&amp;/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,value)&gt;=0||jQuery.inArray(this.name,value)&gt;=0)}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(value);jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,values)&gt;=0||jQuery.inArray(this.text,values)&gt;=0)});if(!values.length){this.selectedIndex=-1}}else{this.value=value}}})},html:function(value){return value==undefined?(this[0]?this[0].innerHTML:null):this.empty().append(value)},replaceWith:function(value){return this.after(value).remove()},eq:function(i){return this.slice(i,i+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},andSelf:function(){return this.add(this.prevObject)},data:function(key,value){var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&amp;&amp;this.length){data=jQuery.data(this[0],key)}return data===undefined&amp;&amp;parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})},domManip:function(args,table,reverse,callback){var clone=this.length&gt;1,elems;return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);if(reverse){elems.reverse()}}var obj=this;if(table&amp;&amp;jQuery.nodeName(this,"table")&amp;&amp;jQuery.nodeName(elems[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"))}var scripts=jQuery([]);jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;if(jQuery.nodeName(elem,"script")){scripts=scripts.add(elem)}else{if(elem.nodeType==1){scripts=scripts.add(jQuery("script",elem).remove())}callback.call(obj,elem)}});scripts.each(evalScript)})}};jQuery.fn.init.prototype=jQuery.fn;function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function now(){return +new Date}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(target.constructor==Boolean){deep=target;target=arguments[1]||{};i=2}if(typeof target!="object"&amp;&amp;typeof target!="function"){target={}}if(length==i){target=this;--i}for(;i&lt;length;i++){if((options=arguments[i])!=null){for(var name in options){var src=target[name],copy=options[name];if(target===copy){continue}if(deep&amp;&amp;copy&amp;&amp;typeof copy=="object"&amp;&amp;!copy.nodeType){target[name]=jQuery.extend(deep,src||(copy.length!=null?[]:{}),copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};var expando="jQuery"+now(),uuid=0,windowData={},exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,defaultView=document.defaultView||{};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isFunction:function(fn){return !!fn&amp;&amp;typeof fn!="string"&amp;&amp;!fn.nodeName&amp;&amp;fn.constructor!=Array&amp;&amp;/^[\s[]?function/.test(fn+"")},isXMLDoc:function(elem){return elem.documentElement&amp;&amp;!elem.body||elem.tagName&amp;&amp;elem.ownerDocument&amp;&amp;!elem.ownerDocument.body},globalEval:function(data){data=jQuery.trim(data);if(data){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.browser.msie){script.text=data}else{script.appendChild(document.createTextNode(data))}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&amp;&amp;elem.nodeName.toUpperCase()==name.toUpperCase()},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando];if(!id){id=elem[expando]=++uuid}if(name&amp;&amp;!jQuery.cache[id]){jQuery.cache[id]={}}if(data!==undefined){jQuery.cache[id][name]=data}return name?jQuery.cache[id][name]:id},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name="";for(name in jQuery.cache[id]){break}if(!name){jQuery.removeData(elem)}}}else{try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}delete jQuery.cache[id]}},each:function(object,callback,args){var name,i=0,length=object.length;if(args){if(length==undefined){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i&lt;length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(length==undefined){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i&lt;length&amp;&amp;callback.call(value,i,value)!==false;value=object[++i]){}}}return object},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value)){value=value.call(elem,i)}return value&amp;&amp;value.constructor==Number&amp;&amp;type=="curCSS"&amp;&amp;!exclude.test(name)?value+"px":value},className:{add:function(elem,classNames){jQuery.each((classNames||"").split(/\s+/),function(i,className){if(elem.nodeType==1&amp;&amp;!jQuery.className.has(elem.className,className)){elem.className+=(elem.className?" ":"")+className}})},remove:function(elem,classNames){if(elem.nodeType==1){elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return !jQuery.className.has(classNames,className)}).join(" "):""}},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))&gt;-1}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}},css:function(elem,name,force){if(name=="width"||name=="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name=="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name=="width"?elem.offsetWidth:elem.offsetHeight;var padding=0,border=0;jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0;border+=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0});val-=Math.round(padding+border)}if(jQuery(elem).is(":visible")){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,val)}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style;function color(elem){if(!jQuery.browser.safari){return false}var ret=defaultView.getComputedStyle(elem,null);return !ret||ret.getPropertyValue("color")==""}if(name=="opacity"&amp;&amp;jQuery.browser.msie){ret=jQuery.attr(style,"opacity");return ret==""?"1":ret}if(jQuery.browser.opera&amp;&amp;name=="display"){var save=style.outline;style.outline="0 solid black";style.outline=save}if(name.match(/float/i)){name=styleFloat}if(!force&amp;&amp;style&amp;&amp;style[name]){ret=style[name]}else{if(defaultView.getComputedStyle){if(name.match(/float/i)){name="float"}name=name.replace(/([A-Z])/g,"-$1").toLowerCase();var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle&amp;&amp;!color(elem)){ret=computedStyle.getPropertyValue(name)}else{var swap=[],stack=[],a=elem,i=0;for(;a&amp;&amp;color(a);a=a.parentNode){stack.unshift(a)}for(;i&lt;stack.length;i++){if(color(stack[i])){swap[i]=stack[i].style.display;stack[i].style.display="block"}}ret=name=="display"&amp;&amp;swap[stack.length-1]!=null?"none":(computedStyle&amp;&amp;computedStyle.getPropertyValue(name))||"";for(i=0;i&lt;swap.length;i++){if(swap[i]!=null){stack[i].style.display=swap[i]}}}if(name=="opacity"&amp;&amp;ret==""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()});ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!/^\d+(px)?$/i.test(ret)&amp;&amp;/^\d/.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=ret||0;ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},clean:function(elems,context){var ret=[];context=context||document;if(typeof context.createElement=="undefined"){context=context.ownerDocument||context[0]&amp;&amp;context[0].ownerDocument||document}jQuery.each(elems,function(i,elem){if(!elem){return }if(elem.constructor==Number){elem+=""}if(typeof elem=="string"){elem=elem.replace(/(&lt;(\w+)[^&gt;]*?)\/&gt;/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+"&gt;&lt;/"+tag+"&gt;"});var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement("div");var wrap=!tags.indexOf("&lt;opt")&amp;&amp;[1,"&lt;select multiple='multiple'&gt;","&lt;/select&gt;"]||!tags.indexOf("&lt;leg")&amp;&amp;[1,"&lt;fieldset&gt;","&lt;/fieldset&gt;"]||tags.match(/^&lt;(thead|tbody|tfoot|colg|cap)/)&amp;&amp;[1,"&lt;table&gt;","&lt;/table&gt;"]||!tags.indexOf("&lt;tr")&amp;&amp;[2,"&lt;table&gt;&lt;tbody&gt;","&lt;/tbody&gt;&lt;/table&gt;"]||(!tags.indexOf("&lt;td")||!tags.indexOf("&lt;th"))&amp;&amp;[3,"&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;","&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"]||!tags.indexOf("&lt;col")&amp;&amp;[2,"&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;","&lt;/colgroup&gt;&lt;/table&gt;"]||jQuery.browser.msie&amp;&amp;[1,"div&lt;div&gt;","&lt;/div&gt;"]||[0,"",""];div.innerHTML=wrap[1]+elem+wrap[2];while(wrap[0]--){div=div.lastChild}if(jQuery.browser.msie){var tbody=!tags.indexOf("&lt;table")&amp;&amp;tags.indexOf("&lt;tbody")&lt;0?div.firstChild&amp;&amp;div.firstChild.childNodes:wrap[1]=="&lt;table&gt;"&amp;&amp;tags.indexOf("&lt;tbody")&lt;0?div.childNodes:[];for(var j=tbody.length-1;j&gt;=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&amp;&amp;!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}if(/^\s/.test(elem)){div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild)}}elem=jQuery.makeArray(div.childNodes)}if(elem.length===0&amp;&amp;(!jQuery.nodeName(elem,"form")&amp;&amp;!jQuery.nodeName(elem,"select"))){return }if(elem[0]==undefined||jQuery.nodeName(elem,"form")||elem.options){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}});return ret},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined}var notxml=!jQuery.isXMLDoc(elem),set=value!==undefined,msie=jQuery.browser.msie;name=notxml&amp;&amp;jQuery.props[name]||name;if(elem.tagName){var special=/href|src|style/.test(name);if(name=="selected"&amp;&amp;jQuery.browser.safari){elem.parentNode.selectedIndex}if(name in elem&amp;&amp;notxml&amp;&amp;!special){if(set){if(name=="type"&amp;&amp;jQuery.nodeName(elem,"input")&amp;&amp;elem.parentNode){throw"type property can't be changed"}elem[name]=value}if(jQuery.nodeName(elem,"form")&amp;&amp;elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}return elem[name]}if(msie&amp;&amp;notxml&amp;&amp;name=="style"){return jQuery.attr(elem.style,"cssText",value)}if(set){elem.setAttribute(name,""+value)}var attr=msie&amp;&amp;notxml&amp;&amp;special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}if(msie&amp;&amp;name=="opacity"){if(set){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(value)+""=="NaN"?"":"alpha(opacity="+value*100+")")}return elem.filter&amp;&amp;elem.filter.indexOf("opacity=")&gt;=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase()});if(set){elem[name]=value}return elem[name]},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"")},makeArray:function(array){var ret=[];if(array!=null){var i=array.length;if(i==null||array.split||array.setInterval||array.call){ret[0]=array}else{while(i){ret[--i]=array[i]}}}return ret},inArray:function(elem,array){for(var i=0,length=array.length;i&lt;length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=0,elem,pos=first.length;if(jQuery.browser.msie){while(elem=second[i++]){if(elem.nodeType!=8){first[pos++]=elem}}}else{while(elem=second[i++]){first[pos++]=elem}}return first},unique:function(array){var ret=[],done={};try{for(var i=0,length=array.length;i&lt;length;i++){var id=jQuery.data(array[i]);if(!done[id]){done[id]=true;ret.push(array[i])}}}catch(e){ret=array}return ret},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i&lt;length;i++){if(!inv!=!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback){var ret=[];for(var i=0,length=elems.length;i&lt;length;i++){var value=callback(elems[i],i);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&amp;&amp;!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&amp;&amp;!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing"}});jQuery.each({parent:function(elem){return elem.parentNode},parents:function(elem){return jQuery.dir(elem,"parentNode")},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);if(selector&amp;&amp;typeof selector=="string"){ret=jQuery.multiFilter(selector,ret)}return this.pushStack(jQuery.unique(ret))}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(){var args=arguments;return this.each(function(){for(var i=0,length=args.length;i&lt;length;i++){jQuery(args[i])[original](this)}})}});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name)}},addClass:function(classNames){jQuery.className.add(this,classNames)},removeClass:function(classNames){jQuery.className.remove(this,classNames)},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?"remove":"add"](this,classNames)},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery("*",this).add(this).each(function(){jQuery.event.remove(this);jQuery.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){jQuery("&gt;*",this).remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments)}});jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&amp;&amp;document.body["client"+name]||jQuery.browser.safari&amp;&amp;window["inner"+name]||document.compatMode=="CSS1Compat"&amp;&amp;document.documentElement["client"+name]||document.body["client"+name]:this[0]==document?Math.max(Math.max(document.body["scroll"+name],document.documentElement["scroll"+name]),Math.max(document.body["offset"+name],document.documentElement["offset"+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+"px")}});function num(elem,prop){return elem[0]&amp;&amp;parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}var chars=jQuery.browser.safari&amp;&amp;parseInt(jQuery.browser.version)&lt;417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^&gt;\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":function(a,i,m){return m[2]=="*"||jQuery.nodeName(a,m[2])},"#":function(a,i,m){return a.getAttribute("id")==m[2]},":":{lt:function(a,i,m){return i&lt;m[3]-0},gt:function(a,i,m){return i&gt;m[3]-0},nth:function(a,i,m){return m[3]-0==i},eq:function(a,i,m){return m[3]-0==i},first:function(a,i){return i==0},last:function(a,i,m,r){return i==r.length-1},even:function(a,i){return i%2==0},odd:function(a,i){return i%2},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a},"last-child":function(a){return jQuery.nth(a.parentNode.lastChild,1,"previousSibling")==a},"only-child":function(a){return !jQuery.nth(a.parentNode.lastChild,2,"previousSibling")},parent:function(a){return a.firstChild},empty:function(a){return !a.firstChild},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||"").indexOf(m[3])&gt;=0},visible:function(a){return"hidden"!=a.type&amp;&amp;jQuery.css(a,"display")!="none"&amp;&amp;jQuery.css(a,"visibility")!="hidden"},hidden:function(a){return"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden"},enabled:function(a){return !a.disabled},disabled:function(a){return a.disabled},checked:function(a){return a.checked},selected:function(a){return a.selected||jQuery.attr(a,"selected")},text:function(a){return"text"==a.type},radio:function(a){return"radio"==a.type},checkbox:function(a){return"checkbox"==a.type},file:function(a){return"file"==a.type},password:function(a){return"password"==a.type},submit:function(a){return"submit"==a.type},image:function(a){return"image"==a.type},reset:function(a){return"reset"==a.type},button:function(a){return"button"==a.type||jQuery.nodeName(a,"button")},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},has:function(a,i,m){return jQuery.find(m[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem}).length}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&amp;&amp;expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r)}return cur},find:function(t,context){if(typeof t!="string"){return[t]}if(context&amp;&amp;context.nodeType!=1&amp;&amp;context.nodeType!=9){return[]}context=context||document;var ret=[context],done=[],last,nodeName;while(t&amp;&amp;last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false,re=quickChild,m=re.exec(t);if(m){nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&amp;&amp;(nodeName=="*"||c.nodeName.toUpperCase()==nodeName)){r.push(c)}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue}foundToken=true}else{re=/^([&gt;+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var merge={};nodeName=m[2].toUpperCase();m=m[1];for(var j=0,rl=ret.length;j&lt;rl;j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);if(m=="~"&amp;&amp;merge[id]){break}if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m=="~"){merge[id]=true}r.push(n)}if(m=="+"){break}}}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true}}if(t&amp;&amp;!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length)}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]]}else{re2=quickClass;m=re2.exec(t)}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&amp;&amp;elem&amp;&amp;elem.getElementById&amp;&amp;!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&amp;&amp;oid&amp;&amp;typeof oid.id=="string"&amp;&amp;oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0]}ret=r=oid&amp;&amp;(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[]}else{for(var i=0;ret[i];i++){var tag=m[1]=="#"&amp;&amp;m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&amp;&amp;ret[i].nodeName.toLowerCase()=="object"){tag="param"}r=jQuery.merge(r,ret[i].getElementsByTagName(tag))}if(m[1]=="."){r=jQuery.classFilter(r,m[2])}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break}}r=tmp}ret=r}t=t.replace(re2,"")}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t)}}if(t){ret=[]}if(ret&amp;&amp;context==ret[0]){ret.shift()}done=jQuery.merge(done,ret);return done},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)&gt;=0;if(!not&amp;&amp;pass||not&amp;&amp;!pass){tmp.push(r[i])}}return tmp},filter:function(t,r,not){var last;while(t&amp;&amp;t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break}}if(!m){break}if(m[1]==":"&amp;&amp;m[2]=="not"){r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3])}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not)}else{if(m[1]=="["){var tmp=[],type=m[3];for(var i=0,rl=r.length;i&lt;rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||""}if((type==""&amp;&amp;!!z||type=="="&amp;&amp;z==m[5]||type=="!="&amp;&amp;z!=m[5]||type=="^="&amp;&amp;z&amp;&amp;!z.indexOf(m[5])||type=="$="&amp;&amp;z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&amp;&amp;z.indexOf(m[5])&gt;=0)^not){tmp.push(a)}}r=tmp}else{if(m[1]==":"&amp;&amp;m[2]=="nth-child"){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]=="even"&amp;&amp;"2n"||m[3]=="odd"&amp;&amp;"2n+1"||!/\D/.test(m[3])&amp;&amp;"0n+"+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;for(var i=0,rl=r.length;i&lt;rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++}}merge[id]=true}var add=false;if(first==0){if(node.nodeIndex==last){add=true}}else{if((node.nodeIndex-last)%first==0&amp;&amp;(node.nodeIndex-last)/first&gt;=0){add=true}}if(add^not){tmp.push(node)}}r=tmp}else{var fn=jQuery.expr[m[1]];if(typeof fn=="object"){fn=fn[m[2]]}if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+";}")}r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r)},not)}}}}}return{r:r,t:t}},dir:function(elem,dir){var matched=[],cur=elem[dir];while(cur&amp;&amp;cur!=document){if(cur.nodeType==1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&amp;&amp;++num==result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&amp;&amp;n!=elem){r.push(n)}}return r}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8){return }if(jQuery.browser.msie&amp;&amp;elem.setInterval){elem=window}if(!handler.guid){handler.guid=this.guid++}if(data!=undefined){var fn=handler;handler=this.proxy(fn,function(){return fn.apply(this,arguments)});handler.data=data}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){if(typeof jQuery!="undefined"&amp;&amp;!jQuery.event.triggered){return jQuery.event.handle.apply(arguments.callee.elem,arguments)}});handle.elem=elem;jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];handler.type=parts[1];var handlers=events[type];if(!handlers){handlers=events[type]={};if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle)}}}}handlers[handler.guid]=handler;jQuery.event.global[type]=true});elem=null},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8){return }var events=jQuery.data(elem,"events"),ret,index;if(events){if(types==undefined||(typeof types=="string"&amp;&amp;types.charAt(0)==".")){for(var type in events){this.remove(elem,type+(types||""))}}else{if(types.type){handler=types.handler;types=types.type}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];if(events[type]){if(handler){delete events[type][handler.guid]}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler]}}}for(ret in events[type]){break}if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false)}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"))}}}ret=null;delete events[type]}}})}for(ret in events){break}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle")}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data);if(type.indexOf("!")&gt;=0){type=type.slice(0,-1);var exclusive=true}if(!elem){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data)}}else{if(elem.nodeType==3||elem.nodeType==8){return undefined}var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;if(event){data.unshift({type:type,target:elem,preventDefault:function(){},stopPropagation:function(){},timeStamp:now()});data[0][expando]=true}data[0].type=type;if(exclusive){data[0].exclusive=true}var handle=jQuery.data(elem,"handle");if(handle){val=handle.apply(elem,data)}if((!fn||(jQuery.nodeName(elem,"a")&amp;&amp;type=="click"))&amp;&amp;elem["on"+type]&amp;&amp;elem["on"+type].apply(elem,data)===false){val=false}if(event){data.shift()}if(extra&amp;&amp;jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));if(ret!==undefined){val=ret}}if(fn&amp;&amp;donative!==false&amp;&amp;val!==false&amp;&amp;!(jQuery.nodeName(elem,"a")&amp;&amp;type=="click")){this.triggered=true;try{elem[type]()}catch(e){}}this.triggered=false}return val},handle:function(event){var val,ret,namespace,all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);namespace=event.type.split(".");event.type=namespace[0];namespace=namespace[1];all=!namespace&amp;&amp;!event.exclusive;handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||handler.type==namespace){event.handler=handler;event.data=handler.data;ret=handler.apply(this,arguments);if(val!==false){val=ret}if(ret===false){event.preventDefault();event.stopPropagation()}}}return val},fix:function(event){if(event[expando]==true){return event}var originalEvent=event;event={originalEvent:originalEvent};var props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which".split(" ");for(var i=props.length;i;i--){event[props[i]]=originalEvent[props[i]]}event[expando]=true;event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault()}originalEvent.returnValue=false};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation()}originalEvent.cancelBubble=true};event.timeStamp=event.timeStamp||now();if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType==3){event.target=event.target.parentNode}if(!event.relatedTarget&amp;&amp;event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement}if(event.pageX==null&amp;&amp;event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&amp;&amp;doc.scrollLeft||body&amp;&amp;body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&amp;&amp;doc.scrollTop||body&amp;&amp;body.scrollTop||0)-(doc.clientTop||0)}if(!event.which&amp;&amp;((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&amp;&amp;event.ctrlKey){event.metaKey=event.ctrlKey}if(!event.which&amp;&amp;event.button){event.which=(event.button&amp;1?1:(event.button&amp;2?3:(event.button&amp;4?2:0)))}return event},proxy:function(fn,proxy){proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy},special:{ready:{setup:function(){bindReady();return },teardown:function(){return }},mouseenter:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler);return true},handler:function(event){if(withinElement(event,this)){return true}event.type="mouseenter";return jQuery.event.handle.apply(this,arguments)}},mouseleave:{setup:function(){if(jQuery.browser.msie){return false}jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler);return true},teardown:function(){if(jQuery.browser.msie){return false}jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler);return true},handler:function(event){if(withinElement(event,this)){return true}event.type="mouseleave";return jQuery.event.handle.apply(this,arguments)}}}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&amp;&amp;data)})},one:function(type,data,fn){var one=jQuery.event.proxy(fn||data,function(event){jQuery(this).unbind(event,one);return(fn||data).apply(this,arguments)});return this.each(function(){jQuery.event.add(this,type,one,fn&amp;&amp;data)})},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn)})},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn)})},triggerHandler:function(type,data,fn){return this[0]&amp;&amp;jQuery.event.trigger(type,data,this[0],false,fn)},toggle:function(fn){var args=arguments,i=1;while(i&lt;args.length){jQuery.event.proxy(fn,args[i++])}return this.click(jQuery.event.proxy(fn,function(event){this.lastToggle=(this.lastToggle||0)%i;event.preventDefault();return args[this.lastToggle++].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.bind("mouseenter",fnOver).bind("mouseleave",fnOut)},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{jQuery.readyList.push(function(){return fn.call(this,jQuery)})}return this}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.call(document)});jQuery.readyList=null}jQuery(document).triggerHandler("ready")}}});var readyBound=false;function bindReady(){if(readyBound){return }readyBound=true;if(document.addEventListener&amp;&amp;!jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false)}if(jQuery.browser.msie&amp;&amp;window==top){(function(){if(jQuery.isReady){return }try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return }jQuery.ready()})()}if(jQuery.browser.opera){document.addEventListener("DOMContentLoaded",function(){if(jQuery.isReady){return }for(var i=0;i&lt;document.styleSheets.length;i++){if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return }}jQuery.ready()},false)}if(jQuery.browser.safari){var numStyles;(function(){if(jQuery.isReady){return }if(document.readyState!="loaded"&amp;&amp;document.readyState!="complete"){setTimeout(arguments.callee,0);return }if(numStyles===undefined){numStyles=jQuery("style, link[rel=stylesheet]").length}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return }jQuery.ready()})()}jQuery.event.add(window,"load",jQuery.ready)}jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,submit,keydown,keypress,keyup,error").split(","),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});var withinElement=function(event,elem){var parent=event.relatedTarget;while(parent&amp;&amp;parent!=elem){try{parent=parent.parentNode}catch(error){parent=elem}}return parent==elem};jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind()});jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!="string"){return this._load(url)}var off=url.indexOf(" ");if(off&gt;=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{params=jQuery.param(params);type="POST"}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("&lt;div/&gt;").append(res.responseText.replace(/&lt;script(.|\s)*?\/script&gt;/g,"")).find(selector):res.responseText)}self.each(callback,[res.responseText,status,res])}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&amp;&amp;!this.disabled&amp;&amp;(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});var jsc=now();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));var jsonp,jsre=/=\?(&amp;|$)/g,status,data,type=s.type.toUpperCase();if(s.data&amp;&amp;s.processData&amp;&amp;typeof s.data!="string"){s.data=jQuery.param(s.data)}if(s.dataType=="jsonp"){if(type=="GET"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&amp;":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&amp;":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType=="json"&amp;&amp;(s.data&amp;&amp;s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType=="script"&amp;&amp;s.cache==null){s.cache=false}if(s.cache===false&amp;&amp;type=="GET"){var ts=now();var ret=s.url.replace(/(\?|&amp;)_=.*?(&amp;|$)/,"$1_="+ts+"$2");s.url=ret+((ret==s.url)?(s.url.match(/\?/)?"&amp;":"?")+"_="+ts:"")}if(s.data&amp;&amp;type=="GET"){s.url+=(s.url.match(/\?/)?"&amp;":"?")+s.data;s.data=null}if(s.global&amp;&amp;!jQuery.active++){jQuery.event.trigger("ajaxStart")}var remote=/^(?:\w+:)?\/\/([^\/?#]+)/;if(s.dataType=="script"&amp;&amp;type=="GET"&amp;&amp;remote.test(s.url)&amp;&amp;remote.exec(s.url)[1]!=location.host){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&amp;&amp;(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();complete();head.removeChild(script)}}}head.appendChild(script);return undefined}var requestDone=false;var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("Accept",s.dataType&amp;&amp;s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&amp;&amp;s.beforeSend(xhr,s)===false){s.global&amp;&amp;jQuery.active--;xhr.abort();return false}if(s.global){jQuery.event.trigger("ajaxSend",[xhr,s])}var onreadystatechange=function(isTimeout){if(!requestDone&amp;&amp;xhr&amp;&amp;(xhr.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null}status=isTimeout=="timeout"&amp;&amp;"timeout"||!jQuery.httpSuccess(xhr)&amp;&amp;"error"||s.ifModified&amp;&amp;jQuery.httpNotModified(xhr,s.url)&amp;&amp;"notmodified"||"success";if(status=="success"){try{data=jQuery.httpData(xhr,s.dataType,s.dataFilter)}catch(e){status="parsererror"}}if(status=="success"){var modRes;try{modRes=xhr.getResponseHeader("Last-Modified")}catch(e){}if(s.ifModified&amp;&amp;modRes){jQuery.lastModified[s.url]=modRes}if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status)}complete();if(s.async){xhr=null}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout&gt;0){setTimeout(function(){if(xhr){xhr.abort();if(!requestDone){onreadystatechange("timeout")}}},s.timeout)}}try{xhr.send(s.data)}catch(e){jQuery.handleError(s,xhr,null,e)}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success(data,status)}if(s.global){jQuery.event.trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete(xhr,status)}if(s.global){jQuery.event.trigger("ajaxComplete",[xhr,s])}if(s.global&amp;&amp;!--jQuery.active){jQuery.event.trigger("ajaxStop")}}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error(xhr,status,e)}if(s.global){jQuery.event.trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&amp;&amp;location.protocol=="file:"||(xhr.status&gt;=200&amp;&amp;xhr.status&lt;300)||xhr.status==304||xhr.status==1223||jQuery.browser.safari&amp;&amp;xhr.status==undefined}catch(e){}return false},httpNotModified:function(xhr,url){try{var xhrRes=xhr.getResponseHeader("Last-Modified");return xhr.status==304||xhrRes==jQuery.lastModified[url]||jQuery.browser.safari&amp;&amp;xhr.status==undefined}catch(e){}return false},httpData:function(xhr,type,filter){var ct=xhr.getResponseHeader("content-type"),xml=type=="xml"||!type&amp;&amp;ct&amp;&amp;ct.indexOf("xml")&gt;=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&amp;&amp;data.documentElement.tagName=="parsererror"){throw"parsererror"}if(filter){data=filter(data,type)}if(type=="script"){jQuery.globalEval(data)}if(type=="json"){data=eval("("+data+")")}return data},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value))})}else{for(var j in a){if(a[j]&amp;&amp;a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this))})}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(jQuery.isFunction(a[j])?a[j]():a[j]))}}}return s.join("&amp;").replace(/%20/g,"+")}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock||"";if(jQuery.css(this,"display")=="none"){var elem=jQuery("&lt;"+this.tagName+" /&gt;").appendTo("body");this.style.display=elem.css("display");if(this.style.display=="none"){this.style.display="block"}elem.remove()}}).end()},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");this.style.display="none"}).end()},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&amp;&amp;jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]()})},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback)},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback)},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback)},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback)},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback)},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){if(this.nodeType!=1){return false}var opt=jQuery.extend({},optall),p,hidden=jQuery(this).is(":hidden"),self=this;for(p in prop){if(prop[p]=="hide"&amp;&amp;hidden||prop[p]=="show"&amp;&amp;!hidden){return opt.complete.call(this)}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop)}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},queue:function(type,fn){if(jQuery.isFunction(type)||(type&amp;&amp;type.constructor==Array)){fn=type;type="fx"}if(!type||(typeof type=="string"&amp;&amp;!fn)){return queue(this[0],type)}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn)}else{queue(this,type).push(fn);if(queue(this,type).length==1){fn.call(this)}}})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i&gt;=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});var queue=function(elem,type,array){if(elem){type=type||"fx";var q=jQuery.data(elem,type+"queue");if(!q||array){q=jQuery.data(elem,type+"queue",jQuery.makeArray(array))}}return q};jQuery.fn.dequeue=function(type){type=type||"fx";return this.each(function(){var q=queue(this,type);q.shift();if(q.length){q[0].call(this)}})};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&amp;&amp;speed.constructor==Object?speed:{complete:fn||!fn&amp;&amp;easing||jQuery.isFunction(speed)&amp;&amp;speed,duration:speed,easing:fn&amp;&amp;easing||easing&amp;&amp;easing.constructor!=Function&amp;&amp;easing};opt.duration=(opt.duration&amp;&amp;opt.duration.constructor==Number?opt.duration:jQuery.fx.speeds[opt.duration])||jQuery.fx.speeds.def;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&amp;&amp;this.elem.style[this.prop]==null){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&amp;&amp;r&gt;-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;for(var i=0;i&lt;timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){clearInterval(jQuery.timerId);jQuery.timerId=null}},13)}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px"}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now();if(gotoEnd||t&gt;this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){this.elem.style.display="none"}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p])}}}if(done){this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(fx){fx.elem.scrollLeft=fx.now},scrollTop:function(fx){fx.elem.scrollTop=fx.now},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now)},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit}}});jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem){with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&amp;&amp;parseInt(version)&lt;522&amp;&amp;!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,"position")=="fixed";if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop)}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&amp;&amp;!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&amp;&amp;!safari2){border(offsetParent)}if(!fixed&amp;&amp;css(offsetParent,"position")=="fixed"){fixed=true}offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;offsetParent=offsetParent.offsetParent}while(parent&amp;&amp;parent.tagName&amp;&amp;!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop)}if(mozilla&amp;&amp;css(parent,"overflow")!="visible"){border(parent)}parent=parent.parentNode}if((safari2&amp;&amp;(fixed||css(offsetChild,"position")=="absolute"))||(mozilla&amp;&amp;css(offsetChild,"position")!="absolute")){add(-doc.body.offsetLeft,-doc.body.offsetTop)}if(fixed){add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop))}}results={top:top,left:left}}}function border(elem){add(jQuery.curCSS(elem,"borderLeftWidth",true),jQuery.curCSS(elem,"borderTopWidth",true))}function add(l,t){left+=parseInt(l,10)||0;top+=parseInt(t,10)||0}return results};jQuery.fn.extend({position:function(){var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop");offset.left-=num(this,"marginLeft");parentOffset.top+=num(offsetParent,"borderTopWidth");parentOffset.left+=num(offsetParent,"borderLeftWidth");results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results},offsetParent:function(){var offsetParent=this[0].offsetParent;while(offsetParent&amp;&amp;(!/^body|html$/i.test(offsetParent.tagName)&amp;&amp;jQuery.css(offsetParent,"position")=="static")){offsetParent=offsetParent.offsetParent}return jQuery(offsetParent)}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){if(!this[0]){return }return val!=undefined?this.each(function(){this==window||this==document?window.scrollTo(!i?val:jQuery(window).scrollLeft(),i?val:jQuery(window).scrollTop()):this[method]=val}):this[0]==window||this[0]==document?self[i?"pageYOffset":"pageXOffset"]||jQuery.boxModel&amp;&amp;document.documentElement[method]||document.body[method]:this[0][method]}});jQuery.each(["Height","Width"],function(i,name){var tl=i?"Left":"Top",br=i?"Right":"Bottom";jQuery.fn["inner"+name]=function(){return this[name.toLowerCase()]()+num(this,"padding"+tl)+num(this,"padding"+br)};jQuery.fn["outer"+name]=function(margin){return this["inner"+name]()+num(this,"border"+tl+"Width")+num(this,"border"+br+"Width")+(margin?num(this,"margin"+tl)+num(this,"margin"+br):0)}})})();</span>
<span class='curline'><a href='../S/4040.html#L22'>unit</a>               22 data/tools/unit_tree/animations.py def write_table_row(out, unit, color, name = None):</span>
<span class='curline'><a href='../S/4040.html#L57'>unit</a>               57 data/tools/unit_tree/animations.py     for abil in unit.get_all(tag = "abilities"):</span>
<span class='curline'><a href='../S/4040.html#L65'>unit</a>               65 data/tools/unit_tree/animations.py     if name == None: name = unit.id</span>
<span class='curline'><a href='../S/4040.html#L71'>unit</a>               71 data/tools/unit_tree/animations.py             aa = unit.get_all(tag = t)</span>
<span class='curline'><a href='../S/4040.html#L83'>unit</a>               83 data/tools/unit_tree/animations.py     female = unit.get_all(tag = "female")</span>
<span class='curline'><a href='../S/4040.html#L86'>unit</a>               86 data/tools/unit_tree/animations.py     for variation in unit.get_all(tag = "variation"):</span>
<span class='curline'><a href='../S/4044.html#L269'>unit</a>              269 data/tools/unit_tree/helpers.py         for unit in newunits:</span>
<span class='curline'><a href='../S/4044.html#L270'>unit</a>              270 data/tools/unit_tree/helpers.py             uid = unit.get_text_val("id")</span>
<span class='curline'><a href='../S/4044.html#L271'>unit</a>              271 data/tools/unit_tree/helpers.py             unit.id = uid</span>
<span class='curline'><a href='../S/4044.html#L273'>unit</a>              273 data/tools/unit_tree/helpers.py             if unit.get_text_val("do_not_list", "no") != "no" or\</span>
<span class='curline'><a href='../S/4044.html#L274'>unit</a>              274 data/tools/unit_tree/helpers.py                unit.get_text_val("hide_help", "no") not in ["no", "false"]:</span>
<span class='curline'><a href='../S/4044.html#L275'>unit</a>              275 data/tools/unit_tree/helpers.py                     unit.hidden = True</span>
<span class='curline'><a href='../S/4044.html#L277'>unit</a>              277 data/tools/unit_tree/helpers.py                 unit.hidden = False</span>
<span class='curline'><a href='../S/4044.html#L280'>unit</a>              280 data/tools/unit_tree/helpers.py                 unit = self.unit_lookup[uid]</span>
<span class='curline'><a href='../S/4044.html#L285'>unit</a>              285 data/tools/unit_tree/helpers.py                 self.unit_lookup[uid] = unit</span>
<span class='curline'><a href='../S/4044.html#L286'>unit</a>              286 data/tools/unit_tree/helpers.py             if not hasattr(unit, "campaigns"): unit.campaigns = []</span>
<span class='curline'><a href='../S/4044.html#L287'>unit</a>              287 data/tools/unit_tree/helpers.py             unit.campaigns.append(campaign)</span>
<span class='curline'><a href='../S/4044.html#L305'>unit</a>              305 data/tools/unit_tree/helpers.py         for unit in newunits:</span>
<span class='curline'><a href='../S/4044.html#L306'>unit</a>              306 data/tools/unit_tree/helpers.py             uid = unit.get_text_val("id")</span>
<span class='curline'><a href='../S/4044.html#L307'>unit</a>              307 data/tools/unit_tree/helpers.py             race = self.get_unit_value(unit, "race")</span>
<span class='curline'><a href='../S/4044.html#L309'>unit</a>              309 data/tools/unit_tree/helpers.py                 unit.race = self.race_lookup[race]</span>
<span class='curline'><a href='../S/4044.html#L310'>unit</a>              310 data/tools/unit_tree/helpers.py                 unit.rid = unit.race.get_text_val("id", "none")</span>
<span class='curline'><a href='../S/4044.html#L312'>unit</a>              312 data/tools/unit_tree/helpers.py                 unit.race = None</span>
<span class='curline'><a href='../S/4044.html#L313'>unit</a>              313 data/tools/unit_tree/helpers.py                 unit.rid = "none"</span>
<span class='curline'><a href='../S/4044.html#L315'>unit</a>              315 data/tools/unit_tree/helpers.py                     race, unit.get_text_val("id")))</span>
<span class='curline'><a href='../S/4044.html#L316'>unit</a>              316 data/tools/unit_tree/helpers.py             movetype = self.get_unit_value(unit, "movement_type")</span>
<span class='curline'><a href='../S/4044.html#L317'>unit</a>              317 data/tools/unit_tree/helpers.py             try: unit.movetype = self.movetype_lookup[movetype]</span>
<span class='curline'><a href='../S/4044.html#L318'>unit</a>              318 data/tools/unit_tree/helpers.py             except KeyError: unit.movetype = None</span>
<span class='curline'><a href='../S/4044.html#L320'>unit</a>              320 data/tools/unit_tree/helpers.py             unit.advance = []</span>
<span class='curline'><a href='../S/4044.html#L321'>unit</a>              321 data/tools/unit_tree/helpers.py             advanceto = unit.get_text_val("advances_to")</span>
<span class='curline'><a href='../S/4044.html#L324'>unit</a>              324 data/tools/unit_tree/helpers.py                 advanceto = unit.get_text_val("advanceto")</span>
<span class='curline'><a href='../S/4044.html#L328'>unit</a>              328 data/tools/unit_tree/helpers.py                     if auid: unit.advance.append(auid)</span>
<span class='curline'><a href='../S/4044.html#L332'>unit</a>              332 data/tools/unit_tree/helpers.py                 level = int(self.get_unit_value(unit, "level"))</span>
<span class='curline'><a href='../S/4044.html#L338'>unit</a>              338 data/tools/unit_tree/helpers.py             unit.level = level</span>
<span class='curline'><a href='../S/4044.html#L348'>unit</a>              348 data/tools/unit_tree/helpers.py         for uid, unit in list(self.unit_lookup.items()):</span>
<span class='curline'><a href='../S/4044.html#L349'>unit</a>              349 data/tools/unit_tree/helpers.py             for advancefrom in unit.get_all(tag = "advancefrom"):</span>
<span class='curline'><a href='../S/4044.html#L363'>unit</a>              363 data/tools/unit_tree/helpers.py         for unit in list(self.unit_lookup.values()):</span>
<span class='curline'><a href='../S/4044.html#L364'>unit</a>              364 data/tools/unit_tree/helpers.py             unit.factions = []</span>
<span class='curline'><a href='../S/4044.html#L365'>unit</a>              365 data/tools/unit_tree/helpers.py             unit.eras = []</span>
<span class='curline'><a href='../S/4044.html#L371'>unit</a>              371 data/tools/unit_tree/helpers.py                         unit = self.unit_lookup[uid]</span>
<span class='curline'><a href='../S/4044.html#L380'>unit</a>              380 data/tools/unit_tree/helpers.py                     if not eid in unit.eras:</span>
<span class='curline'><a href='../S/4044.html#L381'>unit</a>              381 data/tools/unit_tree/helpers.py                         unit.eras.append(eid)</span>
<span class='curline'><a href='../S/4044.html#L382'>unit</a>              382 data/tools/unit_tree/helpers.py                     unit.factions.append((eid, fid))</span>
<span class='curline'><a href='../S/4044.html#L385'>unit</a>              385 data/tools/unit_tree/helpers.py         for unit in list(self.unit_lookup.values()):</span>
<span class='curline'><a href='../S/4044.html#L386'>unit</a>              386 data/tools/unit_tree/helpers.py             if unit.campaigns[0] == self.cid:</span>
<span class='curline'><a href='../S/4044.html#L387'>unit</a>              387 data/tools/unit_tree/helpers.py                 if not unit.factions:</span>
<span class='curline'><a href='../S/4044.html#L388'>unit</a>              388 data/tools/unit_tree/helpers.py                     if not eid in unit.eras:</span>
<span class='curline'><a href='../S/4044.html#L389'>unit</a>              389 data/tools/unit_tree/helpers.py                         unit.eras.append(eid)</span>
<span class='curline'><a href='../S/4044.html#L390'>unit</a>              390 data/tools/unit_tree/helpers.py                     unit.factions.append((eid, None))</span>
<span class='curline'><a href='../S/4044.html#L393'>unit</a>              393 data/tools/unit_tree/helpers.py     def get_base_unit(self, unit):</span>
<span class='curline'><a href='../S/4044.html#L394'>unit</a>              394 data/tools/unit_tree/helpers.py         b = unit.get_all(tag = "base_unit")</span>
<span class='curline'><a href='../S/4044.html#L402'>unit</a>              402 data/tools/unit_tree/helpers.py                     buid, unit.get_text_val("id")))</span>
<span class='curline'><a href='../S/4044.html#L407'>unit</a>              407 data/tools/unit_tree/helpers.py     def get_unit_value(self, unit, attribute, default = None, translation = None):</span>
<span class='curline'><a href='../S/4044.html#L408'>unit</a>              408 data/tools/unit_tree/helpers.py         value = unit.get_text_val(attribute, None, translation)</span>
<span class='curline'><a href='../S/4044.html#L410'>unit</a>              410 data/tools/unit_tree/helpers.py             baseunit = self.get_base_unit(unit)</span>
<span class='curline'><a href='../S/4044.html#L488'>unit</a>              488 data/tools/unit_tree/helpers.py     def __init__(self, unit):</span>
<span class='curline'><a href='../S/4044.html#L489'>unit</a>              489 data/tools/unit_tree/helpers.py         self.unit = unit</span>
<span class='curline'><a href='../S/4044.html#L491'>unit</a>              491 data/tools/unit_tree/helpers.py         self.id = unit.get_text_val("id")</span>
<span class='curline'><a href='../S/4044.html#L494'>unit</a>              494 data/tools/unit_tree/helpers.py         self.child_ids.extend(unit.advance)</span>
<span class='curline'><a href='../S/4042.html#L112'>unit</a>              112 data/tools/unit_tree/html_output.py     def unitfilter(self, unit):</span>
<span class='curline'><a href='../S/4042.html#L114'>unit</a>              114 data/tools/unit_tree/html_output.py         return unit.campaigns and self.campaign == unit.campaigns[0]</span>
<span class='curline'><a href='../S/4042.html#L116'>unit</a>              116 data/tools/unit_tree/html_output.py     def groups(self, unit):</span>
<span class='curline'><a href='../S/4042.html#L117'>unit</a>              117 data/tools/unit_tree/html_output.py         return [T(unit.race, "plural_name")]</span>
<span class='curline'><a href='../S/4042.html#L127'>unit</a>              127 data/tools/unit_tree/html_output.py     def unitfilter(self, unit):</span>
<span class='curline'><a href='../S/4042.html#L130'>unit</a>              130 data/tools/unit_tree/html_output.py     def groups(self, unit):</span>
<span class='curline'><a href='../S/4042.html#L141'>unit</a>              141 data/tools/unit_tree/html_output.py     def unitfilter(self, unit):</span>
<span class='curline'><a href='../S/4042.html#L142'>unit</a>              142 data/tools/unit_tree/html_output.py         return self.era in unit.eras</span>
<span class='curline'><a href='../S/4042.html#L144'>unit</a>              144 data/tools/unit_tree/html_output.py     def groups(self, unit):</span>
<span class='curline'><a href='../S/4042.html#L145'>unit</a>              145 data/tools/unit_tree/html_output.py         return [x for x in unit.factions if x[0] == self.era]</span>
<span class='curline'><a href='../S/4042.html#L235'>unit</a>              235 data/tools/unit_tree/html_output.py             u = tree.unit</span>
<span class='curline'><a href='../S/4042.html#L256'>unit</a>              256 data/tools/unit_tree/html_output.py             x = T(t.unit, "name")</span>
<span class='curline'><a href='../S/4042.html#L263'>unit</a>              263 data/tools/unit_tree/html_output.py                 level = node.unit.level</span>
<span class='curline'><a href='../S/4042.html#L603'>unit</a>              603 data/tools/unit_tree/html_output.py                         u = un.unit</span>
<span class='curline'><a href='../S/4042.html#L714'>unit</a>              714 data/tools/unit_tree/html_output.py     def write_unit_report(self, output, unit):</span>
<span class='curline'><a href='../S/4042.html#L719'>unit</a>              719 data/tools/unit_tree/html_output.py             if unit.movetype:</span>
<span class='curline'><a href='../S/4042.html#L720'>unit</a>              720 data/tools/unit_tree/html_output.py                 mtx = unit.movetype.get_all(tag=what)</span>
<span class='curline'><a href='../S/4042.html#L724'>unit</a>              724 data/tools/unit_tree/html_output.py             x = unit.get_all(tag=what)</span>
<span class='curline'><a href='../S/4042.html#L731'>unit</a>              731 data/tools/unit_tree/html_output.py             if unit.movetype and mty != None:</span>
<span class='curline'><a href='../S/4042.html#L736'>unit</a>              736 data/tools/unit_tree/html_output.py             return self.wesnoth.get_unit_value(unit, name,</span>
<span class='curline'><a href='../S/4042.html#L740'>unit</a>              740 data/tools/unit_tree/html_output.py         uid = unit.get_text_val("id")</span>
<span class='curline'><a href='../S/4042.html#L751'>unit</a>              751 data/tools/unit_tree/html_output.py         female = unit.get_all(tag="female")</span>
<span class='curline'><a href='../S/4042.html#L765'>unit</a>              765 data/tools/unit_tree/html_output.py             mimage, portrait = self.pic(unit, unit)</span>
<span class='curline'><a href='../S/4042.html#L766'>unit</a>              766 data/tools/unit_tree/html_output.py             fimage, fportrait = self.pic(unit, female[0])</span>
<span class='curline'><a href='../S/4042.html#L773'>unit</a>              773 data/tools/unit_tree/html_output.py             image, portrait = self.pic(unit, unit)</span>
<span class='curline'><a href='../S/4042.html#L800'>unit</a>              800 data/tools/unit_tree/html_output.py             if "mainline" in unit.campaigns and "mainline" not in punit.campaigns:</span>
<span class='curline'><a href='../S/4042.html#L803'>unit</a>              803 data/tools/unit_tree/html_output.py             if "mainline" in unit.campaigns: addon = "mainline"</span>
<span class='curline'><a href='../S/4042.html#L819'>unit</a>              819 data/tools/unit_tree/html_output.py                 if "mainline" in unit.campaigns and "mainline" not in cunit.campaigns:</span>
<span class='curline'><a href='../S/4042.html#L826'>unit</a>              826 data/tools/unit_tree/html_output.py                 if "mainline" in unit.campaigns: continue</span>
<span class='curline'><a href='../S/4042.html#L851'>unit</a>              851 data/tools/unit_tree/html_output.py         anames = self.get_abilities(unit)</span>
<span class='curline'><a href='../S/4042.html#L864'>unit</a>              864 data/tools/unit_tree/html_output.py         attacks = self.get_recursive_attacks(unit)</span>
<span class='curline'><a href='../S/4042.html#L1124'>unit</a>             1124 data/tools/unit_tree/html_output.py     for uid, unit in list(wesnoth.unit_lookup.items()):</span>
<span class='curline'><a href='../S/4042.html#L1125'>unit</a>             1125 data/tools/unit_tree/html_output.py         if unit.hidden: continue</span>
<span class='curline'><a href='../S/4042.html#L1126'>unit</a>             1126 data/tools/unit_tree/html_output.py         if "mainline" in unit.campaigns and addon != "mainline": continue</span>
<span class='curline'><a href='../S/4042.html#L1145'>unit</a>             1145 data/tools/unit_tree/html_output.py         html.write_unit_report(output, unit)</span>
<span class='curline'><a href='../S/4043.html#L53'>unit</a>               53 data/tools/unit_tree/wiki_output.py             for unit in unitlist.get_all(tag = "unit_type"):</span>
<span class='curline'><a href='../S/4043.html#L54'>unit</a>               54 data/tools/unit_tree/wiki_output.py                 if unit.get_text_val("do_not_list") in ["yes", "true"]: continue</span>
<span class='curline'><a href='../S/4043.html#L55'>unit</a>               55 data/tools/unit_tree/wiki_output.py                 if unit.get_text_val("hide_help") in ["yes", "true"]: continue</span>
<span class='curline'><a href='../S/4043.html#L56'>unit</a>               56 data/tools/unit_tree/wiki_output.py                 unit.id = unit.get_text_val("id")</span>
<span class='curline'><a href='../S/4043.html#L57'>unit</a>               57 data/tools/unit_tree/wiki_output.py                 unit.campaign = campaign</span>
<span class='curline'><a href='../S/4043.html#L58'>unit</a>               58 data/tools/unit_tree/wiki_output.py                 all_units[unit.id] = unit</span>
<span class='curline'><a href='../S/4043.html#L59'>unit</a>               59 data/tools/unit_tree/wiki_output.py                 unit.children = []</span>
<span class='curline'><a href='../S/4043.html#L60'>unit</a>               60 data/tools/unit_tree/wiki_output.py                 unit.parents = []</span>
<span class='curline'><a href='../S/4043.html#L62'>unit</a>               62 data/tools/unit_tree/wiki_output.py     def base_val(unit, val, translation = None):</span>
<span class='curline'><a href='../S/4043.html#L63'>unit</a>               63 data/tools/unit_tree/wiki_output.py         x = unit.get_text_val(val, translation = translation)</span>
<span class='curline'><a href='../S/4043.html#L65'>unit</a>               65 data/tools/unit_tree/wiki_output.py         for base_unit in unit.get_all(tag = "base_unit"):</span>
<span class='curline'><a href='../S/4043.html#L72'>unit</a>               72 data/tools/unit_tree/wiki_output.py     for unit in list(all_units.values()):</span>
<span class='curline'><a href='../S/4043.html#L74'>unit</a>               74 data/tools/unit_tree/wiki_output.py         unit.name = base_val(unit, "name", translation = translated.translate)               </span>
<span class='curline'><a href='../S/4043.html#L75'>unit</a>               75 data/tools/unit_tree/wiki_output.py         unit.orig_name = base_val(unit, "name", translation = original.translate)</span>
<span class='curline'><a href='../S/4043.html#L77'>unit</a>               77 data/tools/unit_tree/wiki_output.py         try: unit.level = int(base_val(unit, "level"))</span>
<span class='curline'><a href='../S/4043.html#L78'>unit</a>               78 data/tools/unit_tree/wiki_output.py         except TypeError: unit.level = 0</span>
<span class='curline'><a href='../S/4043.html#L80'>unit</a>               80 data/tools/unit_tree/wiki_output.py         r = base_val(unit, "race")</span>
<span class='curline'><a href='../S/4043.html#L81'>unit</a>               81 data/tools/unit_tree/wiki_output.py         try: unit.race = races[r].get_text_val("plural_name", translation = translated.translate)   </span>
<span class='curline'><a href='../S/4043.html#L82'>unit</a>               82 data/tools/unit_tree/wiki_output.py         except KeyError: unit.race = "-"</span>
<span class='curline'><a href='../S/4043.html#L84'>unit</a>               84 data/tools/unit_tree/wiki_output.py         a = unit.get_text_val("advances_to")</span>
<span class='curline'><a href='../S/4043.html#L85'>unit</a>               85 data/tools/unit_tree/wiki_output.py         if not a or a == "null": unit.advances_to = []</span>
<span class='curline'><a href='../S/4043.html#L86'>unit</a>               86 data/tools/unit_tree/wiki_output.py         else: unit.advances_to = [x.strip() for x in a.split(",")]</span>
<span class='curline'><a href='../S/4043.html#L89'>unit</a>               89 data/tools/unit_tree/wiki_output.py     for unit in list(all_units.values()):</span>
<span class='curline'><a href='../S/4043.html#L90'>unit</a>               90 data/tools/unit_tree/wiki_output.py         for aid in unit.advances_to:</span>
<span class='curline'><a href='../S/4043.html#L91'>unit</a>               91 data/tools/unit_tree/wiki_output.py             unit.children.append(all_units[aid])</span>
<span class='curline'><a href='../S/4043.html#L92'>unit</a>               92 data/tools/unit_tree/wiki_output.py             all_units[aid].parents.append(unit)</span>
<span class='curline'><a href='../S/4043.html#L93'>unit</a>               93 data/tools/unit_tree/wiki_output.py         for af in unit.get_all(tag = "advancefrom"):</span>
<span class='curline'><a href='../S/4043.html#L95'>unit</a>               95 data/tools/unit_tree/wiki_output.py             all_units[afid].children.append(unit)</span>
<span class='curline'><a href='../S/4043.html#L96'>unit</a>               96 data/tools/unit_tree/wiki_output.py             unit.parents.append(all_units[afid])</span>
<span class='curline'><a href='../S/4043.html#L98'>unit</a>               98 data/tools/unit_tree/wiki_output.py     def race_key(unit):</span>
<span class='curline'><a href='../S/4043.html#L99'>unit</a>               99 data/tools/unit_tree/wiki_output.py         if unit.campaign == "mainline": return 0, unit.race</span>
<span class='curline'><a href='../S/4043.html#L100'>unit</a>              100 data/tools/unit_tree/wiki_output.py         else : return 1, unit.campaign</span>
<span class='curline'><a href='../S/4043.html#L104'>unit</a>              104 data/tools/unit_tree/wiki_output.py     for unit in list(all_units.values()):</span>
<span class='curline'><a href='../S/4043.html#L105'>unit</a>              105 data/tools/unit_tree/wiki_output.py         x = race_key(unit)</span>
<span class='curline'><a href='../S/4043.html#L107'>unit</a>              107 data/tools/unit_tree/wiki_output.py         units_per_race[x].add(unit)</span>
<span class='curline'><a href='../S/4043.html#L113'>unit</a>              113 data/tools/unit_tree/wiki_output.py             for unit in units_per_race[race]:</span>
<span class='curline'><a href='../S/4043.html#L114'>unit</a>              114 data/tools/unit_tree/wiki_output.py                 for rel in unit.children + unit.parents:</span>
<span class='curline'><a href='../S/4043.html#L145'>unit</a>              145 data/tools/unit_tree/wiki_output.py         def handle_children(y, unit):</span>
<span class='curline'><a href='../S/4043.html#L146'>unit</a>              146 data/tools/unit_tree/wiki_output.py             unit.y = y</span>
<span class='curline'><a href='../S/4043.html#L147'>unit</a>              147 data/tools/unit_tree/wiki_output.py             for cunit in unit.children:</span>
<span class='curline'><a href='../S/4043.html#L149'>unit</a>              149 data/tools/unit_tree/wiki_output.py             if not unit.children: y += 1</span>
<span class='curline'><a href='../S/4043.html#L159'>unit</a>              159 data/tools/unit_tree/wiki_output.py         for unit in units:</span>
<span class='curline'><a href='../S/4043.html#L160'>unit</a>              160 data/tools/unit_tree/wiki_output.py             grid[unit.y][unit.level] = unit</span>
<span class='curline'><a href='../S/4043.html#L165'>unit</a>              165 data/tools/unit_tree/wiki_output.py                 unit = grid[y][x]</span>
<span class='curline'><a href='../S/4043.html#L166'>unit</a>              166 data/tools/unit_tree/wiki_output.py                 if unit:</span>
<span class='curline'><a href='../S/4043.html#L167'>unit</a>              167 data/tools/unit_tree/wiki_output.py                     w("|'''" + unit.name + "'''&lt;br /&gt;" + unit.orig_name)</span>
<span class='curline'><a href='../S/1791.html#L67'>unit</a>               67 doc/design/gui2/unit_attack.cpp static void set_attacker_info(twindow&amp; w, unit&amp; u)</span>
<span class='curline'><a href='../S/1791.html#L74'>unit</a>               74 doc/design/gui2/unit_attack.cpp static void set_defender_info(twindow&amp; w, unit&amp; u)</span>
<span class='curline'><a href='../S/892.html#L60'>unit</a>               60 src/actions/advancement.cpp 		const unit&amp; u = *resources::gameboard-&gt;units().find(loc);</span>
<span class='curline'><a href='../S/892.html#L283'>unit</a>              283 src/actions/advancement.cpp unit_ptr get_advanced_unit(const unit &amp;u, const std::string&amp; advance_to)</span>
<span class='curline'><a href='../S/892.html#L290'>unit</a>              290 src/actions/advancement.cpp 	unit_ptr new_unit(new unit(u));</span>
<span class='curline'><a href='../S/892.html#L294'>unit</a>              294 src/actions/advancement.cpp 	new_unit-&gt;set_state(unit::STATE_POISONED, false);</span>
<span class='curline'><a href='../S/892.html#L295'>unit</a>              295 src/actions/advancement.cpp 	new_unit-&gt;set_state(unit::STATE_SLOWED, false);</span>
<span class='curline'><a href='../S/892.html#L296'>unit</a>              296 src/actions/advancement.cpp 	new_unit-&gt;set_state(unit::STATE_PETRIFIED, false);</span>
<span class='curline'><a href='../S/892.html#L306'>unit</a>              306 src/actions/advancement.cpp unit_ptr get_amla_unit(const unit &amp;u, const config &amp;mod_option)</span>
<span class='curline'><a href='../S/892.html#L308'>unit</a>              308 src/actions/advancement.cpp 	unit_ptr amla_unit(new unit(u));</span>
<span class='curline'><a href='../S/885.html#L23'>unit</a>               23 src/actions/advancement.hpp class  unit;</span>
<span class='curline'><a href='../S/885.html#L59'>unit</a>               59 src/actions/advancement.hpp unit_ptr get_advanced_unit(const unit &amp;u, const std::string &amp;advance_to);</span>
<span class='curline'><a href='../S/885.html#L64'>unit</a>               64 src/actions/advancement.hpp unit_ptr get_amla_unit(const unit &amp;u, const config &amp;mod_option);</span>
<span class='curline'><a href='../S/894.html#L67'>unit</a>               67 src/actions/attack.cpp battle_context_unit_stats::battle_context_unit_stats(const unit &amp;u,</span>
<span class='curline'><a href='../S/894.html#L69'>unit</a>               69 src/actions/attack.cpp 		const unit &amp;opp, const map_location&amp; opp_loc,</span>
<span class='curline'><a href='../S/894.html#L74'>unit</a>               74 src/actions/attack.cpp 	is_poisoned(u.get_state(unit::STATE_POISONED)),</span>
<span class='curline'><a href='../S/894.html#L75'>unit</a>               75 src/actions/attack.cpp 	is_slowed(u.get_state(unit::STATE_SLOWED)),</span>
<span class='curline'><a href='../S/894.html#L125'>unit</a>              125 src/actions/attack.cpp 		poisons = !opp.get_state("unpoisonable") &amp;&amp; weapon-&gt;get_special_bool("poison") &amp;&amp; !opp.get_state(unit::STATE_POISONED);</span>
<span class='curline'><a href='../S/894.html#L327'>unit</a>              327 src/actions/attack.cpp 		const combatant *prev_def, const unit* attacker_ptr) :</span>
<span class='curline'><a href='../S/894.html#L331'>unit</a>              331 src/actions/attack.cpp 	const unit &amp;attacker = attacker_ptr ? *attacker_ptr : *units.find(attacker_loc);</span>
<span class='curline'><a href='../S/894.html#L332'>unit</a>              332 src/actions/attack.cpp 	const unit &amp;defender = *units.find(defender_loc);</span>
<span class='curline'><a href='../S/894.html#L476'>unit</a>              476 src/actions/attack.cpp int battle_context::choose_attacker_weapon(const unit &amp;attacker,</span>
<span class='curline'><a href='../S/894.html#L477'>unit</a>              477 src/actions/attack.cpp 		const unit &amp;defender, const unit_map&amp; units,</span>
<span class='curline'><a href='../S/894.html#L580'>unit</a>              580 src/actions/attack.cpp int battle_context::choose_defender_weapon(const unit &amp;attacker,</span>
<span class='curline'><a href='../S/894.html#L581'>unit</a>              581 src/actions/attack.cpp 		const unit &amp;defender, unsigned attacker_weapon, const unit_map&amp; units,</span>
<span class='curline'><a href='../S/894.html#L731'>unit</a>              731 src/actions/attack.cpp 			unit &amp;get_unit();</span>
<span class='curline'><a href='../S/894.html#L781'>unit</a>              781 src/actions/attack.cpp 	unit &amp;attack::unit_info::get_unit()</span>
<span class='curline'><a href='../S/894.html#L954'>unit</a>              954 src/actions/attack.cpp 				const unit &amp;defender_unit = defender.get_unit();</span>
<span class='curline'><a href='../S/894.html#L955'>unit</a>              955 src/actions/attack.cpp 				if (attacker_stats-&gt;poisons &amp;&amp; !defender_unit.get_state(unit::STATE_POISONED)) {</span>
<span class='curline'><a href='../S/894.html#L962'>unit</a>              962 src/actions/attack.cpp 				if (attacker_stats-&gt;slows &amp;&amp; !defender_unit.get_state(unit::STATE_SLOWED)) {</span>
<span class='curline'><a href='../S/894.html#L1059'>unit</a>             1059 src/actions/attack.cpp 			unit &amp;defender_unit = defender.get_unit();</span>
<span class='curline'><a href='../S/894.html#L1060'>unit</a>             1060 src/actions/attack.cpp 			if (attacker_stats-&gt;poisons &amp;&amp; !defender_unit.get_state(unit::STATE_POISONED)) {</span>
<span class='curline'><a href='../S/894.html#L1061'>unit</a>             1061 src/actions/attack.cpp 				defender_unit.set_state(unit::STATE_POISONED, true);</span>
<span class='curline'><a href='../S/894.html#L1065'>unit</a>             1065 src/actions/attack.cpp 			if (attacker_stats-&gt;slows &amp;&amp; !defender_unit.get_state(unit::STATE_SLOWED)) {</span>
<span class='curline'><a href='../S/894.html#L1066'>unit</a>             1066 src/actions/attack.cpp 				defender_unit.set_state(unit::STATE_SLOWED, true);</span>
<span class='curline'><a href='../S/894.html#L1074'>unit</a>             1074 src/actions/attack.cpp 				defender_unit.set_state(unit::STATE_PETRIFIED, true);</span>
<span class='curline'><a href='../S/894.html#L1157'>unit</a>             1157 src/actions/attack.cpp 				unit_ptr newunit(new unit(*reanimator, attacker.get_unit().side(), true, unit_race::MALE));</span>
<span class='curline'><a href='../S/894.html#L1212'>unit</a>             1212 src/actions/attack.cpp 		a_.get_unit().set_state(unit::STATE_NOT_MOVED,false);</span>
<span class='curline'><a href='../S/894.html#L1217'>unit</a>             1217 src/actions/attack.cpp 		a_.get_unit().set_state(unit::STATE_UNCOVERED, true);</span>
<span class='curline'><a href='../S/894.html#L1311'>unit</a>             1311 src/actions/attack.cpp 			unit &amp;u = a_.get_unit();</span>
<span class='curline'><a href='../S/894.html#L1317'>unit</a>             1317 src/actions/attack.cpp 			unit &amp;u = d_.get_unit();</span>
<span class='curline'><a href='../S/897.html#L27'>unit</a>               27 src/actions/attack.hpp class  unit;</span>
<span class='curline'><a href='../S/897.html#L84'>unit</a>               84 src/actions/attack.hpp 	battle_context_unit_stats(const unit &amp;u, const map_location&amp; u_loc,</span>
<span class='curline'><a href='../S/897.html#L86'>unit</a>               86 src/actions/attack.hpp 		   const unit &amp;opp, const map_location&amp; opp_loc,</span>
<span class='curline'><a href='../S/897.html#L148'>unit</a>              148 src/actions/attack.hpp 	               const unit* attacker_ptr=nullptr);</span>
<span class='curline'><a href='../S/897.html#L176'>unit</a>              176 src/actions/attack.hpp 	int choose_attacker_weapon(const unit &amp;attacker, const unit &amp;defender,</span>
<span class='curline'><a href='../S/897.html#L182'>unit</a>              182 src/actions/attack.hpp 	int choose_defender_weapon(const unit &amp;attacker, const unit &amp;defender,</span>
<span class='curline'><a href='../S/902.html#L141'>unit</a>              141 src/actions/create.cpp 			const unit &amp; recall_unit = *recall_unit_ptr;</span>
<span class='curline'><a href='../S/902.html#L241'>unit</a>              241 src/actions/create.cpp 		const unit &amp; recaller, const unit &amp; recall_unit,</span>
<span class='curline'><a href='../S/902.html#L280'>unit</a>              280 src/actions/create.cpp                                     const unit &amp;unit_recall)</span>
<span class='curline'><a href='../S/902.html#L330'>unit</a>              330 src/actions/create.cpp std::string find_recall_location(const int side, map_location&amp; recall_location, map_location&amp; recall_from, const unit &amp;unit_recall)</span>
<span class='curline'><a href='../S/902.html#L374'>unit</a>              374 src/actions/create.cpp 		const unit &amp; recruiter, const std::string &amp; unit_type,</span>
<span class='curline'><a href='../S/902.html#L506'>unit</a>              506 src/actions/create.cpp 	void recruit_checksums(const unit &amp;new_unit, bool wml_triggered)</span>
<span class='curline'><a href='../S/902.html#L578'>unit</a>              578 src/actions/create.cpp 	void set_recruit_facing(unit_map::iterator &amp;new_unit_itor, const unit &amp;new_unit,</span>
<span class='curline'><a href='../S/902.html#L704'>unit</a>              704 src/actions/create.cpp 	const unit_ptr new_unit = unit_ptr( new unit(u_type, side_num, true));</span>
<span class='curline'><a href='../S/877.html#L106'>unit</a>              106 src/actions/create.hpp                                     const unit &amp;unit_recall);</span>
<span class='curline'><a href='../S/877.html#L125'>unit</a>              125 src/actions/create.hpp std::string find_recall_location(const int side, map_location&amp; recall_location, map_location&amp; recall_from, const unit &amp;unit_recall);</span>
<span class='curline'><a href='../S/875.html#L44'>unit</a>               44 src/actions/heal.cpp 		heal_unit(unit &amp;patient, const std::vector&lt;unit *&gt; &amp;treaters, int healing,</span>
<span class='curline'><a href='../S/875.html#L52'>unit</a>               52 src/actions/heal.cpp 		unit &amp; healed;</span>
<span class='curline'><a href='../S/875.html#L53'>unit</a>               53 src/actions/heal.cpp 		std::vector&lt;unit *&gt; healers;</span>
<span class='curline'><a href='../S/875.html#L82'>unit</a>               82 src/actions/heal.cpp 	POISON_STATUS poison_progress(int side, const unit &amp; patient,</span>
<span class='curline'><a href='../S/875.html#L83'>unit</a>               83 src/actions/heal.cpp 	                              std::vector&lt;unit *&gt; &amp; healers)</span>
<span class='curline'><a href='../S/875.html#L179'>unit</a>              179 src/actions/heal.cpp 	int heal_amount(int side, const unit &amp; patient, std::vector&lt;unit *&gt; &amp; healers)</span>
<span class='curline'><a href='../S/875.html#L233'>unit</a>              233 src/actions/heal.cpp 	void do_heal(unit &amp;patient, int amount, bool cure_poison)</span>
<span class='curline'><a href='../S/875.html#L236'>unit</a>              236 src/actions/heal.cpp 			patient.set_state(unit::STATE_POISONED, false);</span>
<span class='curline'><a href='../S/875.html#L299'>unit</a>              299 src/actions/heal.cpp 	for (unit &amp;patient : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/875.html#L311'>unit</a>              311 src/actions/heal.cpp 		std::vector&lt;unit *&gt; healers;</span>
<span class='curline'><a href='../S/875.html#L322'>unit</a>              322 src/actions/heal.cpp 		if ( !patient.get_state(unit::STATE_POISONED) ) {</span>
<span class='curline'><a href='../S/899.html#L252'>unit</a>              252 src/actions/move.cpp 		static std::string read_ambush_string(const unit &amp; ambusher);</span>
<span class='curline'><a href='../S/899.html#L873'>unit</a>              873 src/actions/move.cpp 	std::string unit_mover::read_ambush_string(const unit &amp; ambusher)</span>
<span class='curline'><a href='../S/899.html#L906'>unit</a>              906 src/actions/move.cpp 			ambusher-&gt;set_state(unit::STATE_UNCOVERED, true);</span>
<span class='curline'><a href='../S/899.html#L1066'>unit</a>             1066 src/actions/move.cpp 		unit::clear_status_caches();</span>
<span class='curline'><a href='../S/898.html#L24'>unit</a>               24 src/actions/move.hpp class  unit;</span>
<span class='curline'><a href='../S/876.html#L32'>unit</a>               32 src/actions/undo_dismiss_action.hpp 		, dismissed_unit(new unit(*dismissed))</span>
<span class='curline'><a href='../S/876.html#L37'>unit</a>               37 src/actions/undo_dismiss_action.hpp 		, dismissed_unit(new unit(unit_cfg))</span>
<span class='curline'><a href='../S/888.html#L82'>unit</a>               82 src/actions/undo_move_action.cpp 	unit::clear_status_caches();</span>
<span class='curline'><a href='../S/890.html#L65'>unit</a>               65 src/actions/undo_recruit_action.cpp 	const unit &amp;un = *un_it;</span>
<span class='curline'><a href='../S/895.html#L104'>unit</a>              104 src/actions/unit_creator.cpp map_location unit_creator::find_location(const config &amp;cfg, const unit* pass_check)</span>
<span class='curline'><a href='../S/895.html#L185'>unit</a>              185 src/actions/unit_creator.cpp 		unit_ptr new_unit(new unit(temp_cfg, true, vcfg));</span>
<span class='curline'><a href='../S/895.html#L217'>unit</a>              217 src/actions/unit_creator.cpp void unit_creator::post_create(const map_location &amp;loc, const unit &amp;new_unit, bool anim)</span>
<span class='curline'><a href='../S/904.html#L27'>unit</a>               27 src/actions/unit_creator.hpp class unit;</span>
<span class='curline'><a href='../S/904.html#L47'>unit</a>               47 src/actions/unit_creator.hpp 	map_location find_location(const config &amp;cfg, const unit* pass_check=nullptr);</span>
<span class='curline'><a href='../S/904.html#L56'>unit</a>               56 src/actions/unit_creator.hpp 	void post_create(const map_location &amp;loc, const unit &amp;new_unit, bool anim);</span>
<span class='curline'><a href='../S/900.html#L59'>unit</a>               59 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/900.html#L80'>unit</a>               80 src/actions/vision.cpp static bool can_see(const unit &amp; viewer, const map_location &amp; loc,</span>
<span class='curline'><a href='../S/900.html#L103'>unit</a>              103 src/actions/vision.cpp clearer_info::clearer_info(const unit &amp; viewer) :</span>
<span class='curline'><a href='../S/900.html#L106'>unit</a>              106 src/actions/vision.cpp 	slowed(viewer.get_state(unit::STATE_SLOWED)),</span>
<span class='curline'><a href='../S/900.html#L160'>unit</a>              160 src/actions/vision.cpp 	const unit &amp; seen, const map_location &amp; seen_loc,</span>
<span class='curline'><a href='../S/900.html#L293'>unit</a>              293 src/actions/vision.cpp 			if ( !sight_it-&gt;get_state(unit::STATE_PETRIFIED) ) {</span>
<span class='curline'><a href='../S/900.html#L403'>unit</a>              403 src/actions/vision.cpp                                 const unit &amp;viewer, team &amp;view_team,</span>
<span class='curline'><a href='../S/900.html#L411'>unit</a>              411 src/actions/vision.cpp 	                  viewer.vision(), viewer.get_state(unit::STATE_SLOWED),</span>
<span class='curline'><a href='../S/900.html#L462'>unit</a>              462 src/actions/vision.cpp bool shroud_clearer::clear_unit(const map_location &amp;view_loc, const unit &amp;viewer,</span>
<span class='curline'><a href='../S/900.html#L495'>unit</a>              495 src/actions/vision.cpp bool shroud_clearer::clear_dest(const map_location &amp;dest, const unit &amp;viewer)</span>
<span class='curline'><a href='../S/900.html#L596'>unit</a>              596 src/actions/vision.cpp std::vector&lt;int&gt; get_sides_not_seeing(const unit &amp; target)</span>
<span class='curline'><a href='../S/900.html#L623'>unit</a>              623 src/actions/vision.cpp bool actor_sighted(const unit &amp; target, const std::vector&lt;int&gt; * cache)</span>
<span class='curline'><a href='../S/900.html#L659'>unit</a>              659 src/actions/vision.cpp 	std::vector&lt;const unit *&gt; second_units(teams_size, nullptr);</span>
<span class='curline'><a href='../S/900.html#L661'>unit</a>              661 src/actions/vision.cpp 	for (const unit &amp; viewer : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/900.html#L715'>unit</a>              715 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/900.html#L728'>unit</a>              728 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/900.html#L764'>unit</a>              764 src/actions/vision.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/884.html#L26'>unit</a>               26 src/actions/vision.hpp class  unit;</span>
<span class='curline'><a href='../S/884.html#L46'>unit</a>               46 src/actions/vision.hpp 	clearer_info(const unit &amp; viewer);</span>
<span class='curline'><a href='../S/884.html#L87'>unit</a>               87 src/actions/vision.hpp 	                const unit &amp;viewer, team &amp;view_team,</span>
<span class='curline'><a href='../S/884.html#L94'>unit</a>               94 src/actions/vision.hpp 	bool clear_unit(const map_location &amp;view_loc, const unit &amp;viewer,</span>
<span class='curline'><a href='../S/884.html#L103'>unit</a>              103 src/actions/vision.hpp 	bool clear_unit(const map_location &amp;view_loc, const unit &amp;viewer,</span>
<span class='curline'><a href='../S/884.html#L108'>unit</a>              108 src/actions/vision.hpp 	bool clear_dest(const map_location &amp;dest, const unit &amp;viewer);</span>
<span class='curline'><a href='../S/884.html#L133'>unit</a>              133 src/actions/vision.hpp 	inline void record_sighting(const unit &amp; seen, const map_location &amp; seen_loc,</span>
<span class='curline'><a href='../S/884.html#L145'>unit</a>              145 src/actions/vision.hpp std::vector&lt;int&gt; get_sides_not_seeing(const unit &amp; target);</span>
<span class='curline'><a href='../S/884.html#L147'>unit</a>              147 src/actions/vision.hpp bool actor_sighted(const unit &amp; target, const std::vector&lt;int&gt; * cache =  nullptr);</span>
<span class='curline'><a href='../S/233.html#L341'>unit</a>              341 src/ai/actions.cpp const unit *move_result::get_unit()</span>
<span class='curline'><a href='../S/233.html#L348'>unit</a>              348 src/ai/actions.cpp 	const unit *u = &amp;*un;</span>
<span class='curline'><a href='../S/233.html#L360'>unit</a>              360 src/ai/actions.cpp bool move_result::test_route(const unit &amp;un)</span>
<span class='curline'><a href='../S/233.html#L398'>unit</a>              398 src/ai/actions.cpp 	const unit *u = get_unit();</span>
<span class='curline'><a href='../S/233.html#L606'>unit</a>              606 src/ai/actions.cpp 	unit_map::const_iterator unit = resources::gameboard-&gt;units().find(recall_location_);</span>
<span class='curline'><a href='../S/233.html#L607'>unit</a>              607 src/ai/actions.cpp 	if (unit==resources::gameboard-&gt;units().end()){</span>
<span class='curline'><a href='../S/233.html#L611'>unit</a>              611 src/ai/actions.cpp 	if (unit-&gt;side() != get_side()){</span>
<span class='curline'><a href='../S/233.html#L756'>unit</a>              756 src/ai/actions.cpp 	unit_map::const_iterator unit = resources::gameboard-&gt;units().find(recruit_location_);</span>
<span class='curline'><a href='../S/233.html#L757'>unit</a>              757 src/ai/actions.cpp 	if (unit==resources::gameboard-&gt;units().end()) {</span>
<span class='curline'><a href='../S/233.html#L761'>unit</a>              761 src/ai/actions.cpp 	if (unit-&gt;side() != get_side()) {</span>
<span class='curline'><a href='../S/233.html#L828'>unit</a>              828 src/ai/actions.cpp const unit *stopunit_result::get_unit()</span>
<span class='curline'><a href='../S/233.html#L835'>unit</a>              835 src/ai/actions.cpp 	const unit *u = &amp;*un;</span>
<span class='curline'><a href='../S/235.html#L32'>unit</a>               32 src/ai/actions.hpp class unit;</span>
<span class='curline'><a href='../S/235.html#L193'>unit</a>              193 src/ai/actions.hpp 	const unit *get_unit();</span>
<span class='curline'><a href='../S/235.html#L194'>unit</a>              194 src/ai/actions.hpp 	bool test_route(const unit &amp;un);</span>
<span class='curline'><a href='../S/235.html#L290'>unit</a>              290 src/ai/actions.hpp 	const unit *get_unit();</span>
<span class='curline'><a href='../S/276.html#L149'>unit</a>              149 src/ai/composite/goal.cpp 	for (const unit &amp;u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/276.html#L265'>unit</a>              265 src/ai/composite/goal.cpp 		for (const unit &amp;u : units)</span>
<span class='curline'><a href='../S/276.html#L280'>unit</a>              280 src/ai/composite/goal.cpp 		for (const unit &amp;u : units)</span>
<span class='curline'><a href='../S/286.html#L1103'>unit</a>             1103 src/ai/contexts.cpp 			const unit&amp; un = *u;</span>
<span class='curline'><a href='../S/251.html#L210'>unit</a>              210 src/ai/contexts.hpp 	virtual defensive_position const&amp; best_defensive_position(const map_location&amp; unit,</span>
<span class='curline'><a href='../S/251.html#L619'>unit</a>              619 src/ai/contexts.hpp 	defensive_position const&amp; best_defensive_position(const map_location&amp; unit,</span>
<span class='curline'><a href='../S/251.html#L622'>unit</a>              622 src/ai/contexts.hpp 		return target_-&gt;best_defensive_position(unit,dstsrc,srcdst,enemy_dstsrc);</span>
<span class='curline'><a href='../S/251.html#L1311'>unit</a>             1311 src/ai/contexts.hpp 	defensive_position const&amp; best_defensive_position(const map_location&amp; unit,</span>
<span class='curline'><a href='../S/240.html#L351'>unit</a>              351 src/ai/default/aspect_attacks.cpp int aspect_attacks_base::rate_terrain(const unit&amp; u, const map_location&amp; loc)</span>
<span class='curline'><a href='../S/240.html#L395'>unit</a>              395 src/ai/default/aspect_attacks.cpp bool aspect_attacks::is_allowed_attacker(const unit&amp; u) const</span>
<span class='curline'><a href='../S/240.html#L406'>unit</a>              406 src/ai/default/aspect_attacks.cpp bool aspect_attacks::is_allowed_enemy(const unit&amp; u) const</span>
<span class='curline'><a href='../S/240.html#L468'>unit</a>              468 src/ai/default/aspect_attacks.cpp static bool call_lua_filter_fcn(lua_State* L, const unit&amp; u, int idx)</span>
<span class='curline'><a href='../S/240.html#L478'>unit</a>              478 src/ai/default/aspect_attacks.cpp bool aspect_attacks_lua::is_allowed_attacker(const unit&amp; u) const</span>
<span class='curline'><a href='../S/240.html#L490'>unit</a>              490 src/ai/default/aspect_attacks.cpp bool aspect_attacks_lua::is_allowed_enemy(const unit&amp; u) const</span>
<span class='curline'><a href='../S/239.html#L47'>unit</a>               47 src/ai/default/aspect_attacks.hpp 	virtual bool is_allowed_attacker(const unit&amp; u) const = 0;</span>
<span class='curline'><a href='../S/239.html#L48'>unit</a>               48 src/ai/default/aspect_attacks.hpp 	virtual bool is_allowed_enemy(const unit&amp; u) const = 0;</span>
<span class='curline'><a href='../S/239.html#L63'>unit</a>               63 src/ai/default/aspect_attacks.hpp 	static int rate_terrain(const unit&amp; u, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/239.html#L71'>unit</a>               71 src/ai/default/aspect_attacks.hpp 	virtual bool is_allowed_attacker(const unit&amp; u) const;</span>
<span class='curline'><a href='../S/239.html#L72'>unit</a>               72 src/ai/default/aspect_attacks.hpp 	virtual bool is_allowed_enemy(const unit&amp; u) const;</span>
<span class='curline'><a href='../S/239.html#L91'>unit</a>               91 src/ai/default/aspect_attacks.hpp 	virtual bool is_allowed_attacker(const unit&amp; u) const;</span>
<span class='curline'><a href='../S/239.html#L92'>unit</a>               92 src/ai/default/aspect_attacks.hpp 	virtual bool is_allowed_enemy(const unit&amp; u) const;</span>
<span class='curline'><a href='../S/250.html#L167'>unit</a>              167 src/ai/default/attack.cpp 		avg_losses += cost * up-&gt;get_state(unit::STATE_POISONED) /2;</span>
<span class='curline'><a href='../S/250.html#L421'>unit</a>              421 src/ai/default/attack.cpp 	unit_map::const_iterator unit = units.find(movements.front().first);</span>
<span class='curline'><a href='../S/250.html#L422'>unit</a>              422 src/ai/default/attack.cpp 	if(!unit.valid() || unit-&gt;attacks_left() == 0) {</span>
<span class='curline'><a href='../S/250.html#L431'>unit</a>              431 src/ai/default/attack.cpp 	unit = units.find(att_dst);</span>
<span class='curline'><a href='../S/250.html#L432'>unit</a>              432 src/ai/default/attack.cpp 	if(unit == units.end()) {</span>
<span class='curline'><a href='../S/250.html#L439'>unit</a>              439 src/ai/default/attack.cpp 		unit = units.find(att_src);</span>
<span class='curline'><a href='../S/250.html#L440'>unit</a>              440 src/ai/default/attack.cpp 		if(unit != units.end()) {</span>
<span class='curline'><a href='../S/238.html#L397'>unit</a>              397 src/ai/default/ca.cpp 	const unit* best_leader = nullptr;</span>
<span class='curline'><a href='../S/238.html#L438'>unit</a>              438 src/ai/default/ca.cpp 	const unit* leader = best_leader;</span>
<span class='curline'><a href='../S/238.html#L731'>unit</a>              731 src/ai/default/ca.cpp 		const unit  &amp;un = *u;</span>
<span class='curline'><a href='../S/238.html#L943'>unit</a>              943 src/ai/default/ca.cpp 	treachmap&amp; reachmap, tmoves&amp; moves, treachmap::iterator unit)</span>
<span class='curline'><a href='../S/238.html#L945'>unit</a>              945 src/ai/default/ca.cpp 	assert(unit-&gt;second.empty());</span>
<span class='curline'><a href='../S/238.html#L947'>unit</a>              947 src/ai/default/ca.cpp 	if(unit-&gt;first == leader_loc_ &amp;&amp; best_leader_loc_ != map_location::null_location()) {</span>
<span class='curline'><a href='../S/238.html#L954'>unit</a>              954 src/ai/default/ca.cpp 	reachmap.erase(unit++);</span>
<span class='curline'><a href='../S/238.html#L955'>unit</a>              955 src/ai/default/ca.cpp 	return unit;</span>
<span class='curline'><a href='../S/238.html#L1219'>unit</a>             1219 src/ai/default/ca.cpp 		treachmap::iterator unit = reachmap.find(leader_loc_);</span>
<span class='curline'><a href='../S/238.html#L1220'>unit</a>             1220 src/ai/default/ca.cpp 		if(unit != reachmap.end()) {</span>
<span class='curline'><a href='../S/238.html#L1221'>unit</a>             1221 src/ai/default/ca.cpp 			unit-&gt;second.clear();</span>
<span class='curline'><a href='../S/238.html#L1222'>unit</a>             1222 src/ai/default/ca.cpp 			remove_unit(reachmap, moves, unit);</span>
<span class='curline'><a href='../S/238.html#L1261'>unit</a>             1261 src/ai/default/ca.cpp 		treachmap::iterator unit = reachmap.find(leader_loc_);</span>
<span class='curline'><a href='../S/238.html#L1262'>unit</a>             1262 src/ai/default/ca.cpp 		if(unit != reachmap.end()) {</span>
<span class='curline'><a href='../S/238.html#L1263'>unit</a>             1263 src/ai/default/ca.cpp 			unit-&gt;second.clear();</span>
<span class='curline'><a href='../S/238.html#L1264'>unit</a>             1264 src/ai/default/ca.cpp 			remove_unit(reachmap, moves, unit);</span>
<span class='curline'><a href='../S/238.html#L1323'>unit</a>             1323 src/ai/default/ca.cpp 		unit &amp;u = *u_it;</span>
<span class='curline'><a href='../S/238.html#L1334'>unit</a>             1334 src/ai/default/ca.cpp 		   || u.get_state(unit::STATE_POISONED)) &amp;&amp;</span>
<span class='curline'><a href='../S/248.html#L173'>unit</a>              173 src/ai/default/ca.hpp 		treachmap&amp; reachmap, tmoves&amp; moves, treachmap::iterator unit);</span>
<span class='curline'><a href='../S/237.html#L49'>unit</a>               49 src/ai/default/ca_move_to_targets.cpp 	move_cost_calculator(const unit&amp; u, const gamemap&amp; map,</span>
<span class='curline'><a href='../S/237.html#L80'>unit</a>               80 src/ai/default/ca_move_to_targets.cpp 	const unit&amp; unit_;</span>
<span class='curline'><a href='../S/237.html#L532'>unit</a>              532 src/ai/default/ca_move_to_targets.cpp 			const unit&amp; un = *best;</span>
<span class='curline'><a href='../S/237.html#L836'>unit</a>              836 src/ai/default/ca_move_to_targets.cpp 		const unit &amp;un = *u;</span>
<span class='curline'><a href='../S/246.html#L100'>unit</a>              100 src/ai/default/contexts.cpp int default_ai_context_impl::rate_terrain(const unit&amp; u, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/243.html#L174'>unit</a>              174 src/ai/default/contexts.hpp 	virtual int rate_terrain(const unit&amp; u, const map_location&amp; loc) const = 0;</span>
<span class='curline'><a href='../S/243.html#L235'>unit</a>              235 src/ai/default/contexts.hpp 	virtual int rate_terrain(const unit&amp; u, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/243.html#L288'>unit</a>              288 src/ai/default/contexts.hpp 	virtual int rate_terrain(const unit&amp; u, const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/247.html#L566'>unit</a>              566 src/ai/default/recruitment.cpp 		const std::string&amp; unit = i.first;</span>
<span class='curline'><a href='../S/247.html#L569'>unit</a>              569 src/ai/default/recruitment.cpp 		if (!limit_ok(unit)) {</span>
<span class='curline'><a href='../S/247.html#L573'>unit</a>              573 src/ai/default/recruitment.cpp 			if (!recruit_matches_type(unit, pattern_type)) {</span>
<span class='curline'><a href='../S/247.html#L577'>unit</a>              577 src/ai/default/recruitment.cpp 			if (!recruit_matches_job(unit, job)) {</span>
<span class='curline'><a href='../S/247.html#L583'>unit</a>              583 src/ai/default/recruitment.cpp 		double current_ammount = own_units_count_[unit];</span>
<span class='curline'><a href='../S/247.html#L585'>unit</a>              585 src/ai/default/recruitment.cpp 		if (scouts_wanted_ &gt; 0 &amp;&amp; recruit_matches_type(unit, "scout")) {</span>
<span class='curline'><a href='../S/247.html#L590'>unit</a>              590 src/ai/default/recruitment.cpp 			best_recruit = unit;</span>
<span class='curline'><a href='../S/247.html#L686'>unit</a>              686 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/247.html#L687'>unit</a>              687 src/ai/default/recruitment.cpp 		if (unit.side() != side || unit.can_recruit() ||</span>
<span class='curline'><a href='../S/247.html#L688'>unit</a>              688 src/ai/default/recruitment.cpp 				unit.incapacitated() || unit.total_movement() &lt;= 0) {</span>
<span class='curline'><a href='../S/247.html#L692'>unit</a>              692 src/ai/default/recruitment.cpp 		cost_map.add_unit(unit);</span>
<span class='curline'><a href='../S/247.html#L790'>unit</a>              790 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/247.html#L791'>unit</a>              791 src/ai/default/recruitment.cpp 		if (unit.side() != get_side()) {</span>
<span class='curline'><a href='../S/247.html#L794'>unit</a>              794 src/ai/default/recruitment.cpp 		if (is_enemy_in_radius(unit.get_location(), 1)) {</span>
<span class='curline'><a href='../S/247.html#L798'>unit</a>              798 src/ai/default/recruitment.cpp 			get_tiles_in_radius(unit.get_location(), 1, surrounding);</span>
<span class='curline'><a href='../S/247.html#L799'>unit</a>              799 src/ai/default/recruitment.cpp 			important_hexes_.insert(unit.get_location());</span>
<span class='curline'><a href='../S/247.html#L927'>unit</a>              927 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/247.html#L928'>unit</a>              928 src/ai/default/recruitment.cpp 		if (!current_team().is_enemy(unit.side()) || unit.incapacitated()) {</span>
<span class='curline'><a href='../S/247.html#L931'>unit</a>              931 src/ai/default/recruitment.cpp 		enemy_units.emplace_back(unit.type_id(), unit.hitpoints());</span>
<span class='curline'><a href='../S/247.html#L1323'>unit</a>             1323 src/ai/default/recruitment.cpp 				const std::string&amp; unit = entry.first;</span>
<span class='curline'><a href='../S/247.html#L1325'>unit</a>             1325 src/ai/default/recruitment.cpp 				if (recruit_matches_types(unit, types)) {</span>
<span class='curline'><a href='../S/247.html#L1462'>unit</a>             1462 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/247.html#L1463'>unit</a>             1463 src/ai/default/recruitment.cpp 		if (unit.incapacitated() || unit.total_movement() &lt;= 0 || unit.can_recruit()) {</span>
<span class='curline'><a href='../S/247.html#L1466'>unit</a>             1466 src/ai/default/recruitment.cpp 		double value = unit.cost() * unit.hitpoints() / unit.max_hitpoints();</span>
<span class='curline'><a href='../S/247.html#L1467'>unit</a>             1467 src/ai/default/recruitment.cpp 		if (current_team().is_enemy(unit.side())) {</span>
<span class='curline'><a href='../S/247.html#L1471'>unit</a>             1471 src/ai/default/recruitment.cpp 			if (unit.side() == current_team().side()) {</span>
<span class='curline'><a href='../S/247.html#L1688'>unit</a>             1688 src/ai/default/recruitment.cpp 	for (const unit&amp; unit : units) {</span>
<span class='curline'><a href='../S/247.html#L1689'>unit</a>             1689 src/ai/default/recruitment.cpp 		if (unit.side() != get_side() || unit.can_recruit() ||</span>
<span class='curline'><a href='../S/247.html#L1690'>unit</a>             1690 src/ai/default/recruitment.cpp 				unit.incapacitated() || unit.total_movement() &lt;= 0) {</span>
<span class='curline'><a href='../S/247.html#L1693'>unit</a>             1693 src/ai/default/recruitment.cpp 		++own_units_count_[unit.type_id()];</span>
<span class='curline'><a href='../S/256.html#L471'>unit</a>              471 src/ai/formula/ai.cpp 		for(const unit &amp;u : units) {</span>
<span class='curline'><a href='../S/261.html#L280'>unit</a>              280 src/ai/formula/callable_objects.cpp 		unit_map::const_iterator unit = units_.find(adj[n]);</span>
<span class='curline'><a href='../S/261.html#L282'>unit</a>              282 src/ai/formula/callable_objects.cpp 		if (unit == units_.end())</span>
<span class='curline'><a href='../S/261.html#L285'>unit</a>              285 src/ai/formula/callable_objects.cpp 		if (!ai_.current_team().is_enemy(unit-&gt;side())  ||</span>
<span class='curline'><a href='../S/261.html#L286'>unit</a>              286 src/ai/formula/callable_objects.cpp 		    unit-&gt;incapacitated() ||</span>
<span class='curline'><a href='../S/261.html#L287'>unit</a>              287 src/ai/formula/callable_objects.cpp 		    unit-&gt;invisible(unit-&gt;get_location(), *resources::gameboard))</span>
<span class='curline'><a href='../S/261.html#L375'>unit</a>              375 src/ai/formula/callable_objects.cpp 	unit_map::iterator unit;</span>
<span class='curline'><a href='../S/261.html#L380'>unit</a>              380 src/ai/formula/callable_objects.cpp 	} else*/ if((unit = units.find(loc_)) == units.end()) {</span>
<span class='curline'><a href='../S/261.html#L382'>unit</a>              382 src/ai/formula/callable_objects.cpp 	} else if(unit-&gt;side() != get_ai_context(ctxt.as_callable()).get_side()) {</span>
<span class='curline'><a href='../S/261.html#L388'>unit</a>              388 src/ai/formula/callable_objects.cpp 		unit-&gt;formula_manager().add_formula_var(key_, value_);</span>
<span class='curline'><a href='../S/253.html#L58'>unit</a>               58 src/ai/formula/function_table.cpp 			auto unit = arg.try_convert&lt;unit_callable&gt;();</span>
<span class='curline'><a href='../S/253.html#L60'>unit</a>               60 src/ai/formula/function_table.cpp 			if (unit) {</span>
<span class='curline'><a href='../S/253.html#L61'>unit</a>               61 src/ai/formula/function_table.cpp 				unit_ = &amp;unit-&gt;get_unit();</span>
<span class='curline'><a href='../S/253.html#L94'>unit</a>               94 src/ai/formula/function_table.cpp 		const unit* unit_;</span>
<span class='curline'><a href='../S/253.html#L294'>unit</a>              294 src/ai/formula/function_table.cpp 				unit_adapter unit(units_of_side[unit_it]);</span>
<span class='curline'><a href='../S/253.html#L295'>unit</a>              295 src/ai/formula/function_table.cpp 				find_movemap( unit, loc, scores[side], true );</span>
<span class='curline'><a href='../S/253.html#L586'>unit</a>              586 src/ai/formula/function_table.cpp 		const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/253.html#L1370'>unit</a>             1370 src/ai/formula/function_table.cpp 			const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/253.html#L1420'>unit</a>             1420 src/ai/formula/function_table.cpp 			const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/253.html#L1464'>unit</a>             1464 src/ai/formula/function_table.cpp 			const unit&amp; un = u_call-&gt;get_unit();</span>
<span class='curline'><a href='../S/295.html#L68'>unit</a>               68 src/ai/lua/aspect_advancements.cpp const std::vector&lt;std::string&gt; unit_advancements_aspect::get_advancements(const unit_map::const_iterator&amp; unit) const</span>
<span class='curline'><a href='../S/295.html#L72'>unit</a>               72 src/ai/lua/aspect_advancements.cpp 	if(!unit.valid())</span>
<span class='curline'><a href='../S/295.html#L77'>unit</a>               77 src/ai/lua/aspect_advancements.cpp 	const std::string&amp; unit_id = (*unit).id();</span>
<span class='curline'><a href='../S/295.html#L78'>unit</a>               78 src/ai/lua/aspect_advancements.cpp 	const int unit_x = (*unit).get_location().wml_x();</span>
<span class='curline'><a href='../S/295.html#L79'>unit</a>               79 src/ai/lua/aspect_advancements.cpp 	const int unit_y = (*unit).get_location().wml_y();</span>
<span class='curline'><a href='../S/298.html#L33'>unit</a>               33 src/ai/lua/aspect_advancements.hpp 	const std::vector&lt;std::string&gt; get_advancements(const unit_map::const_iterator&amp; unit) const;</span>
<span class='curline'><a href='../S/293.html#L155'>unit</a>              155 src/ai/lua/core.cpp 	unit* leader = nullptr;</span>
<span class='curline'><a href='../S/294.html#L183'>unit</a>              183 src/ai/lua/engine_lua.cpp 		bound_unit_ = unit_ptr(new unit(*resources::gameboard-&gt;units().find(loc)));</span>
<span class='curline'><a href='../S/232.html#L43'>unit</a>               43 src/ai/simulated_actions.cpp void helper_place_unit(const unit&amp; u, const map_location&amp; loc);</span>
<span class='curline'><a href='../S/232.html#L141'>unit</a>              141 src/ai/simulated_actions.cpp 	const unit recruit_unit(*u, side, false);	// Random traits, name and gender are not needed. This will cause "duplicate id conflicts" inside unit_map::insert(), but engine will manage this issue correctly.</span>
<span class='curline'><a href='../S/232.html#L211'>unit</a>              211 src/ai/simulated_actions.cpp void helper_place_unit(const unit&amp; u, const map_location&amp; loc){</span>
<span class='curline'><a href='../S/232.html#L212'>unit</a>              212 src/ai/simulated_actions.cpp 	unit_ptr new_unit(new unit(u));</span>
<span class='curline'><a href='../S/232.html#L243'>unit</a>              243 src/ai/simulated_actions.cpp 	unit_ptr advanced_unit(new unit(*advance_unit));</span>
<span class='curline'><a href='../S/232.html#L255'>unit</a>              255 src/ai/simulated_actions.cpp 		advanced_unit-&gt;set_state(unit::STATE_POISONED, false);</span>
<span class='curline'><a href='../S/232.html#L256'>unit</a>              256 src/ai/simulated_actions.cpp 		advanced_unit-&gt;set_state(unit::STATE_SLOWED, false);</span>
<span class='curline'><a href='../S/232.html#L257'>unit</a>              257 src/ai/simulated_actions.cpp 		advanced_unit-&gt;set_state(unit::STATE_PETRIFIED, false);</span>
<span class='curline'><a href='../S/681.html#L387'>unit</a>              387 src/display.cpp bool display::add_exclusive_draw(const map_location&amp; loc, unit&amp; unit)</span>
<span class='curline'><a href='../S/681.html#L391'>unit</a>              391 src/display.cpp 		exclusive_unit_draw_requests_[loc] = unit.id();</span>
<span class='curline'><a href='../S/681.html#L3054'>unit</a>             3054 src/display.cpp 	for (const unit &amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/681.html#L3057'>unit</a>             3057 src/display.cpp 	for (const unit* u : *fake_unit_man_) {</span>
<span class='curline'><a href='../S/681.html#L3061'>unit</a>             3061 src/display.cpp 	std::vector&lt;const unit *&gt; open_mp_list;</span>
<span class='curline'><a href='../S/681.html#L3062'>unit</a>             3062 src/display.cpp 	for (const unit &amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/681.html#L3069'>unit</a>             3069 src/display.cpp 	for (const unit* u : *fake_unit_man_) {</span>
<span class='curline'><a href='../S/681.html#L3091'>unit</a>             3091 src/display.cpp 		for (const unit &amp; u : dc_-&gt;units()) {</span>
<span class='curline'><a href='../S/681.html#L3094'>unit</a>             3094 src/display.cpp 		for (const unit* u : *fake_unit_man_) {</span>
<span class='curline'><a href='../S/957.html#L126'>unit</a>              126 src/display.hpp 	bool add_exclusive_draw(const map_location&amp; loc, unit&amp; unit);</span>
<span class='curline'><a href='../S/929.html#L42'>unit</a>               42 src/display_context.cpp 		const unit &amp; u = *u_it;</span>
<span class='curline'><a href='../S/929.html#L57'>unit</a>               57 src/display_context.cpp const unit * display_context::get_visible_unit(const map_location &amp; loc, const team &amp;current_team, bool see_all) const</span>
<span class='curline'><a href='../S/929.html#L72'>unit</a>               72 src/display_context.cpp bool display_context::unit_can_move(const unit &amp;u) const</span>
<span class='curline'><a href='../S/929.html#L137'>unit</a>              137 src/display_context.cpp 	for (const unit &amp;u : units()) {</span>
<span class='curline'><a href='../S/929.html#L146'>unit</a>              146 src/display_context.cpp 	for (const unit &amp;u : units()) {</span>
<span class='curline'><a href='../S/929.html#L155'>unit</a>              155 src/display_context.cpp 	for (const unit &amp;u : units()) {</span>
<span class='curline'><a href='../S/843.html#L31'>unit</a>               31 src/display_context.hpp class unit;</span>
<span class='curline'><a href='../S/843.html#L78'>unit</a>               78 src/display_context.hpp 	const unit * get_visible_unit(const map_location &amp;loc, const team &amp;current_team, bool see_all = false) const;</span>
<span class='curline'><a href='../S/843.html#L82'>unit</a>               82 src/display_context.hpp 	bool unit_can_move(const unit &amp; u) const;</span>
<span class='curline'><a href='../S/40.html#L99'>unit</a>               99 src/editor/action/action_unit.cpp 	unit::clear_status_caches();</span>
<span class='curline'><a href='../S/40.html#L101'>unit</a>              101 src/editor/action/action_unit.cpp 	unit&amp; u = *units.find(new_loc_);</span>
<span class='curline'><a href='../S/62.html#L42'>unit</a>               42 src/editor/action/action_unit.hpp 				const unit&amp; u)</span>
<span class='curline'><a href='../S/62.html#L51'>unit</a>               51 src/editor/action/action_unit.hpp 		unit u_;</span>
<span class='curline'><a href='../S/48.html#L125'>unit</a>              125 src/editor/action/mouse/mouse_action_unit.cpp 	unit new_unit(ut, disp.viewing_side(), true, gender);</span>
<span class='curline'><a href='../S/70.html#L343'>unit</a>              343 src/editor/map/map_context.cpp 			units_.add(loc, unit(a_unit, true) );</span>
<span class='curline'><a href='../S/322.html#L20'>unit</a>               20 src/fake_unit_manager.hpp class unit;</span>
<span class='curline'><a href='../S/322.html#L33'>unit</a>               33 src/fake_unit_manager.hpp 	typedef unit const * internal_ptr_type;</span>
<span class='curline'><a href='../S/733.html#L54'>unit</a>               54 src/fake_unit_ptr.hpp 	unit &amp; operator*() { return *unit_; } //!&lt; Derference the internal unit pointer.</span>
<span class='curline'><a href='../S/733.html#L55'>unit</a>               55 src/fake_unit_ptr.hpp 	unit * get() { return unit_.get(); } //!&lt; Get a raw pointer to the underlying unit.</span>
<span class='curline'><a href='../S/768.html#L104'>unit</a>              104 src/formula/callable_objects.hpp 	unit_callable(const map_location&amp; loc, const unit&amp; u) : loc_(loc), u_(u)</span>
<span class='curline'><a href='../S/768.html#L109'>unit</a>              109 src/formula/callable_objects.hpp 	explicit unit_callable(const unit &amp;u) : loc_(u.get_location()), u_(u)</span>
<span class='curline'><a href='../S/768.html#L119'>unit</a>              119 src/formula/callable_objects.hpp 	const unit&amp; get_unit() const { return u_; }</span>
<span class='curline'><a href='../S/768.html#L124'>unit</a>              124 src/formula/callable_objects.hpp 	const unit&amp; u_;</span>
<span class='curline'><a href='../S/740.html#L71'>unit</a>               71 src/game_board.cpp 	for (unit &amp; i : units_) {</span>
<span class='curline'><a href='../S/740.html#L79'>unit</a>               79 src/game_board.cpp 	for (unit &amp; i : units_) {</span>
<span class='curline'><a href='../S/740.html#L87'>unit</a>               87 src/game_board.cpp 	for (unit &amp; i : units_) {</span>
<span class='curline'><a href='../S/740.html#L111'>unit</a>              111 src/game_board.cpp 	for (const unit &amp; i : units())</span>
<span class='curline'><a href='../S/740.html#L193'>unit</a>              193 src/game_board.cpp unit* game_board::get_visible_unit(const map_location &amp;loc,</span>
<span class='curline'><a href='../S/740.html#L240'>unit</a>              240 src/game_board.cpp 		for (const unit&amp; u : units_)</span>
<span class='curline'><a href='../S/740.html#L353'>unit</a>              353 src/game_board.cpp 		for(const unit &amp; i : units_) {</span>
<span class='curline'><a href='../S/740.html#L371'>unit</a>              371 src/game_board.cpp temporary_unit_placer::temporary_unit_placer(unit_map&amp; m, const map_location&amp; loc, unit&amp; u)</span>
<span class='curline'><a href='../S/740.html#L378'>unit</a>              378 src/game_board.cpp temporary_unit_placer::temporary_unit_placer(game_board&amp; b, const map_location&amp; loc, unit&amp; u)</span>
<span class='curline'><a href='../S/139.html#L143'>unit</a>              143 src/game_board.hpp 	unit* get_visible_unit(const map_location &amp;loc, const team &amp;current_team, bool see_all = false); //TODO: can this not return a pointer?</span>
<span class='curline'><a href='../S/139.html#L162'>unit</a>              162 src/game_board.hpp 	temporary_unit_placer(unit_map&amp; m, const map_location&amp; loc, unit&amp; u);</span>
<span class='curline'><a href='../S/139.html#L163'>unit</a>              163 src/game_board.hpp 	temporary_unit_placer(game_board&amp; m, const map_location&amp; loc, unit&amp; u);</span>
<span class='curline'><a href='../S/828.html#L173'>unit</a>              173 src/game_display.cpp 	const unit *u = resources::gameboard-&gt;get_visible_unit(hex, dc_-&gt;teams()[viewing_team()], !dont_show_all_);</span>
<span class='curline'><a href='../S/828.html#L200'>unit</a>              200 src/game_display.cpp 	const unit *u = resources::gameboard-&gt;get_visible_unit(hex, dc_-&gt;teams()[viewing_team()], !dont_show_all_);</span>
<span class='curline'><a href='../S/828.html#L257'>unit</a>              257 src/game_display.cpp 	for (const unit* temp_unit : *fake_unit_man_) {</span>
<span class='curline'><a href='../S/828.html#L290'>unit</a>              290 src/game_display.cpp 		const unit *u = resources::gameboard-&gt;get_visible_unit(loc, dc_-&gt;teams()[viewing_team()] );</span>
<span class='curline'><a href='../S/1058.html#L122'>unit</a>              122 src/game_events/action_wml.cpp 		fake_unit_ptr fake = fake_unit_ptr(unit_ptr(new unit(*ut, side_num, false, gender)));</span>
<span class='curline'><a href='../S/1058.html#L143'>unit</a>              143 src/game_events/action_wml.cpp 	std::vector&lt;map_location&gt; fake_unit_path(const unit&amp; fake_unit, const std::vector&lt;std::string&gt;&amp; xvals, const std::vector&lt;std::string&gt;&amp; yvals)</span>
<span class='curline'><a href='../S/1058.html#L470'>unit</a>              470 src/game_events/action_wml.cpp 				const unit* pass_check = to_recruit.get();</span>
<span class='curline'><a href='../S/1058.html#L884'>unit</a>              884 src/game_events/action_wml.cpp WML_HANDLER_FUNCTION(unit,, cfg)</span>
<span class='curline'><a href='../S/1058.html#L892'>unit</a>              892 src/game_events/action_wml.cpp 		unit new_unit(parsed_cfg, true, &amp;cfg);</span>
<span class='curline'><a href='../S/1072.html#L56'>unit</a>               56 src/game_events/conditional_wml.cpp 		for(const unit &amp;i : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/1055.html#L56'>unit</a>               56 src/game_events/entity_location.cpp entity_location::entity_location(const unit &amp;u)</span>
<span class='curline'><a href='../S/1055.html#L67'>unit</a>               67 src/game_events/entity_location.cpp entity_location::entity_location(const unit &amp;u, const map_location &amp; filter_loc)</span>
<span class='curline'><a href='../S/1064.html#L25'>unit</a>               25 src/game_events/entity_location.hpp class unit;</span>
<span class='curline'><a href='../S/1064.html#L35'>unit</a>               35 src/game_events/entity_location.hpp 		explicit entity_location(const unit &amp;);</span>
<span class='curline'><a href='../S/1064.html#L36'>unit</a>               36 src/game_events/entity_location.hpp 		entity_location(const unit &amp;u, const map_location &amp;filter_loc);</span>
<span class='curline'><a href='../S/1062.html#L537'>unit</a>              537 src/game_events/pump.cpp 		unit::clear_status_caches();</span>
<span class='curline'><a href='../S/1108.html#L338'>unit</a>              338 src/game_initialization/flg_manager.cpp 		if(const unit_type* unit = unit_types.find(current_leader_)) {</span>
<span class='curline'><a href='../S/1108.html#L339'>unit</a>              339 src/game_initialization/flg_manager.cpp 			if(unit-&gt;genders().size() &gt; 1 &amp;&amp; !leader_lock_) {</span>
<span class='curline'><a href='../S/1108.html#L343'>unit</a>              343 src/game_initialization/flg_manager.cpp 			for(unit_race::GENDER gender : unit-&gt;genders()) {</span>
<span class='curline'><a href='../S/86.html#L316'>unit</a>              316 src/game_state.cpp bool game_state::can_recruit_from(const unit&amp; leader) const</span>
<span class='curline'><a href='../S/86.html#L363'>unit</a>              363 src/game_state.cpp bool game_state::can_recruit_on(const unit&amp; leader, const map_location&amp; recruit_loc) const</span>
<span class='curline'><a href='../S/1161.html#L93'>unit</a>               93 src/game_state.hpp 	bool can_recruit_from(const unit&amp; leader) const;</span>
<span class='curline'><a href='../S/1161.html#L100'>unit</a>              100 src/game_state.hpp 	bool can_recruit_on(const unit&amp; leader, const map_location&amp; recruit_loc) const;</span>
<span class='curline'><a href='../S/428.html#L51'>unit</a>               51 src/gui/dialogs/attack_predictions.cpp attack_predictions::attack_predictions(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender)</span>
<span class='curline'><a href='../S/428.html#L208'>unit</a>              208 src/gui/dialogs/attack_predictions.cpp 	const unit&amp; u = attacker.unit_;</span>
<span class='curline'><a href='../S/429.html#L41'>unit</a>               41 src/gui/dialogs/attack_predictions.hpp 	attack_predictions(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender);</span>
<span class='curline'><a href='../S/429.html#L43'>unit</a>               43 src/gui/dialogs/attack_predictions.hpp 	static void display(battle_context&amp; bc, const unit&amp; attacker, const unit&amp; defender, CVideo&amp; video)</span>
<span class='curline'><a href='../S/429.html#L57'>unit</a>               57 src/gui/dialogs/attack_predictions.hpp 		combatant_data(const unit&amp; unit, const combatant&amp; combatant, const battle_context_unit_stats&amp; stats)</span>
<span class='curline'><a href='../S/429.html#L60'>unit</a>               60 src/gui/dialogs/attack_predictions.hpp 			, unit_(unit)</span>
<span class='curline'><a href='../S/429.html#L65'>unit</a>               65 src/gui/dialogs/attack_predictions.hpp 		const unit&amp; unit_;</span>
<span class='curline'><a href='../S/448.html#L604'>unit</a>              604 src/gui/dialogs/gamestate_inspector.cpp static stuff_list_adder add_unit_entry(stuff_list_adder&amp; progress, const unit&amp; u, const display_context&amp; dc)</span>
<span class='curline'><a href='../S/363.html#L137'>unit</a>              137 src/gui/dialogs/multiplayer/faction_select.cpp 		const unit_type* unit = unit_types.find(leader);</span>
<span class='curline'><a href='../S/363.html#L139'>unit</a>              139 src/gui/dialogs/multiplayer/faction_select.cpp 		if(unit) {</span>
<span class='curline'><a href='../S/363.html#L140'>unit</a>              140 src/gui/dialogs/multiplayer/faction_select.cpp 			const std::string icon = formatter() &lt;&lt; unit-&gt;image() &lt;&lt; "~RC(" &lt;&lt; unit-&gt;flag_rgb() &lt;&lt; "&gt;" &lt;&lt; tc_color_ &lt;&lt; ")";</span>
<span class='curline'><a href='../S/363.html#L141'>unit</a>              141 src/gui/dialogs/multiplayer/faction_select.cpp 			leaders.emplace_back(config_of("label", unit-&gt;type_name())("icon", icon));</span>
<span class='curline'><a href='../S/419.html#L71'>unit</a>               71 src/gui/dialogs/unit_advance.cpp 		const unit&amp; sample = *previews_[i];</span>
<span class='curline'><a href='../S/426.html#L116'>unit</a>              116 src/gui/dialogs/unit_list.cpp 	for(const unit_const_ptr&amp; unit : unit_list_) {</span>
<span class='curline'><a href='../S/426.html#L122'>unit</a>              122 src/gui/dialogs/unit_list.cpp 		column["label"] = format_if_leader(unit, unit-&gt;type_name());</span>
<span class='curline'><a href='../S/426.html#L125'>unit</a>              125 src/gui/dialogs/unit_list.cpp 		const std::string&amp; name = !unit-&gt;name().empty() ? format_if_leader(unit, unit-&gt;name().str()) : font::unicode_en_dash;</span>
<span class='curline'><a href='../S/426.html#L129'>unit</a>              129 src/gui/dialogs/unit_list.cpp 		column["label"] = format_movement_string(unit);</span>
<span class='curline'><a href='../S/426.html#L133'>unit</a>              133 src/gui/dialogs/unit_list.cpp 		hp_str &lt;&lt; font::span_color(unit-&gt;hp_color()) &lt;&lt; unit-&gt;hitpoints() &lt;&lt; "/" &lt;&lt; unit-&gt;max_hitpoints() &lt;&lt; "&lt;/span&gt;";</span>
<span class='curline'><a href='../S/426.html#L138'>unit</a>              138 src/gui/dialogs/unit_list.cpp 		column["label"] = format_level_string(unit-&gt;level());</span>
<span class='curline'><a href='../S/426.html#L142'>unit</a>              142 src/gui/dialogs/unit_list.cpp 		exp_str &lt;&lt; font::span_color(unit-&gt;xp_color()) &lt;&lt; unit-&gt;experience() &lt;&lt; "/"</span>
<span class='curline'><a href='../S/426.html#L143'>unit</a>              143 src/gui/dialogs/unit_list.cpp 		        &lt;&lt; (unit-&gt;can_advance() ? std::to_string(unit-&gt;max_experience()) : font::unicode_en_dash) &lt;&lt; "&lt;/span&gt;";</span>
<span class='curline'><a href='../S/426.html#L148'>unit</a>              148 src/gui/dialogs/unit_list.cpp 		column["label"] = utils::join(unit-&gt;trait_names(), ", ");</span>
<span class='curline'><a href='../S/426.html#L155'>unit</a>              155 src/gui/dialogs/unit_list.cpp 		if(!unit-&gt;get_state(unit::STATE_PETRIFIED)) {</span>
<span class='curline'><a href='../S/426.html#L159'>unit</a>              159 src/gui/dialogs/unit_list.cpp 		if(!unit-&gt;get_state(unit::STATE_POISONED)) {</span>
<span class='curline'><a href='../S/426.html#L163'>unit</a>              163 src/gui/dialogs/unit_list.cpp 		if(!unit-&gt;get_state(unit::STATE_SLOWED)) {</span>
<span class='curline'><a href='../S/426.html#L167'>unit</a>              167 src/gui/dialogs/unit_list.cpp 		if(!unit-&gt;invisible(unit-&gt;get_location(), *resources::gameboard, false)) {</span>
<span class='curline'><a href='../S/422.html#L184'>unit</a>              184 src/gui/dialogs/unit_recall.cpp 	for(const unit_const_ptr&amp; unit : recall_list_) {</span>
<span class='curline'><a href='../S/422.html#L188'>unit</a>              188 src/gui/dialogs/unit_recall.cpp 		std::string mods = unit-&gt;image_mods();</span>
<span class='curline'><a href='../S/422.html#L190'>unit</a>              190 src/gui/dialogs/unit_recall.cpp 		if(unit-&gt;can_recruit()) {</span>
<span class='curline'><a href='../S/422.html#L191'>unit</a>              191 src/gui/dialogs/unit_recall.cpp 			mods += "~BLIT(" + unit::leader_crown() + ")";</span>
<span class='curline'><a href='../S/422.html#L194'>unit</a>              194 src/gui/dialogs/unit_recall.cpp 		for(const std::string&amp; overlay : unit-&gt;overlays()) {</span>
<span class='curline'><a href='../S/422.html#L200'>unit</a>              200 src/gui/dialogs/unit_recall.cpp 		column["label"] = unit-&gt;absolute_image() + mods;</span>
<span class='curline'><a href='../S/422.html#L203'>unit</a>              203 src/gui/dialogs/unit_recall.cpp 		column["label"] = unit-&gt;type_name();</span>
<span class='curline'><a href='../S/422.html#L206'>unit</a>              206 src/gui/dialogs/unit_recall.cpp 		column["label"] = format_cost_string(unit-&gt;recall_cost(), team_.recall_cost());</span>
<span class='curline'><a href='../S/422.html#L209'>unit</a>              209 src/gui/dialogs/unit_recall.cpp 		const std::string&amp; name = !unit-&gt;name().empty() ? unit-&gt;name().str() : font::unicode_en_dash;</span>
<span class='curline'><a href='../S/422.html#L213'>unit</a>              213 src/gui/dialogs/unit_recall.cpp 		column["label"] = format_level_string(unit-&gt;level());</span>
<span class='curline'><a href='../S/422.html#L217'>unit</a>              217 src/gui/dialogs/unit_recall.cpp 		exp_str &lt;&lt; font::span_color(unit-&gt;xp_color()) &lt;&lt; unit-&gt;experience() &lt;&lt; "/"</span>
<span class='curline'><a href='../S/422.html#L218'>unit</a>              218 src/gui/dialogs/unit_recall.cpp 		        &lt;&lt; (unit-&gt;can_advance() ? std::to_string(unit-&gt;max_experience()) : font::unicode_en_dash) &lt;&lt; "&lt;/span&gt;";</span>
<span class='curline'><a href='../S/422.html#L225'>unit</a>              225 src/gui/dialogs/unit_recall.cpp 		std::string filter_text = unit-&gt;type_name() + " " + name + " " + std::to_string(unit-&gt;level());</span>
<span class='curline'><a href='../S/422.html#L228'>unit</a>              228 src/gui/dialogs/unit_recall.cpp 		for(const std::string&amp; trait : unit-&gt;trait_names()) {</span>
<span class='curline'><a href='../S/422.html#L260'>unit</a>              260 src/gui/dialogs/unit_recall.cpp 	const unit&amp; u = *recall_list_[index].get();</span>
<span class='curline'><a href='../S/558.html#L375'>unit</a>              375 src/gui/widgets/unit_preview_pane.cpp void unit_preview_pane::set_displayed_unit(const unit&amp; u)</span>
<span class='curline'><a href='../S/558.html#L384'>unit</a>              384 src/gui/widgets/unit_preview_pane.cpp 			mods += "~BLIT(" + unit::leader_crown() + ")";</span>
<span class='curline'><a href='../S/548.html#L20'>unit</a>               20 src/gui/widgets/unit_preview_pane.hpp class unit;</span>
<span class='curline'><a href='../S/548.html#L64'>unit</a>               64 src/gui/widgets/unit_preview_pane.hpp 	void set_displayed_unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/808.html#L58'>unit</a>               58 src/help/help.cpp void show_unit_description(CVideo&amp; video, const unit &amp;u)</span>
<span class='curline'><a href='../S/808.html#L147'>unit</a>              147 src/help/help.cpp void show_variation_help(CVideo&amp; video, const std::string&amp; unit, const std::string &amp;variation, bool hidden, int xloc, int yloc)</span>
<span class='curline'><a href='../S/808.html#L149'>unit</a>              149 src/help/help.cpp 	show_help(video, default_toplevel, hidden_symbol(hidden) + variation_prefix + unit + "_" + variation, xloc, yloc);</span>
<span class='curline'><a href='../S/802.html#L20'>unit</a>               20 src/help/help.hpp class unit;</span>
<span class='curline'><a href='../S/802.html#L57'>unit</a>               57 src/help/help.hpp void show_unit_description(CVideo&amp; video, const unit &amp;u);</span>
<span class='curline'><a href='../S/101.html#L176'>unit</a>              176 src/hotkey/hotkey_handler_sp.cpp 	unit* curr_unit;</span>
<span class='curline'><a href='../S/917.html#L366'>unit</a>              366 src/menu_events.cpp 	for(const unit_const_ptr&amp; unit : recall_list_team) {</span>
<span class='curline'><a href='../S/917.html#L367'>unit</a>              367 src/menu_events.cpp 		DBG_WB &lt;&lt; unit-&gt;name() &lt;&lt; " [" &lt;&lt; unit-&gt;id() &lt;&lt; "]\n";</span>
<span class='curline'><a href='../S/917.html#L484'>unit</a>              484 src/menu_events.cpp 	for(auto&amp; unit : units) {</span>
<span class='curline'><a href='../S/917.html#L485'>unit</a>              485 src/menu_events.cpp 		if(unit.side() == side_num) {</span>
<span class='curline'><a href='../S/917.html#L496'>unit</a>              496 src/menu_events.cpp 	for(auto&amp; unit : units) {</span>
<span class='curline'><a href='../S/917.html#L497'>unit</a>              497 src/menu_events.cpp 		if(unit.side() == side_num) {</span>
<span class='curline'><a href='../S/917.html#L500'>unit</a>              500 src/menu_events.cpp 			if(board.unit_can_move(unit) &amp;&amp; !unit.user_end_turn() &amp;&amp; (!whiteb || !whiteb-&gt;unit_has_actions(&amp;unit)))</span>
<span class='curline'><a href='../S/917.html#L513'>unit</a>              513 src/menu_events.cpp 	for(auto&amp; unit : units) {</span>
<span class='curline'><a href='../S/917.html#L514'>unit</a>              514 src/menu_events.cpp 		if(unit.side() == side_num) {</span>
<span class='curline'><a href='../S/917.html#L515'>unit</a>              515 src/menu_events.cpp 			if(board.unit_can_move(unit) &amp;&amp; !unit.has_moved() &amp;&amp; !unit.user_end_turn()</span>
<span class='curline'><a href='../S/917.html#L516'>unit</a>              516 src/menu_events.cpp 					&amp;&amp; (!whiteb || !whiteb-&gt;unit_has_actions(&amp;unit))) {</span>
<span class='curline'><a href='../S/917.html#L855'>unit</a>              855 src/menu_events.cpp 		for(auto&amp; unit : units()) {</span>
<span class='curline'><a href='../S/917.html#L856'>unit</a>              856 src/menu_events.cpp 			if(unit.side() != side || unit.movement_left() == 0) {</span>
<span class='curline'><a href='../S/917.html#L860'>unit</a>              860 src/menu_events.cpp 			const map_location&amp; current_loc = unit.get_location();</span>
<span class='curline'><a href='../S/917.html#L861'>unit</a>              861 src/menu_events.cpp 			const map_location&amp; goto_loc = unit.get_goto();</span>
<span class='curline'><a href='../S/917.html#L864'>unit</a>              864 src/menu_events.cpp 				unit.set_goto(map_location());</span>
<span class='curline'><a href='../S/917.html#L877'>unit</a>              877 src/menu_events.cpp 			pathfind::marked_route route = mousehandler.get_route(&amp;unit, goto_loc, board().get_team(side));</span>
<span class='curline'><a href='../S/953.html#L444'>unit</a>              444 src/mouse_events.cpp pathfind::marked_route mouse_handler::get_route(const unit* un, map_location go_to, team &amp;team) const</span>
<span class='curline'><a href='../S/953.html#L693'>unit</a>              693 src/mouse_events.cpp 	unit_map::iterator unit = find_unit(selected_hex_);</span>
<span class='curline'><a href='../S/953.html#L695'>unit</a>              695 src/mouse_events.cpp 	if (selected_hex_.valid() &amp;&amp; unit.valid() &amp;&amp; !unit-&gt;get_hidden()) {</span>
<span class='curline'><a href='../S/953.html#L697'>unit</a>              697 src/mouse_events.cpp 		next_unit_ = unit-&gt;get_location();</span>
<span class='curline'><a href='../S/953.html#L700'>unit</a>              700 src/mouse_events.cpp 			current_paths_ = pathfind::paths(*unit, false, true, viewing_team(), path_turns_);</span>
<span class='curline'><a href='../S/953.html#L703'>unit</a>              703 src/mouse_events.cpp 			show_attack_options(unit);</span>
<span class='curline'><a href='../S/953.html#L712'>unit</a>              712 src/mouse_events.cpp 		if ((!commands_disabled || pc_.get_whiteboard()-&gt;is_active()) &amp;&amp; unit-&gt;side() == gui().viewing_side()) {</span>
<span class='curline'><a href='../S/953.html#L713'>unit</a>              713 src/mouse_events.cpp 			if (!(browse || pc_.get_whiteboard()-&gt;unit_has_actions(&amp;*unit)))</span>
<span class='curline'><a href='../S/953.html#L716'>unit</a>              716 src/mouse_events.cpp 				unit-&gt;anim_comp().set_selecting();</span>
<span class='curline'><a href='../S/953.html#L728'>unit</a>              728 src/mouse_events.cpp 	if (selected_hex_.valid() &amp;&amp; !unit) {</span>
<span class='curline'><a href='../S/953.html#L1063'>unit</a>             1063 src/mouse_events.cpp 		const unit &amp;target = *i;</span>
<span class='curline'><a href='../S/17.html#L32'>unit</a>               32 src/mouse_events.hpp class unit;</span>
<span class='curline'><a href='../S/17.html#L66'>unit</a>               66 src/mouse_events.hpp 	pathfind::marked_route get_route(const unit* un, map_location go_to, team &amp;team) const;</span>
<span class='curline'><a href='../S/845.html#L55'>unit</a>               55 src/pathfind/pathfind.cpp                               const unit* pass_check, const team* shroud_check, const game_board* board)</span>
<span class='curline'><a href='../S/845.html#L119'>unit</a>              119 src/pathfind/pathfind.cpp map_location find_vacant_castle(const unit &amp; leader)</span>
<span class='curline'><a href='../S/845.html#L144'>unit</a>              144 src/pathfind/pathfind.cpp 		const unit *u = resources::gameboard-&gt;get_visible_unit(locs[i], viewing_team, see_all);</span>
<span class='curline'><a href='../S/845.html#L271'>unit</a>              271 src/pathfind/pathfind.cpp 		const unit * teleporter, const team * current_team,</span>
<span class='curline'><a href='../S/845.html#L272'>unit</a>              272 src/pathfind/pathfind.cpp 		const unit * skirmisher, const team * viewing_team,</span>
<span class='curline'><a href='../S/845.html#L394'>unit</a>              394 src/pathfind/pathfind.cpp 				const unit *v = resources::gameboard-&gt;get_visible_unit(next_hex, *viewing_team, see_all);</span>
<span class='curline'><a href='../S/845.html#L518'>unit</a>              518 src/pathfind/pathfind.cpp paths::paths(const unit&amp; u, bool force_ignore_zoc,</span>
<span class='curline'><a href='../S/845.html#L529'>unit</a>              529 src/pathfind/pathfind.cpp 	            u.get_state(unit::STATE_SLOWED), u.movement_left(),</span>
<span class='curline'><a href='../S/845.html#L555'>unit</a>              555 src/pathfind/pathfind.cpp vision_path::vision_path(const unit&amp; viewer, map_location const &amp;loc,</span>
<span class='curline'><a href='../S/845.html#L565'>unit</a>              565 src/pathfind/pathfind.cpp 	            viewer.get_state(unit::STATE_SLOWED), sight_range, sight_range,</span>
<span class='curline'><a href='../S/845.html#L608'>unit</a>              608 src/pathfind/pathfind.cpp jamming_path::jamming_path(const unit&amp; jammer, map_location const &amp;loc)</span>
<span class='curline'><a href='../S/845.html#L616'>unit</a>              616 src/pathfind/pathfind.cpp 	            jammer.get_state(unit::STATE_SLOWED), jamming_range, jamming_range,</span>
<span class='curline'><a href='../S/845.html#L634'>unit</a>              634 src/pathfind/pathfind.cpp 	unit const&amp; u = *it;</span>
<span class='curline'><a href='../S/845.html#L687'>unit</a>              687 src/pathfind/pathfind.cpp shortest_path_calculator::shortest_path_calculator(unit const &amp;u, team const &amp;t,</span>
<span class='curline'><a href='../S/845.html#L717'>unit</a>              717 src/pathfind/pathfind.cpp 		const unit *other_unit =</span>
<span class='curline'><a href='../S/845.html#L811'>unit</a>              811 src/pathfind/pathfind.cpp emergency_path_calculator::emergency_path_calculator(const unit&amp; u, const gamemap&amp; map)</span>
<span class='curline'><a href='../S/845.html#L822'>unit</a>              822 src/pathfind/pathfind.cpp dummy_path_calculator::dummy_path_calculator(const unit&amp;, const gamemap&amp;)</span>
<span class='curline'><a href='../S/845.html#L843'>unit</a>              843 src/pathfind/pathfind.cpp full_cost_map::full_cost_map(const unit&amp; u, bool force_ignore_zoc,</span>
<span class='curline'><a href='../S/845.html#L872'>unit</a>              872 src/pathfind/pathfind.cpp void full_cost_map::add_unit(const unit&amp; u, bool use_max_moves)</span>
<span class='curline'><a href='../S/845.html#L883'>unit</a>              883 src/pathfind/pathfind.cpp 		            u.get_state(unit::STATE_SLOWED),</span>
<span class='curline'><a href='../S/845.html#L905'>unit</a>              905 src/pathfind/pathfind.cpp 	unit u(*ut, side, false);</span>
<span class='curline'><a href='../S/846.html#L24'>unit</a>               24 src/pathfind/pathfind.hpp class unit;</span>
<span class='curline'><a href='../S/846.html#L44'>unit</a>               44 src/pathfind/pathfind.hpp                               const unit* pass_check=nullptr,</span>
<span class='curline'><a href='../S/846.html#L49'>unit</a>               49 src/pathfind/pathfind.hpp map_location find_vacant_castle(const unit &amp; leader);</span>
<span class='curline'><a href='../S/846.html#L78'>unit</a>               78 src/pathfind/pathfind.hpp 	paths(const unit&amp; u,</span>
<span class='curline'><a href='../S/846.html#L108'>unit</a>              108 src/pathfind/pathfind.hpp 	vision_path(const unit&amp; viewer, map_location const &amp;loc,</span>
<span class='curline'><a href='../S/846.html#L125'>unit</a>              125 src/pathfind/pathfind.hpp 	jamming_path(const unit&amp; jammer, map_location const &amp;loc);</span>
<span class='curline'><a href='../S/846.html#L205'>unit</a>              205 src/pathfind/pathfind.hpp 	shortest_path_calculator(const unit&amp; u, const team&amp; t,</span>
<span class='curline'><a href='../S/846.html#L212'>unit</a>              212 src/pathfind/pathfind.hpp 	unit const &amp;unit_;</span>
<span class='curline'><a href='../S/846.html#L242'>unit</a>              242 src/pathfind/pathfind.hpp 	emergency_path_calculator(const unit&amp; u, const gamemap&amp; map);</span>
<span class='curline'><a href='../S/846.html#L246'>unit</a>              246 src/pathfind/pathfind.hpp 	unit const &amp;unit_;</span>
<span class='curline'><a href='../S/846.html#L256'>unit</a>              256 src/pathfind/pathfind.hpp 	dummy_path_calculator(const unit&amp; u, const gamemap&amp; map);</span>
<span class='curline'><a href='../S/846.html#L269'>unit</a>              269 src/pathfind/pathfind.hpp 	full_cost_map(const unit&amp; u, bool force_ignore_zoc,</span>
<span class='curline'><a href='../S/846.html#L279'>unit</a>              279 src/pathfind/pathfind.hpp 	void add_unit(const unit&amp; u, bool use_max_moves=true);</span>
<span class='curline'><a href='../S/847.html#L109'>unit</a>              109 src/pathfind/teleport.cpp 		, const unit&amp; u</span>
<span class='curline'><a href='../S/847.html#L167'>unit</a>              167 src/pathfind/teleport.cpp 		, const unit&amp; unit</span>
<span class='curline'><a href='../S/847.html#L185'>unit</a>              185 src/pathfind/teleport.cpp 		group.get_teleport_pair(locations, unit, ignore_units);</span>
<span class='curline'><a href='../S/847.html#L186'>unit</a>              186 src/pathfind/teleport.cpp 		if (!see_all &amp;&amp; !group.always_visible() &amp;&amp; viewing_team.is_enemy(unit.side())) {</span>
<span class='curline'><a href='../S/847.html#L264'>unit</a>              264 src/pathfind/teleport.cpp const teleport_map get_teleport_locations(const unit &amp;u,</span>
<span class='curline'><a href='../S/848.html#L20'>unit</a>               20 src/pathfind/teleport.hpp class unit;</span>
<span class='curline'><a href='../S/848.html#L56'>unit</a>               56 src/pathfind/teleport.hpp 			, const unit&amp; u</span>
<span class='curline'><a href='../S/848.html#L105'>unit</a>              105 src/pathfind/teleport.hpp 			, const unit&amp; u</span>
<span class='curline'><a href='../S/848.html#L152'>unit</a>              152 src/pathfind/teleport.hpp const teleport_map get_teleport_locations(const unit &amp;u, const team &amp;viewing_team,</span>
<span class='curline'><a href='../S/815.html#L357'>unit</a>              357 src/play_controller.cpp 	for (const unit&amp; u : gamestate().board_.units()) {</span>
<span class='curline'><a href='../S/815.html#L563'>unit</a>              563 src/play_controller.cpp 	for (const unit&amp; u : gamestate().board_.units()) {</span>
<span class='curline'><a href='../S/815.html#L613'>unit</a>              613 src/play_controller.cpp 		for (const unit&amp; u : gamestate().board_.units()){</span>
<span class='curline'><a href='../S/1024.html#L35'>unit</a>               35 src/play_controller.hpp class unit;</span>
<span class='curline'><a href='../S/760.html#L110'>unit</a>              110 src/reports.cpp static const unit *get_visible_unit(reports::context &amp; rc)</span>
<span class='curline'><a href='../S/760.html#L117'>unit</a>              117 src/reports.cpp static const unit *get_selected_unit(reports::context &amp; rc)</span>
<span class='curline'><a href='../S/760.html#L132'>unit</a>              132 src/reports.cpp static config unit_name(const unit *u)</span>
<span class='curline'><a href='../S/760.html#L151'>unit</a>              151 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L156'>unit</a>              156 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L160'>unit</a>              160 src/reports.cpp static config unit_type(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L172'>unit</a>              172 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L177'>unit</a>              177 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L181'>unit</a>              181 src/reports.cpp static config unit_race(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L191'>unit</a>              191 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L196'>unit</a>              196 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L200'>unit</a>              200 src/reports.cpp static config unit_side(reports::context &amp; rc, const unit* u)</span>
<span class='curline'><a href='../S/760.html#L222'>unit</a>              222 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L227'>unit</a>              227 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L231'>unit</a>              231 src/reports.cpp static config unit_level(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L247'>unit</a>              247 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L252'>unit</a>              252 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L258'>unit</a>              258 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L268'>unit</a>              268 src/reports.cpp static config unit_traits(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L289'>unit</a>              289 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L294'>unit</a>              294 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L298'>unit</a>              298 src/reports.cpp static config unit_status(reports::context &amp; rc, const unit* u)</span>
<span class='curline'><a href='../S/760.html#L307'>unit</a>              307 src/reports.cpp 	if (u-&gt;get_state(unit::STATE_SLOWED)) {</span>
<span class='curline'><a href='../S/760.html#L311'>unit</a>              311 src/reports.cpp 	if (u-&gt;get_state(unit::STATE_POISONED)) {</span>
<span class='curline'><a href='../S/760.html#L315'>unit</a>              315 src/reports.cpp 	if (u-&gt;get_state(unit::STATE_PETRIFIED)) {</span>
<span class='curline'><a href='../S/760.html#L323'>unit</a>              323 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L328'>unit</a>              328 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L332'>unit</a>              332 src/reports.cpp static config unit_alignment(reports::context &amp; rc, const unit* u)</span>
<span class='curline'><a href='../S/760.html#L355'>unit</a>              355 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L360'>unit</a>              360 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L365'>unit</a>              365 src/reports.cpp static config unit_abilities(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L400'>unit</a>              400 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L405'>unit</a>              405 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L410'>unit</a>              410 src/reports.cpp static config unit_hp(reports::context&amp; rc, const unit* u)</span>
<span class='curline'><a href='../S/760.html#L454'>unit</a>              454 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L459'>unit</a>              459 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L463'>unit</a>              463 src/reports.cpp static config unit_xp(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L476'>unit</a>              476 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L481'>unit</a>              481 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L485'>unit</a>              485 src/reports.cpp static config unit_advancement_options(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L497'>unit</a>              497 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L502'>unit</a>              502 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L506'>unit</a>              506 src/reports.cpp static config unit_defense(reports::context &amp; rc, const unit* u, const map_location&amp; displayed_unit_hex)</span>
<span class='curline'><a href='../S/760.html#L549'>unit</a>              549 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L555'>unit</a>              555 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L560'>unit</a>              560 src/reports.cpp static config unit_vision(const unit* u)</span>
<span class='curline'><a href='../S/760.html#L572'>unit</a>              572 src/reports.cpp 	const unit* u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L577'>unit</a>              577 src/reports.cpp 	const unit* u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L581'>unit</a>              581 src/reports.cpp static config unit_moves(reports::context &amp; rc, const unit* u)</span>
<span class='curline'><a href='../S/760.html#L639'>unit</a>              639 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L644'>unit</a>              644 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L648'>unit</a>              648 src/reports.cpp static int attack_info(reports::context &amp; rc, const attack_type &amp;at, config &amp;res, const unit &amp;u, const map_location &amp;displayed_unit_hex)</span>
<span class='curline'><a href='../S/760.html#L662'>unit</a>              662 src/reports.cpp 	bool slowed = u.get_state(unit::STATE_SLOWED);</span>
<span class='curline'><a href='../S/760.html#L758'>unit</a>              758 src/reports.cpp 	for (const unit &amp;enemy : rc.units())</span>
<span class='curline'><a href='../S/760.html#L844'>unit</a>              844 src/reports.cpp static config unit_weapons(reports::context &amp; rc, const unit *attacker, const map_location &amp;attacker_pos, const unit *defender, bool show_attacker)</span>
<span class='curline'><a href='../S/760.html#L848'>unit</a>              848 src/reports.cpp 	const unit* u = show_attacker ? attacker : defender;</span>
<span class='curline'><a href='../S/760.html#L962'>unit</a>              962 src/reports.cpp static config unit_weapons(reports::context &amp; rc, const unit *u)</span>
<span class='curline'><a href='../S/760.html#L983'>unit</a>              983 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L990'>unit</a>              990 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L991'>unit</a>              991 src/reports.cpp 	const unit *sec_u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1008'>unit</a>             1008 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1009'>unit</a>             1009 src/reports.cpp 	const unit *sec_u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1027'>unit</a>             1027 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1033'>unit</a>             1033 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1040'>unit</a>             1040 src/reports.cpp 	const unit *u = get_selected_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1046'>unit</a>             1046 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1194'>unit</a>             1194 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/760.html#L1440'>unit</a>             1440 src/reports.cpp 	const unit *u = get_visible_unit(rc);</span>
<span class='curline'><a href='../S/1085.html#L564'>unit</a>              564 src/saved_game.cpp 		for(config &amp;unit : side.child_range("unit"))</span>
<span class='curline'><a href='../S/1085.html#L566'>unit</a>              566 src/saved_game.cpp 			unit["goto_x"] = -999;</span>
<span class='curline'><a href='../S/1085.html#L567'>unit</a>              567 src/saved_game.cpp 			unit["goto_y"] = -999;</span>
<span class='curline'><a href='../S/925.html#L799'>unit</a>              799 src/savegame.cpp 			for(config&amp; unit : side.child_range("unit"))</span>
<span class='curline'><a href='../S/925.html#L801'>unit</a>              801 src/savegame.cpp 				if(config&amp; modifications = unit.child("modifications"))</span>
<span class='curline'><a href='../S/185.html#L348'>unit</a>              348 src/scripting/game_lua_kernel.cpp 	unit&amp; u = luaW_checkunit(L, 2);</span>
<span class='curline'><a href='../S/185.html#L507'>unit</a>              507 src/scripting/game_lua_kernel.cpp 		for(const unit&amp; u : units()) {</span>
<span class='curline'><a href='../S/185.html#L565'>unit</a>              565 src/scripting/game_lua_kernel.cpp 	for (const unit * ui : unit_filter(filter, &amp;fc).all_matches_on_map()) {</span>
<span class='curline'><a href='../S/185.html#L593'>unit</a>              593 src/scripting/game_lua_kernel.cpp 	if(unit* u_adj = luaW_tounit(L, 3)) {</span>
<span class='curline'><a href='../S/185.html#L1571'>unit</a>             1571 src/scripting/game_lua_kernel.cpp 	const unit* u = nullptr;</span>
<span class='curline'><a href='../S/185.html#L1680'>unit</a>             1680 src/scripting/game_lua_kernel.cpp 	const unit* u = nullptr;</span>
<span class='curline'><a href='../S/185.html#L1753'>unit</a>             1753 src/scripting/game_lua_kernel.cpp static bool intf_find_cost_map_helper(const unit * ptr) {</span>
<span class='curline'><a href='../S/185.html#L1812'>unit</a>             1812 src/scripting/game_lua_kernel.cpp 	unit* unit = luaW_tounit(L, arg, true);</span>
<span class='curline'><a href='../S/185.html#L1816'>unit</a>             1816 src/scripting/game_lua_kernel.cpp 	std::vector&lt;const ::unit*&gt; real_units;</span>
<span class='curline'><a href='../S/185.html#L1821'>unit</a>             1821 src/scripting/game_lua_kernel.cpp 	if (unit)  // 1. arg - unit</span>
<span class='curline'><a href='../S/185.html#L1823'>unit</a>             1823 src/scripting/game_lua_kernel.cpp 		real_units.push_back(unit);</span>
<span class='curline'><a href='../S/185.html#L1924'>unit</a>             1924 src/scripting/game_lua_kernel.cpp 	for (const ::unit* const u : real_units)</span>
<span class='curline'><a href='../S/185.html#L2078'>unit</a>             2078 src/scripting/game_lua_kernel.cpp 		unit_ptr u(new unit(cfg, true, vcfg));</span>
<span class='curline'><a href='../S/185.html#L2162'>unit</a>             2162 src/scripting/game_lua_kernel.cpp 		u = unit_ptr(new unit(cfg, true, vcfg));</span>
<span class='curline'><a href='../S/185.html#L2203'>unit</a>             2203 src/scripting/game_lua_kernel.cpp 		unit_ptr v = unit_ptr(new unit(*u));</span>
<span class='curline'><a href='../S/185.html#L2232'>unit</a>             2232 src/scripting/game_lua_kernel.cpp 			u.reset(new unit(cfg, false, vcfg));</span>
<span class='curline'><a href='../S/185.html#L2275'>unit</a>             2275 src/scripting/game_lua_kernel.cpp 	unit_ptr u = unit_ptr(new unit(cfg, true, vcfg));</span>
<span class='curline'><a href='../S/185.html#L2287'>unit</a>             2287 src/scripting/game_lua_kernel.cpp 	unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2288'>unit</a>             2288 src/scripting/game_lua_kernel.cpp 	luaW_pushunit(L, unit_ptr(new unit(u)));</span>
<span class='curline'><a href='../S/185.html#L2302'>unit</a>             2302 src/scripting/game_lua_kernel.cpp 	const unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2323'>unit</a>             2323 src/scripting/game_lua_kernel.cpp 	const unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2338'>unit</a>             2338 src/scripting/game_lua_kernel.cpp 	const unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2353'>unit</a>             2353 src/scripting/game_lua_kernel.cpp 	const unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2368'>unit</a>             2368 src/scripting/game_lua_kernel.cpp 	const unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2383'>unit</a>             2383 src/scripting/game_lua_kernel.cpp 	const unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2396'>unit</a>             2396 src/scripting/game_lua_kernel.cpp 	unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L2497'>unit</a>             2497 src/scripting/game_lua_kernel.cpp 	const unit&amp; att = luaW_checkunit(L, arg_num);</span>
<span class='curline'><a href='../S/185.html#L2506'>unit</a>             2506 src/scripting/game_lua_kernel.cpp 	const unit&amp; def = luaW_checkunit(L, arg_num, true);</span>
<span class='curline'><a href='../S/185.html#L3071'>unit</a>             3071 src/scripting/game_lua_kernel.cpp 	unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L3102'>unit</a>             3102 src/scripting/game_lua_kernel.cpp 	unit&amp; u = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/185.html#L3128'>unit</a>             3128 src/scripting/game_lua_kernel.cpp 	unit&amp; u = luaW_checkunit(L, 1, true);</span>
<span class='curline'><a href='../S/185.html#L3719'>unit</a>             3719 src/scripting/game_lua_kernel.cpp 	unit::clear_status_caches();</span>
<span class='curline'><a href='../S/185.html#L4197'>unit</a>             4197 src/scripting/game_lua_kernel.cpp 	for(const std::string&amp; effect : unit::builtin_effects) {</span>
<span class='curline'><a href='../S/185.html#L4531'>unit</a>             4531 src/scripting/game_lua_kernel.cpp bool game_lua_kernel::run_filter(char const *name, unit const &amp;u)</span>
<span class='curline'><a href='../S/185.html#L4567'>unit</a>             4567 src/scripting/game_lua_kernel.cpp std::string game_lua_kernel::apply_effect(const std::string&amp; name, unit&amp; u, const config&amp; cfg, bool need_apply)</span>
<span class='curline'><a href='../S/187.html#L26'>unit</a>               26 src/scripting/game_lua_kernel.hpp class unit;</span>
<span class='curline'><a href='../S/187.html#L198'>unit</a>              198 src/scripting/game_lua_kernel.hpp 	std::string apply_effect(const std::string&amp; name, unit&amp; u, const config&amp; cfg, bool need_apply);</span>
<span class='curline'><a href='../S/187.html#L208'>unit</a>              208 src/scripting/game_lua_kernel.hpp 	bool run_filter(char const *name, unit const &amp;u);</span>
<span class='curline'><a href='../S/192.html#L144'>unit</a>              144 src/scripting/lua_formula_bridge.cpp 			const unit&amp; u = u_ref-&gt;get_unit();</span>
<span class='curline'><a href='../S/192.html#L191'>unit</a>              191 src/scripting/lua_formula_bridge.cpp 			} else if(unit* u = luaW_tounit(L, i)) {</span>
<span class='curline'><a href='../S/192.html#L218'>unit</a>              218 src/scripting/lua_formula_bridge.cpp 	if(unit* u = luaW_tounit(L, 2)) {</span>
<span class='curline'><a href='../S/184.html#L555'>unit</a>              555 src/scripting/lua_gui2.cpp 		} else if(unit* u = luaW_tounit(L, 1)) {</span>
<span class='curline'><a href='../S/190.html#L44'>unit</a>               44 src/scripting/lua_unit.cpp unit* lua_unit::get()</span>
<span class='curline'><a href='../S/190.html#L137'>unit</a>              137 src/scripting/lua_unit.cpp unit* luaW_tounit(lua_State *L, int index, bool only_on_map)</span>
<span class='curline'><a href='../S/190.html#L186'>unit</a>              186 src/scripting/lua_unit.cpp unit&amp; luaW_checkunit(lua_State *L, int index, bool only_on_map)</span>
<span class='curline'><a href='../S/190.html#L207'>unit</a>              207 src/scripting/lua_unit.cpp lua_unit* luaW_pushlocalunit(lua_State *L, unit&amp; u)</span>
<span class='curline'><a href='../S/190.html#L229'>unit</a>              229 src/scripting/lua_unit.cpp 	unit&amp; left = luaW_checkunit(L, 1);</span>
<span class='curline'><a href='../S/190.html#L230'>unit</a>              230 src/scripting/lua_unit.cpp 	unit&amp; right = luaW_checkunit(L, 2);</span>
<span class='curline'><a href='../S/190.html#L246'>unit</a>              246 src/scripting/lua_unit.cpp 	const unit* pu = lu-&gt;get();</span>
<span class='curline'><a href='../S/190.html#L266'>unit</a>              266 src/scripting/lua_unit.cpp 	unit const &amp;u = *pu;</span>
<span class='curline'><a href='../S/190.html#L304'>unit</a>              304 src/scripting/lua_unit.cpp 		unit::upkeep_t upkeep = u.upkeep_raw();</span>
<span class='curline'><a href='../S/190.html#L310'>unit</a>              310 src/scripting/lua_unit.cpp 			const std::string type = boost::apply_visitor(unit::upkeep_type_visitor(), upkeep);</span>
<span class='curline'><a href='../S/190.html#L380'>unit</a>              380 src/scripting/lua_unit.cpp 	unit* pu = lu-&gt;get();</span>
<span class='curline'><a href='../S/190.html#L382'>unit</a>              382 src/scripting/lua_unit.cpp 	unit &amp;u = *pu;</span>
<span class='curline'><a href='../S/190.html#L420'>unit</a>              420 src/scripting/lua_unit.cpp 			u.set_upkeep(unit::upkeep_loyal());</span>
<span class='curline'><a href='../S/190.html#L422'>unit</a>              422 src/scripting/lua_unit.cpp 			u.set_upkeep(unit::upkeep_full());</span>
<span class='curline'><a href='../S/190.html#L453'>unit</a>              453 src/scripting/lua_unit.cpp 	const unit* u = luaW_tounit(L, -1);</span>
<span class='curline'><a href='../S/190.html#L474'>unit</a>              474 src/scripting/lua_unit.cpp 	unit* u = luaW_tounit(L, -1);</span>
<span class='curline'><a href='../S/190.html#L495'>unit</a>              495 src/scripting/lua_unit.cpp 	const unit* u = luaW_tounit(L, -1);</span>
<span class='curline'><a href='../S/190.html#L518'>unit</a>              518 src/scripting/lua_unit.cpp 	unit* u = luaW_tounit(L, -1);</span>
<span class='curline'><a href='../S/194.html#L34'>unit</a>               34 src/scripting/lua_unit.hpp unit* luaW_tounit(lua_State *L, int index, bool only_on_map = false);</span>
<span class='curline'><a href='../S/194.html#L39'>unit</a>               39 src/scripting/lua_unit.hpp unit&amp; luaW_checkunit(lua_State *L, int index, bool only_on_map = false);</span>
<span class='curline'><a href='../S/194.html#L44'>unit</a>               44 src/scripting/lua_unit.hpp lua_unit* luaW_pushlocalunit(lua_State *L, unit&amp; u);</span>
<span class='curline'><a href='../S/194.html#L84'>unit</a>               84 src/scripting/lua_unit.hpp 	unit* c_ptr;</span>
<span class='curline'><a href='../S/194.html#L90'>unit</a>               90 src/scripting/lua_unit.hpp 	friend lua_unit* luaW_pushlocalunit(lua_State *L, unit&amp; u);</span>
<span class='curline'><a href='../S/194.html#L96'>unit</a>               96 src/scripting/lua_unit.hpp 	lua_unit(unit&amp; u): uid(0), ptr(), side(0), c_ptr(&amp;u) {}</span>
<span class='curline'><a href='../S/194.html#L102'>unit</a>              102 src/scripting/lua_unit.hpp 	unit* get();</span>
<span class='curline'><a href='../S/194.html#L105'>unit</a>              105 src/scripting/lua_unit.hpp 	unit* operator-&gt;() {return get();}</span>
<span class='curline'><a href='../S/194.html#L106'>unit</a>              106 src/scripting/lua_unit.hpp 	unit&amp; operator*() {return *get();}</span>
<span class='curline'><a href='../S/210.html#L127'>unit</a>              127 src/scripting/lua_unit_attacks.cpp 		unit* u = lu-&gt;get();</span>
<span class='curline'><a href='../S/210.html#L139'>unit</a>              139 src/scripting/lua_unit_attacks.cpp static attack_itors::iterator get_attack_iter(unit&amp; u, attack_ptr atk)</span>
<span class='curline'><a href='../S/210.html#L158'>unit</a>              158 src/scripting/lua_unit_attacks.cpp 	unit&amp; u = luaW_checkunit(L, -1);</span>
<span class='curline'><a href='../S/210.html#L204'>unit</a>              204 src/scripting/lua_unit_attacks.cpp 	const unit* u = luaW_tounit(L, -1);</span>
<span class='curline'><a href='../S/116.html#L514'>unit</a>              514 src/serialization/string_utils.cpp std::string si_string(double input, bool base2, const std::string&amp; unit) {</span>
<span class='curline'><a href='../S/116.html#L571'>unit</a>              571 src/serialization/string_utils.cpp 	   &lt;&lt; unit;</span>
<span class='curline'><a href='../S/122.html#L286'>unit</a>              286 src/serialization/string_utils.hpp std::string si_string(double input, bool base2, const std::string&amp; unit);</span>
<span class='curline'><a href='../S/1044.html#L128'>unit</a>              128 src/side_filter.cpp 		for(const unit &amp;u : fc_-&gt;get_disp_context().units()) {</span>
<span class='curline'><a href='../S/1250.html#L25'>unit</a>               25 src/side_filter.hpp class unit;</span>
<span class='curline'><a href='../S/1019.html#L41'>unit</a>               41 src/statistics.cpp std::string get_team_save_id(const unit &amp; u)</span>
<span class='curline'><a href='../S/1019.html#L410'>unit</a>              410 src/statistics.cpp attack_context::attack_context(const unit&amp; a,</span>
<span class='curline'><a href='../S/1019.html#L411'>unit</a>              411 src/statistics.cpp 		const unit&amp; d, int a_cth, int d_cth) :</span>
<span class='curline'><a href='../S/1019.html#L506'>unit</a>              506 src/statistics.cpp void recruit_unit(const unit&amp; u)</span>
<span class='curline'><a href='../S/1019.html#L513'>unit</a>              513 src/statistics.cpp void recall_unit(const unit&amp; u)</span>
<span class='curline'><a href='../S/1019.html#L520'>unit</a>              520 src/statistics.cpp void un_recall_unit(const unit&amp; u)</span>
<span class='curline'><a href='../S/1019.html#L527'>unit</a>              527 src/statistics.cpp void un_recruit_unit(const unit&amp; u)</span>
<span class='curline'><a href='../S/1019.html#L534'>unit</a>              534 src/statistics.cpp int un_recall_unit_cost(const unit&amp; u)  // this really belongs elsewhere, perhaps in undo.cpp</span>
<span class='curline'><a href='../S/1019.html#L540'>unit</a>              540 src/statistics.cpp void advance_unit(const unit&amp; u)</span>
<span class='curline'><a href='../S/89.html#L21'>unit</a>               21 src/statistics.hpp class unit;</span>
<span class='curline'><a href='../S/89.html#L77'>unit</a>               77 src/statistics.hpp 		attack_context(const unit&amp; a, const unit&amp; d, int a_cth, int d_cth);</span>
<span class='curline'><a href='../S/89.html#L97'>unit</a>               97 src/statistics.hpp 	void recruit_unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/89.html#L98'>unit</a>               98 src/statistics.hpp 	void recall_unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/89.html#L99'>unit</a>               99 src/statistics.hpp 	void un_recall_unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/89.html#L100'>unit</a>              100 src/statistics.hpp 	void un_recruit_unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/89.html#L101'>unit</a>              101 src/statistics.hpp 	int un_recall_unit_cost(const unit&amp; u);</span>
<span class='curline'><a href='../S/89.html#L103'>unit</a>              103 src/statistics.hpp 	void advance_unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/851.html#L442'>unit</a>              442 src/synced_commands.cpp 			unit_ptr new_u(new unit(cfg, true));</span>
<span class='curline'><a href='../S/851.html#L480'>unit</a>              480 src/synced_commands.cpp 	unit_ptr created(new unit(*u_type, side_num, true, gender));</span>
<span class='curline'><a href='../S/1075.html#L207'>unit</a>              207 src/teambuilder.cpp 				t_-&gt;recall_list().add(unit_ptr(new unit(u_tmp,true)));</span>
<span class='curline'><a href='../S/307.html#L24'>unit</a>               24 src/terrain/filter.hpp class unit;</span>
<span class='curline'><a href='../S/732.html#L18'>unit</a>               18 src/tests/main.cpp #define BOOST_TEST_MODULE wesnoth unit tests master suite</span>
<span class='curline'><a href='../S/728.html#L219'>unit</a>              219 src/tests/test_mp_connect.cpp 	config&amp; unit = side.add_child("unit");</span>
<span class='curline'><a href='../S/728.html#L220'>unit</a>              220 src/tests/test_mp_connect.cpp 	unit["id"] = "LeaderID";</span>
<span class='curline'><a href='../S/728.html#L221'>unit</a>              221 src/tests/test_mp_connect.cpp 	unit["type"] = "Elvish Ranger";</span>
<span class='curline'><a href='../S/723.html#L38'>unit</a>               38 src/tests/test_recall_list.cpp 	unit_ptr orc1(new unit(orc_type, 1, false));</span>
<span class='curline'><a href='../S/723.html#L39'>unit</a>               39 src/tests/test_recall_list.cpp 	unit_ptr orc2(new unit(orc_type, 1, false));</span>
<span class='curline'><a href='../S/726.html#L47'>unit</a>               47 src/tests/test_unit_map.cpp 	unit orc1_side0_real(orc_type, 0, false);</span>
<span class='curline'><a href='../S/726.html#L48'>unit</a>               48 src/tests/test_unit_map.cpp 	unit orc2_side0_fake(orc_type, 0, false);</span>
<span class='curline'><a href='../S/726.html#L133'>unit</a>              133 src/tests/test_unit_map.cpp 	unit orc1_side0_real(orc_type, 0, true);</span>
<span class='curline'><a href='../S/726.html#L179'>unit</a>              179 src/tests/test_unit_map.cpp 	unit orc1_side0_fake(orc_type, 0, false);</span>
<span class='curline'><a href='../S/726.html#L225'>unit</a>              225 src/tests/test_unit_map.cpp 	unit orc1_side0_real(orc_type, 0, true);</span>
<span class='curline'><a href='../S/726.html#L262'>unit</a>              262 src/tests/test_unit_map.cpp 	unit orc1_side0_fake(orc_type, 0, false);</span>
<span class='curline'><a href='../S/994.html#L131'>unit</a>              131 src/units/abilities.cpp bool unit::get_ability_bool(const std::string&amp; tag_name, const map_location&amp; loc, const display_context&amp; dc) const</span>
<span class='curline'><a href='../S/994.html#L170'>unit</a>              170 src/units/abilities.cpp unit_ability_list unit::get_abilities(const std::string&amp; tag_name, const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/994.html#L212'>unit</a>              212 src/units/abilities.cpp std::vector&lt;std::string&gt; unit::get_ability_list() const</span>
<span class='curline'><a href='../S/994.html#L254'>unit</a>              254 src/units/abilities.cpp std::vector&lt;std::tuple&lt;t_string, t_string, t_string&gt; &gt; unit::ability_tooltips(boost::dynamic_bitset&lt;&gt;* active_list) const</span>
<span class='curline'><a href='../S/994.html#L297'>unit</a>              297 src/units/abilities.cpp bool unit::ability_active(const std::string&amp; ability,const config&amp; cfg,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/994.html#L320'>unit</a>              320 src/units/abilities.cpp 			unit_map::const_iterator unit = units.find(adjacent[index]);</span>
<span class='curline'><a href='../S/994.html#L321'>unit</a>              321 src/units/abilities.cpp 			if (unit == units.end())</span>
<span class='curline'><a href='../S/994.html#L323'>unit</a>              323 src/units/abilities.cpp 			if (!ufilt(*unit, *this))</span>
<span class='curline'><a href='../S/994.html#L327'>unit</a>              327 src/units/abilities.cpp 				if (i["is_enemy"].to_bool() != dc.get_team(unit-&gt;side()).is_enemy(side_)) {</span>
<span class='curline'><a href='../S/994.html#L368'>unit</a>              368 src/units/abilities.cpp bool unit::ability_affects_adjacent(const std::string&amp; ability, const config&amp; cfg,int dir,const map_location&amp; loc,const unit&amp; from) const</span>
<span class='curline'><a href='../S/994.html#L392'>unit</a>              392 src/units/abilities.cpp bool unit::ability_affects_self(const std::string&amp; ability,const config&amp; cfg,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/994.html#L400'>unit</a>              400 src/units/abilities.cpp bool unit::has_ability_type(const std::string&amp; ability) const</span>
<span class='curline'><a href='../S/994.html#L915'>unit</a>              915 src/units/abilities.cpp 			unit_map::const_iterator unit = units.find(adjacent[index]);</span>
<span class='curline'><a href='../S/994.html#L916'>unit</a>              916 src/units/abilities.cpp 			if (unit == units.end() || !filter.matches(*unit, adjacent[index], *self))</span>
<span class='curline'><a href='../S/994.html#L920'>unit</a>              920 src/units/abilities.cpp 				if (i["is_enemy"].to_bool() != dc.get_team(unit-&gt;side()).is_enemy(self-&gt;side())) {</span>
<span class='curline'><a href='../S/992.html#L377'>unit</a>              377 src/units/animation.cpp 		const unit* my_unit, const std::string&amp; event, const int value, hit_type hit, const_attack_ptr attack,</span>
<span class='curline'><a href='../S/992.html#L422'>unit</a>              422 src/units/animation.cpp 			unit_map::const_iterator unit = disp.get_units().find(second_loc);</span>
<span class='curline'><a href='../S/992.html#L423'>unit</a>              423 src/units/animation.cpp 			if(!unit.valid()) {</span>
<span class='curline'><a href='../S/992.html#L429'>unit</a>              429 src/units/animation.cpp 				if(!f(*unit, second_loc)) return MATCH_FAIL;</span>
<span class='curline'><a href='../S/992.html#L1295'>unit</a>             1295 src/units/animation.cpp void unit_animator::add_animation(const unit* animated_unit</span>
<span class='curline'><a href='../S/992.html#L1326'>unit</a>             1326 src/units/animation.cpp void unit_animator::add_animation(const unit* animated_unit</span>
<span class='curline'><a href='../S/992.html#L1349'>unit</a>             1349 src/units/animation.cpp void unit_animator::replace_anim_if_invalid(const unit* animated_unit</span>
<span class='curline'><a href='../S/1011.html#L25'>unit</a>               25 src/units/animation.hpp class unit;</span>
<span class='curline'><a href='../S/1011.html#L45'>unit</a>               45 src/units/animation.hpp 	int matches(const display&amp; disp, const map_location&amp; loc, const map_location&amp; second_loc, const unit* my_unit, const std::string&amp; event = "", const int value = 0, hit_type hit = hit_type::INVALID, const_attack_ptr attack = nullptr, const_attack_ptr second_attack = nullptr, int value2 = 0) const;</span>
<span class='curline'><a href='../S/1011.html#L106'>unit</a>              106 src/units/animation.hpp 	friend class unit;</span>
<span class='curline'><a href='../S/1011.html#L198'>unit</a>              198 src/units/animation.hpp 	void add_animation(const unit* animated_unit</span>
<span class='curline'><a href='../S/1011.html#L205'>unit</a>              205 src/units/animation.hpp 	void add_animation(const unit* animated_unit</span>
<span class='curline'><a href='../S/1011.html#L219'>unit</a>              219 src/units/animation.hpp 	void replace_anim_if_invalid(const unit* animated_unit</span>
<span class='curline'><a href='../S/983.html#L23'>unit</a>               23 src/units/animation_component.hpp class unit;</span>
<span class='curline'><a href='../S/983.html#L37'>unit</a>               37 src/units/animation_component.hpp 	unit_animation_component(unit &amp; my_unit) :</span>
<span class='curline'><a href='../S/983.html#L49'>unit</a>               49 src/units/animation_component.hpp 	unit_animation_component(unit &amp; my_unit, const unit_animation_component &amp; o) :</span>
<span class='curline'><a href='../S/983.html#L110'>unit</a>              110 src/units/animation_component.hpp 	friend class unit;</span>
<span class='curline'><a href='../S/983.html#L113'>unit</a>              113 src/units/animation_component.hpp 	const unit &amp; u_; /**&lt; A reference to the unit that owns this object. It does so with a scoped pointer, so this reference should not dangle. */</span>
<span class='curline'><a href='../S/1010.html#L54'>unit</a>               54 src/units/drawer.cpp void unit_drawer::redraw_unit (const unit &amp; u) const</span>
<span class='curline'><a href='../S/982.html#L37'>unit</a>               37 src/units/drawer.hpp class unit;</span>
<span class='curline'><a href='../S/982.html#L69'>unit</a>               69 src/units/drawer.hpp 	void redraw_unit(const unit &amp; u) const;</span>
<span class='curline'><a href='../S/1009.html#L54'>unit</a>               54 src/units/filter.cpp bool unit_filter::matches(const unit &amp; u) const {</span>
<span class='curline'><a href='../S/1009.html#L58'>unit</a>               58 src/units/filter.cpp bool unit_filter::matches(const unit &amp; u, const map_location &amp; loc, const unit &amp; u2) const {</span>
<span class='curline'><a href='../S/1009.html#L62'>unit</a>               62 src/units/filter.cpp bool unit_filter::matches(const unit &amp; u, const unit &amp; u2) const {</span>
<span class='curline'><a href='../S/1009.html#L79'>unit</a>               79 src/units/filter.cpp 	virtual bool matches(const unit &amp; /*u*/, const map_location &amp; /*loc*/, const unit *) const {</span>
<span class='curline'><a href='../S/1009.html#L82'>unit</a>               82 src/units/filter.cpp 	virtual std::vector&lt;const unit *&gt; all_matches_on_map(unsigned max_matches) const {</span>
<span class='curline'><a href='../S/1009.html#L83'>unit</a>               83 src/units/filter.cpp 		std::vector&lt;const unit *&gt; ret;</span>
<span class='curline'><a href='../S/1009.html#L84'>unit</a>               84 src/units/filter.cpp 		for(const unit &amp; u : fc_.get_disp_context().units()) {</span>
<span class='curline'><a href='../S/1009.html#L169'>unit</a>              169 src/units/filter.cpp 	virtual bool matches(const unit &amp; u, const map_location &amp; loc, const unit * u2) const;</span>
<span class='curline'><a href='../S/1009.html#L170'>unit</a>              170 src/units/filter.cpp 	virtual std::vector&lt;const unit *&gt; all_matches_on_map(unsigned max_matches) const;</span>
<span class='curline'><a href='../S/1009.html#L185'>unit</a>              185 src/units/filter.cpp 	bool internal_matches_filter(const unit &amp; u, const map_location &amp; loc, const unit* u2) const;</span>
<span class='curline'><a href='../S/1009.html#L223'>unit</a>              223 src/units/filter.cpp bool basic_unit_filter_impl::matches(const unit &amp; u, const map_location&amp; loc, const unit * u2) const</span>
<span class='curline'><a href='../S/1009.html#L257'>unit</a>              257 src/units/filter.cpp bool basic_unit_filter_impl::internal_matches_filter(const unit &amp; u, const map_location&amp; loc, const unit* u2) const</span>
<span class='curline'><a href='../S/1009.html#L482'>unit</a>              482 src/units/filter.cpp 	if (!vcfg["ai_special"].blank() &amp;&amp; ((vcfg["ai_special"].str() == "guardian") != u.get_state(unit::STATE_GUARDIAN))) {</span>
<span class='curline'><a href='../S/1009.html#L646'>unit</a>              646 src/units/filter.cpp std::vector&lt;const unit *&gt; basic_unit_filter_impl::all_matches_on_map(unsigned max_matches) const {</span>
<span class='curline'><a href='../S/1009.html#L647'>unit</a>              647 src/units/filter.cpp 	std::vector&lt;const unit *&gt; ret;</span>
<span class='curline'><a href='../S/1009.html#L648'>unit</a>              648 src/units/filter.cpp 	for (const unit &amp; u : fc_.get_disp_context().units()) {</span>
<span class='curline'><a href='../S/1002.html#L34'>unit</a>               34 src/units/filter.hpp class unit;</span>
<span class='curline'><a href='../S/1002.html#L41'>unit</a>               41 src/units/filter.hpp 	virtual bool matches(const unit &amp; u, const map_location &amp; loc, const unit * u2 = nullptr) const = 0;</span>
<span class='curline'><a href='../S/1002.html#L42'>unit</a>               42 src/units/filter.hpp 	virtual std::vector&lt;const unit*&gt; all_matches_on_map(unsigned max_matches) const = 0;</span>
<span class='curline'><a href='../S/1002.html#L67'>unit</a>               67 src/units/filter.hpp 	bool matches(const unit &amp; u, const map_location &amp; loc) const {</span>
<span class='curline'><a href='../S/1002.html#L73'>unit</a>               73 src/units/filter.hpp 	bool matches(const unit &amp; u) const;</span>
<span class='curline'><a href='../S/1002.html#L75'>unit</a>               75 src/units/filter.hpp 	bool matches(const unit &amp; u, const map_location &amp; loc, const unit &amp; u2) const;</span>
<span class='curline'><a href='../S/1002.html#L76'>unit</a>               76 src/units/filter.hpp 	bool matches(const unit &amp; u, const unit &amp; u2) const;</span>
<span class='curline'><a href='../S/1002.html#L78'>unit</a>               78 src/units/filter.hpp 	bool operator()(const unit &amp; u, const map_location &amp; loc) const {</span>
<span class='curline'><a href='../S/1002.html#L82'>unit</a>               82 src/units/filter.hpp 	bool operator()(const unit &amp; u) const {</span>
<span class='curline'><a href='../S/1002.html#L86'>unit</a>               86 src/units/filter.hpp 	bool operator()(const unit &amp; u, const map_location &amp; loc, const unit &amp; u2) const {</span>
<span class='curline'><a href='../S/1002.html#L90'>unit</a>               90 src/units/filter.hpp 	bool operator()(const unit &amp; u, const unit &amp; u2) const {</span>
<span class='curline'><a href='../S/1002.html#L94'>unit</a>               94 src/units/filter.hpp 	std::vector&lt;const unit *&gt; all_matches_on_map() const {</span>
<span class='curline'><a href='../S/985.html#L23'>unit</a>               23 src/units/formula_manager.hpp class unit;</span>
<span class='curline'><a href='../S/984.html#L25'>unit</a>               25 src/units/helper.cpp int number_of_possible_advances(const unit &amp;u)</span>
<span class='curline'><a href='../S/998.html#L35'>unit</a>               35 src/units/helper.hpp int number_of_possible_advances(const unit &amp;unit);</span>
<span class='curline'><a href='../S/991.html#L66'>unit</a>               66 src/units/map.cpp 	while (i != umap_.end() &amp;&amp; (!i-&gt;second.unit)) { ++i; }</span>
<span class='curline'><a href='../S/991.html#L70'>unit</a>               70 src/units/map.cpp std::pair&lt;unit_map::unit_iterator, bool&gt; unit_map::add(const map_location &amp;l, const unit &amp;u) {</span>
<span class='curline'><a href='../S/991.html#L72'>unit</a>               72 src/units/map.cpp 	unit_ptr p = unit_ptr (new unit(u)); //TODO: should this instead take a shared pointer to a unit, rather than make a copy?</span>
<span class='curline'><a href='../S/991.html#L92'>unit</a>               92 src/units/map.cpp 	unit_ptr p = uit-&gt;second.unit;</span>
<span class='curline'><a href='../S/991.html#L140'>unit</a>              140 src/units/map.cpp 	upod.unit = p ;</span>
<span class='curline'><a href='../S/991.html#L149'>unit</a>              149 src/units/map.cpp 		if (!uinsert.first-&gt;second.unit) {</span>
<span class='curline'><a href='../S/991.html#L151'>unit</a>              151 src/units/map.cpp 			opod.unit = p ;</span>
<span class='curline'><a href='../S/991.html#L154'>unit</a>              154 src/units/map.cpp 			unit_ptr q = uinsert.first-&gt;second.unit;</span>
<span class='curline'><a href='../S/991.html#L194'>unit</a>              194 src/units/map.cpp 			uinsert.first-&gt;second.unit.reset();</span>
<span class='curline'><a href='../S/991.html#L198'>unit</a>              198 src/units/map.cpp 			   &lt;&lt;(linsert.first-&gt;second-&gt;second).unit-&gt;name()&lt;&lt; " - " &lt;&lt; linsert.first-&gt;second-&gt;second.unit-&gt;id() &lt;&lt;"\n";</span>
<span class='curline'><a href='../S/991.html#L238'>unit</a>              238 src/units/map.cpp 			DBG_NG &lt;&lt; "Delete unit " &lt;&lt; i-&gt;second.unit-&gt;underlying_id() &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/991.html#L239'>unit</a>              239 src/units/map.cpp 			i-&gt;second.unit.reset();</span>
<span class='curline'><a href='../S/991.html#L254'>unit</a>              254 src/units/map.cpp 	unit_ptr u = uit-&gt;second.unit;</span>
<span class='curline'><a href='../S/991.html#L260'>unit</a>              260 src/units/map.cpp 	assert(uit-&gt;first == uit-&gt;second.unit-&gt;underlying_id());</span>
<span class='curline'><a href='../S/991.html#L265'>unit</a>              265 src/units/map.cpp 		uit-&gt;second.unit.reset();</span>
<span class='curline'><a href='../S/991.html#L286'>unit</a>              286 src/units/map.cpp 	if((i != umap_.end()) &amp;&amp; !i-&gt;second.unit){ i = umap_.end() ;}</span>
<span class='curline'><a href='../S/991.html#L344'>unit</a>              344 src/units/map.cpp 		if(uit-&gt;second.unit){</span>
<span class='curline'><a href='../S/991.html#L345'>unit</a>              345 src/units/map.cpp 			uit-&gt;second.unit-&gt;id(); //crash if bad pointer</span>
<span class='curline'><a href='../S/991.html#L351'>unit</a>              351 src/units/map.cpp 		if(!uit-&gt;second.unit &amp;&amp; uit-&gt;second.ref_count == 0 ){</span>
<span class='curline'><a href='../S/991.html#L355'>unit</a>              355 src/units/map.cpp 		if(uit-&gt;second.unit &amp;&amp; uit-&gt;second.unit-&gt;underlying_id() != uit-&gt;first){</span>
<span class='curline'><a href='../S/991.html#L357'>unit</a>              357 src/units/map.cpp 			ERR_NG &lt;&lt; "unit_map umap uid("&lt;&lt;uit-&gt;first&lt;&lt;") != underlying_id()["&lt;&lt; uit-&gt;second.unit-&gt;underlying_id()&lt;&lt; "]" &lt;&lt; std::endl;</span>
<span class='curline'><a href='../S/991.html#L366'>unit</a>              366 src/units/map.cpp 		if(locit-&gt;first != locit-&gt;second-&gt;second.unit-&gt;get_location()){</span>
<span class='curline'><a href='../S/991.html#L377'>unit</a>              377 src/units/map.cpp bool unit_map::has_unit(const unit * const u) const</span>
<span class='curline'><a href='../S/991.html#L382'>unit</a>              382 src/units/map.cpp 		if(item.second.unit.get() == u) {</span>
<span class='curline'><a href='../S/996.html#L95'>unit</a>               95 src/units/map.hpp 			: unit()</span>
<span class='curline'><a href='../S/996.html#L100'>unit</a>              100 src/units/map.hpp 		unit_ptr unit;</span>
<span class='curline'><a href='../S/996.html#L118'>unit</a>              118 src/units/map.hpp 		typedef unit value_type;</span>
<span class='curline'><a href='../S/996.html#L124'>unit</a>              124 src/units/map.hpp 		typedef const unit value_type;</span>
<span class='curline'><a href='../S/996.html#L178'>unit</a>              178 src/units/map.hpp 			return  i_-&gt;second.unit; }</span>
<span class='curline'><a href='../S/996.html#L182'>unit</a>              182 src/units/map.hpp 			return i_-&gt;second.unit; }</span>
<span class='curline'><a href='../S/996.html#L186'>unit</a>              186 src/units/map.hpp 			return *i_-&gt;second.unit; }</span>
<span class='curline'><a href='../S/996.html#L194'>unit</a>              194 src/units/map.hpp 			}while ((new_i != the_map().end()) &amp;&amp; (!new_i-&gt;second.unit)) ;</span>
<span class='curline'><a href='../S/996.html#L215'>unit</a>              215 src/units/map.hpp 			}while(i_ != begin &amp;&amp; (!i_-&gt;second.unit));</span>
<span class='curline'><a href='../S/996.html#L229'>unit</a>              229 src/units/map.hpp 			return (valid_for_dereference() &amp;&amp; i_-&gt;second.unit);</span>
<span class='curline'><a href='../S/996.html#L259'>unit</a>              259 src/units/map.hpp 				if( (--(i_-&gt;second.ref_count) == 0)  &amp;&amp; (!i_-&gt;second.unit) ){</span>
<span class='curline'><a href='../S/996.html#L326'>unit</a>              326 src/units/map.hpp 	std::pair&lt;unit_iterator, bool&gt; add(const map_location &amp;l, const unit &amp;u);</span>
<span class='curline'><a href='../S/996.html#L395'>unit</a>              395 src/units/map.hpp 	bool has_unit(const unit * const u) const ;</span>
<span class='curline'><a href='../S/996.html#L401'>unit</a>              401 src/units/map.hpp 		return is_found(i) &amp;&amp; (i-&gt;second.unit != nullptr);</span>
<span class='curline'><a href='../S/996.html#L404'>unit</a>              404 src/units/map.hpp 		return is_found(i) &amp;&amp; (i-&gt;second-&gt;second.unit != nullptr);</span>
<span class='curline'><a href='../S/986.html#L24'>unit</a>               24 src/units/ptr.hpp class unit;</span>
<span class='curline'><a href='../S/986.html#L26'>unit</a>               26 src/units/ptr.hpp void intrusive_ptr_add_ref(const unit *);</span>
<span class='curline'><a href='../S/986.html#L27'>unit</a>               27 src/units/ptr.hpp void intrusive_ptr_release(const unit *);</span>
<span class='curline'><a href='../S/986.html#L29'>unit</a>               29 src/units/ptr.hpp typedef boost::intrusive_ptr&lt;unit&gt; unit_ptr;</span>
<span class='curline'><a href='../S/986.html#L30'>unit</a>               30 src/units/ptr.hpp typedef boost::intrusive_ptr&lt;const unit&gt; unit_const_ptr;</span>
<span class='curline'><a href='../S/988.html#L69'>unit</a>               69 src/units/udisplay.cpp                                   unit&amp; temp_unit, display&amp; disp)</span>
<span class='curline'><a href='../S/988.html#L213'>unit</a>              213 src/units/udisplay.cpp 	temp_unit_ptr_ = fake_unit_ptr(unit_ptr(new unit(*u)), resources::fake_units);</span>
<span class='curline'><a href='../S/988.html#L498'>unit</a>              498 src/units/udisplay.cpp void reset_helpers(const unit *attacker,const unit *defender);</span>
<span class='curline'><a href='../S/988.html#L500'>unit</a>              500 src/units/udisplay.cpp void unit_draw_weapon(const map_location&amp; loc, unit&amp; attacker,</span>
<span class='curline'><a href='../S/988.html#L501'>unit</a>              501 src/units/udisplay.cpp 		const_attack_ptr attack,const_attack_ptr secondary_attack, const map_location&amp; defender_loc,unit* defender)</span>
<span class='curline'><a href='../S/988.html#L518'>unit</a>              518 src/units/udisplay.cpp void unit_sheath_weapon(const map_location&amp; primary_loc, unit* primary_unit,</span>
<span class='curline'><a href='../S/988.html#L519'>unit</a>              519 src/units/udisplay.cpp 		const_attack_ptr primary_attack,const_attack_ptr secondary_attack, const map_location&amp; secondary_loc,unit* secondary_unit)</span>
<span class='curline'><a href='../S/988.html#L548'>unit</a>              548 src/units/udisplay.cpp void unit_die(const map_location&amp; loc, unit&amp; loser,</span>
<span class='curline'><a href='../S/988.html#L549'>unit</a>              549 src/units/udisplay.cpp 		const_attack_ptr attack,const_attack_ptr secondary_attack, const map_location&amp; winner_loc,unit* winner)</span>
<span class='curline'><a href='../S/988.html#L591'>unit</a>              591 src/units/udisplay.cpp 	const unit&amp; attacker = *att;</span>
<span class='curline'><a href='../S/988.html#L595'>unit</a>              595 src/units/udisplay.cpp 	unit &amp;defender = *def;</span>
<span class='curline'><a href='../S/988.html#L680'>unit</a>              680 src/units/udisplay.cpp void reset_helpers(const unit *attacker,const unit *defender)</span>
<span class='curline'><a href='../S/988.html#L731'>unit</a>              731 src/units/udisplay.cpp void unit_healing(unit &amp;healed, const std::vector&lt;unit *&gt; &amp;healers, int healing,</span>
<span class='curline'><a href='../S/988.html#L743'>unit</a>              743 src/units/udisplay.cpp 	for (unit *h : healers) {</span>
<span class='curline'><a href='../S/1012.html#L30'>unit</a>               30 src/units/udisplay.hpp class unit;</span>
<span class='curline'><a href='../S/1012.html#L91'>unit</a>               91 src/units/udisplay.hpp void unit_draw_weapon( const map_location&amp; loc, unit&amp; u, const_attack_ptr attack=nullptr, const_attack_ptr secondary_attack=nullptr,const map_location&amp; defender_loc = map_location::null_location(), unit * defender=nullptr);</span>
<span class='curline'><a href='../S/1012.html#L97'>unit</a>               97 src/units/udisplay.hpp void unit_sheath_weapon( const map_location&amp; loc, unit* u=nullptr, const_attack_ptr attack=nullptr, const_attack_ptr secondary_attack=nullptr,const map_location&amp; defender_loc = map_location::null_location(), unit * defender=nullptr);</span>
<span class='curline'><a href='../S/1012.html#L104'>unit</a>              104 src/units/udisplay.hpp  void unit_die( const map_location&amp; loc, unit&amp; u,</span>
<span class='curline'><a href='../S/1012.html#L107'>unit</a>              107 src/units/udisplay.hpp 	unit* winner=nullptr);</span>
<span class='curline'><a href='../S/1012.html#L131'>unit</a>              131 src/units/udisplay.hpp void unit_healing(unit &amp;healed, const std::vector&lt;unit *&gt; &amp;healers, int healing,</span>
<span class='curline'><a href='../S/1006.html#L90'>unit</a>               90 src/units/unit.cpp 	static std::vector&lt;const unit*&gt; units_with_cache;</span>
<span class='curline'><a href='../S/1006.html#L165'>unit</a>              165 src/units/unit.cpp void intrusive_ptr_add_ref(const unit* u)</span>
<span class='curline'><a href='../S/1006.html#L181'>unit</a>              181 src/units/unit.cpp void intrusive_ptr_release(const unit* u)</span>
<span class='curline'><a href='../S/1006.html#L250'>unit</a>              250 src/units/unit.cpp unit::unit(const unit&amp; o)</span>
<span class='curline'><a href='../S/1006.html#L330'>unit</a>              330 src/units/unit.cpp unit::unit(const config&amp; cfg, bool use_traits, const vconfig* vcfg)</span>
<span class='curline'><a href='../S/1006.html#L616'>unit</a>              616 src/units/unit.cpp void unit::clear_status_caches()</span>
<span class='curline'><a href='../S/1006.html#L625'>unit</a>              625 src/units/unit.cpp unit::unit(const unit_type&amp; u_type, int side, bool real_unit, unit_race::GENDER gender)</span>
<span class='curline'><a href='../S/1006.html#L711'>unit</a>              711 src/units/unit.cpp unit::~unit()</span>
<span class='curline'><a href='../S/1006.html#L730'>unit</a>              730 src/units/unit.cpp void unit::swap(unit &amp; o)</span>
<span class='curline'><a href='../S/1006.html#L798'>unit</a>              798 src/units/unit.cpp unit&amp; unit::operator=(unit other)</span>
<span class='curline'><a href='../S/1006.html#L804'>unit</a>              804 src/units/unit.cpp void unit::generate_name()</span>
<span class='curline'><a href='../S/1006.html#L813'>unit</a>              813 src/units/unit.cpp void unit::generate_traits(bool must_have_only)</span>
<span class='curline'><a href='../S/1006.html#L870'>unit</a>              870 src/units/unit.cpp std::vector&lt;std::string&gt; unit::get_traits_list() const</span>
<span class='curline'><a href='../S/1006.html#L890'>unit</a>              890 src/units/unit.cpp void unit::advance_to(const unit_type&amp; u_type, bool use_traits)</span>
<span class='curline'><a href='../S/1006.html#L1010'>unit</a>             1010 src/units/unit.cpp std::string unit::big_profile() const</span>
<span class='curline'><a href='../S/1006.html#L1019'>unit</a>             1019 src/units/unit.cpp std::string unit::small_profile() const</span>
<span class='curline'><a href='../S/1006.html#L1028'>unit</a>             1028 src/units/unit.cpp const std::string&amp; unit::leader_crown()</span>
<span class='curline'><a href='../S/1006.html#L1033'>unit</a>             1033 src/units/unit.cpp const std::string&amp; unit::flag_rgb() const</span>
<span class='curline'><a href='../S/1006.html#L1076'>unit</a>             1076 src/units/unit.cpp color_t unit::hp_color() const</span>
<span class='curline'><a href='../S/1006.html#L1081'>unit</a>             1081 src/units/unit.cpp color_t unit::hp_color(int new_hitpoints) const</span>
<span class='curline'><a href='../S/1006.html#L1086'>unit</a>             1086 src/units/unit.cpp color_t unit::xp_color() const</span>
<span class='curline'><a href='../S/1006.html#L1126'>unit</a>             1126 src/units/unit.cpp void unit::set_recruits(const std::vector&lt;std::string&gt;&amp; recruits)</span>
<span class='curline'><a href='../S/1006.html#L1135'>unit</a>             1135 src/units/unit.cpp const std::vector&lt;std::string&gt; unit::advances_to_translated() const</span>
<span class='curline'><a href='../S/1006.html#L1150'>unit</a>             1150 src/units/unit.cpp void unit::set_advances_to(const std::vector&lt;std::string&gt;&amp; advances_to)</span>
<span class='curline'><a href='../S/1006.html#L1156'>unit</a>             1156 src/units/unit.cpp void unit::set_movement(int moves, bool unit_action)</span>
<span class='curline'><a href='../S/1006.html#L1182'>unit</a>             1182 src/units/unit.cpp void unit::expire_modifications(const std::string&amp; duration)</span>
<span class='curline'><a href='../S/1006.html#L1216'>unit</a>             1216 src/units/unit.cpp void unit::new_turn()</span>
<span class='curline'><a href='../S/1006.html#L1226'>unit</a>             1226 src/units/unit.cpp void unit::end_turn()</span>
<span class='curline'><a href='../S/1006.html#L1240'>unit</a>             1240 src/units/unit.cpp void unit::new_scenario()</span>
<span class='curline'><a href='../S/1006.html#L1255'>unit</a>             1255 src/units/unit.cpp void unit::heal(int amount)</span>
<span class='curline'><a href='../S/1006.html#L1271'>unit</a>             1271 src/units/unit.cpp const std::set&lt;std::string&gt; unit::get_states() const</span>
<span class='curline'><a href='../S/1006.html#L1288'>unit</a>             1288 src/units/unit.cpp bool unit::get_state(const std::string&amp; state) const</span>
<span class='curline'><a href='../S/1006.html#L1306'>unit</a>             1306 src/units/unit.cpp void unit::set_state(state_t state, bool value)</span>
<span class='curline'><a href='../S/1006.html#L1311'>unit</a>             1311 src/units/unit.cpp bool unit::get_state(state_t state) const</span>
<span class='curline'><a href='../S/1006.html#L1316'>unit</a>             1316 src/units/unit.cpp unit::state_t unit::get_known_boolean_state_id(const std::string&amp; state)</span>
<span class='curline'><a href='../S/1006.html#L1326'>unit</a>             1326 src/units/unit.cpp std::map&lt;std::string, unit::state_t&gt; unit::known_boolean_state_names_ {</span>
<span class='curline'><a href='../S/1006.html#L1336'>unit</a>             1336 src/units/unit.cpp void unit::set_state(const std::string&amp; state, bool value)</span>
<span class='curline'><a href='../S/1006.html#L1358'>unit</a>             1358 src/units/unit.cpp bool unit::has_ability_by_id(const std::string&amp; ability) const</span>
<span class='curline'><a href='../S/1006.html#L1369'>unit</a>             1369 src/units/unit.cpp void unit::remove_ability_by_id(const std::string&amp; ability)</span>
<span class='curline'><a href='../S/1006.html#L1381'>unit</a>             1381 src/units/unit.cpp void unit::write(config&amp; cfg) const</span>
<span class='curline'><a href='../S/1006.html#L1508'>unit</a>             1508 src/units/unit.cpp void unit::set_facing(map_location::DIRECTION dir) const</span>
<span class='curline'><a href='../S/1006.html#L1516'>unit</a>             1516 src/units/unit.cpp int unit::upkeep() const</span>
<span class='curline'><a href='../S/1006.html#L1526'>unit</a>             1526 src/units/unit.cpp bool unit::loyal() const</span>
<span class='curline'><a href='../S/1006.html#L1531'>unit</a>             1531 src/units/unit.cpp int unit::defense_modifier(const t_translation::terrain_code &amp; terrain) const</span>
<span class='curline'><a href='../S/1006.html#L1546'>unit</a>             1546 src/units/unit.cpp bool unit::resistance_filter_matches(const config&amp; cfg, bool attacker, const std::string&amp; damage_name, int res) const</span>
<span class='curline'><a href='../S/1006.html#L1574'>unit</a>             1574 src/units/unit.cpp int unit::resistance_against(const std::string&amp; damage_name,bool attacker,const map_location&amp; loc) const</span>
<span class='curline'><a href='../S/1006.html#L1599'>unit</a>             1599 src/units/unit.cpp std::map&lt;std::string, std::string&gt; unit::advancement_icons() const</span>
<span class='curline'><a href='../S/1006.html#L1639'>unit</a>             1639 src/units/unit.cpp std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; unit::amla_icons() const</span>
<span class='curline'><a href='../S/1006.html#L1656'>unit</a>             1656 src/units/unit.cpp std::vector&lt;config&gt; unit::get_modification_advances() const</span>
<span class='curline'><a href='../S/1006.html#L1716'>unit</a>             1716 src/units/unit.cpp void unit::set_advancements(std::vector&lt;config&gt; advancements)</span>
<span class='curline'><a href='../S/1006.html#L1725'>unit</a>             1725 src/units/unit.cpp size_t unit::modification_count(const std::string&amp; mod_type, const std::string&amp; id) const</span>
<span class='curline'><a href='../S/1006.html#L1742'>unit</a>             1742 src/units/unit.cpp const std::set&lt;std::string&gt; unit::builtin_effects {</span>
<span class='curline'><a href='../S/1006.html#L1751'>unit</a>             1751 src/units/unit.cpp std::string unit::describe_builtin_effect(std::string apply_to, const config&amp; effect)</span>
<span class='curline'><a href='../S/1006.html#L1822'>unit</a>             1822 src/units/unit.cpp void unit::apply_builtin_effect(std::string apply_to, const config&amp; effect)</span>
<span class='curline'><a href='../S/1006.html#L2086'>unit</a>             2086 src/units/unit.cpp 		for(const std::string&amp; unit : temp_advances) {</span>
<span class='curline'><a href='../S/1006.html#L2087'>unit</a>             2087 src/units/unit.cpp 			iter = std::find(advances_to_.begin(), advances_to_.end(), unit);</span>
<span class='curline'><a href='../S/1006.html#L2152'>unit</a>             2152 src/units/unit.cpp void unit::add_modification(const std::string&amp; mod_type, const config&amp; mod, bool no_add)</span>
<span class='curline'><a href='../S/1006.html#L2277'>unit</a>             2277 src/units/unit.cpp void unit::add_trait_description(const config&amp; trait, const t_string&amp; description)</span>
<span class='curline'><a href='../S/1006.html#L2290'>unit</a>             2290 src/units/unit.cpp std::string unit::absolute_image() const</span>
<span class='curline'><a href='../S/1006.html#L2295'>unit</a>             2295 src/units/unit.cpp std::string unit::default_anim_image() const</span>
<span class='curline'><a href='../S/1006.html#L2300'>unit</a>             2300 src/units/unit.cpp void unit::apply_modifications()</span>
<span class='curline'><a href='../S/1006.html#L2320'>unit</a>             2320 src/units/unit.cpp bool unit::invisible(const map_location&amp; loc, const display_context&amp; dc, bool see_all) const</span>
<span class='curline'><a href='../S/1006.html#L2363'>unit</a>             2363 src/units/unit.cpp bool unit::is_visible_to_team(const team&amp; team,const  display_context&amp; dc, bool const see_all) const</span>
<span class='curline'><a href='../S/1006.html#L2390'>unit</a>             2390 src/units/unit.cpp void unit::set_underlying_id(n_unit::id_manager&amp; id_manager)</span>
<span class='curline'><a href='../S/1006.html#L2407'>unit</a>             2407 src/units/unit.cpp unit&amp; unit::clone(bool is_temporary)</span>
<span class='curline'><a href='../S/1006.html#L2432'>unit</a>             2432 src/units/unit.cpp unit_movement_resetter::unit_movement_resetter(const unit &amp;u, bool operate)</span>
<span class='curline'><a href='../S/1006.html#L2433'>unit</a>             2433 src/units/unit.cpp 	: u_(const_cast&lt;unit&amp;&gt;(u))</span>
<span class='curline'><a href='../S/1006.html#L2457'>unit</a>             2457 src/units/unit.cpp std::string unit::TC_image_mods() const</span>
<span class='curline'><a href='../S/1006.html#L2462'>unit</a>             2462 src/units/unit.cpp std::string unit::image_mods() const</span>
<span class='curline'><a href='../S/1006.html#L2472'>unit</a>             2472 src/units/unit.cpp bool unit::remove_attack(attack_ptr atk)</span>
<span class='curline'><a href='../S/1006.html#L2482'>unit</a>             2482 src/units/unit.cpp void unit::remove_attacks_ai()</span>
<span class='curline'><a href='../S/1006.html#L2491'>unit</a>             2491 src/units/unit.cpp void unit::remove_movement_ai()</span>
<span class='curline'><a href='../S/1006.html#L2500'>unit</a>             2500 src/units/unit.cpp void unit::set_hidden(bool state) const</span>
<span class='curline'><a href='../S/1006.html#L2511'>unit</a>             2511 src/units/unit.cpp void unit::set_image_halo(const std::string&amp; halo)</span>
<span class='curline'><a href='../S/1006.html#L2517'>unit</a>             2517 src/units/unit.cpp void unit::parse_upkeep(const config::attribute_value&amp; upkeep)</span>
<span class='curline'><a href='../S/1006.html#L2537'>unit</a>             2537 src/units/unit.cpp void unit::write_upkeep(config::attribute_value&amp; upkeep) const</span>
<span class='curline'><a href='../S/1006.html#L2544'>unit</a>             2544 src/units/unit.cpp std::string get_checksum(const unit&amp; u)</span>
<span class='curline'><a href='../S/987.html#L103'>unit</a>              103 src/units/unit.hpp 	unit(const config&amp; cfg, bool use_traits = false, const vconfig* vcfg = nullptr);</span>
<span class='curline'><a href='../S/987.html#L110'>unit</a>              110 src/units/unit.hpp 	unit(const unit_type&amp; t, int side, bool real_unit, unit_race::GENDER gender = unit_race::NUM_GENDERS);</span>
<span class='curline'><a href='../S/987.html#L113'>unit</a>              113 src/units/unit.hpp 	unit(const unit&amp; u);</span>
<span class='curline'><a href='../S/987.html#L115'>unit</a>              115 src/units/unit.hpp 	virtual ~unit();</span>
<span class='curline'><a href='../S/987.html#L117'>unit</a>              117 src/units/unit.hpp 	void swap(unit&amp;);</span>
<span class='curline'><a href='../S/987.html#L119'>unit</a>              119 src/units/unit.hpp 	unit&amp; operator=(unit);</span>
<span class='curline'><a href='../S/987.html#L954'>unit</a>              954 src/units/unit.hpp 		explicit upkeep_value_visitor(const unit&amp; unit) : u_(unit) {}</span>
<span class='curline'><a href='../S/987.html#L974'>unit</a>              974 src/units/unit.hpp 		const unit&amp; u_;</span>
<span class='curline'><a href='../S/987.html#L1493'>unit</a>             1493 src/units/unit.hpp 	bool ability_affects_adjacent(const std::string&amp; ability, const config&amp; cfg, int dir, const map_location&amp; loc, const unit&amp; from) const;</span>
<span class='curline'><a href='../S/987.html#L1530'>unit</a>             1530 src/units/unit.hpp 	unit&amp; clone(bool is_temporary = true);</span>
<span class='curline'><a href='../S/987.html#L1539'>unit</a>             1539 src/units/unit.hpp 	friend void intrusive_ptr_add_ref(const unit*);</span>
<span class='curline'><a href='../S/987.html#L1540'>unit</a>             1540 src/units/unit.hpp 	friend void intrusive_ptr_release(const unit*);</span>
<span class='curline'><a href='../S/987.html#L1697'>unit</a>             1697 src/units/unit.hpp 	unit_movement_resetter(const unit&amp; u, bool operate = true);</span>
<span class='curline'><a href='../S/987.html#L1701'>unit</a>             1701 src/units/unit.hpp 	unit&amp; u_;</span>
<span class='curline'><a href='../S/987.html#L1716'>unit</a>             1716 src/units/unit.hpp std::string get_checksum(const unit&amp; u);</span>
<span class='curline'><a href='../S/1238.html#L55'>unit</a>               55 src/whiteboard/attack.cpp attack::attack(size_t team_index, bool hidden, unit&amp; u, const map_location&amp; target_hex, int weapon_choice, const pathfind::marked_route&amp; route,</span>
<span class='curline'><a href='../S/1238.html#L153'>unit</a>              153 src/whiteboard/attack.cpp 	unit&amp; unit = *get_unit();</span>
<span class='curline'><a href='../S/1238.html#L154'>unit</a>              154 src/whiteboard/attack.cpp 	DBG_WB &lt;&lt; unit.name() &lt;&lt; " [" &lt;&lt; unit.id()</span>
<span class='curline'><a href='../S/1238.html#L155'>unit</a>              155 src/whiteboard/attack.cpp 					&lt;&lt; "] has " &lt;&lt; unit.attacks_left() &lt;&lt; " attacks, decreasing by one" &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/1238.html#L156'>unit</a>              156 src/whiteboard/attack.cpp 	assert(unit.attacks_left() &gt; 0);</span>
<span class='curline'><a href='../S/1238.html#L157'>unit</a>              157 src/whiteboard/attack.cpp 	unit.set_attacks(unit.attacks_left() - 1);</span>
<span class='curline'><a href='../S/1238.html#L160'>unit</a>              160 src/whiteboard/attack.cpp 	temp_movement_subtracted_ = unit.movement_left() &gt;= attack_movement_cost_ ? attack_movement_cost_ : 0 ;</span>
<span class='curline'><a href='../S/1238.html#L161'>unit</a>              161 src/whiteboard/attack.cpp 	DBG_WB &lt;&lt; "Attack: Changing movement points for unit " &lt;&lt; unit.name() &lt;&lt; " [" &lt;&lt; unit.id()</span>
<span class='curline'><a href='../S/1238.html#L162'>unit</a>              162 src/whiteboard/attack.cpp 				&lt;&lt; "] from " &lt;&lt; unit.movement_left() &lt;&lt; " to "</span>
<span class='curline'><a href='../S/1238.html#L163'>unit</a>              163 src/whiteboard/attack.cpp 				&lt;&lt; unit.movement_left() - temp_movement_subtracted_ &lt;&lt; ".\n";</span>
<span class='curline'><a href='../S/1238.html#L164'>unit</a>              164 src/whiteboard/attack.cpp 	unit.set_movement(unit.movement_left() - temp_movement_subtracted_, true);</span>
<span class='curline'><a href='../S/1238.html#L169'>unit</a>              169 src/whiteboard/attack.cpp 		fake_unit_-&gt;set_movement(unit.movement_left(), true);</span>
<span class='curline'><a href='../S/1238.html#L170'>unit</a>              170 src/whiteboard/attack.cpp 		fake_unit_-&gt;set_attacks(unit.attacks_left());</span>
<span class='curline'><a href='../S/1238.html#L177'>unit</a>              177 src/whiteboard/attack.cpp 	unit&amp; unit = *get_unit();</span>
<span class='curline'><a href='../S/1238.html#L178'>unit</a>              178 src/whiteboard/attack.cpp 	DBG_WB &lt;&lt; unit.name() &lt;&lt; " [" &lt;&lt; unit.id()</span>
<span class='curline'><a href='../S/1238.html#L179'>unit</a>              179 src/whiteboard/attack.cpp 					&lt;&lt; "] has " &lt;&lt; unit.attacks_left() &lt;&lt; " attacks, increasing by one" &lt;&lt; "\n";</span>
<span class='curline'><a href='../S/1238.html#L180'>unit</a>              180 src/whiteboard/attack.cpp 	unit.set_attacks(unit.attacks_left() + 1);</span>
<span class='curline'><a href='../S/1238.html#L181'>unit</a>              181 src/whiteboard/attack.cpp 	DBG_WB &lt;&lt; "Attack: Changing movement points for unit " &lt;&lt; unit.name() &lt;&lt; " [" &lt;&lt; unit.id()</span>
<span class='curline'><a href='../S/1238.html#L182'>unit</a>              182 src/whiteboard/attack.cpp 				&lt;&lt; "] from " &lt;&lt; unit.movement_left() &lt;&lt; " to "</span>
<span class='curline'><a href='../S/1238.html#L183'>unit</a>              183 src/whiteboard/attack.cpp 				&lt;&lt; unit.movement_left() + temp_movement_subtracted_ &lt;&lt; ".\n";</span>
<span class='curline'><a href='../S/1238.html#L184'>unit</a>              184 src/whiteboard/attack.cpp 	unit.set_movement(unit.movement_left() + temp_movement_subtracted_, true);</span>
<span class='curline'><a href='../S/1240.html#L29'>unit</a>               29 src/whiteboard/attack.hpp 	attack(size_t team_index, bool hidden, unit&amp; mover, const map_location&amp; target_hex, int weapon_choice, const pathfind::marked_route&amp; route,</span>
<span class='curline'><a href='../S/1234.html#L261'>unit</a>              261 src/whiteboard/manager.cpp bool manager::allow_leader_to_move(unit const&amp; leader) const</span>
<span class='curline'><a href='../S/1234.html#L660'>unit</a>              660 src/whiteboard/manager.cpp 	unit* temp_moved_unit =</span>
<span class='curline'><a href='../S/1234.html#L722'>unit</a>              722 src/whiteboard/manager.cpp 					fake_unit = fake_unit_ptr(unit_ptr (new unit(*temp_moved_unit)), resources::fake_units);</span>
<span class='curline'><a href='../S/1234.html#L763'>unit</a>              763 src/whiteboard/manager.cpp 		unit* u = future_visible_unit(route_-&gt;steps.front());</span>
<span class='curline'><a href='../S/1234.html#L833'>unit</a>              833 src/whiteboard/manager.cpp 		unit* attacking_unit = future_visible_unit(source_hex);</span>
<span class='curline'><a href='../S/1234.html#L863'>unit</a>              863 src/whiteboard/manager.cpp 			unit* recruiter;</span>
<span class='curline'><a href='../S/1234.html#L878'>unit</a>              878 src/whiteboard/manager.cpp bool manager::save_recall(const unit&amp; unit, int side_num, const map_location&amp; recall_hex)</span>
<span class='curline'><a href='../S/1234.html#L895'>unit</a>              895 src/whiteboard/manager.cpp 			sa.queue_recall(turn,unit,recall_hex);</span>
<span class='curline'><a href='../S/1234.html#L904'>unit</a>              904 src/whiteboard/manager.cpp void manager::save_suppose_dead(unit&amp; curr_unit, map_location const&amp; loc)</span>
<span class='curline'><a href='../S/1234.html#L926'>unit</a>              926 src/whiteboard/manager.cpp 		unit const* selected_unit = future_visible_unit(resources::controller-&gt;get_mouse_handler_base().get_selected_hex(), viewer_side());</span>
<span class='curline'><a href='../S/1234.html#L1009'>unit</a>             1009 src/whiteboard/manager.cpp 		unit const* selected_unit = future_visible_unit(resources::controller-&gt;get_mouse_handler_base().get_selected_hex(), viewer_side());</span>
<span class='curline'><a href='../S/1234.html#L1058'>unit</a>             1058 src/whiteboard/manager.cpp bool manager::unit_has_actions(unit const* unit) const</span>
<span class='curline'><a href='../S/1234.html#L1060'>unit</a>             1060 src/whiteboard/manager.cpp 	assert(unit != nullptr);</span>
<span class='curline'><a href='../S/1234.html#L1062'>unit</a>             1062 src/whiteboard/manager.cpp 	return viewer_actions()-&gt;unit_has_actions(*unit);</span>
<span class='curline'><a href='../S/1244.html#L82'>unit</a>               82 src/whiteboard/manager.hpp 	bool allow_leader_to_move(unit const&amp; leader) const;</span>
<span class='curline'><a href='../S/1244.html#L153'>unit</a>              153 src/whiteboard/manager.hpp 	bool save_recall(const unit&amp; unit, int side_num, const map_location&amp; recall_hex);</span>
<span class='curline'><a href='../S/1244.html#L156'>unit</a>              156 src/whiteboard/manager.hpp 	void save_suppose_dead(unit&amp; curr_unit, map_location const&amp; loc);</span>
<span class='curline'><a href='../S/1244.html#L176'>unit</a>              176 src/whiteboard/manager.hpp 	bool unit_has_actions(unit const* unit) const;</span>
<span class='curline'><a href='../S/1245.html#L65'>unit</a>               65 src/whiteboard/mapbuilder.cpp 	for (unit&amp; u : resources::gameboard-&gt;units()) {</span>
<span class='curline'><a href='../S/1245.html#L120'>unit</a>              120 src/whiteboard/mapbuilder.cpp 	unit_ptr unit = action-&gt;get_unit();</span>
<span class='curline'><a href='../S/1245.html#L121'>unit</a>              121 src/whiteboard/mapbuilder.cpp 	if(!unit) {</span>
<span class='curline'><a href='../S/1245.html#L125'>unit</a>              125 src/whiteboard/mapbuilder.cpp 	if(acted_this_turn_.find(unit.get()) == acted_this_turn_.end()) {</span>
<span class='curline'><a href='../S/1245.html#L127'>unit</a>              127 src/whiteboard/mapbuilder.cpp 		unit-&gt;set_movement(unit-&gt;total_movement());</span>
<span class='curline'><a href='../S/1245.html#L137'>unit</a>              137 src/whiteboard/mapbuilder.cpp 		if(has_invalid_actions_.find(unit.get()) == has_invalid_actions_.end()) {</span>
<span class='curline'><a href='../S/1245.html#L139'>unit</a>              139 src/whiteboard/mapbuilder.cpp 				has_invalid_actions_.insert(unit.get());</span>
<span class='curline'><a href='../S/1245.html#L152'>unit</a>              152 src/whiteboard/mapbuilder.cpp 	std::set&lt;class unit const*&gt;::iterator invalid_it = has_invalid_actions_.find(unit.get());</span>
<span class='curline'><a href='../S/1245.html#L155'>unit</a>              155 src/whiteboard/mapbuilder.cpp 			if((**it)-&gt;get_unit().get() == unit.get()) {</span>
<span class='curline'><a href='../S/1245.html#L166'>unit</a>              166 src/whiteboard/mapbuilder.cpp 		acted_this_turn_.insert(unit.get());</span>
<span class='curline'><a href='../S/1245.html#L176'>unit</a>              176 src/whiteboard/mapbuilder.cpp 	std::set&lt;unit const*&gt; seen;</span>
<span class='curline'><a href='../S/1239.html#L73'>unit</a>               73 src/whiteboard/mapbuilder.hpp 	std::set&lt;unit const*&gt; acted_this_turn_;</span>
<span class='curline'><a href='../S/1239.html#L74'>unit</a>               74 src/whiteboard/mapbuilder.hpp 	std::set&lt;unit const*&gt; has_invalid_actions_;</span>
<span class='curline'><a href='../S/1243.html#L65'>unit</a>               65 src/whiteboard/move.cpp move::move(size_t team_index, bool hidden, unit&amp; u, const pathfind::marked_route&amp; route,</span>
<span class='curline'><a href='../S/1243.html#L135'>unit</a>              135 src/whiteboard/move.cpp 	fake_unit_ = fake_unit_ptr( unit_ptr(new unit(*get_unit())) , resources::fake_units );</span>
<span class='curline'><a href='../S/1243.html#L342'>unit</a>              342 src/whiteboard/move.cpp 	unit* unit;</span>
<span class='curline'><a href='../S/1243.html#L346'>unit</a>              346 src/whiteboard/move.cpp 		unit = &amp;*unit_it;</span>
<span class='curline'><a href='../S/1243.html#L350'>unit</a>              350 src/whiteboard/move.cpp 	DBG_WB &lt;&lt;"Move: Changing movement points for unit " &lt;&lt; unit-&gt;name() &lt;&lt; " [" &lt;&lt; unit-&gt;id()</span>
<span class='curline'><a href='../S/1243.html#L351'>unit</a>              351 src/whiteboard/move.cpp 			&lt;&lt; "] from " &lt;&lt; unit-&gt;movement_left() &lt;&lt; " to "</span>
<span class='curline'><a href='../S/1243.html#L352'>unit</a>              352 src/whiteboard/move.cpp 			&lt;&lt; unit-&gt;movement_left() - movement_cost_ &lt;&lt; ".\n";</span>
<span class='curline'><a href='../S/1243.html#L354'>unit</a>              354 src/whiteboard/move.cpp 	DBG_WB &lt;&lt; "Move: Temporarily moving unit " &lt;&lt; unit-&gt;name() &lt;&lt; " [" &lt;&lt; unit-&gt;id()</span>
<span class='curline'><a href='../S/1243.html#L357'>unit</a>              357 src/whiteboard/move.cpp 	                                      unit-&gt;movement_left() - movement_cost_));</span>
<span class='curline'><a href='../S/1243.html#L361'>unit</a>              361 src/whiteboard/move.cpp 	fake_unit_-&gt;set_movement(unit-&gt;movement_left(), true);</span>
<span class='curline'><a href='../S/1243.html#L372'>unit</a>              372 src/whiteboard/move.cpp 		unit* unit;</span>
<span class='curline'><a href='../S/1243.html#L376'>unit</a>              376 src/whiteboard/move.cpp 			unit = &amp;*unit_it;</span>
<span class='curline'><a href='../S/1243.html#L378'>unit</a>              378 src/whiteboard/move.cpp 		DBG_WB &lt;&lt; "Move: Movement points for unit " &lt;&lt; unit-&gt;name() &lt;&lt; " [" &lt;&lt; unit-&gt;id()</span>
<span class='curline'><a href='../S/1243.html#L379'>unit</a>              379 src/whiteboard/move.cpp 					&lt;&lt; "] should get changed from " &lt;&lt; unit-&gt;movement_left() &lt;&lt; " to "</span>
<span class='curline'><a href='../S/1243.html#L380'>unit</a>              380 src/whiteboard/move.cpp 					&lt;&lt; unit-&gt;movement_left() + movement_cost_ &lt;&lt; ".\n";</span>
<span class='curline'><a href='../S/1242.html#L34'>unit</a>               34 src/whiteboard/move.hpp 	move(size_t team_index, bool hidden, unit&amp; mover, const pathfind::marked_route&amp; route,</span>
<span class='curline'><a href='../S/1236.html#L60'>unit</a>               60 src/whiteboard/recall.cpp recall::recall(size_t team_index, bool hidden, const unit&amp; unit, const map_location&amp; recall_hex):</span>
<span class='curline'><a href='../S/1236.html#L62'>unit</a>               62 src/whiteboard/recall.cpp 		temp_unit_(new class unit(unit)),</span>
<span class='curline'><a href='../S/1236.html#L64'>unit</a>               64 src/whiteboard/recall.cpp 		fake_unit_(unit_ptr( new class unit(unit) ) )</span>
<span class='curline'><a href='../S/1236.html#L81'>unit</a>               81 src/whiteboard/recall.cpp 			temp_unit_.reset(new class unit(*recall_unit)); //TODO: is it necessary to make a copy?</span>
<span class='curline'><a href='../S/1236.html#L89'>unit</a>               89 src/whiteboard/recall.cpp 	fake_unit_.reset(unit_ptr(new class unit(*temp_unit_))); //makes copy of temp_unit_</span>
<span class='curline'><a href='../S/1236.html#L184'>unit</a>              184 src/whiteboard/recall.cpp 		unit &amp;it = *get_unit();</span>
<span class='curline'><a href='../S/1225.html#L30'>unit</a>               30 src/whiteboard/recall.hpp 	recall(size_t team_index, bool hidden, const unit&amp; unit, const map_location&amp; recall_hex);</span>
<span class='curline'><a href='../S/1224.html#L61'>unit</a>               61 src/whiteboard/recruit.cpp 		fake_unit_(unit_ptr(new unit(*temp_unit_))), //temp_unit_ *copied* into new fake unit</span>
<span class='curline'><a href='../S/1224.html#L81'>unit</a>               81 src/whiteboard/recruit.cpp 	fake_unit_.reset(unit_ptr (new unit(*temp_unit_))), //temp_unit_ copied into new fake_unit</span>
<span class='curline'><a href='../S/1224.html#L176'>unit</a>              176 src/whiteboard/recruit.cpp 	unit_ptr result(new unit(*type, side_num, real_unit));</span>
<span class='curline'><a href='../S/1230.html#L562'>unit</a>              562 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::find_first_action_of(unit const&amp; unit, side_actions::iterator start_position)</span>
<span class='curline'><a href='../S/1230.html#L564'>unit</a>              564 src/whiteboard/side_actions.cpp 	return find_first_action_of(actions_.get&lt;container::by_unit&gt;().equal_range(unit.underlying_id()), start_position, std::less&lt;iterator&gt;());</span>
<span class='curline'><a href='../S/1230.html#L567'>unit</a>              567 src/whiteboard/side_actions.cpp side_actions::const_iterator side_actions::find_last_action_of(unit const&amp; unit, side_actions::const_iterator start_position) const {</span>
<span class='curline'><a href='../S/1230.html#L568'>unit</a>              568 src/whiteboard/side_actions.cpp 	return find_first_action_of(actions_.get&lt;container::by_unit&gt;().equal_range(unit.underlying_id()), start_position, std::greater&lt;iterator&gt;());</span>
<span class='curline'><a href='../S/1230.html#L571'>unit</a>              571 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::find_last_action_of(unit const&amp; unit, side_actions::iterator start_position)</span>
<span class='curline'><a href='../S/1230.html#L573'>unit</a>              573 src/whiteboard/side_actions.cpp 	return find_first_action_of(actions_.get&lt;container::by_unit&gt;().equal_range(unit.underlying_id()), start_position, std::greater&lt;iterator&gt;());</span>
<span class='curline'><a href='../S/1230.html#L576'>unit</a>              576 src/whiteboard/side_actions.cpp side_actions::const_iterator side_actions::find_last_action_of(unit const&amp; unit) const</span>
<span class='curline'><a href='../S/1230.html#L581'>unit</a>              581 src/whiteboard/side_actions.cpp 	return find_last_action_of(unit, end() - 1);</span>
<span class='curline'><a href='../S/1230.html#L584'>unit</a>              584 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::find_last_action_of(unit const&amp; unit)</span>
<span class='curline'><a href='../S/1230.html#L589'>unit</a>              589 src/whiteboard/side_actions.cpp 	return find_last_action_of(unit, end() - 1);</span>
<span class='curline'><a href='../S/1230.html#L592'>unit</a>              592 src/whiteboard/side_actions.cpp bool side_actions::unit_has_actions(unit const&amp; unit)</span>
<span class='curline'><a href='../S/1230.html#L594'>unit</a>              594 src/whiteboard/side_actions.cpp 	return actions_.get&lt;container::by_unit&gt;().find(unit.underlying_id()) != actions_.get&lt;container::by_unit&gt;().end();</span>
<span class='curline'><a href='../S/1230.html#L597'>unit</a>              597 src/whiteboard/side_actions.cpp size_t side_actions::count_actions_of(unit const&amp; unit)</span>
<span class='curline'><a href='../S/1230.html#L599'>unit</a>              599 src/whiteboard/side_actions.cpp 	return actions_.get&lt;container::by_unit&gt;().count(unit.underlying_id());</span>
<span class='curline'><a href='../S/1230.html#L602'>unit</a>              602 src/whiteboard/side_actions.cpp std::deque&lt;action_ptr&gt; side_actions::actions_of(unit const &amp;target)</span>
<span class='curline'><a href='../S/1230.html#L611'>unit</a>              611 src/whiteboard/side_actions.cpp size_t side_actions::get_turn_num_of(unit const&amp; u) const</span>
<span class='curline'><a href='../S/1230.html#L675'>unit</a>              675 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::queue_move(size_t turn, unit&amp; mover, const pathfind::marked_route&amp; route, arrow_ptr arrow, fake_unit_ptr fake_unit)</span>
<span class='curline'><a href='../S/1230.html#L681'>unit</a>              681 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::queue_attack(size_t turn, unit&amp; mover, const map_location&amp; target_hex, int weapon_choice, const pathfind::marked_route&amp; route, arrow_ptr arrow, fake_unit_ptr fake_unit)</span>
<span class='curline'><a href='../S/1230.html#L693'>unit</a>              693 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::queue_recall(size_t turn, const unit&amp; unit, const map_location&amp; recall_hex)</span>
<span class='curline'><a href='../S/1230.html#L695'>unit</a>              695 src/whiteboard/side_actions.cpp 	recall_ptr new_recall(std::make_shared&lt;recall&gt;(team_index(), hidden_, unit, recall_hex));</span>
<span class='curline'><a href='../S/1230.html#L699'>unit</a>              699 src/whiteboard/side_actions.cpp side_actions::iterator side_actions::queue_suppose_dead(size_t turn, unit&amp; curr_unit, map_location const&amp; loc)</span>
<span class='curline'><a href='../S/1228.html#L467'>unit</a>              467 src/whiteboard/side_actions.hpp 	iterator find_first_action_of(unit const&amp; unit, iterator start_position);</span>
<span class='curline'><a href='../S/1228.html#L469'>unit</a>              469 src/whiteboard/side_actions.hpp 	iterator find_first_action_of(unit const&amp; unit){ return find_first_action_of(unit, begin()); }</span>
<span class='curline'><a href='../S/1228.html#L475'>unit</a>              475 src/whiteboard/side_actions.hpp 	iterator find_last_action_of(unit const&amp; unit, iterator start_position);</span>
<span class='curline'><a href='../S/1228.html#L477'>unit</a>              477 src/whiteboard/side_actions.hpp 	const_iterator find_last_action_of(unit const&amp; unit, const_iterator start_position) const;</span>
<span class='curline'><a href='../S/1228.html#L479'>unit</a>              479 src/whiteboard/side_actions.hpp 	iterator find_last_action_of(unit const&amp; unit);</span>
<span class='curline'><a href='../S/1228.html#L481'>unit</a>              481 src/whiteboard/side_actions.hpp 	const_iterator find_last_action_of(unit const&amp; unit) const;</span>
<span class='curline'><a href='../S/1228.html#L483'>unit</a>              483 src/whiteboard/side_actions.hpp 	bool unit_has_actions(unit const&amp; unit);</span>
<span class='curline'><a href='../S/1228.html#L484'>unit</a>              484 src/whiteboard/side_actions.hpp 	size_t count_actions_of(unit const&amp; unit);</span>
<span class='curline'><a href='../S/1228.html#L485'>unit</a>              485 src/whiteboard/side_actions.hpp 	std::deque&lt;action_ptr&gt; actions_of(unit const&amp; unit);</span>
<span class='curline'><a href='../S/1228.html#L494'>unit</a>              494 src/whiteboard/side_actions.hpp 	size_t get_turn_num_of(unit const&amp;) const;</span>
<span class='curline'><a href='../S/1228.html#L510'>unit</a>              510 src/whiteboard/side_actions.hpp 	iterator queue_move(size_t turn_num, unit&amp; mover, const pathfind::marked_route&amp; route,</span>
<span class='curline'><a href='../S/1228.html#L517'>unit</a>              517 src/whiteboard/side_actions.hpp 	iterator queue_attack(size_t turn_num, unit&amp; mover, const map_location&amp; target_hex, int weapon_choice, const pathfind::marked_route&amp; route,</span>
<span class='curline'><a href='../S/1228.html#L530'>unit</a>              530 src/whiteboard/side_actions.hpp 	iterator queue_recall(size_t turn_num, const unit&amp; unit, const map_location&amp; recall_hex);</span>
<span class='curline'><a href='../S/1228.html#L536'>unit</a>              536 src/whiteboard/side_actions.hpp 	iterator queue_suppose_dead(size_t turn_num, unit&amp; curr_unit, map_location const&amp; loc);</span>
<span class='curline'><a href='../S/1223.html#L60'>unit</a>               60 src/whiteboard/suppose_dead.cpp suppose_dead::suppose_dead(size_t team_index, bool hidden, unit&amp; curr_unit, map_location const&amp; loc)</span>
<span class='curline'><a href='../S/1232.html#L32'>unit</a>               32 src/whiteboard/suppose_dead.hpp 	suppose_dead(size_t team_index, bool hidden, unit&amp; curr_unit, map_location const&amp; loc);</span>
<span class='curline'><a href='../S/1233.html#L40'>unit</a>               40 src/whiteboard/typedefs.hpp class unit;</span>
<span class='curline'><a href='../S/1235.html#L64'>unit</a>               64 src/whiteboard/utility.cpp unit_const_ptr find_backup_leader(const unit &amp; leader)</span>
<span class='curline'><a href='../S/1235.html#L68'>unit</a>               68 src/whiteboard/utility.cpp 	for (unit_map::const_iterator unit = resources::gameboard-&gt;units().begin(); unit != resources::gameboard-&gt;units().end(); unit++)</span>
<span class='curline'><a href='../S/1235.html#L70'>unit</a>               70 src/whiteboard/utility.cpp 		if (unit-&gt;can_recruit() &amp;&amp; unit-&gt;id() != leader.id())</span>
<span class='curline'><a href='../S/1235.html#L72'>unit</a>               72 src/whiteboard/utility.cpp 			if ( dynamic_cast&lt;game_state*&gt;(resources::filter_con)-&gt;can_recruit_on(*unit, leader.get_location()) )</span>
<span class='curline'><a href='../S/1235.html#L73'>unit</a>               73 src/whiteboard/utility.cpp 				return unit.get_shared_ptr();</span>
<span class='curline'><a href='../S/1235.html#L79'>unit</a>               79 src/whiteboard/utility.cpp unit* find_recruiter(size_t team_index, map_location const&amp; hex)</span>
<span class='curline'><a href='../S/1235.html#L84'>unit</a>               84 src/whiteboard/utility.cpp 	for(unit&amp; u : resources::gameboard-&gt;units())</span>
<span class='curline'><a href='../S/1235.html#L92'>unit</a>               92 src/whiteboard/utility.cpp unit* future_visible_unit(map_location hex, int viewer_side)</span>
<span class='curline'><a href='../S/1235.html#L104'>unit</a>              104 src/whiteboard/utility.cpp unit* future_visible_unit(int on_side, map_location hex, int viewer_side)</span>
<span class='curline'><a href='../S/1235.html#L106'>unit</a>              106 src/whiteboard/utility.cpp 	unit* unit = future_visible_unit(hex, viewer_side);</span>
<span class='curline'><a href='../S/1235.html#L107'>unit</a>              107 src/whiteboard/utility.cpp 	if (unit &amp;&amp; unit-&gt;side() == on_side)</span>
<span class='curline'><a href='../S/1235.html#L108'>unit</a>              108 src/whiteboard/utility.cpp 		return unit;</span>
<span class='curline'><a href='../S/1235.html#L113'>unit</a>              113 src/whiteboard/utility.cpp int path_cost(std::vector&lt;map_location&gt; const&amp; path, unit const&amp; u)</span>
<span class='curline'><a href='../S/1235.html#L132'>unit</a>              132 src/whiteboard/utility.cpp temporary_unit_hider::temporary_unit_hider(unit&amp; u)</span>
<span class='curline'><a href='../S/1235.html#L142'>unit</a>              142 src/whiteboard/utility.cpp void ghost_owner_unit(unit* unit)</span>
<span class='curline'><a href='../S/1235.html#L144'>unit</a>              144 src/whiteboard/utility.cpp 	unit-&gt;anim_comp().set_disabled_ghosted(false);</span>
<span class='curline'><a href='../S/1235.html#L145'>unit</a>              145 src/whiteboard/utility.cpp 	resources::screen-&gt;invalidate(unit-&gt;get_location());</span>
<span class='curline'><a href='../S/1235.html#L148'>unit</a>              148 src/whiteboard/utility.cpp void unghost_owner_unit(unit* unit)</span>
<span class='curline'><a href='../S/1235.html#L150'>unit</a>              150 src/whiteboard/utility.cpp 	unit-&gt;anim_comp().set_standing(true);</span>
<span class='curline'><a href='../S/1235.html#L151'>unit</a>              151 src/whiteboard/utility.cpp 	resources::screen-&gt;invalidate(unit-&gt;get_location());</span>
<span class='curline'><a href='../S/1235.html#L210'>unit</a>              210 src/whiteboard/utility.cpp std::deque&lt;action_ptr&gt; find_actions_of(unit const &amp;target)</span>
<span class='curline'><a href='../S/1229.html#L28'>unit</a>               28 src/whiteboard/utility.hpp class unit;</span>
<span class='curline'><a href='../S/1229.html#L49'>unit</a>               49 src/whiteboard/utility.hpp unit_const_ptr find_backup_leader(unit const&amp; leader);</span>
<span class='curline'><a href='../S/1229.html#L55'>unit</a>               55 src/whiteboard/utility.hpp unit* find_recruiter(size_t team_index, map_location const&amp;);</span>
<span class='curline'><a href='../S/1229.html#L59'>unit</a>               59 src/whiteboard/utility.hpp unit* future_visible_unit(map_location hex, int viewer_side = wb::viewer_side());</span>
<span class='curline'><a href='../S/1229.html#L64'>unit</a>               64 src/whiteboard/utility.hpp unit* future_visible_unit(int on_side, map_location hex, int viewer_side = wb::viewer_side());</span>
<span class='curline'><a href='../S/1229.html#L67'>unit</a>               67 src/whiteboard/utility.hpp int path_cost(std::vector&lt;map_location&gt; const&amp; path, unit const&amp; u);</span>
<span class='curline'><a href='../S/1229.html#L70'>unit</a>               70 src/whiteboard/utility.hpp 	temporary_unit_hider(unit&amp; u);</span>
<span class='curline'><a href='../S/1229.html#L72'>unit</a>               72 src/whiteboard/utility.hpp 	unit* const unit_;</span>
<span class='curline'><a href='../S/1229.html#L103'>unit</a>              103 src/whiteboard/utility.hpp void ghost_owner_unit(unit* unit);</span>
<span class='curline'><a href='../S/1229.html#L104'>unit</a>              104 src/whiteboard/utility.hpp void unghost_owner_unit(unit* unit);</span>
<span class='curline'><a href='../S/1229.html#L148'>unit</a>              148 src/whiteboard/utility.hpp std::deque&lt;action_ptr&gt; find_actions_of(unit const &amp;target);</span>
<span class='curline'><a href='../S/1346.html#L56'>unit</a>               56 utils/wesnoth-attack-sim.c static void strike(struct unit *attacker, struct unit *defender)</span>
<span class='curline'><a href='../S/1346.html#L79'>unit</a>               79 utils/wesnoth-attack-sim.c static void simulate_attack(struct unit *a, struct unit *b)</span>
<span class='curline'><a href='../S/1346.html#L109'>unit</a>              109 utils/wesnoth-attack-sim.c static void calculate_attack(const struct unit *defender,</span>
<span class='curline'><a href='../S/1346.html#L113'>unit</a>              113 utils/wesnoth-attack-sim.c 			     const struct unit *attackers[],</span>
<span class='curline'><a href='../S/1346.html#L126'>unit</a>              126 utils/wesnoth-attack-sim.c 		struct unit def = *defender;</span>
<span class='curline'><a href='../S/1346.html#L131'>unit</a>              131 utils/wesnoth-attack-sim.c 			struct unit att = *attackers[j];</span>
<span class='curline'><a href='../S/1346.html#L180'>unit</a>              180 utils/wesnoth-attack-sim.c static struct unit *parse_unit(char ***argv)</span>
<span class='curline'><a href='../S/1346.html#L182'>unit</a>              182 utils/wesnoth-attack-sim.c 	struct unit *u = (unit *)malloc(sizeof(*u));</span>
<span class='curline'><a href='../S/1346.html#L238'>unit</a>              238 utils/wesnoth-attack-sim.c static void draw_results(const double res[], const struct unit *u,</span>
<span class='curline'><a href='../S/1346.html#L266'>unit</a>              266 utils/wesnoth-attack-sim.c static void compare_results(const double res[], const struct unit *u,</span>
<span class='curline'><a href='../S/1346.html#L337'>unit</a>              337 utils/wesnoth-attack-sim.c 	struct unit u[NUM_UNITS];</span>
<span class='curline'><a href='../S/1346.html#L385'>unit</a>              385 utils/wesnoth-attack-sim.c 				const struct unit *attackers[2];</span>
<span class='curline'><a href='../S/1346.html#L423'>unit</a>              423 utils/wesnoth-attack-sim.c 	const struct unit *def, *attacker[argc / 4 + 1];</span>
</pre>
</body>
</html>
