<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>get_terrain</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<pre>
<span class='curline'><a href='../S/4368.html#L681'>get_terrain</a>       681 data/ai/lua/ai_helper.lua                 local movecost = wesnoth.unit_movement_cost(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4368.html#L712'>get_terrain</a>       712 data/ai/lua/ai_helper.lua             local movecost = wesnoth.unit_movement_cost(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4370.html#L683'>get_terrain</a>       683 data/ai/lua/battle_calcs.lua     local att_hit_prob = wesnoth.unit_defense(defender, wesnoth.get_terrain(defender.x, defender.y)) / 100.</span>
<span class='curline'><a href='../S/4370.html#L684'>get_terrain</a>       684 data/ai/lua/battle_calcs.lua     local def_hit_prob = wesnoth.unit_defense(attacker, wesnoth.get_terrain(dst[1], dst[2])) / 100.</span>
<span class='curline'><a href='../S/4370.html#L816'>get_terrain</a>       816 data/ai/lua/battle_calcs.lua     local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(dst[1], dst[2])).village</span>
<span class='curline'><a href='../S/4370.html#L823'>get_terrain</a>       823 data/ai/lua/battle_calcs.lua         local is_adjacent_village = wesnoth.get_terrain_info(wesnoth.get_terrain(xa, ya)).village</span>
<span class='curline'><a href='../S/4370.html#L873'>get_terrain</a>       873 data/ai/lua/battle_calcs.lua     local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(defender.x, defender.y)).village</span>
<span class='curline'><a href='../S/4370.html#L918'>get_terrain</a>       918 data/ai/lua/battle_calcs.lua     local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(defender.x, defender.y)).village</span>
<span class='curline'><a href='../S/4370.html#L935'>get_terrain</a>       935 data/ai/lua/battle_calcs.lua     local defender_defense = - wesnoth.unit_defense(defender, wesnoth.get_terrain(dst[1], dst[2])) / 100.</span>
<span class='curline'><a href='../S/4370.html#L1329'>get_terrain</a>      1329 data/ai/lua/battle_calcs.lua             local defense = 100 - wesnoth.unit_defense(unit, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4370.html#L1537'>get_terrain</a>      1537 data/ai/lua/battle_calcs.lua                     loc.hit_prob = wesnoth.unit_defense(unit, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/4372.html#L346'>get_terrain</a>       346 data/ai/lua/generic_recruit_engine.lua             if (not leader) or (not wesnoth.get_terrain_info(wesnoth.get_terrain(leader.x, leader.y)).keep) then</span>
<span class='curline'><a href='../S/4365.html#L171'>get_terrain</a>       171 data/ai/lua/generic_rush_engine.lua             if best_score &gt; 0 and wesnoth.get_terrain_info(wesnoth.get_terrain(leader.x, leader.y)).keep then</span>
<span class='curline'><a href='../S/4365.html#L224'>get_terrain</a>       224 data/ai/lua/generic_rush_engine.lua                 if wesnoth.get_terrain_info(wesnoth.get_terrain(leader.x, leader.y)).keep then</span>
<span class='curline'><a href='../S/4365.html#L446'>get_terrain</a>       446 data/ai/lua/generic_rush_engine.lua                 local on_village = wesnoth.get_terrain_info(wesnoth.get_terrain(defender.x, defender.y)).village</span>
<span class='curline'><a href='../S/4365.html#L462'>get_terrain</a>       462 data/ai/lua/generic_rush_engine.lua                     local defender_defense = 100 - wesnoth.unit_defense(defender, wesnoth.get_terrain(defender.x, defender.y))</span>
<span class='curline'><a href='../S/4365.html#L466'>get_terrain</a>       466 data/ai/lua/generic_rush_engine.lua                     local attack_defense = 100 - wesnoth.unit_defense(attacker, wesnoth.get_terrain(a.dst.x, a.dst.y))</span>
<span class='curline'><a href='../S/4365.html#L471'>get_terrain</a>       471 data/ai/lua/generic_rush_engine.lua                     local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(a.dst.x, a.dst.y)).village</span>
<span class='curline'><a href='../S/4369.html#L15'>get_terrain</a>        15 data/ai/lua/retreat.lua     local hp_per_level = wesnoth.unit_defense(unit, wesnoth.get_terrain(unit.x, unit.y))/15</span>
<span class='curline'><a href='../S/4369.html#L126'>get_terrain</a>       126 data/ai/lua/retreat.lua                 local heal_amount = wesnoth.get_terrain_info(wesnoth.get_terrain(loc[1], loc[2])).healing or 0</span>
<span class='curline'><a href='../S/4369.html#L179'>get_terrain</a>       179 data/ai/lua/retreat.lua                 rating = rating - wesnoth.unit_defense(u, wesnoth.get_terrain(loc[1], loc[2]))/10</span>
<span class='curline'><a href='../S/4314.html#L27'>get_terrain</a>        27 data/ai/micro_ais/cas/ca_assassin_move.lua     local terrain = wesnoth.get_terrain(x, y)</span>
<span class='curline'><a href='../S/4314.html#L98'>get_terrain</a>        98 data/ai/micro_ais/cas/ca_assassin_move.lua         local hit_chance = (wesnoth.unit_defense(unit, wesnoth.get_terrain(x, y))) / 100.</span>
<span class='curline'><a href='../S/4307.html#L213'>get_terrain</a>       213 data/ai/micro_ais/cas/ca_fast_attack_utils.lua         local defense = (100. - wesnoth.unit_defense(unit_copy, wesnoth.get_terrain(x, y))) / 100.</span>
<span class='curline'><a href='../S/4295.html#L10'>get_terrain</a>        10 data/ai/micro_ais/cas/ca_goto.lua     local terrain = wesnoth.get_terrain(x, y)</span>
<span class='curline'><a href='../S/4316.html#L43'>get_terrain</a>        43 data/ai/micro_ais/cas/ca_healer_move.lua                 local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(healee.x, healee.y)).village</span>
<span class='curline'><a href='../S/4316.html#L107'>get_terrain</a>       107 data/ai/micro_ais/cas/ca_healer_move.lua                 local is_village = wesnoth.get_terrain_info(wesnoth.get_terrain(loc[1], loc[2])).village</span>
<span class='curline'><a href='../S/4316.html#L110'>get_terrain</a>       110 data/ai/micro_ais/cas/ca_healer_move.lua                 local defense = 100 - wesnoth.unit_defense(healer, wesnoth.get_terrain(loc[1], loc[2]))</span>
<span class='curline'><a href='../S/4318.html#L50'>get_terrain</a>        50 data/ai/micro_ais/cas/ca_protect_unit_move.lua         terrain_defense_map:insert(x, y, 100 - wesnoth.unit_defense(unit, wesnoth.get_terrain(x, y)))</span>
<span class='curline'><a href='../S/4328.html#L14'>get_terrain</a>        14 data/ai/micro_ais/cas/ca_recruit_random.lua     if (not leader) or (not wesnoth.get_terrain_info(wesnoth.get_terrain(leader.x, leader.y)).keep) then</span>
<span class='curline'><a href='../S/4328.html#L33'>get_terrain</a>        33 data/ai/micro_ais/cas/ca_recruit_random.lua                     local is_castle = wesnoth.get_terrain_info(wesnoth.get_terrain(xa, ya)).castle</span>
<span class='curline'><a href='../S/4319.html#L62'>get_terrain</a>        62 data/ai/micro_ais/cas/ca_stationed_guardian.lua                 local defense = 100 - wesnoth.unit_defense(guardian, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/4293.html#L49'>get_terrain</a>        49 data/ai/micro_ais/cas/ca_zone_guardian.lua                     local defense = 100 - wesnoth.unit_defense(guardian, wesnoth.get_terrain(xa, ya))</span>
<span class='curline'><a href='../S/5065.html#L211'>get_terrain</a>       211 data/campaigns/Heir_To_The_Throne/scenarios/13_The_Dwarven_Doors.cfg     local terrainCode = wesnoth.get_terrain(coordinate[1], coordinate[2])</span>
<span class='curline'><a href='../S/5515.html#L411'>get_terrain</a>       411 data/lua/wml-tags.lua 		local t = wesnoth.get_terrain(x, y)</span>
<span class='curline'><a href='../S/5515.html#L639'>get_terrain</a>       639 data/lua/wml-tags.lua 			local terrain = wesnoth.get_terrain(loc[1], loc[2])</span>
<span class='curline'><a href='../S/5515.html#L656'>get_terrain</a>       656 data/lua/wml-tags.lua 			terrain = wesnoth.get_terrain( village[1], village[2] ),</span>
<span class='curline'><a href='../S/5528.html#L92'>get_terrain</a>        92 data/lua/wml/find_path.lua 			wesnoth.set_variable ( string.format( "%s.step[%d]", variable, index - 1 ), { x = path_loc[1], y = path_loc[2], terrain = wesnoth.get_terrain( path_loc[1], path_loc[2] ), movement_cost = sub_cost, required_turns = sub_turns } ) -- this structure takes less space in the inspection window</span>
<span class='curline'><a href='../S/5526.html#L35'>get_terrain</a>        35 data/lua/wml/random_placement.lua 		wesnoth.set_variable(variable .. ".terrain", wesnoth.get_terrain(point[1], point[2]))</span>
<span class='curline'><a href='../S/894.html#L148'>get_terrain</a>       148 src/actions/attack.cpp 			resources::gameboard-&gt;map().get_terrain(opp_loc)) + weapon-&gt;accuracy() -</span>
<span class='curline'><a href='../S/286.html#L500'>get_terrain</a>       500 src/ai/contexts.cpp 		const int defense = itor-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;second));</span>
<span class='curline'><a href='../S/240.html#L354'>get_terrain</a>       354 src/ai/default/aspect_attacks.cpp 	const t_translation::terrain_code terrain = map_.get_terrain(loc);</span>
<span class='curline'><a href='../S/238.html#L468'>get_terrain</a>       468 src/ai/default/ca.cpp 			next_hop_cost += leader-&gt;movement_cost(resources::gameboard-&gt;map().get_terrain(step));</span>
<span class='curline'><a href='../S/238.html#L735'>get_terrain</a>       735 src/ai/default/ca.cpp 		if(un.hitpoints() &lt; (threat*2*un.defense_modifier(map_.get_terrain(current_loc)))/100) {</span>
<span class='curline'><a href='../S/238.html#L1457'>get_terrain</a>      1457 src/ai/default/ca.cpp 				int best_defensive_rating = i-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;get_location()))</span>
<span class='curline'><a href='../S/238.html#L1473'>get_terrain</a>      1473 src/ai/default/ca.cpp 					const int defense = i-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(hex));</span>
<span class='curline'><a href='../S/238.html#L1537'>get_terrain</a>      1537 src/ai/default/ca.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc)) / 100.0;</span>
<span class='curline'><a href='../S/238.html#L1655'>get_terrain</a>      1655 src/ai/default/ca.cpp 					int tmp_def_mod = ai_leader-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(i-&gt;curr));</span>
<span class='curline'><a href='../S/237.html#L453'>get_terrain</a>       453 src/ai/default/ca_move_to_targets.cpp 				const int defense = best-&gt;defense_modifier(map_.get_terrain(*i));</span>
<span class='curline'><a href='../S/237.html#L498'>get_terrain</a>       498 src/ai/default/ca_move_to_targets.cpp 				movement -= best-&gt;movement_cost(map_.get_terrain(*i));</span>
<span class='curline'><a href='../S/237.html#L548'>get_terrain</a>       548 src/ai/default/ca_move_to_targets.cpp 				const int defense = un.defense_modifier(map_.get_terrain(i-&gt;second));</span>
<span class='curline'><a href='../S/237.html#L786'>get_terrain</a>       786 src/ai/default/ca_move_to_targets.cpp 			int defense = un-&gt;defense_modifier(map_.get_terrain(*j));</span>
<span class='curline'><a href='../S/237.html#L840'>get_terrain</a>       840 src/ai/default/ca_move_to_targets.cpp 			defense += un.defense_modifier(map_.get_terrain(*j));</span>
<span class='curline'><a href='../S/237.html#L871'>get_terrain</a>       871 src/ai/default/ca_move_to_targets.cpp 		un-&gt;defense_modifier(resources::gameboard-&gt;map().get_terrain(loc))/100.0;</span>
<span class='curline'><a href='../S/246.html#L103'>get_terrain</a>       103 src/ai/default/contexts.cpp 	const t_translation::terrain_code terrain = map_.get_terrain(loc);</span>
<span class='curline'><a href='../S/681.html#L2648'>get_terrain</a>      2648 src/display.cpp 			surface text = font::get_rendered_text(lexical_cast&lt;std::string&gt;(get_map().get_terrain(loc)), font::SIZE_SMALL, font::NORMAL_COLOR);</span>
<span class='curline'><a href='../S/54.html#L205'>get_terrain</a>       205 src/editor/action/action.cpp 	std::unique_ptr&lt;editor_action_paint_area&gt; undo(new editor_action_paint_area(to_fill, mc.get_map().get_terrain(loc_)));</span>
<span class='curline'><a href='../S/54.html#L305'>get_terrain</a>       305 src/editor/action/action.cpp 		t_translation::terrain_code tmp = mc.get_map().get_terrain(*orig_it);</span>
<span class='curline'><a href='../S/54.html#L306'>get_terrain</a>       306 src/editor/action/action.cpp 		mc.draw_terrain(mc.get_map().get_terrain(*shuffle_it), *orig_it);</span>
<span class='curline'><a href='../S/43.html#L265'>get_terrain</a>       265 src/editor/action/mouse/mouse_action.cpp 		terrain_palette_.select_fg_item(disp.map().get_terrain(hex));</span>
<span class='curline'><a href='../S/43.html#L276'>get_terrain</a>       276 src/editor/action/mouse/mouse_action.cpp 		terrain_palette_.select_bg_item(disp.map().get_terrain(hex));</span>
<span class='curline'><a href='../S/43.html#L362'>get_terrain</a>       362 src/editor/action/mouse/mouse_action.cpp 		terrain_palette_.select_fg_item(disp.map().get_terrain(hex));</span>
<span class='curline'><a href='../S/43.html#L377'>get_terrain</a>       377 src/editor/action/mouse/mouse_action.cpp 		terrain_palette_.select_bg_item(disp.map().get_terrain(hex));</span>
<span class='curline'><a href='../S/71.html#L118'>get_terrain</a>       118 src/editor/map/editor_map.cpp 	t_translation::terrain_code terrain = get_terrain(start);</span>
<span class='curline'><a href='../S/71.html#L128'>get_terrain</a>       128 src/editor/map/editor_map.cpp 			if (on_board_with_border(adj[i]) &amp;&amp; get_terrain(adj[i]) == terrain</span>
<span class='curline'><a href='../S/71.html#L270'>get_terrain</a>       270 src/editor/map/editor_map.cpp 			if (target.get_terrain(iter) == get_terrain(iter)) {</span>
<span class='curline'><a href='../S/70.html#L378'>get_terrain</a>       378 src/editor/map/map_context.cpp 	t_translation::terrain_code old_terrain = map_.get_terrain(loc);</span>
<span class='curline'><a href='../S/68.html#L32'>get_terrain</a>        32 src/editor/map/map_fragment.hpp 	: offset(offset), terrain(map.get_terrain(offset))</span>
<span class='curline'><a href='../S/740.html#L322'>get_terrain</a>       322 src/game_board.cpp 		old_t = map_-&gt;get_terrain(loc),</span>
<span class='curline'><a href='../S/828.html#L433'>get_terrain</a>       433 src/game_display.cpp 			int def =  100 - un-&gt;defense_modifier(get_map().get_terrain(loc));</span>
<span class='curline'><a href='../S/828.html#L478'>get_terrain</a>       478 src/game_display.cpp 			int def =  100 - selectedUnit-&gt;defense_modifier(get_map().get_terrain(loc));</span>
<span class='curline'><a href='../S/828.html#L518'>get_terrain</a>       518 src/game_display.cpp 		move_cost = u-&gt;movement_cost(dc_-&gt;map().get_terrain(loc));</span>
<span class='curline'><a href='../S/1086.html#L52'>get_terrain</a>        52 src/map/map.cpp 	return tdata_-&gt;get_terrain_info(get_terrain(loc));</span>
<span class='curline'><a href='../S/1086.html#L56'>get_terrain</a>        56 src/map/map.cpp 	{ return underlying_mvt_terrain(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L58'>get_terrain</a>        58 src/map/map.cpp 	{ return underlying_def_terrain(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L60'>get_terrain</a>        60 src/map/map.cpp 	{ return underlying_union_terrain(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L62'>get_terrain</a>        62 src/map/map.cpp 	{ return get_terrain_string(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L64'>get_terrain</a>        64 src/map/map.cpp 	{ return get_terrain_editor_string(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L67'>get_terrain</a>        67 src/map/map.cpp 	{ return on_board(loc) &amp;&amp; is_village(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L69'>get_terrain</a>        69 src/map/map.cpp 	{ return on_board(loc) ?  gives_healing(get_terrain(loc)) : 0; }</span>
<span class='curline'><a href='../S/1086.html#L71'>get_terrain</a>        71 src/map/map.cpp 	{ return on_board(loc) &amp;&amp; is_castle(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L73'>get_terrain</a>        73 src/map/map.cpp 	{ return on_board(loc) &amp;&amp; is_keep(get_terrain(loc)); }</span>
<span class='curline'><a href='../S/1086.html#L103'>get_terrain</a>       103 src/map/map.cpp 	cfg["terrain"] = t_translation::write_terrain_code(get_terrain(loc));</span>
<span class='curline'><a href='../S/1086.html#L387'>get_terrain</a>       387 src/map/map.cpp 	t_translation::terrain_code new_terrain = tdata_-&gt;merge_terrains(get_terrain(loc), terrain, mode, replace_if_failed);</span>
<span class='curline'><a href='../S/1087.html#L122'>get_terrain</a>       122 src/map/map.hpp 	t_translation::terrain_code get_terrain(const map_location&amp; loc) const;</span>
<span class='curline'><a href='../S/789.html#L1163'>get_terrain</a>      1163 src/preferences/game.cpp 		const t_translation::terrain_code terrain = map.get_terrain(loc);</span>
<span class='curline'><a href='../S/760.html#L1171'>get_terrain</a>      1171 src/reports.cpp 	t_translation::terrain_code terrain = map.get_terrain(mouseover_hex);</span>
<span class='curline'><a href='../S/760.html#L1334'>get_terrain</a>      1334 src/reports.cpp 	t_translation::terrain_code terrain = map.get_terrain(mouseover_hex);</span>
<span class='curline'><a href='../S/760.html#L1378'>get_terrain</a>      1378 src/reports.cpp 	t_translation::terrain_code terrain = map.get_terrain(mouseover_hex);</span>
<span class='curline'><a href='../S/185.html#L960'>get_terrain</a>       960 src/scripting/game_lua_kernel.cpp 		get_terrain(loc);</span>
<span class='curline'><a href='../S/309.html#L1043'>get_terrain</a>      1043 src/terrain/builder.cpp 		if(&amp;cons != type_checked &amp;&amp; !terrain_matches(map().get_terrain(tloc), cons.terrain_types_match)) {</span>
<span class='curline'><a href='../S/309.html#L1131'>get_terrain</a>      1131 src/terrain/builder.cpp 			const t_translation::terrain_code t = map().get_terrain(loc);</span>
<span class='curline'><a href='../S/311.html#L330'>get_terrain</a>       330 src/terrain/filter.cpp 			t_translation::terrain_code t = map.get_terrain(loc);</span>
<span class='curline'><a href='../S/992.html#L391'>get_terrain</a>       391 src/units/animation.cpp 		if(!t_translation::terrain_matches(disp.get_map().get_terrain(loc), terrain_types_)) {</span>
<span class='curline'><a href='../S/1005.html#L166'>get_terrain</a>       166 src/units/animation_component.cpp 		const t_translation::terrain_code terrain = map.get_terrain(u_.loc_);</span>
<span class='curline'><a href='../S/1010.html#L101'>get_terrain</a>       101 src/units/drawer.cpp 	const t_translation::terrain_code terrain = map.get_terrain(loc);</span>
<span class='curline'><a href='../S/1010.html#L323'>get_terrain</a>       323 src/units/drawer.cpp 	const t_translation::terrain_code terrain_dst = map.get_terrain(dst);</span>
<span class='curline'><a href='../S/1009.html#L498'>get_terrain</a>       498 src/units/filter.cpp 	if (!vcfg["defense"].blank() &amp;&amp; vcfg["defense"].to_int(-1) != u.defense_modifier(fc_.get_disp_context().map().get_terrain(loc))) {</span>
<span class='curline'><a href='../S/1009.html#L502'>get_terrain</a>       502 src/units/filter.cpp 	if (!vcfg["movement_cost"].blank() &amp;&amp; vcfg["movement_cost"].to_int(-1) != u.movement_cost(fc_.get_disp_context().map().get_terrain(loc))) {</span>
</pre>
</body>
</html>
