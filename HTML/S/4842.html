<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>data/campaigns/Secrets_of_the_Ancients/scenarios/21_Against_the_World.cfg</title>
<meta name='robots' content='noindex,nofollow' />
<meta name='generator' content='GLOBAL-6.5.6' />
<meta http-equiv='Content-Style-Type' content='text/css' />
<link rel='stylesheet' type='text/css' href='../style.css' />
</head>
<body>
<a id='TOP' name='TOP'></a><h2 class='header'><a href='../mains.html'>root</a>/<a href='../files/5624.html'>data</a>/<a href='../files/5638.html'>campaigns</a>/<a href='../files/5689.html'>Secrets_of_the_Ancients</a>/<a href='../files/5690.html'>scenarios</a>/21_Against_the_World.cfg</h2>
<em class='comment'>/* [&lt;][&gt;][^][v][top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
<hr />
<pre>
<a id='L1' name='L1'></a>   1 #textdomain wesnoth-sota
<a id='L2' name='L2'></a>   2 
<a id='L3' name='L3'></a>   3 # Several enemies are placed on the map at the start. Three others are placed later on
<a id='L4' name='L4'></a>   4 # specific turns. It is possible <strong class='reserved'>for</strong> the player to occupy their castles before they
<a id='L5' name='L5'></a>   5 # appear, or wait nearby to assassinate them before they can recruit. This strategy will
<a id='L6' name='L6'></a>   6 # backfire as the leader will get at least a castle's worth of units a turn earlier in
<a id='L7' name='L7'></a>   7 # this <strong class='reserved'>case</strong>. Several events and macros control this. (About half of this file actually.)
<a id='L8' name='L8'></a>   8 
<a id='L9' name='L9'></a>   9 # This is slightly hackish since the closer contains VAR_NAME...
<a id='L10' name='L10'></a>  10 # wmlindent: opener "{NEAREST_HEX "
<a id='L11' name='L11'></a>  11 # wmlindent: closer "location}"
<a id='L12' name='L12'></a>  12 
<a id='L13' name='L13'></a>  13 [scenario]
<a id='L14' name='L14'></a>  14     <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Against the World"
<a id='L15' name='L15'></a>  15     <a href='../D/10693.html' title='Multiple defined in 2 places.'>map_data</a>="{campaigns/Secrets_of_the_Ancients/maps/21_Against_the_World.map}"
<a id='L16' name='L16'></a>  16 
<a id='L17' name='L17'></a>  17     <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=21_Against_the_World
<a id='L18' name='L18'></a>  18     <a href='../D/11305.html' title='Multiple defined in 2 places.'>next_scenario</a>=22_Epilogue
<a id='L19' name='L19'></a>  19     <a href='../Y/21285.html' title='Multiple used in 175 places.'>victory_when_enemies_defeated</a>=no
<a id='L20' name='L20'></a>  20 
<a id='L21' name='L21'></a>  21     [story]
<a id='L22' name='L22'></a>  22         [part]
<a id='L23' name='L23'></a>  23             <a href='../Y/18997.html' title='Multiple used in 724 places.'>story</a>= _ "30 VI, 23 YW
<a id='L24' name='L24'></a>  24 
<a id='L25' name='L25'></a>  25 From the northern part of the kingdom of Knalga, the tunnel split into many passageways. Being able to feel the life force of the dwarves allowed us to take mostly unoccupied tunnels, which we did."
<a id='L26' name='L26'></a>  26         [/part]
<a id='L27' name='L27'></a>  27         [part]
<a id='L28' name='L28'></a>  28             [background_layer]
<a id='L29' name='L29'></a>  29                 <a href='../D/8633.html' title='Multiple defined in 19 places.'>image</a>=story/ford-of-abez-2.jpg
<a id='L30' name='L30'></a>  30                 <a href='../D/13186.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L31' name='L31'></a>  31             [/background_layer]
<a id='L32' name='L32'></a>  32             <a href='../Y/18997.html' title='Multiple used in 724 places.'>story</a>= _ "3 VII, 23 YW
<a id='L33' name='L33'></a>  33 
<a id='L34' name='L34'></a>  34 We finally made it out of the mountains. We crossed the Ford of Abez late this morning, and hiked the rest of the day south-east, making <strong class='reserved'>for</strong> the town of Tath. We planned to split up there. I was going to go south to Dan’Tonk and Weldyn to spread our news, and Ras-Tabahn was to head toward Elensefar to carry out his plan of carving out a special place <strong class='reserved'>for</strong> us in the world. (And becoming some sort of king as well I suppose.)"
<a id='L35' name='L35'></a>  35         [/part]
<a id='L36' name='L36'></a>  36         [part]
<a id='L37' name='L37'></a>  37             [background_layer]
<a id='L38' name='L38'></a>  38                 <a href='../D/8633.html' title='Multiple defined in 19 places.'>image</a>=story/ford-of-abez-2.jpg
<a id='L39' name='L39'></a>  39                 <a href='../D/13186.html' title='Multiple defined in 2 places.'>scale</a>=no
<a id='L40' name='L40'></a>  40             [/background_layer]
<a id='L41' name='L41'></a>  41             <a href='../Y/18997.html' title='Multiple used in 724 places.'>story</a>= _ "It was not to be. We were about to start on our separate journeys when the plains suddenly became more crowded."
<a id='L42' name='L42'></a>  42         [/part]
<a id='L43' name='L43'></a>  43     [/story]
<a id='L44' name='L44'></a>  44 
<a id='L45' name='L45'></a>  45     <em class='brace'>{</em>MORNING<em class='brace'>}</em>
<a id='L46' name='L46'></a>  46     <em class='brace'>{</em>AFTERNOON<em class='brace'>}</em>
<a id='L47' name='L47'></a>  47     <em class='brace'>{</em>DUSK<em class='brace'>}</em>
<a id='L48' name='L48'></a>  48     <em class='brace'>{</em>FIRST_WATCH<em class='brace'>}</em>
<a id='L49' name='L49'></a>  49     <em class='brace'>{</em>SECOND_WATCH<em class='brace'>}</em>
<a id='L50' name='L50'></a>  50     <em class='brace'>{</em>DAWN<em class='brace'>}</em>
<a id='L51' name='L51'></a>  51     <em class='brace'>{</em>DEFAULT_MUSIC_PLAYLIST<em class='brace'>}</em>
<a id='L52' name='L52'></a>  52     <a href='../S/789.html#L707' title='Defined at 707 in src/preferences/game.cpp.'>turns</a>=-1
<a id='L53' name='L53'></a>  53 
<a id='L54' name='L54'></a>  54     [side]
<a id='L55' name='L55'></a>  55         <em class='brace'>{</em>SIDE_1_BOTH<em class='brace'>}</em>
<a id='L56' name='L56'></a>  56         <em class='brace'>{</em>GOLD 500 450 400<em class='brace'>}</em>
<a id='L57' name='L57'></a>  57     [/side]
<a id='L58' name='L58'></a>  58 
<a id='L59' name='L59'></a>  59     [side]
<a id='L60' name='L60'></a>  60         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L61' name='L61'></a>  61         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L62' name='L62'></a>  62         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Cavalry"
<a id='L63' name='L63'></a>  63         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L64' name='L64'></a>  64         <em class='brace'>{</em>GOLD 200 300 400<em class='brace'>}</em>
<a id='L65' name='L65'></a>  65         <a href='../D/12438.html' title='Multiple defined in 5 places.'>recruit</a>=Knight, Dragoon
<a id='L66' name='L66'></a>  66         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L67' name='L67'></a>  67         <em class='brace'>{</em>INCOME 10 12 15<em class='brace'>}</em>
<a id='L68' name='L68'></a>  68         <em class='brace'>{</em>FLAG_VARIANT loyalist<em class='brace'>}</em>
<a id='L69' name='L69'></a>  69     [/side]
<a id='L70' name='L70'></a>  70 
<a id='L71' name='L71'></a>  71     [side]
<a id='L72' name='L72'></a>  72         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L73' name='L73'></a>  73         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L74' name='L74'></a>  74         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Saurians"
<a id='L75' name='L75'></a>  75         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L76' name='L76'></a>  76         <em class='brace'>{</em>GOLD 350 450 550<em class='brace'>}</em>
<a id='L77' name='L77'></a>  77         <a href='../D/12438.html' title='Multiple defined in 5 places.'>recruit</a>=Saurian Ambusher, Saurian Oracle, Saurian Soothsayer
<a id='L78' name='L78'></a>  78         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L79' name='L79'></a>  79         <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L80' name='L80'></a>  80         <a href='../S/1121.html#L206' title='Defined at 206 in src/game_initialization/connect_engine.hpp.'>income</a>=-2  # Until they arrive.
<a id='L81' name='L81'></a>  81     [/side]
<a id='L82' name='L82'></a>  82 
<a id='L83' name='L83'></a>  83     [side]
<a id='L84' name='L84'></a>  84         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L85' name='L85'></a>  85         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L86' name='L86'></a>  86         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Dwarves"
<a id='L87' name='L87'></a>  87         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L88' name='L88'></a>  88         <em class='brace'>{</em>GOLD 350 450 550<em class='brace'>}</em>
<a id='L89' name='L89'></a>  89         <a href='../D/12438.html' title='Multiple defined in 5 places.'>recruit</a>=Dwarvish Fighter, Dwarvish Steelclad, Dwarvish Lord, Dwarvish Thunderguard, Dwarvish Pathfinder, Dwarvish Runesmith
<a id='L90' name='L90'></a>  90         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L91' name='L91'></a>  91         <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L92' name='L92'></a>  92         <a href='../S/1121.html#L206' title='Defined at 206 in src/game_initialization/connect_engine.hpp.'>income</a>=-2  # Until they arrive.
<a id='L93' name='L93'></a>  93     [/side]
<a id='L94' name='L94'></a>  94 
<a id='L95' name='L95'></a>  95     [side]
<a id='L96' name='L96'></a>  96         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=5
<a id='L97' name='L97'></a>  97         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L98' name='L98'></a>  98         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Magi"
<a id='L99' name='L99'></a>  99         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L100' name='L100'></a> 100         <em class='brace'>{</em>GOLD 300 400 500<em class='brace'>}</em>
<a id='L101' name='L101'></a> 101         <a href='../D/12438.html' title='Multiple defined in 5 places.'>recruit</a>=Mage, Red Mage, White Mage
<a id='L102' name='L102'></a> 102         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L103' name='L103'></a> 103         <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L104' name='L104'></a> 104         <a href='../S/1121.html#L206' title='Defined at 206 in src/game_initialization/connect_engine.hpp.'>income</a>=-2  # Until they arrive.
<a id='L105' name='L105'></a> 105         <em class='brace'>{</em>FLAG_VARIANT loyalist<em class='brace'>}</em>
<a id='L106' name='L106'></a> 106     [/side]
<a id='L107' name='L107'></a> 107 
<a id='L108' name='L108'></a> 108     [side]
<a id='L109' name='L109'></a> 109         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=6
<a id='L110' name='L110'></a> 110         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L111' name='L111'></a> 111         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Elves"
<a id='L112' name='L112'></a> 112         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L113' name='L113'></a> 113         <em class='brace'>{</em>GOLD 250 320 400<em class='brace'>}</em>
<a id='L114' name='L114'></a> 114         <a href='../D/12438.html' title='Multiple defined in 5 places.'>recruit</a>=Elvish Hero, Elvish Sharpshooter, Elvish Sorceress, Elvish Druid
<a id='L115' name='L115'></a> 115         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L116' name='L116'></a> 116         <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=yes
<a id='L117' name='L117'></a> 117         <a href='../S/1121.html#L206' title='Defined at 206 in src/game_initialization/connect_engine.hpp.'>income</a>=-2  # Until they arrive.
<a id='L118' name='L118'></a> 118         <em class='brace'>{</em>FLAG_VARIANT wood-elvish<em class='brace'>}</em>
<a id='L119' name='L119'></a> 119     [/side]
<a id='L120' name='L120'></a> 120 
<a id='L121' name='L121'></a> 121     [side]
<a id='L122' name='L122'></a> 122         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=7
<a id='L123' name='L123'></a> 123         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L124' name='L124'></a> 124         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Merfolk"
<a id='L125' name='L125'></a> 125         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L126' name='L126'></a> 126         <em class='brace'>{</em>GOLD 150 250 300<em class='brace'>}</em>
<a id='L127' name='L127'></a> 127         <a href='../D/12438.html' title='Multiple defined in 5 places.'>recruit</a>=Mermaid Priestess, Mermaid Enchantress, Mermaid Initiate, Merman Warrior, Merman Netcaster, Merman Spearman
<a id='L128' name='L128'></a> 128         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L129' name='L129'></a> 129         <em class='brace'>{</em>INCOME 4 6 8<em class='brace'>}</em>
<a id='L130' name='L130'></a> 130         [ai]
<a id='L131' name='L131'></a> 131             # We want the merfolk to pick up villages, but not to start slithering
<a id='L132' name='L132'></a> 132             # over land towards the player's keep, which they would normally do.
<a id='L133' name='L133'></a> 133             # To prevent it, we make them avoid everything except water and
<a id='L134' name='L134'></a> 134             # villages (and their own castle). This is only active through turn 3
<a id='L135' name='L135'></a> 135             # because a micro-ai is going to take over on turn 4 and send them
<a id='L136' name='L136'></a> 136             # down the river.
<a id='L137' name='L137'></a> 137             <a href='../S/789.html#L707' title='Defined at 707 in src/preferences/game.cpp.'>turns</a>=1-3
<a id='L138' name='L138'></a> 138             [avoid]
<a id='L139' name='L139'></a> 139                 <a href='../S/68.html#L32' title='Defined at 32 in src/editor/map/map_fragment.hpp.'>terrain</a>=!,Chw,Khw,W*,*^V*
<a id='L140' name='L140'></a> 140             [/avoid]
<a id='L141' name='L141'></a> 141         [/ai]
<a id='L142' name='L142'></a> 142         <em class='brace'>{</em>FLAG_VARIANT <strong class='reserved'>long</strong><em class='brace'>}</em>
<a id='L143' name='L143'></a> 143     [/side]
<a id='L144' name='L144'></a> 144 
<a id='L145' name='L145'></a> 145     [side]
<a id='L146' name='L146'></a> 146         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=8
<a id='L147' name='L147'></a> 147         <a href='../D/4879.html' title='Multiple defined in 7 places.'>controller</a>=ai
<a id='L148' name='L148'></a> 148         <a href='../D/15768.html' title='Multiple defined in 2 places.'>user_team_name</a>= _ "Nagas"
<a id='L149' name='L149'></a> 149         <a href='../D/14900.html' title='Multiple defined in 4 places.'>team_name</a>=bad
<a id='L150' name='L150'></a> 150         <a href='../S/1074.html#L334' title='Defined at 334 in src/team.hpp.'>no_leader</a>=yes
<a id='L151' name='L151'></a> 151         <a href='../D/8195.html' title='Multiple defined in 3 places.'>gold</a>=0
<a id='L152' name='L152'></a> 152         [ai]
<a id='L153' name='L153'></a> 153             <a href='../Y/12827.html' title='Multiple used in 5 places.'>leader_ignores_keep</a>=yes
<a id='L154' name='L154'></a> 154         [/ai]
<a id='L155' name='L155'></a> 155     [/side]
<a id='L156' name='L156'></a> 156 
<a id='L157' name='L157'></a> 157     # This grabs an extra unit from a list <strong class='reserved'>for</strong> this side. (See the next macro <strong class='reserved'>for</strong> more
<a id='L158' name='L158'></a> 158     # info.)
<a id='L159' name='L159'></a> 159 <em class='sharp'>#define</em> EXTRA_STARTING_UNIT SIDE INDEX
<a id='L160' name='L160'></a> 160     # This variable name is used a lot, and it would be a problem <strong class='reserved'>if</strong> it were set:
<a id='L161' name='L161'></a> 161     [clear_variable]
<a id='L162' name='L162'></a> 162         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=location
<a id='L163' name='L163'></a> 163     [/clear_variable]
<a id='L164' name='L164'></a> 164     # We need a variable <strong class='reserved'>for</strong> the next <strong class='reserved'>if</strong> statement:
<a id='L165' name='L165'></a> 165     [set_variable]
<a id='L166' name='L166'></a> 166         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=side
<a id='L167' name='L167'></a> 167         <a href='../D/15831.html' title='Multiple defined in 19 places.'>value</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L168' name='L168'></a> 168     [/set_variable]
<a id='L169' name='L169'></a> 169     #The dwarf leader arrives early enough that he is guaranteed to be able to reach
<a id='L170' name='L170'></a> 170     # his keep, so we will put *his* units on castle hexes.
<a id='L171' name='L171'></a> 171     [<strong class='reserved'>if</strong>]
<a id='L172' name='L172'></a> 172         [variable]
<a id='L173' name='L173'></a> 173             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=side
<a id='L174' name='L174'></a> 174             <a href='../D/5929.html' title='Multiple defined in 10 places.'>equals</a>=4
<a id='L175' name='L175'></a> 175         [/variable]
<a id='L176' name='L176'></a> 176         [then]
<a id='L177' name='L177'></a> 177             <em class='brace'>{</em>FIND_CASTLE_HEX 4 location<em class='brace'>}</em>
<a id='L178' name='L178'></a> 178         [/then]
<a id='L179' name='L179'></a> 179     [/<strong class='reserved'>if</strong>]
<a id='L180' name='L180'></a> 180     # The other leaders need more flexible placement.
<a id='L181' name='L181'></a> 181     [<strong class='reserved'>if</strong>]
<a id='L182' name='L182'></a> 182         [variable]
<a id='L183' name='L183'></a> 183             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=location.length
<a id='L184' name='L184'></a> 184             <a href='../D/9712.html' title='Multiple defined in 6 places.'>less_than</a>=1
<a id='L185' name='L185'></a> 185         [/variable]
<a id='L186' name='L186'></a> 186         [then]
<a id='L187' name='L187'></a> 187             [set_variables]
<a id='L188' name='L188'></a> 188                 <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=location
<a id='L189' name='L189'></a> 189                 <a href='../Y/20134.html' title='Multiple used in 23 places.'>to_variable</a>=leader_location
<a id='L190' name='L190'></a> 190             [/set_variables]
<a id='L191' name='L191'></a> 191         [/then]
<a id='L192' name='L192'></a> 192     [/<strong class='reserved'>if</strong>]
<a id='L193' name='L193'></a> 193     [unit]
<a id='L194' name='L194'></a> 194         <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$location.x
<a id='L195' name='L195'></a> 195         <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$location.y
<a id='L196' name='L196'></a> 196         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L197' name='L197'></a> 197         <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=$starting_units_list[<em class='brace'>{</em>INDEX<em class='brace'>}</em>].type
<a id='L198' name='L198'></a> 198     [/unit]
<a id='L199' name='L199'></a> 199     [gold]
<a id='L200' name='L200'></a> 200         # It costs about as much as a level-2 unit whether it is or not. This way it
<a id='L201' name='L201'></a> 201         # has little impact on the total number of units that will be fielded:
<a id='L202' name='L202'></a> 202         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L203' name='L203'></a> 203         <a href='../Y/5547.html' title='Multiple used in 257 places.'>amount</a>=-35
<a id='L204' name='L204'></a> 204     [/gold]
<a id='L205' name='L205'></a> 205 #enddef
<a id='L206' name='L206'></a> 206 
<a id='L207' name='L207'></a> 207     # When an enemy leader of a new side arrives on the map, it could find the player's
<a id='L208' name='L208'></a> 208     # units sitting on its castle tiles so it can't recruit, or waiting to assassinate it.
<a id='L209' name='L209'></a> 209     # This would make it too easy <strong class='reserved'>for</strong> the player. In this <strong class='reserved'>case</strong>, the AI will get a castle-full
<a id='L210' name='L210'></a> 210     # of units without having to recruit them. Many of them will be more powerful than what
<a id='L211' name='L211'></a> 211     # it would have been able to recruit in the first place, making this strategy backfire
<a id='L212' name='L212'></a> 212     # on the player.
<a id='L213' name='L213'></a> 213 <em class='sharp'>#define</em> ADD_EXTRA_STARTING_UNITS SIDE
<a id='L214' name='L214'></a> 214     # close_units will be units from side 1 that can reach the castle this turn (before
<a id='L215' name='L215'></a> 215     # the leader can recruit), prevent the leader from getting to its keep, or attack
<a id='L216' name='L216'></a> 216     # the leader.
<a id='L217' name='L217'></a> 217     [clear_variable]
<a id='L218' name='L218'></a> 218         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=close_units
<a id='L219' name='L219'></a> 219     [/clear_variable]
<a id='L220' name='L220'></a> 220 
<a id='L221' name='L221'></a> 221     [store_locations]
<a id='L222' name='L222'></a> 222         [filter]
<a id='L223' name='L223'></a> 223             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L224' name='L224'></a> 224             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L225' name='L225'></a> 225         [/filter]
<a id='L226' name='L226'></a> 226         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=leader_location
<a id='L227' name='L227'></a> 227     [/store_locations]
<a id='L228' name='L228'></a> 228     [store_locations]
<a id='L229' name='L229'></a> 229         # If the leader managed to make it to its keep, these will be castle tiles:
<a id='L230' name='L230'></a> 230         <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$leader_location.x
<a id='L231' name='L231'></a> 231         <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$leader_location.y
<a id='L232' name='L232'></a> 232         <a href='../Y/16716.html' title='Multiple used in 315 places.'>radius</a>=1
<a id='L233' name='L233'></a> 233         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=adjacent_to_leader
<a id='L234' name='L234'></a> 234     [/store_locations]
<a id='L235' name='L235'></a> 235 
<a id='L236' name='L236'></a> 236     [store_unit]
<a id='L237' name='L237'></a> 237         [filter]
<a id='L238' name='L238'></a> 238             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L239' name='L239'></a> 239         [/filter]
<a id='L240' name='L240'></a> 240         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=side1_units
<a id='L241' name='L241'></a> 241     [/store_unit]
<a id='L242' name='L242'></a> 242 
<a id='L243' name='L243'></a> 243     # For each unit on side-1, store its reachable locations. Then, check each hex
<a id='L244' name='L244'></a> 244     # adjacent to the enemy leader to see <strong class='reserved'>if</strong> one matches one of those locations.
<a id='L245' name='L245'></a> 245     [<strong class='reserved'>for</strong>]
<a id='L246' name='L246'></a> 246         <a href='../Y/5679.html' title='Multiple used in 183 places.'>array</a>=side1_units
<a id='L247' name='L247'></a> 247         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=unit
<a id='L248' name='L248'></a> 248         [<strong class='reserved'>do</strong>]
<a id='L249' name='L249'></a> 249             [store_reachable_locations]
<a id='L250' name='L250'></a> 250                 [filter]
<a id='L251' name='L251'></a> 251                     <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=$side1_units[$unit].id
<a id='L252' name='L252'></a> 252                 [/filter]
<a id='L253' name='L253'></a> 253                 <a href='../Y/14268.html' title='Multiple used in 231 places.'>moves</a>=max
<a id='L254' name='L254'></a> 254                 <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=reachable_locations
<a id='L255' name='L255'></a> 255             [/store_reachable_locations]
<a id='L256' name='L256'></a> 256             [<strong class='reserved'>for</strong>]
<a id='L257' name='L257'></a> 257                 <a href='../Y/5679.html' title='Multiple used in 183 places.'>array</a>=adjacent_to_leader
<a id='L258' name='L258'></a> 258                 <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=adjacent
<a id='L259' name='L259'></a> 259                 [<strong class='reserved'>do</strong>]
<a id='L260' name='L260'></a> 260                     [<strong class='reserved'>if</strong>]
<a id='L261' name='L261'></a> 261                         [have_location]
<a id='L262' name='L262'></a> 262                             # If an enemy unit can reach this hex...
<a id='L263' name='L263'></a> 263                             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$adjacent_to_leader[$adjacent].x
<a id='L264' name='L264'></a> 264                             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$adjacent_to_leader[$adjacent].y
<a id='L265' name='L265'></a> 265                             <a href='../Y/9927.html' title='Multiple used in 87 places.'>find_in</a>=reachable_locations
<a id='L266' name='L266'></a> 266                         [/have_location]
<a id='L267' name='L267'></a> 267                         [and]
<a id='L268' name='L268'></a> 268 <em class='sharp'>                            #</em> ...and we haven't already stored this unit...
<a id='L269' name='L269'></a> 269                             [have_unit]
<a id='L270' name='L270'></a> 270                                 <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=$side1_units[$unit].id
<a id='L271' name='L271'></a> 271                                 [not]
<a id='L272' name='L272'></a> 272                                     <a href='../Y/9927.html' title='Multiple used in 87 places.'>find_in</a>=close_units
<a id='L273' name='L273'></a> 273                                 [/not]
<a id='L274' name='L274'></a> 274                             [/have_unit]
<a id='L275' name='L275'></a> 275                         [/and]
<a id='L276' name='L276'></a> 276                         [then]
<a id='L277' name='L277'></a> 277 <em class='sharp'>                            #</em> ...then add it to the close_units list:
<a id='L278' name='L278'></a> 278                             [set_variables]
<a id='L279' name='L279'></a> 279                                 <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=close_units
<a id='L280' name='L280'></a> 280                                 <a href='../S/90.html#L39' title='Defined at 39 in src/floating_textbox.hpp.'>mode</a>=append
<a id='L281' name='L281'></a> 281                                 <a href='../Y/20134.html' title='Multiple used in 23 places.'>to_variable</a>=side1_units[$unit]
<a id='L282' name='L282'></a> 282                             [/set_variables]
<a id='L283' name='L283'></a> 283                         [/then]
<a id='L284' name='L284'></a> 284                     [/<strong class='reserved'>if</strong>]
<a id='L285' name='L285'></a> 285                 [/<strong class='reserved'>do</strong>]
<a id='L286' name='L286'></a> 286             [/<strong class='reserved'>for</strong>]
<a id='L287' name='L287'></a> 287         [/<strong class='reserved'>do</strong>]
<a id='L288' name='L288'></a> 288     [/<strong class='reserved'>for</strong>]
<a id='L289' name='L289'></a> 289 
<a id='L290' name='L290'></a> 290     # We need a variable to use in the <strong class='reserved'>switch</strong> statement:
<a id='L291' name='L291'></a> 291     [set_variable]
<a id='L292' name='L292'></a> 292         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=side
<a id='L293' name='L293'></a> 293         <a href='../D/15831.html' title='Multiple defined in 19 places.'>value</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L294' name='L294'></a> 294     [/set_variable]
<a id='L295' name='L295'></a> 295     # This statement creates an array of types <strong class='reserved'>for</strong> the units that will be added to the
<a id='L296' name='L296'></a> 296     # incoming leader's side. The first five are added in order. The sixth is an extra
<a id='L297' name='L297'></a> 297     # high-level unit used in special circumstances, and the last is a generic kind of
<a id='L298' name='L298'></a> 298     # unit that will be used to finish filling up the keep. (Or the hexes around the
<a id='L299' name='L299'></a> 299     # leader <strong class='reserved'>if</strong> it couldn't reach its keep.) We also have a different message from
<a id='L300' name='L300'></a> 300     # each of the leaders depending on whether there are side-1 units nearby.
<a id='L301' name='L301'></a> 301     [<strong class='reserved'>switch</strong>]
<a id='L302' name='L302'></a> 302         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=side
<a id='L303' name='L303'></a> 303         [<strong class='reserved'>case</strong>]
<a id='L304' name='L304'></a> 304             <a href='../D/15831.html' title='Multiple defined in 19 places.'>value</a>=4
<a id='L305' name='L305'></a> 305             [<strong class='reserved'>if</strong>]
<a id='L306' name='L306'></a> 306                 [variable]
<a id='L307' name='L307'></a> 307                     <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=close_units.length
<a id='L308' name='L308'></a> 308                     <a href='../Y/10959.html' title='Multiple used in 120 places.'>greater_than</a>=0
<a id='L309' name='L309'></a> 309                 [/variable]
<a id='L310' name='L310'></a> 310                 [then]
<a id='L311' name='L311'></a> 311                     [set_variables]
<a id='L312' name='L312'></a> 312                         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=starting_units_list
<a id='L313' name='L313'></a> 313                         [split]
<a id='L314' name='L314'></a> 314                             <a href='../D/9770.html' title='Multiple defined in 2 places.'>list</a>="Dwarvish Explorer,Dwarvish Thunderguard,Dwarvish Explorer,Dwarvish Runemaster,Dwarvish Runesmith,Dwarvish Arcanister,Dwarvish Thunderguard"
<a id='L315' name='L315'></a> 315                             <a href='../D/9541.html' title='Multiple defined in 2 places.'>key</a>=type
<a id='L316' name='L316'></a> 316                             <a href='../Y/18056.html' title='Multiple used in 33 places.'>separator</a>=","
<a id='L317' name='L317'></a> 317                         [/split]
<a id='L318' name='L318'></a> 318                     [/set_variables]
<a id='L319' name='L319'></a> 319                     [message]
<a id='L320' name='L320'></a> 320                         <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Thrigalurd
<a id='L321' name='L321'></a> 321                         <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "The enemy already attempts to breach our castle walls! Up arms lads, look lively!"
<a id='L322' name='L322'></a> 322                     [/message]
<a id='L323' name='L323'></a> 323                 [/then]
<a id='L324' name='L324'></a> 324                 [<strong class='reserved'>else</strong>]
<a id='L325' name='L325'></a> 325                     [message]
<a id='L326' name='L326'></a> 326                         <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Thrigalurd
<a id='L327' name='L327'></a> 327                         <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Now we avenge the fallen of Knalga!"
<a id='L328' name='L328'></a> 328                     [/message]
<a id='L329' name='L329'></a> 329                 [/<strong class='reserved'>else</strong>]
<a id='L330' name='L330'></a> 330             [/<strong class='reserved'>if</strong>]
<a id='L331' name='L331'></a> 331         [/<strong class='reserved'>case</strong>]
<a id='L332' name='L332'></a> 332         [<strong class='reserved'>case</strong>]
<a id='L333' name='L333'></a> 333             <a href='../D/15831.html' title='Multiple defined in 19 places.'>value</a>=5
<a id='L334' name='L334'></a> 334             [<strong class='reserved'>if</strong>]
<a id='L335' name='L335'></a> 335                 [variable]
<a id='L336' name='L336'></a> 336                     <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=close_units.length
<a id='L337' name='L337'></a> 337                     <a href='../Y/10959.html' title='Multiple used in 120 places.'>greater_than</a>=0
<a id='L338' name='L338'></a> 338                 [/variable]
<a id='L339' name='L339'></a> 339                 [then]
<a id='L340' name='L340'></a> 340                     [set_variables]
<a id='L341' name='L341'></a> 341                         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=starting_units_list
<a id='L342' name='L342'></a> 342                         [split]
<a id='L343' name='L343'></a> 343                             <a href='../D/9770.html' title='Multiple defined in 2 places.'>list</a>="White Mage,Silver Mage,Mage of Light,Red Mage,Mage of Light,Great Mage,Red Mage"
<a id='L344' name='L344'></a> 344                             <a href='../D/9541.html' title='Multiple defined in 2 places.'>key</a>=type
<a id='L345' name='L345'></a> 345                             <a href='../Y/18056.html' title='Multiple used in 33 places.'>separator</a>=","
<a id='L346' name='L346'></a> 346                         [/split]
<a id='L347' name='L347'></a> 347                     [/set_variables]
<a id='L348' name='L348'></a> 348                     [message]
<a id='L349' name='L349'></a> 349                         <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Carmyna
<a id='L350' name='L350'></a> 350                         <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "The enemy is already poised to attack! They must have anticipated our arrival. No rest my friends; we go to work immediately."
<a id='L351' name='L351'></a> 351                     [/message]
<a id='L352' name='L352'></a> 352                 [/then]
<a id='L353' name='L353'></a> 353                 [<strong class='reserved'>else</strong>]
<a id='L354' name='L354'></a> 354                     [message]
<a id='L355' name='L355'></a> 355                         <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Carmyna
<a id='L356' name='L356'></a> 356                         <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "The battle is already underway. So many of our comrades have fallen! We must incinerate these undead and rid the world of this evil."
<a id='L357' name='L357'></a> 357                     [/message]
<a id='L358' name='L358'></a> 358                 [/<strong class='reserved'>else</strong>]
<a id='L359' name='L359'></a> 359             [/<strong class='reserved'>if</strong>]
<a id='L360' name='L360'></a> 360         [/<strong class='reserved'>case</strong>]
<a id='L361' name='L361'></a> 361         [<strong class='reserved'>case</strong>]
<a id='L362' name='L362'></a> 362             <a href='../D/15831.html' title='Multiple defined in 19 places.'>value</a>=6
<a id='L363' name='L363'></a> 363             [<strong class='reserved'>if</strong>]
<a id='L364' name='L364'></a> 364                 [variable]
<a id='L365' name='L365'></a> 365                     <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=close_units.length
<a id='L366' name='L366'></a> 366                     <a href='../Y/10959.html' title='Multiple used in 120 places.'>greater_than</a>=0
<a id='L367' name='L367'></a> 367                 [/variable]
<a id='L368' name='L368'></a> 368                 [then]
<a id='L369' name='L369'></a> 369                     [set_variables]
<a id='L370' name='L370'></a> 370                         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=starting_units_list
<a id='L371' name='L371'></a> 371                         [split]
<a id='L372' name='L372'></a> 372                             <a href='../D/9770.html' title='Multiple defined in 2 places.'>list</a>="Elvish Sorceress,Elvish Sharpshooter,Elvish Enchantress,Elvish Druid,Elvish Enchantress,Elvish Sylph,Elvish Sorceress"
<a id='L373' name='L373'></a> 373                             <a href='../D/9541.html' title='Multiple defined in 2 places.'>key</a>=type
<a id='L374' name='L374'></a> 374                             <a href='../Y/18056.html' title='Multiple used in 33 places.'>separator</a>=","
<a id='L375' name='L375'></a> 375                         [/split]
<a id='L376' name='L376'></a> 376                     [/set_variables]
<a id='L377' name='L377'></a> 377                     [message]
<a id='L378' name='L378'></a> 378                         <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Galoïndrath
<a id='L379' name='L379'></a> 379                         <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "What is this? The enemy lurking in wait in our forests? To arms! Let us immediately rid our land of this foulness!"
<a id='L380' name='L380'></a> 380                     [/message]
<a id='L381' name='L381'></a> 381                 [/then]
<a id='L382' name='L382'></a> 382                 [<strong class='reserved'>else</strong>]
<a id='L383' name='L383'></a> 383                     [message]
<a id='L384' name='L384'></a> 384                         <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Galoïndrath
<a id='L385' name='L385'></a> 385                         <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Never again will these monsters use the spirits of our ancestors against us. We will burn them down!"
<a id='L386' name='L386'></a> 386                     [/message]
<a id='L387' name='L387'></a> 387                 [/<strong class='reserved'>else</strong>]
<a id='L388' name='L388'></a> 388             [/<strong class='reserved'>if</strong>]
<a id='L389' name='L389'></a> 389         [/<strong class='reserved'>case</strong>]
<a id='L390' name='L390'></a> 390     [/<strong class='reserved'>switch</strong>]
<a id='L391' name='L391'></a> 391 
<a id='L392' name='L392'></a> 392     [<strong class='reserved'>for</strong>]
<a id='L393' name='L393'></a> 393         <a href='../Y/5679.html' title='Multiple used in 183 places.'>array</a>=close_units
<a id='L394' name='L394'></a> 394         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=i
<a id='L395' name='L395'></a> 395         [<strong class='reserved'>do</strong>]
<a id='L396' name='L396'></a> 396             # For each side 1 unit in range, add a unit from the list:
<a id='L397' name='L397'></a> 397             [<strong class='reserved'>if</strong>]
<a id='L398' name='L398'></a> 398                 [variable]
<a id='L399' name='L399'></a> 399                     <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=i
<a id='L400' name='L400'></a> 400                     <a href='../D/9712.html' title='Multiple defined in 6 places.'>less_than</a>=7
<a id='L401' name='L401'></a> 401                 [/variable]
<a id='L402' name='L402'></a> 402                 [then]
<a id='L403' name='L403'></a> 403                     <em class='brace'>{</em>EXTRA_STARTING_UNIT <em class='brace'>{</em>SIDE<em class='brace'>}</em> $i<em class='brace'>}</em>
<a id='L404' name='L404'></a> 404                 [/then]
<a id='L405' name='L405'></a> 405             [/<strong class='reserved'>if</strong>]
<a id='L406' name='L406'></a> 406 
<a id='L407' name='L407'></a> 407             # If the close unit is an ancient lich waiting to assassinate the leader, it
<a id='L408' name='L408'></a> 408             # is going to find it protected by an equally-powerful unit. This doesn't
<a id='L409' name='L409'></a> 409             # completely prevent an assassination, but it makes the loss of the lich
<a id='L410' name='L410'></a> 410             # almost certain <strong class='reserved'>if</strong> the attempt fails (which is the most likely outcome).
<a id='L411' name='L411'></a> 411             [<strong class='reserved'>if</strong>]
<a id='L412' name='L412'></a> 412                 [have_unit]
<a id='L413' name='L413'></a> 413                     <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=$close_units[$i].id
<a id='L414' name='L414'></a> 414                     <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Ancient Lich, Ancient Lich SotA
<a id='L415' name='L415'></a> 415                 [/have_unit]
<a id='L416' name='L416'></a> 416                 [then]
<a id='L417' name='L417'></a> 417                     # Using "5" as the index chooses a level-4 unit:
<a id='L418' name='L418'></a> 418                     <em class='brace'>{</em>EXTRA_STARTING_UNIT <em class='brace'>{</em>SIDE<em class='brace'>}</em> 5<em class='brace'>}</em>
<a id='L419' name='L419'></a> 419                 [/then]
<a id='L420' name='L420'></a> 420             [/<strong class='reserved'>if</strong>]
<a id='L421' name='L421'></a> 421         [/<strong class='reserved'>do</strong>]
<a id='L422' name='L422'></a> 422     [/<strong class='reserved'>for</strong>]
<a id='L423' name='L423'></a> 423 
<a id='L424' name='L424'></a> 424     # If the AI got just a couple units, they would go off to die one at a time. We
<a id='L425' name='L425'></a> 425     # finish filling up the keep so that doesn't happen. Also, this will make leader
<a id='L426' name='L426'></a> 426     # assassination by backstabbing shadows or nightguants very difficult. We will
<a id='L427' name='L427'></a> 427     # do nothing <strong class='reserved'>if</strong> side 1 wasn't nearby, and no extra units were added. In that case,
<a id='L428' name='L428'></a> 428     # the leader will just recruit as normal.
<a id='L429' name='L429'></a> 429     [store_unit]
<a id='L430' name='L430'></a> 430         [filter]
<a id='L431' name='L431'></a> 431             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L432' name='L432'></a> 432         [/filter]
<a id='L433' name='L433'></a> 433         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=extra_starting_units
<a id='L434' name='L434'></a> 434     [/store_unit]
<a id='L435' name='L435'></a> 435     [<strong class='reserved'>if</strong>]
<a id='L436' name='L436'></a> 436         [variable]
<a id='L437' name='L437'></a> 437             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=extra_starting_units.length
<a id='L438' name='L438'></a> 438             <a href='../Y/10959.html' title='Multiple used in 120 places.'>greater_than</a>=1  # *One* unit is the leader.
<a id='L439' name='L439'></a> 439         [/variable]
<a id='L440' name='L440'></a> 440         [then]
<a id='L441' name='L441'></a> 441             [repeat]
<a id='L442' name='L442'></a> 442                 <a href='../D/15112.html' title='Multiple defined in 2 places.'>times</a>="$(7 - $extra_starting_units.length)"
<a id='L443' name='L443'></a> 443                 [<strong class='reserved'>do</strong>]
<a id='L444' name='L444'></a> 444                     <em class='brace'>{</em>EXTRA_STARTING_UNIT <em class='brace'>{</em>SIDE<em class='brace'>}</em> 6<em class='brace'>}</em>
<a id='L445' name='L445'></a> 445                 [/<strong class='reserved'>do</strong>]
<a id='L446' name='L446'></a> 446             [/repeat]
<a id='L447' name='L447'></a> 447         [/then]
<a id='L448' name='L448'></a> 448         [<strong class='reserved'>else</strong>]
<a id='L449' name='L449'></a> 449             [set_variable]
<a id='L450' name='L450'></a> 450                 <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=extra_units_message
<a id='L451' name='L451'></a> 451                 <a href='../D/15831.html' title='Multiple defined in 19 places.'>value</a>="empty"
<a id='L452' name='L452'></a> 452             [/set_variable]
<a id='L453' name='L453'></a> 453         [/<strong class='reserved'>else</strong>]
<a id='L454' name='L454'></a> 454     [/<strong class='reserved'>if</strong>]
<a id='L455' name='L455'></a> 455 
<a id='L456' name='L456'></a> 456     # Having a unit sitting directly on the keep is rude of the player, so the AI gets
<a id='L457' name='L457'></a> 457     # an extra, powerful unit to kick it off.
<a id='L458' name='L458'></a> 458     [store_starting_location]
<a id='L459' name='L459'></a> 459         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=<em class='brace'>{</em>SIDE<em class='brace'>}</em>
<a id='L460' name='L460'></a> 460         <a href='../Y/21190.html' title='Multiple used in 973 places.'>variable</a>=keep_location
<a id='L461' name='L461'></a> 461     [/store_starting_location]
<a id='L462' name='L462'></a> 462     [<strong class='reserved'>if</strong>]
<a id='L463' name='L463'></a> 463         [have_unit]
<a id='L464' name='L464'></a> 464             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L465' name='L465'></a> 465             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$keep_location.x
<a id='L466' name='L466'></a> 466             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$keep_location.y
<a id='L467' name='L467'></a> 467         [/have_unit]
<a id='L468' name='L468'></a> 468         [then]
<a id='L469' name='L469'></a> 469             # Using "5" chooses a level-4 unit:
<a id='L470' name='L470'></a> 470             <em class='brace'>{</em>EXTRA_STARTING_UNIT <em class='brace'>{</em>SIDE<em class='brace'>}</em> 5<em class='brace'>}</em>
<a id='L471' name='L471'></a> 471         [/then]
<a id='L472' name='L472'></a> 472     [/<strong class='reserved'>if</strong>]
<a id='L473' name='L473'></a> 473 
<a id='L474' name='L474'></a> 474     [clear_variable]
<a id='L475' name='L475'></a> 475         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=adjacent_to_leader, side1_units, side, reachable_locations, starting_units_list, keep_location, leader_location, location, close_units, extra_starting_units
<a id='L476' name='L476'></a> 476     [/clear_variable]
<a id='L477' name='L477'></a> 477 #enddef
<a id='L478' name='L478'></a> 478 
<a id='L479' name='L479'></a> 479 <em class='sharp'>    #</em> *************************** PRESTART ***************************
<a id='L480' name='L480'></a> 480     [event]
<a id='L481' name='L481'></a> 481         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=prestart
<a id='L482' name='L482'></a> 482 
<a id='L483' name='L483'></a> 483         [objectives]
<a id='L484' name='L484'></a> 484             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=1
<a id='L485' name='L485'></a> 485             [objective]
<a id='L486' name='L486'></a> 486                 <a href='../D/5375.html' title='Multiple defined in 14 places.'>description</a>= _ "Defeat all enemy leaders"
<a id='L487' name='L487'></a> 487                 <a href='../Y/7636.html' title='Multiple used in 1334 places.'>condition</a>=win
<a id='L488' name='L488'></a> 488             [/objective]
<a id='L489' name='L489'></a> 489             [objective]
<a id='L490' name='L490'></a> 490                 <a href='../D/5375.html' title='Multiple defined in 14 places.'>description</a>= _ "Death of Ardryn-Na"
<a id='L491' name='L491'></a> 491                 <a href='../Y/7636.html' title='Multiple used in 1334 places.'>condition</a>=lose
<a id='L492' name='L492'></a> 492             [/objective]
<a id='L493' name='L493'></a> 493             [objective]
<a id='L494' name='L494'></a> 494                 <a href='../D/5375.html' title='Multiple defined in 14 places.'>description</a>= _ "Death of Ras-Tabahn"
<a id='L495' name='L495'></a> 495                 <a href='../Y/7636.html' title='Multiple used in 1334 places.'>condition</a>=lose
<a id='L496' name='L496'></a> 496             [/objective]
<a id='L497' name='L497'></a> 497 
<a id='L498' name='L498'></a> 498             <em class='brace'>{</em>HAS_NO_TURN_LIMIT<em class='brace'>}</em>
<a id='L499' name='L499'></a> 499             <em class='brace'>{</em>IS_LAST_SCENARIO<em class='brace'>}</em>
<a id='L500' name='L500'></a> 500         [/objectives]
<a id='L501' name='L501'></a> 501 
<a id='L502' name='L502'></a> 502         <em class='brace'>{</em>RECALL_LOYAL_UNITS<em class='brace'>}</em>
<a id='L503' name='L503'></a> 503 
<a id='L504' name='L504'></a> 504         [item]
<a id='L505' name='L505'></a> 505             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=33,42
<a id='L506' name='L506'></a> 506             <a href='../D/8633.html' title='Multiple defined in 19 places.'>image</a>=scenery/tent-fancy-red.png
<a id='L507' name='L507'></a> 507         [/item]
<a id='L508' name='L508'></a> 508         [item]
<a id='L509' name='L509'></a> 509             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=7,39
<a id='L510' name='L510'></a> 510             <a href='../D/8633.html' title='Multiple defined in 19 places.'>image</a>=scenery/mine-abandoned.png
<a id='L511' name='L511'></a> 511         [/item]
<a id='L512' name='L512'></a> 512     [/event]
<a id='L513' name='L513'></a> 513 
<a id='L514' name='L514'></a> 514 <em class='sharp'>    #</em> *************************** PLAY ***************************
<a id='L515' name='L515'></a> 515     [event]
<a id='L516' name='L516'></a> 516         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=turn 2
<a id='L517' name='L517'></a> 517 
<a id='L518' name='L518'></a> 518         [move_unit_fake]
<a id='L519' name='L519'></a> 519             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Saurian Flanker
<a id='L520' name='L520'></a> 520             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L521' name='L521'></a> 521             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=58, 47
<a id='L522' name='L522'></a> 522             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=16, 19
<a id='L523' name='L523'></a> 523         [/move_unit_fake]
<a id='L524' name='L524'></a> 524         [unit]
<a id='L525' name='L525'></a> 525             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L526' name='L526'></a> 526             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=47,19
<a id='L527' name='L527'></a> 527             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Saurian Flanker
<a id='L528' name='L528'></a> 528             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Fizztsars"
<a id='L529' name='L529'></a> 529             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Fizztsars
<a id='L530' name='L530'></a> 530             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L531' name='L531'></a> 531         [/unit]
<a id='L532' name='L532'></a> 532         [message]
<a id='L533' name='L533'></a> 533             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Fizztsars
<a id='L534' name='L534'></a> 534             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "We have arrived, Taxsstrimon. We will fight bessside you."  # no spellcheck
<a id='L535' name='L535'></a> 535         [/message]
<a id='L536' name='L536'></a> 536         [message]
<a id='L537' name='L537'></a> 537             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Taxtrimon
<a id='L538' name='L538'></a> 538             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Well met Fizztsars. Now these creatures will certainly fall."
<a id='L539' name='L539'></a> 539         [/message]
<a id='L540' name='L540'></a> 540         [modify_side]
<a id='L541' name='L541'></a> 541             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L542' name='L542'></a> 542             <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=no
<a id='L543' name='L543'></a> 543             <em class='brace'>{</em>INCOME 10 15 20<em class='brace'>}</em>
<a id='L544' name='L544'></a> 544         [/modify_side]
<a id='L545' name='L545'></a> 545     [/event]
<a id='L546' name='L546'></a> 546 
<a id='L547' name='L547'></a> 547     [event]
<a id='L548' name='L548'></a> 548 <em class='sharp'>#ifdef</em> EASY
<a id='L549' name='L549'></a> 549         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=turn 3
<a id='L550' name='L550'></a> 550 <em class='sharp'>#else</em>
<a id='L551' name='L551'></a> 551         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=turn 4
<a id='L552' name='L552'></a> 552 <em class='sharp'>#endif</em>
<a id='L553' name='L553'></a> 553         [move_unit_fake]
<a id='L554' name='L554'></a> 554             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Dwarvish Dragonguard
<a id='L555' name='L555'></a> 555             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L556' name='L556'></a> 556             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=7,  8,  8
<a id='L557' name='L557'></a> 557             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=39, 39, 37
<a id='L558' name='L558'></a> 558         [/move_unit_fake]
<a id='L559' name='L559'></a> 559         [unit]
<a id='L560' name='L560'></a> 560             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L561' name='L561'></a> 561             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=8,37
<a id='L562' name='L562'></a> 562             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Dwarvish Dragonguard
<a id='L563' name='L563'></a> 563             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Thrigalurd"
<a id='L564' name='L564'></a> 564             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Thrigalurd
<a id='L565' name='L565'></a> 565             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L566' name='L566'></a> 566         [/unit]
<a id='L567' name='L567'></a> 567         [modify_side]
<a id='L568' name='L568'></a> 568             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=4
<a id='L569' name='L569'></a> 569             <em class='brace'>{</em>INCOME 5 7 10<em class='brace'>}</em>
<a id='L570' name='L570'></a> 570             <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=no
<a id='L571' name='L571'></a> 571         [/modify_side]
<a id='L572' name='L572'></a> 572 
<a id='L573' name='L573'></a> 573         <em class='brace'>{</em>ADD_EXTRA_STARTING_UNITS 4<em class='brace'>}</em>
<a id='L574' name='L574'></a> 574 
<a id='L575' name='L575'></a> 575         [message]
<a id='L576' name='L576'></a> 576             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ras-Tabahn
<a id='L577' name='L577'></a> 577             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Look! The dwarves circled around in front of us."
<a id='L578' name='L578'></a> 578         [/message]
<a id='L579' name='L579'></a> 579         [message]
<a id='L580' name='L580'></a> 580             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ardonna
<a id='L581' name='L581'></a> 581             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "That’s why getting through Knalga was so easy."
<a id='L582' name='L582'></a> 582         [/message]
<a id='L583' name='L583'></a> 583 
<a id='L584' name='L584'></a> 584         # The Merfolk leader will have recruited all he can <strong class='reserved'>for</strong> now. We turn him
<a id='L585' name='L585'></a> 585         # into a "messenger" and send him down the river in the east towards the
<a id='L586' name='L586'></a> 586         # player's keep. He will be escorted by all of his soldiers.
<a id='L587' name='L587'></a> 587         [micro_ai]
<a id='L588' name='L588'></a> 588             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=7
<a id='L589' name='L589'></a> 589             <a href='../Y/5351.html' title='Multiple used in 73 places.'>ai_type</a>=messenger_escort
<a id='L590' name='L590'></a> 590             <a href='../D/2758.html' title='Multiple defined in 10 places.'>action</a>=add
<a id='L591' name='L591'></a> 591             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Mauapan
<a id='L592' name='L592'></a> 592             <a href='../Y/21498.html' title='Multiple used in 20 places.'>waypoint_x</a>=56, 45
<a id='L593' name='L593'></a> 593             <a href='../Y/21499.html' title='Multiple used in 17 places.'>waypoint_y</a>=9, 24
<a id='L594' name='L594'></a> 594         [/micro_ai]
<a id='L595' name='L595'></a> 595     [/event]
<a id='L596' name='L596'></a> 596 
<a id='L597' name='L597'></a> 597     # When the Merfolk leader arrives near the player's keep, his "escorts" (all his
<a id='L598' name='L598'></a> 598     # soldiers) will be turned loose.
<a id='L599' name='L599'></a> 599     [event]
<a id='L600' name='L600'></a> 600         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=moveto
<a id='L601' name='L601'></a> 601         [filter]
<a id='L602' name='L602'></a> 602             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Mauapan
<a id='L603' name='L603'></a> 603             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=45,24
<a id='L604' name='L604'></a> 604         [/filter]
<a id='L605' name='L605'></a> 605         [micro_ai]
<a id='L606' name='L606'></a> 606             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=7
<a id='L607' name='L607'></a> 607             <a href='../Y/5351.html' title='Multiple used in 73 places.'>ai_type</a>=messenger_escort
<a id='L608' name='L608'></a> 608             <a href='../D/2758.html' title='Multiple defined in 10 places.'>action</a>=delete
<a id='L609' name='L609'></a> 609         [/micro_ai]
<a id='L610' name='L610'></a> 610     [/event]
<a id='L611' name='L611'></a> 611 
<a id='L612' name='L612'></a> 612     [event]
<a id='L613' name='L613'></a> 613         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=turn 12, enemies defeated
<a id='L614' name='L614'></a> 614 
<a id='L615' name='L615'></a> 615         # Find the nearest hext to (4,13) that doesn't have unit on it:
<a id='L616' name='L616'></a> 616         <em class='brace'>{</em>NEAREST_HEX 4 13 30 (
<a id='L617' name='L617'></a> 617             [not]
<a id='L618' name='L618'></a> 618                 [filter]
<a id='L619' name='L619'></a> 619                 [/filter]
<a id='L620' name='L620'></a> 620             [/not])
<a id='L621' name='L621'></a> 621         location<em class='brace'>}</em>
<a id='L622' name='L622'></a> 622 
<a id='L623' name='L623'></a> 623         [move_unit_fake]
<a id='L624' name='L624'></a> 624             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Great Mage
<a id='L625' name='L625'></a> 625             <a href='../D/6630.html' title='Multiple defined in 2 places.'>gender</a>=female
<a id='L626' name='L626'></a> 626             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=5
<a id='L627' name='L627'></a> 627             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=1,  $location.x
<a id='L628' name='L628'></a> 628             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=14, $location.y
<a id='L629' name='L629'></a> 629         [/move_unit_fake]
<a id='L630' name='L630'></a> 630 
<a id='L631' name='L631'></a> 631         [unit]
<a id='L632' name='L632'></a> 632             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=5
<a id='L633' name='L633'></a> 633             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$location.x
<a id='L634' name='L634'></a> 634             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$location.y
<a id='L635' name='L635'></a> 635             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Great Mage
<a id='L636' name='L636'></a> 636             <a href='../D/6630.html' title='Multiple defined in 2 places.'>gender</a>=female
<a id='L637' name='L637'></a> 637             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Carmyna"
<a id='L638' name='L638'></a> 638             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Carmyna
<a id='L639' name='L639'></a> 639             # This is so she can't be assassinated by a single, lucky Ancient Lich:
<a id='L640' name='L640'></a> 640             [modifications]
<a id='L641' name='L641'></a> 641                 <em class='brace'>{</em>TRAIT_RESILIENT<em class='brace'>}</em>
<a id='L642' name='L642'></a> 642             [/modifications]
<a id='L643' name='L643'></a> 643             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L644' name='L644'></a> 644         [/unit]
<a id='L645' name='L645'></a> 645         [modify_side]
<a id='L646' name='L646'></a> 646             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=5
<a id='L647' name='L647'></a> 647             <a href='../S/1121.html#L206' title='Defined at 206 in src/game_initialization/connect_engine.hpp.'>income</a>=0
<a id='L648' name='L648'></a> 648             <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=no
<a id='L649' name='L649'></a> 649         [/modify_side]
<a id='L650' name='L650'></a> 650 
<a id='L651' name='L651'></a> 651         <em class='brace'>{</em>ADD_EXTRA_STARTING_UNITS 5<em class='brace'>}</em>
<a id='L652' name='L652'></a> 652 
<a id='L653' name='L653'></a> 653         [message]
<a id='L654' name='L654'></a> 654             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ardonna
<a id='L655' name='L655'></a> 655             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "They just keep coming! Has nobody even considered what we offer?"
<a id='L656' name='L656'></a> 656         [/message]
<a id='L657' name='L657'></a> 657 
<a id='L658' name='L658'></a> 658         # Now that almost everybody is here, killing the leaders will end it. The
<a id='L659' name='L659'></a> 659         # player could *theoretically* avoid meeting the elves, but this is awfully
<a id='L660' name='L660'></a> 660         # unlikely.
<a id='L661' name='L661'></a> 661         [event]
<a id='L662' name='L662'></a> 662             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=enemies defeated
<a id='L663' name='L663'></a> 663             [message]
<a id='L664' name='L664'></a> 664                 <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ras-Tabahn
<a id='L665' name='L665'></a> 665                 <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Well. That was intense."
<a id='L666' name='L666'></a> 666             [/message]
<a id='L667' name='L667'></a> 667             [message]
<a id='L668' name='L668'></a> 668                 <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ardonna
<a id='L669' name='L669'></a> 669                 <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "At last we are victorious!"
<a id='L670' name='L670'></a> 670             [/message]
<a id='L671' name='L671'></a> 671             [endlevel]
<a id='L672' name='L672'></a> 672                 <a href='../D/12851.html' title='Multiple defined in 10 places.'>result</a>=victory
<a id='L673' name='L673'></a> 673                 <a href='../Y/6409.html' title='Multiple used in 670 places.'>bonus</a>=no
<a id='L674' name='L674'></a> 674                 <a href='../Y/6961.html' title='Multiple used in 128 places.'>carryover_report</a>=no
<a id='L675' name='L675'></a> 675             [/endlevel]
<a id='L676' name='L676'></a> 676         [/event]
<a id='L677' name='L677'></a> 677     [/event]
<a id='L678' name='L678'></a> 678 
<a id='L679' name='L679'></a> 679     [event]
<a id='L680' name='L680'></a> 680         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=turn 13
<a id='L681' name='L681'></a> 681 
<a id='L682' name='L682'></a> 682         <em class='brace'>{</em>NEAREST_HEX 53 34 30 (
<a id='L683' name='L683'></a> 683             [not]
<a id='L684' name='L684'></a> 684                 [filter]
<a id='L685' name='L685'></a> 685                 [/filter]
<a id='L686' name='L686'></a> 686             [/not])
<a id='L687' name='L687'></a> 687         location<em class='brace'>}</em>
<a id='L688' name='L688'></a> 688 
<a id='L689' name='L689'></a> 689         [move_unit_fake]
<a id='L690' name='L690'></a> 690             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Elvish High Lord
<a id='L691' name='L691'></a> 691             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=6
<a id='L692' name='L692'></a> 692             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=58, $location.x
<a id='L693' name='L693'></a> 693             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=36, $location.y
<a id='L694' name='L694'></a> 694         [/move_unit_fake]
<a id='L695' name='L695'></a> 695 
<a id='L696' name='L696'></a> 696         [unit]
<a id='L697' name='L697'></a> 697             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=6
<a id='L698' name='L698'></a> 698             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$location.x
<a id='L699' name='L699'></a> 699             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$location.y
<a id='L700' name='L700'></a> 700             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Elvish High Lord
<a id='L701' name='L701'></a> 701             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Galoïndrath"
<a id='L702' name='L702'></a> 702             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Galoïndrath
<a id='L703' name='L703'></a> 703             # This is so he can't be assassinated by a single, lucky Ancient Lich:
<a id='L704' name='L704'></a> 704             [modifications]
<a id='L705' name='L705'></a> 705                 <em class='brace'>{</em>TRAIT_RESILIENT<em class='brace'>}</em>
<a id='L706' name='L706'></a> 706             [/modifications]
<a id='L707' name='L707'></a> 707             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L708' name='L708'></a> 708         [/unit]
<a id='L709' name='L709'></a> 709         [modify_side]
<a id='L710' name='L710'></a> 710             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=6
<a id='L711' name='L711'></a> 711             <em class='brace'>{</em>INCOME 5 7 10<em class='brace'>}</em>
<a id='L712' name='L712'></a> 712             <a href='../D/8507.html' title='Multiple defined in 7 places.'>hidden</a>=no
<a id='L713' name='L713'></a> 713         [/modify_side]
<a id='L714' name='L714'></a> 714 
<a id='L715' name='L715'></a> 715         <em class='brace'>{</em>ADD_EXTRA_STARTING_UNITS 6<em class='brace'>}</em>
<a id='L716' name='L716'></a> 716 
<a id='L717' name='L717'></a> 717         [message]
<a id='L718' name='L718'></a> 718             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ardonna
<a id='L719' name='L719'></a> 719             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "The whole world is against us."
<a id='L720' name='L720'></a> 720         [/message]
<a id='L721' name='L721'></a> 721     [/event]
<a id='L722' name='L722'></a> 722 
<a id='L723' name='L723'></a> 723 <em class='sharp'>    #</em> *************************** ENDING / OPENING ***************************
<a id='L724' name='L724'></a> 724 <em class='sharp'>#define</em> PLACE_NAGA
<a id='L725' name='L725'></a> 725     [unit]
<a id='L726' name='L726'></a> 726         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=8
<a id='L727' name='L727'></a> 727         <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=51,20
<a id='L728' name='L728'></a> 728         <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Naga Warrior
<a id='L729' name='L729'></a> 729     [/unit]
<a id='L730' name='L730'></a> 730 #enddef
<a id='L731' name='L731'></a> 731 
<a id='L732' name='L732'></a> 732 <em class='sharp'>#define</em> PLACE_RIDER TYPE
<a id='L733' name='L733'></a> 733     <em class='brace'>{</em>FIND_CASTLE_HEX 2 location<em class='brace'>}</em>
<a id='L734' name='L734'></a> 734     [unit]
<a id='L735' name='L735'></a> 735         <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=$location.x
<a id='L736' name='L736'></a> 736         <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=$location.y
<a id='L737' name='L737'></a> 737         <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=<em class='brace'>{</em>TYPE<em class='brace'>}</em>
<a id='L738' name='L738'></a> 738         <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L739' name='L739'></a> 739     [/unit]
<a id='L740' name='L740'></a> 740 #enddef
<a id='L741' name='L741'></a> 741 
<a id='L742' name='L742'></a> 742     [event]
<a id='L743' name='L743'></a> 743         <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>=start
<a id='L744' name='L744'></a> 744 
<a id='L745' name='L745'></a> 745         [move_unit_fake]
<a id='L746' name='L746'></a> 746             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Paladin
<a id='L747' name='L747'></a> 747             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=3
<a id='L748' name='L748'></a> 748             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=40, 33
<a id='L749' name='L749'></a> 749             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=43, 42
<a id='L750' name='L750'></a> 750         [/move_unit_fake]
<a id='L751' name='L751'></a> 751         [unit]
<a id='L752' name='L752'></a> 752             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L753' name='L753'></a> 753             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=33,42
<a id='L754' name='L754'></a> 754             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Paladin
<a id='L755' name='L755'></a> 755             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Gwendir"
<a id='L756' name='L756'></a> 756             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Gwendir
<a id='L757' name='L757'></a> 757             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L758' name='L758'></a> 758         [/unit]
<a id='L759' name='L759'></a> 759         [unit]
<a id='L760' name='L760'></a> 760             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=2
<a id='L761' name='L761'></a> 761             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=33,42
<a id='L762' name='L762'></a> 762             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Knight
<a id='L763' name='L763'></a> 763             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=adviser
<a id='L764' name='L764'></a> 764         [/unit]
<a id='L765' name='L765'></a> 765 <em class='sharp'>#ifdef</em> EASY
<a id='L766' name='L766'></a> 766         <em class='brace'>{</em>PLACE_RIDER Paladin<em class='brace'>}</em>
<a id='L767' name='L767'></a> 767         <em class='brace'>{</em>REPEAT 4 <em class='brace'>{</em>PLACE_RIDER Knight<em class='brace'>}</em><em class='brace'>}</em>
<a id='L768' name='L768'></a> 768 <em class='sharp'>#endif</em>
<a id='L769' name='L769'></a> 769 <em class='sharp'>#ifdef</em> NORMAL
<a id='L770' name='L770'></a> 770         <em class='brace'>{</em>REPEAT 2 <em class='brace'>{</em>PLACE_RIDER Paladin<em class='brace'>}</em><em class='brace'>}</em>
<a id='L771' name='L771'></a> 771         <em class='brace'>{</em>REPEAT 3 <em class='brace'>{</em>PLACE_RIDER Knight<em class='brace'>}</em><em class='brace'>}</em>
<a id='L772' name='L772'></a> 772 <em class='sharp'>#endif</em>
<a id='L773' name='L773'></a> 773 <em class='sharp'>#ifdef</em> HARD
<a id='L774' name='L774'></a> 774         <em class='brace'>{</em>REPEAT 3 <em class='brace'>{</em>PLACE_RIDER Paladin<em class='brace'>}</em><em class='brace'>}</em>
<a id='L775' name='L775'></a> 775         <em class='brace'>{</em>REPEAT 2 <em class='brace'>{</em>PLACE_RIDER Knight<em class='brace'>}</em><em class='brace'>}</em>
<a id='L776' name='L776'></a> 776 <em class='sharp'>#endif</em>
<a id='L777' name='L777'></a> 777         [message]
<a id='L778' name='L778'></a> 778             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=adviser
<a id='L779' name='L779'></a> 779             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "This is the place Crelanu’s gryphon told us to come, and yon party has an ill-favored look."
<a id='L780' name='L780'></a> 780         [/message]
<a id='L781' name='L781'></a> 781         [message]
<a id='L782' name='L782'></a> 782             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Gwendir
<a id='L783' name='L783'></a> 783             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Yes, I believe that is our quarry."
<a id='L784' name='L784'></a> 784         [/message]
<a id='L785' name='L785'></a> 785         [message]
<a id='L786' name='L786'></a> 786             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ras-Tabahn
<a id='L787' name='L787'></a> 787             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Crelanu! Still he haunts us. Remind me again why we didn’t kill him."
<a id='L788' name='L788'></a> 788         [/message]
<a id='L789' name='L789'></a> 789         [message]
<a id='L790' name='L790'></a> 790             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Gwendir
<a id='L791' name='L791'></a> 791             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Ardonna of Tarrynth and Rassin Tabin, you stand convicted of necromancy, and sentenced to death!"
<a id='L792' name='L792'></a> 792         [/message]
<a id='L793' name='L793'></a> 793         [message]
<a id='L794' name='L794'></a> 794             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ras-Tabahn
<a id='L795' name='L795'></a> 795             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Is that all? Death holds no terror for us as we have died already. You will follow shortly."
<a id='L796' name='L796'></a> 796         [/message]
<a id='L797' name='L797'></a> 797         [message]
<a id='L798' name='L798'></a> 798             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Gwendir
<a id='L799' name='L799'></a> 799             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "The blessed swords of our order will soon give you cause to fear again."
<a id='L800' name='L800'></a> 800         [/message]
<a id='L801' name='L801'></a> 801         [message]
<a id='L802' name='L802'></a> 802             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=adviser
<a id='L803' name='L803'></a> 803             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "Sir, the magi have not yet arrived."
<a id='L804' name='L804'></a> 804         [/message]
<a id='L805' name='L805'></a> 805         [message]
<a id='L806' name='L806'></a> 806             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Gwendir
<a id='L807' name='L807'></a> 807             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "No matter. We need not fear this darkness, and we need not wait on the schoolteachers."
<a id='L808' name='L808'></a> 808         [/message]
<a id='L809' name='L809'></a> 809 
<a id='L810' name='L810'></a> 810         [move_unit_fake]
<a id='L811' name='L811'></a> 811             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Naga Myrmidon
<a id='L812' name='L812'></a> 812             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=8
<a id='L813' name='L813'></a> 813             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=58, 51
<a id='L814' name='L814'></a> 814             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=15, 20
<a id='L815' name='L815'></a> 815         [/move_unit_fake]
<a id='L816' name='L816'></a> 816         [unit]
<a id='L817' name='L817'></a> 817             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=8
<a id='L818' name='L818'></a> 818             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=51,20
<a id='L819' name='L819'></a> 819             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Naga Myrmidon
<a id='L820' name='L820'></a> 820             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Taxtrimon"
<a id='L821' name='L821'></a> 821             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Taxtrimon
<a id='L822' name='L822'></a> 822             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L823' name='L823'></a> 823         [/unit]
<a id='L824' name='L824'></a> 824 <em class='sharp'>#ifdef</em> EASY
<a id='L825' name='L825'></a> 825         <em class='brace'>{</em>REPEAT 10 <em class='brace'>{</em>PLACE_NAGA<em class='brace'>}</em><em class='brace'>}</em>
<a id='L826' name='L826'></a> 826 <em class='sharp'>#endif</em>
<a id='L827' name='L827'></a> 827 <em class='sharp'>#ifdef</em> NORMAL
<a id='L828' name='L828'></a> 828         <em class='brace'>{</em>REPEAT 13 <em class='brace'>{</em>PLACE_NAGA<em class='brace'>}</em><em class='brace'>}</em>
<a id='L829' name='L829'></a> 829 <em class='sharp'>#endif</em>
<a id='L830' name='L830'></a> 830 <em class='sharp'>#ifdef</em> HARD
<a id='L831' name='L831'></a> 831         <em class='brace'>{</em>REPEAT 16 <em class='brace'>{</em>PLACE_NAGA<em class='brace'>}</em><em class='brace'>}</em>
<a id='L832' name='L832'></a> 832 <em class='sharp'>#endif</em>
<a id='L833' name='L833'></a> 833         [message]
<a id='L834' name='L834'></a> 834             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Taxtrimon
<a id='L835' name='L835'></a> 835             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "We have found them! These magi destroyed a profitable business venture, and killed our males. We will take vengeance. You horse humans can assist us."
<a id='L836' name='L836'></a> 836         [/message]
<a id='L837' name='L837'></a> 837 
<a id='L838' name='L838'></a> 838         [move_unit_fake]
<a id='L839' name='L839'></a> 839             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Merman Hoplite
<a id='L840' name='L840'></a> 840             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=7
<a id='L841' name='L841'></a> 841             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>=31, 36
<a id='L842' name='L842'></a> 842             <a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=1, 5
<a id='L843' name='L843'></a> 843         [/move_unit_fake]
<a id='L844' name='L844'></a> 844         [unit]
<a id='L845' name='L845'></a> 845             <a href='../D/14359.html' title='Multiple defined in 3 places.'>side</a>=7
<a id='L846' name='L846'></a> 846             <a href='../D/16469.html' title='Multiple defined in 2 places.'>x</a>,<a href='../D/16484.html' title='Multiple defined in 8 places.'>y</a>=36,5
<a id='L847' name='L847'></a> 847             <a href='../D/15361.html' title='Multiple defined in 27 places.'>type</a>=Merman Hoplite
<a id='L848' name='L848'></a> 848             <a href='../D/11219.html' title='Multiple defined in 26 places.'>name</a>= _ "Mauapan"
<a id='L849' name='L849'></a> 849             <a href='../D/8602.html' title='Multiple defined in 22 places.'>id</a>=Mauapan
<a id='L850' name='L850'></a> 850             <a href='../Y/6942.html' title='Multiple used in 1425 places.'>canrecruit</a>=yes
<a id='L851' name='L851'></a> 851         [/unit]
<a id='L852' name='L852'></a> 852         [message]
<a id='L853' name='L853'></a> 853             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Mauapan
<a id='L854' name='L854'></a> 854             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "I will also assist. Too many innocents have died. This ends today."
<a id='L855' name='L855'></a> 855         [/message]
<a id='L856' name='L856'></a> 856         [message]
<a id='L857' name='L857'></a> 857             <a href='../Y/18700.html' title='Multiple used in 8904 places.'>speaker</a>=Ardonna
<a id='L858' name='L858'></a> 858             <a href='../D/10884.html' title='Multiple defined in 7 places.'>message</a>= _ "We are surrounded. We must defeat this horde."
<a id='L859' name='L859'></a> 859         [/message]
<a id='L860' name='L860'></a> 860     [/event]
<a id='L861' name='L861'></a> 861 
<a id='L862' name='L862'></a> 862     <em class='brace'>{</em>TURN_INTO_A_LICH<em class='brace'>}</em>
<a id='L863' name='L863'></a> 863     <em class='brace'>{</em>HERO_DEATHS<em class='brace'>}</em>
<a id='L864' name='L864'></a> 864     <em class='brace'>{</em>MANAGE_PROFILE<em class='brace'>}</em>
<a id='L865' name='L865'></a> 865     <em class='brace'>{</em>KIDS_ADVANCE<em class='brace'>}</em>
<a id='L866' name='L866'></a> 866 [/scenario]
</pre>
<hr />
<a id='BOTTOM' name='BOTTOM'></a>
<em class='comment'>/* [&lt;][&gt;][^][v]<a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</em>
</body>
</html>
